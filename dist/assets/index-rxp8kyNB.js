var Voe=Object.defineProperty;var BM=e=>{throw TypeError(e)};var Hoe=(e,t,r)=>t in e?Voe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vn=(e,t,r)=>Hoe(e,typeof t!="symbol"?t+"":t,r),fk=(e,t,r)=>t.has(e)||BM("Cannot "+r);var ze=(e,t,r)=>(fk(e,t,"read from private field"),r?r.call(e):t.get(e)),Pr=(e,t,r)=>t.has(e)?BM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Gt=(e,t,r,s)=>(fk(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),hn=(e,t,r)=>(fk(e,t,"access private method"),r);var tj=(e,t,r,s)=>({set _(a){Gt(e,t,a,r)},get _(){return ze(e,t,s)}});function pV(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var rj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Goe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var mk={exports:{}},R0={},pk={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM;function Koe(){if(UM)return vn;UM=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function g(B,D,Q){this.props=B,this.context=D,this.refs=v,this.updater=Q||f}g.prototype.isReactComponent={},g.prototype.setState=function(B,D){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,D,"setState")},g.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function y(){}y.prototype=g.prototype;function j(B,D,Q){this.props=B,this.context=D,this.refs=v,this.updater=Q||f}var b=j.prototype=new y;b.constructor=j,x(b,g.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function L(B,D,Q){var ie,te={},he=null,W=null;if(D!=null)for(ie in D.ref!==void 0&&(W=D.ref),D.key!==void 0&&(he=""+D.key),D)S.call(D,ie)&&!A.hasOwnProperty(ie)&&(te[ie]=D[ie]);var V=arguments.length-2;if(V===1)te.children=Q;else if(1<V){for(var oe=Array(V),me=0;me<V;me++)oe[me]=arguments[me+2];te.children=oe}if(B&&B.defaultProps)for(ie in V=B.defaultProps,V)te[ie]===void 0&&(te[ie]=V[ie]);return{$$typeof:e,type:B,key:he,ref:W,props:te,_owner:T.current}}function E(B,D){return{$$typeof:e,type:B.type,key:D,ref:B.ref,props:B.props,_owner:B._owner}}function q(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function M(B){var D={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Q){return D[Q]})}var C=/\/+/g;function I(B,D){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):D.toString(36)}function O(B,D,Q,ie,te){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var W=!1;if(B===null)W=!0;else switch(he){case"string":case"number":W=!0;break;case"object":switch(B.$$typeof){case e:case t:W=!0}}if(W)return W=B,te=te(W),B=ie===""?"."+I(W,0):ie,_(te)?(Q="",B!=null&&(Q=B.replace(C,"$&/")+"/"),O(te,D,Q,"",function(me){return me})):te!=null&&(q(te)&&(te=E(te,Q+(!te.key||W&&W.key===te.key?"":(""+te.key).replace(C,"$&/")+"/")+B)),D.push(te)),1;if(W=0,ie=ie===""?".":ie+":",_(B))for(var V=0;V<B.length;V++){he=B[V];var oe=ie+I(he,V);W+=O(he,D,Q,oe,te)}else if(oe=m(B),typeof oe=="function")for(B=oe.call(B),V=0;!(he=B.next()).done;)he=he.value,oe=ie+I(he,V++),W+=O(he,D,Q,oe,te);else if(he==="object")throw D=String(B),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return W}function H(B,D,Q){if(B==null)return B;var ie=[],te=0;return O(B,ie,"","",function(he){return D.call(Q,he,te++)}),ie}function re(B){if(B._status===-1){var D=B._result;D=D(),D.then(function(Q){(B._status===0||B._status===-1)&&(B._status=1,B._result=Q)},function(Q){(B._status===0||B._status===-1)&&(B._status=2,B._result=Q)}),B._status===-1&&(B._status=0,B._result=D)}if(B._status===1)return B._result.default;throw B._result}var U={current:null},K={transition:null},ee={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:K,ReactCurrentOwner:T};function X(){throw Error("act(...) is not supported in production builds of React.")}return vn.Children={map:H,forEach:function(B,D,Q){H(B,function(){D.apply(this,arguments)},Q)},count:function(B){var D=0;return H(B,function(){D++}),D},toArray:function(B){return H(B,function(D){return D})||[]},only:function(B){if(!q(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},vn.Component=g,vn.Fragment=r,vn.Profiler=a,vn.PureComponent=j,vn.StrictMode=s,vn.Suspense=c,vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,vn.act=X,vn.cloneElement=function(B,D,Q){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ie=x({},B.props),te=B.key,he=B.ref,W=B._owner;if(D!=null){if(D.ref!==void 0&&(he=D.ref,W=T.current),D.key!==void 0&&(te=""+D.key),B.type&&B.type.defaultProps)var V=B.type.defaultProps;for(oe in D)S.call(D,oe)&&!A.hasOwnProperty(oe)&&(ie[oe]=D[oe]===void 0&&V!==void 0?V[oe]:D[oe])}var oe=arguments.length-2;if(oe===1)ie.children=Q;else if(1<oe){V=Array(oe);for(var me=0;me<oe;me++)V[me]=arguments[me+2];ie.children=V}return{$$typeof:e,type:B.type,key:te,ref:he,props:ie,_owner:W}},vn.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},vn.createElement=L,vn.createFactory=function(B){var D=L.bind(null,B);return D.type=B,D},vn.createRef=function(){return{current:null}},vn.forwardRef=function(B){return{$$typeof:l,render:B}},vn.isValidElement=q,vn.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:re}},vn.memo=function(B,D){return{$$typeof:u,type:B,compare:D===void 0?null:D}},vn.startTransition=function(B){var D=K.transition;K.transition={};try{B()}finally{K.transition=D}},vn.unstable_act=X,vn.useCallback=function(B,D){return U.current.useCallback(B,D)},vn.useContext=function(B){return U.current.useContext(B)},vn.useDebugValue=function(){},vn.useDeferredValue=function(B){return U.current.useDeferredValue(B)},vn.useEffect=function(B,D){return U.current.useEffect(B,D)},vn.useId=function(){return U.current.useId()},vn.useImperativeHandle=function(B,D,Q){return U.current.useImperativeHandle(B,D,Q)},vn.useInsertionEffect=function(B,D){return U.current.useInsertionEffect(B,D)},vn.useLayoutEffect=function(B,D){return U.current.useLayoutEffect(B,D)},vn.useMemo=function(B,D){return U.current.useMemo(B,D)},vn.useReducer=function(B,D,Q){return U.current.useReducer(B,D,Q)},vn.useRef=function(B){return U.current.useRef(B)},vn.useState=function(B){return U.current.useState(B)},vn.useSyncExternalStore=function(B,D,Q){return U.current.useSyncExternalStore(B,D,Q)},vn.useTransition=function(){return U.current.useTransition()},vn.version="18.3.1",vn}var $M;function jy(){return $M||($M=1,pk.exports=Koe()),pk.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qM;function Yoe(){if(qM)return R0;qM=1;var e=jy(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},m=null,f=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(f=c.ref);for(d in c)s.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:f,props:h,_owner:a.current}}return R0.Fragment=r,R0.jsx=o,R0.jsxs=o,R0}var zM;function Joe(){return zM||(zM=1,mk.exports=Yoe()),mk.exports}var n=Joe(),N=jy();const at=mu(N),g_=pV({__proto__:null,default:at},[N]);var nj={},gk={exports:{}},wl={},vk={exports:{}},xk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM;function Xoe(){return WM||(WM=1,(function(e){function t(K,ee){var X=K.length;K.push(ee);e:for(;0<X;){var B=X-1>>>1,D=K[B];if(0<a(D,ee))K[B]=ee,K[X]=D,X=B;else break e}}function r(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ee=K[0],X=K.pop();if(X!==ee){K[0]=X;e:for(var B=0,D=K.length,Q=D>>>1;B<Q;){var ie=2*(B+1)-1,te=K[ie],he=ie+1,W=K[he];if(0>a(te,X))he<D&&0>a(W,te)?(K[B]=W,K[he]=X,B=he):(K[B]=te,K[ie]=X,B=ie);else if(he<D&&0>a(W,X))K[B]=W,K[he]=X,B=he;else break e}}return ee}function a(K,ee){var X=K.sortIndex-ee.sortIndex;return X!==0?X:K.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,x=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var ee=r(u);ee!==null;){if(ee.callback===null)s(u);else if(ee.startTime<=K)s(u),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=r(u)}}function _(K){if(v=!1,b(K),!x)if(r(c)!==null)x=!0,re(S);else{var ee=r(u);ee!==null&&U(_,ee.startTime-K)}}function S(K,ee){x=!1,v&&(v=!1,y(L),L=-1),f=!0;var X=m;try{for(b(ee),h=r(c);h!==null&&(!(h.expirationTime>ee)||K&&!M());){var B=h.callback;if(typeof B=="function"){h.callback=null,m=h.priorityLevel;var D=B(h.expirationTime<=ee);ee=e.unstable_now(),typeof D=="function"?h.callback=D:h===r(c)&&s(c),b(ee)}else s(c);h=r(c)}if(h!==null)var Q=!0;else{var ie=r(u);ie!==null&&U(_,ie.startTime-ee),Q=!1}return Q}finally{h=null,m=X,f=!1}}var T=!1,A=null,L=-1,E=5,q=-1;function M(){return!(e.unstable_now()-q<E)}function C(){if(A!==null){var K=e.unstable_now();q=K;var ee=!0;try{ee=A(!0,K)}finally{ee?I():(T=!1,A=null)}}else T=!1}var I;if(typeof j=="function")I=function(){j(C)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=C,I=function(){H.postMessage(null)}}else I=function(){g(C,0)};function re(K){A=K,T||(T=!0,I())}function U(K,ee){L=g(function(){K(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,re(S))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var X=m;m=ee;try{return K()}finally{m=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=m;m=K;try{return ee()}finally{m=X}},e.unstable_scheduleCallback=function(K,ee,X){var B=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=X+D,K={id:d++,callback:ee,priorityLevel:K,startTime:X,expirationTime:D,sortIndex:-1},X>B?(K.sortIndex=X,t(u,K),r(c)===null&&K===r(u)&&(v?(y(L),L=-1):v=!0,U(_,X-B))):(K.sortIndex=D,t(c,K),x||f||(x=!0,re(S))),K},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(K){var ee=m;return function(){var X=m;m=ee;try{return K.apply(this,arguments)}finally{m=X}}}})(xk)),xk}var VM;function Qoe(){return VM||(VM=1,vk.exports=Xoe()),vk.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HM;function Zoe(){if(HM)return wl;HM=1;var e=jy(),t=Qoe();function r(p){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+p,k=1;k<arguments.length;k++)w+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+p+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(p,w){o(p,w),o(p+"Capture",w)}function o(p,w){for(a[p]=w,p=0;p<w.length;p++)s.add(w[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(p){return c.call(h,p)?!0:c.call(d,p)?!1:u.test(p)?h[p]=!0:(d[p]=!0,!1)}function f(p,w,k,R){if(k!==null&&k.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return R?!1:k!==null?!k.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,w,k,R){if(w===null||typeof w>"u"||f(p,w,k,R))return!0;if(R)return!1;if(k!==null)switch(k.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function v(p,w,k,R,J,ae,Ne){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=R,this.attributeNamespace=J,this.mustUseProperty=k,this.propertyName=p,this.type=w,this.sanitizeURL=ae,this.removeEmptyString=Ne}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){g[p]=new v(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var w=p[0];g[w]=new v(w,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){g[p]=new v(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){g[p]=new v(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){g[p]=new v(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){g[p]=new v(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){g[p]=new v(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){g[p]=new v(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){g[p]=new v(p,5,!1,p.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function j(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var w=p.replace(y,j);g[w]=new v(w,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var w=p.replace(y,j);g[w]=new v(w,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var w=p.replace(y,j);g[w]=new v(w,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){g[p]=new v(p,1,!1,p.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){g[p]=new v(p,1,!1,p.toLowerCase(),null,!0,!0)});function b(p,w,k,R){var J=g.hasOwnProperty(w)?g[w]:null;(J!==null?J.type!==0:R||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(x(w,k,J,R)&&(k=null),R||J===null?m(w)&&(k===null?p.removeAttribute(w):p.setAttribute(w,""+k)):J.mustUseProperty?p[J.propertyName]=k===null?J.type===3?!1:"":k:(w=J.attributeName,R=J.attributeNamespace,k===null?p.removeAttribute(w):(J=J.type,k=J===3||J===4&&k===!0?"":""+k,R?p.setAttributeNS(R,w,k):p.setAttribute(w,k))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),K=Symbol.iterator;function ee(p){return p===null||typeof p!="object"?null:(p=K&&p[K]||p["@@iterator"],typeof p=="function"?p:null)}var X=Object.assign,B;function D(p){if(B===void 0)try{throw Error()}catch(k){var w=k.stack.trim().match(/\n( *(at )?)/);B=w&&w[1]||""}return`
`+B+p}var Q=!1;function ie(p,w){if(!p||Q)return"";Q=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(st){var R=st}Reflect.construct(p,[],w)}else{try{w.call()}catch(st){R=st}p.call(w.prototype)}else{try{throw Error()}catch(st){R=st}p()}}catch(st){if(st&&R&&typeof st.stack=="string"){for(var J=st.stack.split(`
`),ae=R.stack.split(`
`),Ne=J.length-1,Fe=ae.length-1;1<=Ne&&0<=Fe&&J[Ne]!==ae[Fe];)Fe--;for(;1<=Ne&&0<=Fe;Ne--,Fe--)if(J[Ne]!==ae[Fe]){if(Ne!==1||Fe!==1)do if(Ne--,Fe--,0>Fe||J[Ne]!==ae[Fe]){var He=`
`+J[Ne].replace(" at new "," at ");return p.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",p.displayName)),He}while(1<=Ne&&0<=Fe);break}}}finally{Q=!1,Error.prepareStackTrace=k}return(p=p?p.displayName||p.name:"")?D(p):""}function te(p){switch(p.tag){case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return p=ie(p.type,!1),p;case 11:return p=ie(p.type.render,!1),p;case 1:return p=ie(p.type,!0),p;default:return""}}function he(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case A:return"Fragment";case T:return"Portal";case E:return"Profiler";case L:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case M:return(p.displayName||"Context")+".Consumer";case q:return(p._context.displayName||"Context")+".Provider";case C:var w=p.render;return p=p.displayName,p||(p=w.displayName||w.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case H:return w=p.displayName||null,w!==null?w:he(p.type)||"Memo";case re:w=p._payload,p=p._init;try{return he(p(w))}catch{}}return null}function W(p){var w=p.type;switch(p.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=w.render,p=p.displayName||p.name||"",w.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(w);case 8:return w===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function V(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function oe(p){var w=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function me(p){var w=oe(p)?"checked":"value",k=Object.getOwnPropertyDescriptor(p.constructor.prototype,w),R=""+p[w];if(!p.hasOwnProperty(w)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var J=k.get,ae=k.set;return Object.defineProperty(p,w,{configurable:!0,get:function(){return J.call(this)},set:function(Ne){R=""+Ne,ae.call(this,Ne)}}),Object.defineProperty(p,w,{enumerable:k.enumerable}),{getValue:function(){return R},setValue:function(Ne){R=""+Ne},stopTracking:function(){p._valueTracker=null,delete p[w]}}}}function de(p){p._valueTracker||(p._valueTracker=me(p))}function ue(p){if(!p)return!1;var w=p._valueTracker;if(!w)return!0;var k=w.getValue(),R="";return p&&(R=oe(p)?p.checked?"true":"false":p.value),p=R,p!==k?(w.setValue(p),!0):!1}function Pe(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function G(p,w){var k=w.checked;return X({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??p._wrapperState.initialChecked})}function pe(p,w){var k=w.defaultValue==null?"":w.defaultValue,R=w.checked!=null?w.checked:w.defaultChecked;k=V(w.value!=null?w.value:k),p._wrapperState={initialChecked:R,initialValue:k,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function ce(p,w){w=w.checked,w!=null&&b(p,"checked",w,!1)}function $(p,w){ce(p,w);var k=V(w.value),R=w.type;if(k!=null)R==="number"?(k===0&&p.value===""||p.value!=k)&&(p.value=""+k):p.value!==""+k&&(p.value=""+k);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}w.hasOwnProperty("value")?Z(p,w.type,k):w.hasOwnProperty("defaultValue")&&Z(p,w.type,V(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(p.defaultChecked=!!w.defaultChecked)}function z(p,w,k){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var R=w.type;if(!(R!=="submit"&&R!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+p._wrapperState.initialValue,k||w===p.value||(p.value=w),p.defaultValue=w}k=p.name,k!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,k!==""&&(p.name=k)}function Z(p,w,k){(w!=="number"||Pe(p.ownerDocument)!==p)&&(k==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+k&&(p.defaultValue=""+k))}var le=Array.isArray;function ge(p,w,k,R){if(p=p.options,w){w={};for(var J=0;J<k.length;J++)w["$"+k[J]]=!0;for(k=0;k<p.length;k++)J=w.hasOwnProperty("$"+p[k].value),p[k].selected!==J&&(p[k].selected=J),J&&R&&(p[k].defaultSelected=!0)}else{for(k=""+V(k),w=null,J=0;J<p.length;J++){if(p[J].value===k){p[J].selected=!0,R&&(p[J].defaultSelected=!0);return}w!==null||p[J].disabled||(w=p[J])}w!==null&&(w.selected=!0)}}function we(p,w){if(w.dangerouslySetInnerHTML!=null)throw Error(r(91));return X({},w,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Me(p,w){var k=w.value;if(k==null){if(k=w.children,w=w.defaultValue,k!=null){if(w!=null)throw Error(r(92));if(le(k)){if(1<k.length)throw Error(r(93));k=k[0]}w=k}w==null&&(w=""),k=w}p._wrapperState={initialValue:V(k)}}function Be(p,w){var k=V(w.value),R=V(w.defaultValue);k!=null&&(k=""+k,k!==p.value&&(p.value=k),w.defaultValue==null&&p.defaultValue!==k&&(p.defaultValue=k)),R!=null&&(p.defaultValue=""+R)}function Le(p){var w=p.textContent;w===p._wrapperState.initialValue&&w!==""&&w!==null&&(p.value=w)}function Ge(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(p,w){return p==null||p==="http://www.w3.org/1999/xhtml"?Ge(w):p==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var ut,Ct=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,k,R,J){MSApp.execUnsafeLocalFunction(function(){return p(w,k,R,J)})}:p})(function(p,w){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=w;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=ut.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;w.firstChild;)p.appendChild(w.firstChild)}});function Mt(p,w){if(w){var k=p.firstChild;if(k&&k===p.lastChild&&k.nodeType===3){k.nodeValue=w;return}}p.textContent=w}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];Object.keys(Et).forEach(function(p){rn.forEach(function(w){w=w+p.charAt(0).toUpperCase()+p.substring(1),Et[w]=Et[p]})});function Wt(p,w,k){return w==null||typeof w=="boolean"||w===""?"":k||typeof w!="number"||w===0||Et.hasOwnProperty(p)&&Et[p]?(""+w).trim():w+"px"}function Dt(p,w){p=p.style;for(var k in w)if(w.hasOwnProperty(k)){var R=k.indexOf("--")===0,J=Wt(k,w[k],R);k==="float"&&(k="cssFloat"),R?p.setProperty(k,J):p[k]=J}}var ir=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(p,w){if(w){if(ir[p]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(r(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(r(61))}if(w.style!=null&&typeof w.style!="object")throw Error(r(62))}}function nr(p,w){if(p.indexOf("-")===-1)return typeof w.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=null;function Ar(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Cn=null,Sn=null,Yr=null;function Yt(p){if(p=Vf(p)){if(typeof Cn!="function")throw Error(r(280));var w=p.stateNode;w&&(w=Dp(w),Cn(p.stateNode,p.type,w))}}function wn(p){Sn?Yr?Yr.push(p):Yr=[p]:Sn=p}function kr(){if(Sn){var p=Sn,w=Yr;if(Yr=Sn=null,Yt(p),w)for(p=0;p<w.length;p++)Yt(w[p])}}function Zt(p,w){return p(w)}function nn(){}var hs=!1;function Jt(p,w,k){if(hs)return p(w,k);hs=!0;try{return Zt(p,w,k)}finally{hs=!1,(Sn!==null||Yr!==null)&&(nn(),kr())}}function fs(p,w){var k=p.stateNode;if(k===null)return null;var R=Dp(k);if(R===null)return null;k=R[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(k&&typeof k!="function")throw Error(r(231,w,typeof k));return k}var Hs=!1;if(l)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Hs=!1}function Ms(p,w,k,R,J,ae,Ne,Fe,He){var st=Array.prototype.slice.call(arguments,3);try{w.apply(k,st)}catch(bt){this.onError(bt)}}var fn=!1,zn=null,Ls=!1,sl=null,al={onError:function(p){fn=!0,zn=p}};function ao(p,w,k,R,J,ae,Ne,Fe,He){fn=!1,zn=null,Ms.apply(al,arguments)}function ja(p,w,k,R,J,ae,Ne,Fe,He){if(ao.apply(this,arguments),fn){if(fn){var st=zn;fn=!1,zn=null}else throw Error(r(198));Ls||(Ls=!0,sl=st)}}function Na(p){var w=p,k=p;if(p.alternate)for(;w.return;)w=w.return;else{p=w;do w=p,(w.flags&4098)!==0&&(k=w.return),p=w.return;while(p)}return w.tag===3?k:null}function Vi(p){if(p.tag===13){var w=p.memoizedState;if(w===null&&(p=p.alternate,p!==null&&(w=p.memoizedState)),w!==null)return w.dehydrated}return null}function Si(p){if(Na(p)!==p)throw Error(r(188))}function kc(p){var w=p.alternate;if(!w){if(w=Na(p),w===null)throw Error(r(188));return w!==p?null:p}for(var k=p,R=w;;){var J=k.return;if(J===null)break;var ae=J.alternate;if(ae===null){if(R=J.return,R!==null){k=R;continue}break}if(J.child===ae.child){for(ae=J.child;ae;){if(ae===k)return Si(J),p;if(ae===R)return Si(J),w;ae=ae.sibling}throw Error(r(188))}if(k.return!==R.return)k=J,R=ae;else{for(var Ne=!1,Fe=J.child;Fe;){if(Fe===k){Ne=!0,k=J,R=ae;break}if(Fe===R){Ne=!0,R=J,k=ae;break}Fe=Fe.sibling}if(!Ne){for(Fe=ae.child;Fe;){if(Fe===k){Ne=!0,k=ae,R=J;break}if(Fe===R){Ne=!0,R=ae,k=J;break}Fe=Fe.sibling}if(!Ne)throw Error(r(189))}}if(k.alternate!==R)throw Error(r(190))}if(k.tag!==3)throw Error(r(188));return k.stateNode.current===k?p:w}function Oo(p){return p=kc(p),p!==null?er(p):null}function er(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var w=er(p);if(w!==null)return w;p=p.sibling}return null}var We=t.unstable_scheduleCallback,Nt=t.unstable_cancelCallback,Vt=t.unstable_shouldYield,Yn=t.unstable_requestPaint,sn=t.unstable_now,js=t.unstable_getCurrentPriorityLevel,sa=t.unstable_ImmediatePriority,Fs=t.unstable_UserBlockingPriority,Hi=t.unstable_NormalPriority,fd=t.unstable_LowPriority,Cs=t.unstable_IdlePriority,Cc=null,ki=null;function mv(p){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Cc,p,void 0,(p.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:pv,l0=Math.log,_a=Math.LN2;function pv(p){return p>>>=0,p===0?32:31-(l0(p)/_a|0)|0}var sh=64,il=4194304;function Ml(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function io(p,w){var k=p.pendingLanes;if(k===0)return 0;var R=0,J=p.suspendedLanes,ae=p.pingedLanes,Ne=k&268435455;if(Ne!==0){var Fe=Ne&~J;Fe!==0?R=Ml(Fe):(ae&=Ne,ae!==0&&(R=Ml(ae)))}else Ne=k&~J,Ne!==0?R=Ml(Ne):ae!==0&&(R=Ml(ae));if(R===0)return 0;if(w!==0&&w!==R&&(w&J)===0&&(J=R&-R,ae=w&-w,J>=ae||J===16&&(ae&4194240)!==0))return w;if((R&4)!==0&&(R|=k&16),w=p.entangledLanes,w!==0)for(p=p.entanglements,w&=R;0<w;)k=31-Ci(w),J=1<<k,R|=p[k],w&=~J;return R}function ah(p,w){switch(p){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(p,w){for(var k=p.suspendedLanes,R=p.pingedLanes,J=p.expirationTimes,ae=p.pendingLanes;0<ae;){var Ne=31-Ci(ae),Fe=1<<Ne,He=J[Ne];He===-1?((Fe&k)===0||(Fe&R)!==0)&&(J[Ne]=ah(Fe,w)):He<=w&&(p.expiredLanes|=Fe),ae&=~Fe}}function ih(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function gv(){var p=sh;return sh<<=1,(sh&4194240)===0&&(sh=64),p}function vp(p){for(var w=[],k=0;31>k;k++)w.push(p);return w}function oh(p,w,k){p.pendingLanes|=w,w!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,w=31-Ci(w),p[w]=k}function Ec(p,w){var k=p.pendingLanes&~w;p.pendingLanes=w,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=w,p.mutableReadLanes&=w,p.entangledLanes&=w,w=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<k;){var J=31-Ci(k),ae=1<<J;w[J]=0,R[J]=-1,p[J]=-1,k&=~ae}}function Af(p,w){var k=p.entangledLanes|=w;for(p=p.entanglements;k;){var R=31-Ci(k),J=1<<R;J&w|p[R]&w&&(p[R]|=w),k&=~J}}var An=0;function xu(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var Pf,xp,vv,xv,Tf,yu=!1,Ll=[],Ac=null,oo=null,ol=null,Rr=new Map,lh=new Map,Pc=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yv(p,w){switch(p){case"focusin":case"focusout":Ac=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":Rr.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(w.pointerId)}}function Io(p,w,k,R,J,ae){return p===null||p.nativeEvent!==ae?(p={blockedOn:w,domEventName:k,eventSystemFlags:R,nativeEvent:ae,targetContainers:[J]},w!==null&&(w=Vf(w),w!==null&&xp(w)),p):(p.eventSystemFlags|=R,w=p.targetContainers,J!==null&&w.indexOf(J)===-1&&w.push(J),p)}function wu(p,w,k,R,J){switch(w){case"focusin":return Ac=Io(Ac,p,w,k,R,J),!0;case"dragenter":return oo=Io(oo,p,w,k,R,J),!0;case"mouseover":return ol=Io(ol,p,w,k,R,J),!0;case"pointerover":var ae=J.pointerId;return Rr.set(ae,Io(Rr.get(ae)||null,p,w,k,R,J)),!0;case"gotpointercapture":return ae=J.pointerId,lh.set(ae,Io(lh.get(ae)||null,p,w,k,R,J)),!0}return!1}function wv(p){var w=Nd(p.target);if(w!==null){var k=Na(w);if(k!==null){if(w=k.tag,w===13){if(w=Vi(k),w!==null){p.blockedOn=w,Tf(p.priority,function(){vv(k)});return}}else if(w===3&&k.stateNode.current.memoizedState.isDehydrated){p.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Of(p){if(p.blockedOn!==null)return!1;for(var w=p.targetContainers;0<w.length;){var k=uh(p.domEventName,p.eventSystemFlags,w[0],p.nativeEvent);if(k===null){k=p.nativeEvent;var R=new k.constructor(k.type,k);Lr=R,k.target.dispatchEvent(R),Lr=null}else return w=Vf(k),w!==null&&xp(w),p.blockedOn=k,!1;w.shift()}return!0}function ch(p,w,k){Of(p)&&k.delete(w)}function yp(){yu=!1,Ac!==null&&Of(Ac)&&(Ac=null),oo!==null&&Of(oo)&&(oo=null),ol!==null&&Of(ol)&&(ol=null),Rr.forEach(ch),lh.forEach(ch)}function Fl(p,w){p.blockedOn===w&&(p.blockedOn=null,yu||(yu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yp)))}function Tc(p){function w(J){return Fl(J,p)}if(0<Ll.length){Fl(Ll[0],p);for(var k=1;k<Ll.length;k++){var R=Ll[k];R.blockedOn===p&&(R.blockedOn=null)}}for(Ac!==null&&Fl(Ac,p),oo!==null&&Fl(oo,p),ol!==null&&Fl(ol,p),Rr.forEach(w),lh.forEach(w),k=0;k<Pc.length;k++)R=Pc[k],R.blockedOn===p&&(R.blockedOn=null);for(;0<Pc.length&&(k=Pc[0],k.blockedOn===null);)wv(k),k.blockedOn===null&&Pc.shift()}var Bl=_.ReactCurrentBatchConfig,If=!0;function wp(p,w,k,R){var J=An,ae=Bl.transition;Bl.transition=null;try{An=1,bu(p,w,k,R)}finally{An=J,Bl.transition=ae}}function bp(p,w,k,R){var J=An,ae=Bl.transition;Bl.transition=null;try{An=4,bu(p,w,k,R)}finally{An=J,Bl.transition=ae}}function bu(p,w,k,R){if(If){var J=uh(p,w,k,R);if(J===null)Op(p,w,R,Oc,k),yv(p,R);else if(wu(J,p,w,k,R))R.stopPropagation();else if(yv(p,R),w&4&&-1<c0.indexOf(p)){for(;J!==null;){var ae=Vf(J);if(ae!==null&&Pf(ae),ae=uh(p,w,k,R),ae===null&&Op(p,w,R,Oc,k),ae===J)break;J=ae}J!==null&&R.stopPropagation()}else Op(p,w,R,null,k)}}var Oc=null;function uh(p,w,k,R){if(Oc=null,p=Ar(R),p=Nd(p),p!==null)if(w=Na(p),w===null)p=null;else if(k=w.tag,k===13){if(p=Vi(w),p!==null)return p;p=null}else if(k===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;p=null}else w!==p&&(p=null);return Oc=p,null}function dh(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(js()){case sa:return 1;case Fs:return 4;case Hi:case fd:return 16;case Cs:return 536870912;default:return 16}default:return 16}}var ll=null,ju=null,hh=null;function jp(){if(hh)return hh;var p,w=ju,k=w.length,R,J="value"in ll?ll.value:ll.textContent,ae=J.length;for(p=0;p<k&&w[p]===J[p];p++);var Ne=k-p;for(R=1;R<=Ne&&w[k-R]===J[ae-R];R++);return hh=J.slice(p,1<R?1-R:void 0)}function cl(p){var w=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&w===13&&(p=13)):p=w,p===10&&(p=13),32<=p||p===13?p:0}function ul(){return!0}function Np(){return!1}function Ei(p){function w(k,R,J,ae,Ne){this._reactName=k,this._targetInst=J,this.type=R,this.nativeEvent=ae,this.target=Ne,this.currentTarget=null;for(var Fe in p)p.hasOwnProperty(Fe)&&(k=p[Fe],this[Fe]=k?k(ae):ae[Fe]);return this.isDefaultPrevented=(ae.defaultPrevented!=null?ae.defaultPrevented:ae.returnValue===!1)?ul:Np,this.isPropagationStopped=Np,this}return X(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),w}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=Ei(dl),Y=X({},dl,{view:0,detail:0}),je=Ei(Y),Re,Ue,Xe,dt=X({},Y,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Xe&&(Xe&&p.type==="mousemove"?(Re=p.screenX-Xe.screenX,Ue=p.screenY-Xe.screenY):Ue=Re=0,Xe=p),Re)},movementY:function(p){return"movementY"in p?p.movementY:Ue}}),gt=Ei(dt),sr=X({},dt,{dataTransfer:0}),xr=Ei(sr),Ur=X({},Y,{relatedTarget:0}),$r=Ei(Ur),On=X({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),Bs=Ei(On),Sa=X({},dl,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),ms=Ei(Sa),$a=X({},dl,{data:0}),ia=Ei($a),hi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bv(p){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(p):(p=lo[p])?!!w[p]:!1}function md(){return bv}var fh=X({},Y,{key:function(p){if(p.key){var w=hi[p.key]||p.key;if(w!=="Unidentified")return w}return p.type==="keypress"?(p=cl(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?hl[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(p){return p.type==="keypress"?cl(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?cl(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),pd=Ei(fh),mh=X({},dt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=Ei(mh),ph=X({},Y,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),Ai=Ei(ph),gh=X({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vh=Ei(gh),_p=X({},dt,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Sp=Ei(_p),Gs=[9,13,27,32],Ul=l&&"CompositionEvent"in window,Ic=null;l&&"documentMode"in document&&(Ic=document.documentMode);var jv=l&&"TextEvent"in window&&!Ic,Ro=l&&(!Ul||Ic&&8<Ic&&11>=Ic),vd=" ",Df=!1;function Mf(p,w){switch(p){case"keyup":return Gs.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var fl=!1;function Do(p,w){switch(p){case"compositionend":return Nu(w);case"keypress":return w.which!==32?null:(Df=!0,vd);case"textInput":return p=w.data,p===vd&&Df?null:p;default:return null}}function Mo(p,w){if(fl)return p==="compositionend"||!Ul&&Mf(p,w)?(p=jp(),hh=ju=ll=null,fl=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return Ro&&w.locale!=="ko"?null:w.data;default:return null}}var xd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w==="input"?!!xd[p.type]:w==="textarea"}function _u(p,w,k,R){wn(R),w=Cv(w,"onChange"),0<w.length&&(k=new Rf("onChange","change",null,k,R),p.push({event:k,listeners:w}))}var Su=null,Dc=null;function oa(p){Pp(p,0)}function xh(p){var w=Eh(p);if(ue(w))return p}function Mc(p,w){if(p==="change")return w}var $l=!1;if(l){var yh;if(l){var wh="oninput"in document;if(!wh){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),wh=typeof Lf.oninput=="function"}yh=wh}else yh=!1;$l=yh&&(!document.documentMode||9<document.documentMode)}function Ff(){Su&&(Su.detachEvent("onpropertychange",ku),Dc=Su=null)}function ku(p){if(p.propertyName==="value"&&xh(Dc)){var w=[];_u(w,Dc,p,Ar(p)),Jt(oa,w)}}function yd(p,w,k){p==="focusin"?(Ff(),Su=w,Dc=k,Su.attachEvent("onpropertychange",ku)):p==="focusout"&&Ff()}function wd(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return xh(Dc)}function bh(p,w){if(p==="click")return xh(w)}function bd(p,w){if(p==="input"||p==="change")return xh(w)}function jh(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var Ks=typeof Object.is=="function"?Object.is:jh;function co(p,w){if(Ks(p,w))return!0;if(typeof p!="object"||p===null||typeof w!="object"||w===null)return!1;var k=Object.keys(p),R=Object.keys(w);if(k.length!==R.length)return!1;for(R=0;R<k.length;R++){var J=k[R];if(!c.call(w,J)||!Ks(p[J],w[J]))return!1}return!0}function In(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Jn(p,w){var k=In(p);p=0;for(var R;k;){if(k.nodeType===3){if(R=p+k.textContent.length,p<=w&&R>=w)return{node:k,offset:w-p};p=R}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=In(k)}}function Ys(p,w){return p&&w?p===w?!0:p&&p.nodeType===3?!1:w&&w.nodeType===3?Ys(p,w.parentNode):"contains"in p?p.contains(w):p.compareDocumentPosition?!!(p.compareDocumentPosition(w)&16):!1:!1}function ka(){for(var p=window,w=Pe();w instanceof p.HTMLIFrameElement;){try{var k=typeof w.contentWindow.location.href=="string"}catch{k=!1}if(k)p=w.contentWindow;else break;w=Pe(p.document)}return w}function ql(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w&&(w==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||w==="textarea"||p.contentEditable==="true")}function kp(p){var w=ka(),k=p.focusedElem,R=p.selectionRange;if(w!==k&&k&&k.ownerDocument&&Ys(k.ownerDocument.documentElement,k)){if(R!==null&&ql(k)){if(w=R.start,p=R.end,p===void 0&&(p=w),"selectionStart"in k)k.selectionStart=w,k.selectionEnd=Math.min(p,k.value.length);else if(p=(w=k.ownerDocument||document)&&w.defaultView||window,p.getSelection){p=p.getSelection();var J=k.textContent.length,ae=Math.min(R.start,J);R=R.end===void 0?ae:Math.min(R.end,J),!p.extend&&ae>R&&(J=R,R=ae,ae=J),J=Jn(k,ae);var Ne=Jn(k,R);J&&Ne&&(p.rangeCount!==1||p.anchorNode!==J.node||p.anchorOffset!==J.offset||p.focusNode!==Ne.node||p.focusOffset!==Ne.offset)&&(w=w.createRange(),w.setStart(J.node,J.offset),p.removeAllRanges(),ae>R?(p.addRange(w),p.extend(Ne.node,Ne.offset)):(w.setEnd(Ne.node,Ne.offset),p.addRange(w)))}}for(w=[],p=k;p=p.parentNode;)p.nodeType===1&&w.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<w.length;k++)p=w[k],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Bf=l&&"documentMode"in document&&11>=document.documentMode,Cu=null,Nv=null,Uf=null,_v=!1;function u0(p,w,k){var R=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;_v||Cu==null||Cu!==Pe(R)||(R=Cu,"selectionStart"in R&&ql(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Uf&&co(Uf,R)||(Uf=R,R=Cv(Nv,"onSelect"),0<R.length&&(w=new Rf("onSelect","select",null,w,k),p.push({event:w,listeners:R}),w.target=Cu)))}function Cp(p,w){var k={};return k[p.toLowerCase()]=w.toLowerCase(),k["Webkit"+p]="webkit"+w,k["Moz"+p]="moz"+w,k}var Nh={animationend:Cp("Animation","AnimationEnd"),animationiteration:Cp("Animation","AnimationIteration"),animationstart:Cp("Animation","AnimationStart"),transitionend:Cp("Transition","TransitionEnd")},_h={},d0={};l&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Nh.animationend.animation,delete Nh.animationiteration.animation,delete Nh.animationstart.animation),"TransitionEvent"in window||delete Nh.transitionend.transition);function Ep(p){if(_h[p])return _h[p];if(!Nh[p])return p;var w=Nh[p],k;for(k in w)if(w.hasOwnProperty(k)&&k in d0)return _h[p]=w[k];return p}var h0=Ep("animationend"),f0=Ep("animationiteration"),m0=Ep("animationstart"),p0=Ep("transitionend"),g0=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lc(p,w){g0.set(p,w),i(w,[p])}for(var $f=0;$f<v0.length;$f++){var Gi=v0[$f],ml=Gi.toLowerCase(),Sv=Gi[0].toUpperCase()+Gi.slice(1);Lc(ml,"on"+Sv)}Lc(h0,"onAnimationEnd"),Lc(f0,"onAnimationIteration"),Lc(m0,"onAnimationStart"),Lc("dblclick","onDoubleClick"),Lc("focusin","onFocus"),Lc("focusout","onBlur"),Lc(p0,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("cancel close invalid load scroll toggle".split(" ").concat(jd));function Ap(p,w,k){var R=p.type||"unknown-event";p.currentTarget=k,ja(R,w,void 0,p),p.currentTarget=null}function Pp(p,w){w=(w&4)!==0;for(var k=0;k<p.length;k++){var R=p[k],J=R.event;R=R.listeners;e:{var ae=void 0;if(w)for(var Ne=R.length-1;0<=Ne;Ne--){var Fe=R[Ne],He=Fe.instance,st=Fe.currentTarget;if(Fe=Fe.listener,He!==ae&&J.isPropagationStopped())break e;Ap(J,Fe,st),ae=He}else for(Ne=0;Ne<R.length;Ne++){if(Fe=R[Ne],He=Fe.instance,st=Fe.currentTarget,Fe=Fe.listener,He!==ae&&J.isPropagationStopped())break e;Ap(J,Fe,st),ae=He}}}if(Ls)throw p=sl,Ls=!1,sl=null,p}function as(p,w){var k=w[ho];k===void 0&&(k=w[ho]=new Set);var R=p+"__bubble";k.has(R)||(Tp(w,p,2,!1),k.add(R))}function kv(p,w,k){var R=0;w&&(R|=4),Tp(k,p,R,w)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Sh(p){if(!p[qf]){p[qf]=!0,s.forEach(function(k){k!=="selectionchange"&&(b1.has(k)||kv(k,!1,p),kv(k,!0,p))});var w=p.nodeType===9?p:p.ownerDocument;w===null||w[qf]||(w[qf]=!0,kv("selectionchange",!1,w))}}function Tp(p,w,k,R){switch(dh(w)){case 1:var J=wp;break;case 4:J=bp;break;default:J=bu}k=J.bind(null,w,k,p),J=void 0,!Hs||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(J=!0),R?J!==void 0?p.addEventListener(w,k,{capture:!0,passive:J}):p.addEventListener(w,k,!0):J!==void 0?p.addEventListener(w,k,{passive:J}):p.addEventListener(w,k,!1)}function Op(p,w,k,R,J){var ae=R;if((w&1)===0&&(w&2)===0&&R!==null)e:for(;;){if(R===null)return;var Ne=R.tag;if(Ne===3||Ne===4){var Fe=R.stateNode.containerInfo;if(Fe===J||Fe.nodeType===8&&Fe.parentNode===J)break;if(Ne===4)for(Ne=R.return;Ne!==null;){var He=Ne.tag;if((He===3||He===4)&&(He=Ne.stateNode.containerInfo,He===J||He.nodeType===8&&He.parentNode===J))return;Ne=Ne.return}for(;Fe!==null;){if(Ne=Nd(Fe),Ne===null)return;if(He=Ne.tag,He===5||He===6){R=ae=Ne;continue e}Fe=Fe.parentNode}}R=R.return}Jt(function(){var st=ae,bt=Ar(k),kt=[];e:{var yt=g0.get(p);if(yt!==void 0){var Ht=Rf,or=p;switch(p){case"keypress":if(cl(k)===0)break e;case"keydown":case"keyup":Ht=pd;break;case"focusin":or="focus",Ht=$r;break;case"focusout":or="blur",Ht=$r;break;case"beforeblur":case"afterblur":Ht=$r;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=Ai;break;case h0:case f0:case m0:Ht=Bs;break;case p0:Ht=vh;break;case"scroll":Ht=je;break;case"wheel":Ht=Sp;break;case"copy":case"cut":case"paste":Ht=ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=gd}var pr=(w&4)!==0,Wa=!pr&&p==="scroll",et=pr?yt!==null?yt+"Capture":null:yt;pr=[];for(var Ye=st,nt;Ye!==null;){nt=Ye;var Tt=nt.stateNode;if(nt.tag===5&&Tt!==null&&(nt=Tt,et!==null&&(Tt=fs(Ye,et),Tt!=null&&pr.push(Ip(Ye,Tt,nt)))),Wa)break;Ye=Ye.return}0<pr.length&&(yt=new Ht(yt,or,null,k,bt),kt.push({event:yt,listeners:pr}))}}if((w&7)===0){e:{if(yt=p==="mouseover"||p==="pointerover",Ht=p==="mouseout"||p==="pointerout",yt&&k!==Lr&&(or=k.relatedTarget||k.fromElement)&&(Nd(or)||or[Pi]))break e;if((Ht||yt)&&(yt=bt.window===bt?bt:(yt=bt.ownerDocument)?yt.defaultView||yt.parentWindow:window,Ht?(or=k.relatedTarget||k.toElement,Ht=st,or=or?Nd(or):null,or!==null&&(Wa=Na(or),or!==Wa||or.tag!==5&&or.tag!==6)&&(or=null)):(Ht=null,or=st),Ht!==or)){if(pr=gt,Tt="onMouseLeave",et="onMouseEnter",Ye="mouse",(p==="pointerout"||p==="pointerover")&&(pr=gd,Tt="onPointerLeave",et="onPointerEnter",Ye="pointer"),Wa=Ht==null?yt:Eh(Ht),nt=or==null?yt:Eh(or),yt=new pr(Tt,Ye+"leave",Ht,k,bt),yt.target=Wa,yt.relatedTarget=nt,Tt=null,Nd(bt)===st&&(pr=new pr(et,Ye+"enter",or,k,bt),pr.target=nt,pr.relatedTarget=Wa,Tt=pr),Wa=Tt,Ht&&or)t:{for(pr=Ht,et=or,Ye=0,nt=pr;nt;nt=kh(nt))Ye++;for(nt=0,Tt=et;Tt;Tt=kh(Tt))nt++;for(;0<Ye-nt;)pr=kh(pr),Ye--;for(;0<nt-Ye;)et=kh(et),nt--;for(;Ye--;){if(pr===et||et!==null&&pr===et.alternate)break t;pr=kh(pr),et=kh(et)}pr=null}else pr=null;Ht!==null&&j1(kt,yt,Ht,pr,!1),or!==null&&Wa!==null&&j1(kt,Wa,or,pr,!0)}}e:{if(yt=st?Eh(st):window,Ht=yt.nodeName&&yt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&yt.type==="file")var wr=Mc;else if(Rc(yt))if($l)wr=bd;else{wr=wd;var Or=yd}else(Ht=yt.nodeName)&&Ht.toLowerCase()==="input"&&(yt.type==="checkbox"||yt.type==="radio")&&(wr=bh);if(wr&&(wr=wr(p,st))){_u(kt,wr,k,bt);break e}Or&&Or(p,yt,st),p==="focusout"&&(Or=yt._wrapperState)&&Or.controlled&&yt.type==="number"&&Z(yt,"number",yt.value)}switch(Or=st?Eh(st):window,p){case"focusin":(Rc(Or)||Or.contentEditable==="true")&&(Cu=Or,Nv=st,Uf=null);break;case"focusout":Uf=Nv=Cu=null;break;case"mousedown":_v=!0;break;case"contextmenu":case"mouseup":case"dragend":_v=!1,u0(kt,k,bt);break;case"selectionchange":if(Bf)break;case"keydown":case"keyup":u0(kt,k,bt)}var Ir;if(Ul)e:{switch(p){case"compositionstart":var Vr="onCompositionStart";break e;case"compositionend":Vr="onCompositionEnd";break e;case"compositionupdate":Vr="onCompositionUpdate";break e}Vr=void 0}else fl?Mf(p,k)&&(Vr="onCompositionEnd"):p==="keydown"&&k.keyCode===229&&(Vr="onCompositionStart");Vr&&(Ro&&k.locale!=="ko"&&(fl||Vr!=="onCompositionStart"?Vr==="onCompositionEnd"&&fl&&(Ir=jp()):(ll=bt,ju="value"in ll?ll.value:ll.textContent,fl=!0)),Or=Cv(st,Vr),0<Or.length&&(Vr=new ia(Vr,p,null,k,bt),kt.push({event:Vr,listeners:Or}),Ir?Vr.data=Ir:(Ir=Nu(k),Ir!==null&&(Vr.data=Ir)))),(Ir=jv?Do(p,k):Mo(p,k))&&(st=Cv(st,"onBeforeInput"),0<st.length&&(bt=new ia("onBeforeInput","beforeinput",null,k,bt),kt.push({event:bt,listeners:st}),bt.data=Ir))}Pp(kt,w)})}function Ip(p,w,k){return{instance:p,listener:w,currentTarget:k}}function Cv(p,w){for(var k=w+"Capture",R=[];p!==null;){var J=p,ae=J.stateNode;J.tag===5&&ae!==null&&(J=ae,ae=fs(p,k),ae!=null&&R.unshift(Ip(p,ae,J)),ae=fs(p,w),ae!=null&&R.push(Ip(p,ae,J))),p=p.return}return R}function kh(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function j1(p,w,k,R,J){for(var ae=w._reactName,Ne=[];k!==null&&k!==R;){var Fe=k,He=Fe.alternate,st=Fe.stateNode;if(He!==null&&He===R)break;Fe.tag===5&&st!==null&&(Fe=st,J?(He=fs(k,ae),He!=null&&Ne.unshift(Ip(k,He,Fe))):J||(He=fs(k,ae),He!=null&&Ne.push(Ip(k,He,Fe)))),k=k.return}Ne.length!==0&&p.push({event:w,listeners:Ne})}var C5=/\r\n?/g,E5=/\u0000|\uFFFD/g;function N1(p){return(typeof p=="string"?p:""+p).replace(C5,`
`).replace(E5,"")}function Ev(p,w,k){if(w=N1(w),N1(p)!==w&&k)throw Error(r(425))}function zf(){}var Rp=null,Ch=null;function x0(p,w){return p==="textarea"||p==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var y0=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,S1=typeof Promise=="function"?Promise:void 0,A5=typeof queueMicrotask=="function"?queueMicrotask:typeof S1<"u"?function(p){return S1.resolve(null).then(p).catch(P5)}:y0;function P5(p){setTimeout(function(){throw p})}function w0(p,w){var k=w,R=0;do{var J=k.nextSibling;if(p.removeChild(k),J&&J.nodeType===8)if(k=J.data,k==="/$"){if(R===0){p.removeChild(J),Tc(w);return}R--}else k!=="$"&&k!=="$?"&&k!=="$!"||R++;k=J}while(k);Tc(w)}function Ki(p){for(;p!=null;p=p.nextSibling){var w=p.nodeType;if(w===1||w===3)break;if(w===8){if(w=p.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return p}function pl(p){p=p.previousSibling;for(var w=0;p;){if(p.nodeType===8){var k=p.data;if(k==="$"||k==="$!"||k==="$?"){if(w===0)return p;w--}else k==="/$"&&w++}p=p.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Fc="__reactFiber$"+uo,Wf="__reactProps$"+uo,Pi="__reactContainer$"+uo,ho="__reactEvents$"+uo,T5="__reactListeners$"+uo,O5="__reactHandles$"+uo;function Nd(p){var w=p[Fc];if(w)return w;for(var k=p.parentNode;k;){if(w=k[Pi]||k[Fc]){if(k=w.alternate,w.child!==null||k!==null&&k.child!==null)for(p=pl(p);p!==null;){if(k=p[Fc])return k;p=pl(p)}return w}p=k,k=p.parentNode}return null}function Vf(p){return p=p[Fc]||p[Pi],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Eh(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function Dp(p){return p[Wf]||null}var b0=[],Eu=-1;function zl(p){return{current:p}}function Wn(p){0>Eu||(p.current=b0[Eu],b0[Eu]=null,Eu--)}function Xn(p,w){Eu++,b0[Eu]=p.current,p.current=w}var _d={},fi=zl(_d),fo=zl(!1),Ah=_d;function Hf(p,w){var k=p.type.contextTypes;if(!k)return _d;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===w)return R.__reactInternalMemoizedMaskedChildContext;var J={},ae;for(ae in k)J[ae]=w[ae];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=w,p.__reactInternalMemoizedMaskedChildContext=J),J}function mo(p){return p=p.childContextTypes,p!=null}function Av(){Wn(fo),Wn(fi)}function k1(p,w,k){if(fi.current!==_d)throw Error(r(168));Xn(fi,w),Xn(fo,k)}function j0(p,w,k){var R=p.stateNode;if(w=w.childContextTypes,typeof R.getChildContext!="function")return k;R=R.getChildContext();for(var J in R)if(!(J in w))throw Error(r(108,W(p)||"Unknown",J));return X({},k,R)}function Ph(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||_d,Ah=fi.current,Xn(fi,p),Xn(fo,fo.current),!0}function C1(p,w,k){var R=p.stateNode;if(!R)throw Error(r(169));k?(p=j0(p,w,Ah),R.__reactInternalMemoizedMergedChildContext=p,Wn(fo),Wn(fi),Xn(fi,p)):Wn(fo),Xn(fo,k)}var Au=null,Mp=!1,P=!1;function F(p){Au===null?Au=[p]:Au.push(p)}function ne(p){Mp=!0,F(p)}function fe(){if(!P&&Au!==null){P=!0;var p=0,w=An;try{var k=Au;for(An=1;p<k.length;p++){var R=k[p];do R=R(!0);while(R!==null)}Au=null,Mp=!1}catch(J){throw Au!==null&&(Au=Au.slice(p+1)),We(sa,fe),J}finally{An=w,P=!1}}return null}var be=[],Se=0,ke=null,Ce=0,Ae=[],Te=0,Ve=null,Ze=1,Oe="";function Ke(p,w){be[Se++]=Ce,be[Se++]=ke,ke=p,Ce=w}function Qe(p,w,k){Ae[Te++]=Ze,Ae[Te++]=Oe,Ae[Te++]=Ve,Ve=p;var R=Ze;p=Oe;var J=32-Ci(R)-1;R&=~(1<<J),k+=1;var ae=32-Ci(w)+J;if(30<ae){var Ne=J-J%5;ae=(R&(1<<Ne)-1).toString(32),R>>=Ne,J-=Ne,Ze=1<<32-Ci(w)+J|k<<J|R,Oe=ae+p}else Ze=1<<ae|k<<J|R,Oe=p}function ct(p){p.return!==null&&(Ke(p,1),Qe(p,1,0))}function tt(p){for(;p===ke;)ke=be[--Se],be[Se]=null,Ce=be[--Se],be[Se]=null;for(;p===Ve;)Ve=Ae[--Te],Ae[Te]=null,Oe=Ae[--Te],Ae[Te]=null,Ze=Ae[--Te],Ae[Te]=null}var ot=null,lt=null,ht=!1,ft=null;function yr(p,w){var k=zc(5,null,null,0);k.elementType="DELETED",k.stateNode=w,k.return=p,w=p.deletions,w===null?(p.deletions=[k],p.flags|=16):w.push(k)}function Xt(p,w){switch(p.tag){case 5:var k=p.type;return w=w.nodeType!==1||k.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(p.stateNode=w,ot=p,lt=Ki(w.firstChild),!0):!1;case 6:return w=p.pendingProps===""||w.nodeType!==3?null:w,w!==null?(p.stateNode=w,ot=p,lt=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(k=Ve!==null?{id:Ze,overflow:Oe}:null,p.memoizedState={dehydrated:w,treeContext:k,retryLane:1073741824},k=zc(18,null,null,0),k.stateNode=w,k.return=p,p.child=k,ot=p,lt=null,!0):!1;default:return!1}}function Zr(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ar(p){if(ht){var w=lt;if(w){var k=w;if(!Xt(p,w)){if(Zr(p))throw Error(r(418));w=Ki(k.nextSibling);var R=ot;w&&Xt(p,w)?yr(R,k):(p.flags=p.flags&-4097|2,ht=!1,ot=p)}}else{if(Zr(p))throw Error(r(418));p.flags=p.flags&-4097|2,ht=!1,ot=p}}}function gn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;ot=p}function Js(p){if(p!==ot)return!1;if(!ht)return gn(p),ht=!0,!1;var w;if((w=p.tag!==3)&&!(w=p.tag!==5)&&(w=p.type,w=w!=="head"&&w!=="body"&&!x0(p.type,p.memoizedProps)),w&&(w=lt)){if(Zr(p))throw an(),Error(r(418));for(;w;)yr(p,w),w=Ki(w.nextSibling)}if(gn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,w=0;p;){if(p.nodeType===8){var k=p.data;if(k==="/$"){if(w===0){lt=Ki(p.nextSibling);break e}w--}else k!=="$"&&k!=="$!"&&k!=="$?"||w++}p=p.nextSibling}lt=null}}else lt=ot?Ki(p.stateNode.nextSibling):null;return!0}function an(){for(var p=lt;p;)p=Ki(p.nextSibling)}function Qt(){lt=ot=null,ht=!1}function Rt(p){ft===null?ft=[p]:ft.push(p)}var la=_.ReactCurrentBatchConfig;function Fr(p,w,k){if(p=k.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(r(309));var R=k.stateNode}if(!R)throw Error(r(147,p));var J=R,ae=""+p;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===ae?w.ref:(w=function(Ne){var Fe=J.refs;Ne===null?delete Fe[ae]:Fe[ae]=Ne},w._stringRef=ae,w)}if(typeof p!="string")throw Error(r(284));if(!k._owner)throw Error(r(290,p))}return p}function mn(p,w){throw p=Object.prototype.toString.call(w),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":p))}function ps(p){var w=p._init;return w(p._payload)}function ei(p){function w(et,Ye){if(p){var nt=et.deletions;nt===null?(et.deletions=[Ye],et.flags|=16):nt.push(Ye)}}function k(et,Ye){if(!p)return null;for(;Ye!==null;)w(et,Ye),Ye=Ye.sibling;return null}function R(et,Ye){for(et=new Map;Ye!==null;)Ye.key!==null?et.set(Ye.key,Ye):et.set(Ye.index,Ye),Ye=Ye.sibling;return et}function J(et,Ye){return et=rm(et,Ye),et.index=0,et.sibling=null,et}function ae(et,Ye,nt){return et.index=nt,p?(nt=et.alternate,nt!==null?(nt=nt.index,nt<Ye?(et.flags|=2,Ye):nt):(et.flags|=2,Ye)):(et.flags|=1048576,Ye)}function Ne(et){return p&&et.alternate===null&&(et.flags|=2),et}function Fe(et,Ye,nt,Tt){return Ye===null||Ye.tag!==6?(Ye=ok(nt,et.mode,Tt),Ye.return=et,Ye):(Ye=J(Ye,nt),Ye.return=et,Ye)}function He(et,Ye,nt,Tt){var wr=nt.type;return wr===A?bt(et,Ye,nt.props.children,Tt,nt.key):Ye!==null&&(Ye.elementType===wr||typeof wr=="object"&&wr!==null&&wr.$$typeof===re&&ps(wr)===Ye.type)?(Tt=J(Ye,nt.props),Tt.ref=Fr(et,Ye,nt),Tt.return=et,Tt):(Tt=G1(nt.type,nt.key,nt.props,null,et.mode,Tt),Tt.ref=Fr(et,Ye,nt),Tt.return=et,Tt)}function st(et,Ye,nt,Tt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==nt.containerInfo||Ye.stateNode.implementation!==nt.implementation?(Ye=lk(nt,et.mode,Tt),Ye.return=et,Ye):(Ye=J(Ye,nt.children||[]),Ye.return=et,Ye)}function bt(et,Ye,nt,Tt,wr){return Ye===null||Ye.tag!==7?(Ye=Wp(nt,et.mode,Tt,wr),Ye.return=et,Ye):(Ye=J(Ye,nt),Ye.return=et,Ye)}function kt(et,Ye,nt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Ye=ok(""+Ye,et.mode,nt),Ye.return=et,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case S:return nt=G1(Ye.type,Ye.key,Ye.props,null,et.mode,nt),nt.ref=Fr(et,null,Ye),nt.return=et,nt;case T:return Ye=lk(Ye,et.mode,nt),Ye.return=et,Ye;case re:var Tt=Ye._init;return kt(et,Tt(Ye._payload),nt)}if(le(Ye)||ee(Ye))return Ye=Wp(Ye,et.mode,nt,null),Ye.return=et,Ye;mn(et,Ye)}return null}function yt(et,Ye,nt,Tt){var wr=Ye!==null?Ye.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number")return wr!==null?null:Fe(et,Ye,""+nt,Tt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case S:return nt.key===wr?He(et,Ye,nt,Tt):null;case T:return nt.key===wr?st(et,Ye,nt,Tt):null;case re:return wr=nt._init,yt(et,Ye,wr(nt._payload),Tt)}if(le(nt)||ee(nt))return wr!==null?null:bt(et,Ye,nt,Tt,null);mn(et,nt)}return null}function Ht(et,Ye,nt,Tt,wr){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return et=et.get(nt)||null,Fe(Ye,et,""+Tt,wr);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case S:return et=et.get(Tt.key===null?nt:Tt.key)||null,He(Ye,et,Tt,wr);case T:return et=et.get(Tt.key===null?nt:Tt.key)||null,st(Ye,et,Tt,wr);case re:var Or=Tt._init;return Ht(et,Ye,nt,Or(Tt._payload),wr)}if(le(Tt)||ee(Tt))return et=et.get(nt)||null,bt(Ye,et,Tt,wr,null);mn(Ye,Tt)}return null}function or(et,Ye,nt,Tt){for(var wr=null,Or=null,Ir=Ye,Vr=Ye=0,Di=null;Ir!==null&&Vr<nt.length;Vr++){Ir.index>Vr?(Di=Ir,Ir=null):Di=Ir.sibling;var Bn=yt(et,Ir,nt[Vr],Tt);if(Bn===null){Ir===null&&(Ir=Di);break}p&&Ir&&Bn.alternate===null&&w(et,Ir),Ye=ae(Bn,Ye,Vr),Or===null?wr=Bn:Or.sibling=Bn,Or=Bn,Ir=Di}if(Vr===nt.length)return k(et,Ir),ht&&Ke(et,Vr),wr;if(Ir===null){for(;Vr<nt.length;Vr++)Ir=kt(et,nt[Vr],Tt),Ir!==null&&(Ye=ae(Ir,Ye,Vr),Or===null?wr=Ir:Or.sibling=Ir,Or=Ir);return ht&&Ke(et,Vr),wr}for(Ir=R(et,Ir);Vr<nt.length;Vr++)Di=Ht(Ir,et,Vr,nt[Vr],Tt),Di!==null&&(p&&Di.alternate!==null&&Ir.delete(Di.key===null?Vr:Di.key),Ye=ae(Di,Ye,Vr),Or===null?wr=Di:Or.sibling=Di,Or=Di);return p&&Ir.forEach(function(nm){return w(et,nm)}),ht&&Ke(et,Vr),wr}function pr(et,Ye,nt,Tt){var wr=ee(nt);if(typeof wr!="function")throw Error(r(150));if(nt=wr.call(nt),nt==null)throw Error(r(151));for(var Or=wr=null,Ir=Ye,Vr=Ye=0,Di=null,Bn=nt.next();Ir!==null&&!Bn.done;Vr++,Bn=nt.next()){Ir.index>Vr?(Di=Ir,Ir=null):Di=Ir.sibling;var nm=yt(et,Ir,Bn.value,Tt);if(nm===null){Ir===null&&(Ir=Di);break}p&&Ir&&nm.alternate===null&&w(et,Ir),Ye=ae(nm,Ye,Vr),Or===null?wr=nm:Or.sibling=nm,Or=nm,Ir=Di}if(Bn.done)return k(et,Ir),ht&&Ke(et,Vr),wr;if(Ir===null){for(;!Bn.done;Vr++,Bn=nt.next())Bn=kt(et,Bn.value,Tt),Bn!==null&&(Ye=ae(Bn,Ye,Vr),Or===null?wr=Bn:Or.sibling=Bn,Or=Bn);return ht&&Ke(et,Vr),wr}for(Ir=R(et,Ir);!Bn.done;Vr++,Bn=nt.next())Bn=Ht(Ir,et,Vr,Bn.value,Tt),Bn!==null&&(p&&Bn.alternate!==null&&Ir.delete(Bn.key===null?Vr:Bn.key),Ye=ae(Bn,Ye,Vr),Or===null?wr=Bn:Or.sibling=Bn,Or=Bn);return p&&Ir.forEach(function(Woe){return w(et,Woe)}),ht&&Ke(et,Vr),wr}function Wa(et,Ye,nt,Tt){if(typeof nt=="object"&&nt!==null&&nt.type===A&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case S:e:{for(var wr=nt.key,Or=Ye;Or!==null;){if(Or.key===wr){if(wr=nt.type,wr===A){if(Or.tag===7){k(et,Or.sibling),Ye=J(Or,nt.props.children),Ye.return=et,et=Ye;break e}}else if(Or.elementType===wr||typeof wr=="object"&&wr!==null&&wr.$$typeof===re&&ps(wr)===Or.type){k(et,Or.sibling),Ye=J(Or,nt.props),Ye.ref=Fr(et,Or,nt),Ye.return=et,et=Ye;break e}k(et,Or);break}else w(et,Or);Or=Or.sibling}nt.type===A?(Ye=Wp(nt.props.children,et.mode,Tt,nt.key),Ye.return=et,et=Ye):(Tt=G1(nt.type,nt.key,nt.props,null,et.mode,Tt),Tt.ref=Fr(et,Ye,nt),Tt.return=et,et=Tt)}return Ne(et);case T:e:{for(Or=nt.key;Ye!==null;){if(Ye.key===Or)if(Ye.tag===4&&Ye.stateNode.containerInfo===nt.containerInfo&&Ye.stateNode.implementation===nt.implementation){k(et,Ye.sibling),Ye=J(Ye,nt.children||[]),Ye.return=et,et=Ye;break e}else{k(et,Ye);break}else w(et,Ye);Ye=Ye.sibling}Ye=lk(nt,et.mode,Tt),Ye.return=et,et=Ye}return Ne(et);case re:return Or=nt._init,Wa(et,Ye,Or(nt._payload),Tt)}if(le(nt))return or(et,Ye,nt,Tt);if(ee(nt))return pr(et,Ye,nt,Tt);mn(et,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,Ye!==null&&Ye.tag===6?(k(et,Ye.sibling),Ye=J(Ye,nt),Ye.return=et,et=Ye):(k(et,Ye),Ye=ok(nt,et.mode,Tt),Ye.return=et,et=Ye),Ne(et)):k(et,Ye)}return Wa}var Ca=ei(!0),Us=ei(!1),qa=zl(null),ti=null,Es=null,bn=null;function Rn(){bn=Es=ti=null}function As(p){var w=qa.current;Wn(qa),p._currentValue=w}function Dn(p,w,k){for(;p!==null;){var R=p.alternate;if((p.childLanes&w)!==w?(p.childLanes|=w,R!==null&&(R.childLanes|=w)):R!==null&&(R.childLanes&w)!==w&&(R.childLanes|=w),p===k)break;p=p.return}}function Xs(p,w){ti=p,bn=Es=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&w)!==0&&(vl=!0),p.firstContext=null)}function Qs(p){var w=p._currentValue;if(bn!==p)if(p={context:p,memoizedValue:w,next:null},Es===null){if(ti===null)throw Error(r(308));Es=p,ti.dependencies={lanes:0,firstContext:p}}else Es=Es.next=p;return w}var is=null;function Ti(p){is===null?is=[p]:is.push(p)}function Qn(p,w,k,R){var J=w.interleaved;return J===null?(k.next=k,Ti(w)):(k.next=J.next,J.next=k),w.interleaved=k,os(p,R)}function os(p,w){p.lanes|=w;var k=p.alternate;for(k!==null&&(k.lanes|=w),k=p,p=p.return;p!==null;)p.childLanes|=w,k=p.alternate,k!==null&&(k.childLanes|=w),k=p,p=p.return;return k.tag===3?k.stateNode:null}var Ea=!1;function mi(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function po(p,w){p=p.updateQueue,w.updateQueue===p&&(w.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function ca(p,w){return{eventTime:p,lane:w,tag:0,payload:null,callback:null,next:null}}function ua(p,w,k){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(Mn&2)!==0){var J=R.pending;return J===null?w.next=w:(w.next=J.next,J.next=w),R.pending=w,os(p,k)}return J=R.interleaved,J===null?(w.next=w,Ti(R)):(w.next=J.next,J.next=w),R.interleaved=w,os(p,k)}function Oi(p,w,k){if(w=w.updateQueue,w!==null&&(w=w.shared,(k&4194240)!==0)){var R=w.lanes;R&=p.pendingLanes,k|=R,w.lanes=k,Af(p,k)}}function ls(p,w){var k=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,k===R)){var J=null,ae=null;if(k=k.firstBaseUpdate,k!==null){do{var Ne={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};ae===null?J=ae=Ne:ae=ae.next=Ne,k=k.next}while(k!==null);ae===null?J=ae=w:ae=ae.next=w}else J=ae=w;k={baseState:R.baseState,firstBaseUpdate:J,lastBaseUpdate:ae,shared:R.shared,effects:R.effects},p.updateQueue=k;return}p=k.lastBaseUpdate,p===null?k.firstBaseUpdate=w:p.next=w,k.lastBaseUpdate=w}function Ii(p,w,k,R){var J=p.updateQueue;Ea=!1;var ae=J.firstBaseUpdate,Ne=J.lastBaseUpdate,Fe=J.shared.pending;if(Fe!==null){J.shared.pending=null;var He=Fe,st=He.next;He.next=null,Ne===null?ae=st:Ne.next=st,Ne=He;var bt=p.alternate;bt!==null&&(bt=bt.updateQueue,Fe=bt.lastBaseUpdate,Fe!==Ne&&(Fe===null?bt.firstBaseUpdate=st:Fe.next=st,bt.lastBaseUpdate=He))}if(ae!==null){var kt=J.baseState;Ne=0,bt=st=He=null,Fe=ae;do{var yt=Fe.lane,Ht=Fe.eventTime;if((R&yt)===yt){bt!==null&&(bt=bt.next={eventTime:Ht,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var or=p,pr=Fe;switch(yt=w,Ht=k,pr.tag){case 1:if(or=pr.payload,typeof or=="function"){kt=or.call(Ht,kt,yt);break e}kt=or;break e;case 3:or.flags=or.flags&-65537|128;case 0:if(or=pr.payload,yt=typeof or=="function"?or.call(Ht,kt,yt):or,yt==null)break e;kt=X({},kt,yt);break e;case 2:Ea=!0}}Fe.callback!==null&&Fe.lane!==0&&(p.flags|=64,yt=J.effects,yt===null?J.effects=[Fe]:yt.push(Fe))}else Ht={eventTime:Ht,lane:yt,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},bt===null?(st=bt=Ht,He=kt):bt=bt.next=Ht,Ne|=yt;if(Fe=Fe.next,Fe===null){if(Fe=J.shared.pending,Fe===null)break;yt=Fe,Fe=yt.next,yt.next=null,J.lastBaseUpdate=yt,J.shared.pending=null}}while(!0);if(bt===null&&(He=kt),J.baseState=He,J.firstBaseUpdate=st,J.lastBaseUpdate=bt,w=J.shared.interleaved,w!==null){J=w;do Ne|=J.lane,J=J.next;while(J!==w)}else ae===null&&(J.shared.lanes=0);Up|=Ne,p.lanes=Ne,p.memoizedState=kt}}function gl(p,w,k){if(p=w.effects,w.effects=null,p!==null)for(w=0;w<p.length;w++){var R=p[w],J=R.callback;if(J!==null){if(R.callback=null,R=k,typeof J!="function")throw Error(r(191,J));J.call(R)}}}var Wl={},ri=zl(Wl),da=zl(Wl),Sd=zl(Wl);function Pu(p){if(p===Wl)throw Error(r(174));return p}function Gf(p,w){switch(Xn(Sd,w),Xn(da,p),Xn(ri,Wl),p=w.nodeType,p){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:it(null,"");break;default:p=p===8?w.parentNode:w,w=p.namespaceURI||null,p=p.tagName,w=it(w,p)}Wn(ri),Xn(ri,w)}function Bc(){Wn(ri),Wn(da),Wn(Sd)}function E1(p){Pu(Sd.current);var w=Pu(ri.current),k=it(w,p.type);w!==k&&(Xn(da,p),Xn(ri,k))}function N0(p){da.current===p&&(Wn(ri),Wn(da))}var Ns=zl(0);function Vl(p){for(var w=p;w!==null;){if(w.tag===13){var k=w.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var _0=[];function S0(){for(var p=0;p<_0.length;p++)_0[p]._workInProgressVersionPrimary=null;_0.length=0}var Pv=_.ReactCurrentDispatcher,Tv=_.ReactCurrentBatchConfig,Uc=0,Ps=null,Aa=null,ha=null,Kf=!1,Tu=!1,Yf=0,I5=0;function za(){throw Error(r(321))}function Ov(p,w){if(w===null)return!1;for(var k=0;k<w.length&&k<p.length;k++)if(!Ks(p[k],w[k]))return!1;return!0}function Lp(p,w,k,R,J,ae){if(Uc=ae,Ps=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Pv.current=p===null||p.memoizedState===null?goe:voe,p=k(R,J),Tu){ae=0;do{if(Tu=!1,Yf=0,25<=ae)throw Error(r(301));ae+=1,ha=Aa=null,w.updateQueue=null,Pv.current=xoe,p=k(R,J)}while(Tu)}if(Pv.current=I1,w=Aa!==null&&Aa.next!==null,Uc=0,ha=Aa=Ps=null,Kf=!1,w)throw Error(r(300));return p}function $c(){var p=Yf!==0;return Yf=0,p}function Hl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?Ps.memoizedState=ha=p:ha=ha.next=p,ha}function Lo(){if(Aa===null){var p=Ps.alternate;p=p!==null?p.memoizedState:null}else p=Aa.next;var w=ha===null?Ps.memoizedState:ha.next;if(w!==null)ha=w,Aa=p;else{if(p===null)throw Error(r(310));Aa=p,p={memoizedState:Aa.memoizedState,baseState:Aa.baseState,baseQueue:Aa.baseQueue,queue:Aa.queue,next:null},ha===null?Ps.memoizedState=ha=p:ha=ha.next=p}return ha}function Fp(p,w){return typeof w=="function"?w(p):w}function Iv(p){var w=Lo(),k=w.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var R=Aa,J=R.baseQueue,ae=k.pending;if(ae!==null){if(J!==null){var Ne=J.next;J.next=ae.next,ae.next=Ne}R.baseQueue=J=ae,k.pending=null}if(J!==null){ae=J.next,R=R.baseState;var Fe=Ne=null,He=null,st=ae;do{var bt=st.lane;if((Uc&bt)===bt)He!==null&&(He=He.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),R=st.hasEagerState?st.eagerState:p(R,st.action);else{var kt={lane:bt,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};He===null?(Fe=He=kt,Ne=R):He=He.next=kt,Ps.lanes|=bt,Up|=bt}st=st.next}while(st!==null&&st!==ae);He===null?Ne=R:He.next=Fe,Ks(R,w.memoizedState)||(vl=!0),w.memoizedState=R,w.baseState=Ne,w.baseQueue=He,k.lastRenderedState=R}if(p=k.interleaved,p!==null){J=p;do ae=J.lane,Ps.lanes|=ae,Up|=ae,J=J.next;while(J!==p)}else J===null&&(k.lanes=0);return[w.memoizedState,k.dispatch]}function kd(p){var w=Lo(),k=w.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var R=k.dispatch,J=k.pending,ae=w.memoizedState;if(J!==null){k.pending=null;var Ne=J=J.next;do ae=p(ae,Ne.action),Ne=Ne.next;while(Ne!==J);Ks(ae,w.memoizedState)||(vl=!0),w.memoizedState=ae,w.baseQueue===null&&(w.baseState=ae),k.lastRenderedState=ae}return[ae,R]}function A1(){}function k0(p,w){var k=Ps,R=Lo(),J=w(),ae=!Ks(R.memoizedState,J);if(ae&&(R.memoizedState=J,vl=!0),R=R.queue,Mv(T1.bind(null,k,R,p),[p]),R.getSnapshot!==w||ae||ha!==null&&ha.memoizedState.tag&1){if(k.flags|=2048,Fo(9,C0.bind(null,k,R,J,w),void 0,null),Ri===null)throw Error(r(349));(Uc&30)!==0||P1(k,w,J)}return J}function P1(p,w,k){p.flags|=16384,p={getSnapshot:w,value:k},w=Ps.updateQueue,w===null?(w={lastEffect:null,stores:null},Ps.updateQueue=w,w.stores=[p]):(k=w.stores,k===null?w.stores=[p]:k.push(p))}function C0(p,w,k,R){w.value=k,w.getSnapshot=R,Jf(w)&&Rv(p)}function T1(p,w,k){return k(function(){Jf(w)&&Rv(p)})}function Jf(p){var w=p.getSnapshot;p=p.value;try{var k=w();return!Ks(p,k)}catch{return!0}}function Rv(p){var w=os(p,1);w!==null&&Mu(w,p,1,-1)}function Bp(p){var w=Hl();return typeof p=="function"&&(p=p()),w.memoizedState=w.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:p},w.queue=p,p=p.dispatch=poe.bind(null,Ps,p),[w.memoizedState,p]}function Fo(p,w,k,R){return p={tag:p,create:w,destroy:k,deps:R,next:null},w=Ps.updateQueue,w===null?(w={lastEffect:null,stores:null},Ps.updateQueue=w,w.lastEffect=p.next=p):(k=w.lastEffect,k===null?w.lastEffect=p.next=p:(R=k.next,k.next=p,p.next=R,w.lastEffect=p)),p}function Ou(){return Lo().memoizedState}function Gl(p,w,k,R){var J=Hl();Ps.flags|=p,J.memoizedState=Fo(1|w,k,void 0,R===void 0?null:R)}function Th(p,w,k,R){var J=Lo();R=R===void 0?null:R;var ae=void 0;if(Aa!==null){var Ne=Aa.memoizedState;if(ae=Ne.destroy,R!==null&&Ov(R,Ne.deps)){J.memoizedState=Fo(w,k,ae,R);return}}Ps.flags|=p,J.memoizedState=Fo(1|w,k,ae,R)}function Dv(p,w){return Gl(8390656,8,p,w)}function Mv(p,w){return Th(2048,8,p,w)}function O1(p,w){return Th(4,2,p,w)}function Lv(p,w){return Th(4,4,p,w)}function Fv(p,w){if(typeof w=="function")return p=p(),w(p),function(){w(null)};if(w!=null)return p=p(),w.current=p,function(){w.current=null}}function L6(p,w,k){return k=k!=null?k.concat([p]):null,Th(4,4,Fv.bind(null,w,p),k)}function R5(){}function F6(p,w){var k=Lo();w=w===void 0?null:w;var R=k.memoizedState;return R!==null&&w!==null&&Ov(w,R[1])?R[0]:(k.memoizedState=[p,w],p)}function B6(p,w){var k=Lo();w=w===void 0?null:w;var R=k.memoizedState;return R!==null&&w!==null&&Ov(w,R[1])?R[0]:(p=p(),k.memoizedState=[p,w],p)}function U6(p,w,k){return(Uc&21)===0?(p.baseState&&(p.baseState=!1,vl=!0),p.memoizedState=k):(Ks(k,w)||(k=gv(),Ps.lanes|=k,Up|=k,p.baseState=!0),w)}function foe(p,w){var k=An;An=k!==0&&4>k?k:4,p(!0);var R=Tv.transition;Tv.transition={};try{p(!1),w()}finally{An=k,Tv.transition=R}}function $6(){return Lo().memoizedState}function moe(p,w,k){var R=em(p);if(k={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null},q6(p))z6(w,k);else if(k=Qn(p,w,k,R),k!==null){var J=Uo();Mu(k,p,R,J),W6(k,w,R)}}function poe(p,w,k){var R=em(p),J={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null};if(q6(p))z6(w,J);else{var ae=p.alternate;if(p.lanes===0&&(ae===null||ae.lanes===0)&&(ae=w.lastRenderedReducer,ae!==null))try{var Ne=w.lastRenderedState,Fe=ae(Ne,k);if(J.hasEagerState=!0,J.eagerState=Fe,Ks(Fe,Ne)){var He=w.interleaved;He===null?(J.next=J,Ti(w)):(J.next=He.next,He.next=J),w.interleaved=J;return}}catch{}finally{}k=Qn(p,w,J,R),k!==null&&(J=Uo(),Mu(k,p,R,J),W6(k,w,R))}}function q6(p){var w=p.alternate;return p===Ps||w!==null&&w===Ps}function z6(p,w){Tu=Kf=!0;var k=p.pending;k===null?w.next=w:(w.next=k.next,k.next=w),p.pending=w}function W6(p,w,k){if((k&4194240)!==0){var R=w.lanes;R&=p.pendingLanes,k|=R,w.lanes=k,Af(p,k)}}var I1={readContext:Qs,useCallback:za,useContext:za,useEffect:za,useImperativeHandle:za,useInsertionEffect:za,useLayoutEffect:za,useMemo:za,useReducer:za,useRef:za,useState:za,useDebugValue:za,useDeferredValue:za,useTransition:za,useMutableSource:za,useSyncExternalStore:za,useId:za,unstable_isNewReconciler:!1},goe={readContext:Qs,useCallback:function(p,w){return Hl().memoizedState=[p,w===void 0?null:w],p},useContext:Qs,useEffect:Dv,useImperativeHandle:function(p,w,k){return k=k!=null?k.concat([p]):null,Gl(4194308,4,Fv.bind(null,w,p),k)},useLayoutEffect:function(p,w){return Gl(4194308,4,p,w)},useInsertionEffect:function(p,w){return Gl(4,2,p,w)},useMemo:function(p,w){var k=Hl();return w=w===void 0?null:w,p=p(),k.memoizedState=[p,w],p},useReducer:function(p,w,k){var R=Hl();return w=k!==void 0?k(w):w,R.memoizedState=R.baseState=w,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:w},R.queue=p,p=p.dispatch=moe.bind(null,Ps,p),[R.memoizedState,p]},useRef:function(p){var w=Hl();return p={current:p},w.memoizedState=p},useState:Bp,useDebugValue:R5,useDeferredValue:function(p){return Hl().memoizedState=p},useTransition:function(){var p=Bp(!1),w=p[0];return p=foe.bind(null,p[1]),Hl().memoizedState=p,[w,p]},useMutableSource:function(){},useSyncExternalStore:function(p,w,k){var R=Ps,J=Hl();if(ht){if(k===void 0)throw Error(r(407));k=k()}else{if(k=w(),Ri===null)throw Error(r(349));(Uc&30)!==0||P1(R,w,k)}J.memoizedState=k;var ae={value:k,getSnapshot:w};return J.queue=ae,Dv(T1.bind(null,R,ae,p),[p]),R.flags|=2048,Fo(9,C0.bind(null,R,ae,k,w),void 0,null),k},useId:function(){var p=Hl(),w=Ri.identifierPrefix;if(ht){var k=Oe,R=Ze;k=(R&~(1<<32-Ci(R)-1)).toString(32)+k,w=":"+w+"R"+k,k=Yf++,0<k&&(w+="H"+k.toString(32)),w+=":"}else k=I5++,w=":"+w+"r"+k.toString(32)+":";return p.memoizedState=w},unstable_isNewReconciler:!1},voe={readContext:Qs,useCallback:F6,useContext:Qs,useEffect:Mv,useImperativeHandle:L6,useInsertionEffect:O1,useLayoutEffect:Lv,useMemo:B6,useReducer:Iv,useRef:Ou,useState:function(){return Iv(Fp)},useDebugValue:R5,useDeferredValue:function(p){var w=Lo();return U6(w,Aa.memoizedState,p)},useTransition:function(){var p=Iv(Fp)[0],w=Lo().memoizedState;return[p,w]},useMutableSource:A1,useSyncExternalStore:k0,useId:$6,unstable_isNewReconciler:!1},xoe={readContext:Qs,useCallback:F6,useContext:Qs,useEffect:Mv,useImperativeHandle:L6,useInsertionEffect:O1,useLayoutEffect:Lv,useMemo:B6,useReducer:kd,useRef:Ou,useState:function(){return kd(Fp)},useDebugValue:R5,useDeferredValue:function(p){var w=Lo();return Aa===null?w.memoizedState=p:U6(w,Aa.memoizedState,p)},useTransition:function(){var p=kd(Fp)[0],w=Lo().memoizedState;return[p,w]},useMutableSource:A1,useSyncExternalStore:k0,useId:$6,unstable_isNewReconciler:!1};function Iu(p,w){if(p&&p.defaultProps){w=X({},w),p=p.defaultProps;for(var k in p)w[k]===void 0&&(w[k]=p[k]);return w}return w}function D5(p,w,k,R){w=p.memoizedState,k=k(R,w),k=k==null?w:X({},w,k),p.memoizedState=k,p.lanes===0&&(p.updateQueue.baseState=k)}var R1={isMounted:function(p){return(p=p._reactInternals)?Na(p)===p:!1},enqueueSetState:function(p,w,k){p=p._reactInternals;var R=Uo(),J=em(p),ae=ca(R,J);ae.payload=w,k!=null&&(ae.callback=k),w=ua(p,ae,J),w!==null&&(Mu(w,p,J,R),Oi(w,p,J))},enqueueReplaceState:function(p,w,k){p=p._reactInternals;var R=Uo(),J=em(p),ae=ca(R,J);ae.tag=1,ae.payload=w,k!=null&&(ae.callback=k),w=ua(p,ae,J),w!==null&&(Mu(w,p,J,R),Oi(w,p,J))},enqueueForceUpdate:function(p,w){p=p._reactInternals;var k=Uo(),R=em(p),J=ca(k,R);J.tag=2,w!=null&&(J.callback=w),w=ua(p,J,R),w!==null&&(Mu(w,p,R,k),Oi(w,p,R))}};function V6(p,w,k,R,J,ae,Ne){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,ae,Ne):w.prototype&&w.prototype.isPureReactComponent?!co(k,R)||!co(J,ae):!0}function H6(p,w,k){var R=!1,J=_d,ae=w.contextType;return typeof ae=="object"&&ae!==null?ae=Qs(ae):(J=mo(w)?Ah:fi.current,R=w.contextTypes,ae=(R=R!=null)?Hf(p,J):_d),w=new w(k,ae),p.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=R1,p.stateNode=w,w._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=J,p.__reactInternalMemoizedMaskedChildContext=ae),w}function G6(p,w,k,R){p=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(k,R),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(k,R),w.state!==p&&R1.enqueueReplaceState(w,w.state,null)}function M5(p,w,k,R){var J=p.stateNode;J.props=k,J.state=p.memoizedState,J.refs={},mi(p);var ae=w.contextType;typeof ae=="object"&&ae!==null?J.context=Qs(ae):(ae=mo(w)?Ah:fi.current,J.context=Hf(p,ae)),J.state=p.memoizedState,ae=w.getDerivedStateFromProps,typeof ae=="function"&&(D5(p,w,ae,k),J.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(w=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),w!==J.state&&R1.enqueueReplaceState(J,J.state,null),Ii(p,k,J,R),J.state=p.memoizedState),typeof J.componentDidMount=="function"&&(p.flags|=4194308)}function Bv(p,w){try{var k="",R=w;do k+=te(R),R=R.return;while(R);var J=k}catch(ae){J=`
Error generating stack: `+ae.message+`
`+ae.stack}return{value:p,source:w,stack:J,digest:null}}function L5(p,w,k){return{value:p,source:null,stack:k??null,digest:w??null}}function F5(p,w){try{console.error(w.value)}catch(k){setTimeout(function(){throw k})}}var yoe=typeof WeakMap=="function"?WeakMap:Map;function K6(p,w,k){k=ca(-1,k),k.tag=3,k.payload={element:null};var R=w.value;return k.callback=function(){$1||($1=!0,Z5=R),F5(p,w)},k}function Y6(p,w,k){k=ca(-1,k),k.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var J=w.value;k.payload=function(){return R(J)},k.callback=function(){F5(p,w)}}var ae=p.stateNode;return ae!==null&&typeof ae.componentDidCatch=="function"&&(k.callback=function(){F5(p,w),typeof R!="function"&&(Qf===null?Qf=new Set([this]):Qf.add(this));var Ne=w.stack;this.componentDidCatch(w.value,{componentStack:Ne!==null?Ne:""})}),k}function J6(p,w,k){var R=p.pingCache;if(R===null){R=p.pingCache=new yoe;var J=new Set;R.set(w,J)}else J=R.get(w),J===void 0&&(J=new Set,R.set(w,J));J.has(k)||(J.add(k),p=Ioe.bind(null,p,w,k),w.then(p,p))}function X6(p){do{var w;if((w=p.tag===13)&&(w=p.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return p;p=p.return}while(p!==null);return null}function Q6(p,w,k,R,J){return(p.mode&1)===0?(p===w?p.flags|=65536:(p.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(w=ca(-1,1),w.tag=2,ua(k,w,1))),k.lanes|=1),p):(p.flags|=65536,p.lanes=J,p)}var woe=_.ReactCurrentOwner,vl=!1;function Bo(p,w,k,R){w.child=p===null?Us(w,null,k,R):Ca(w,p.child,k,R)}function Z6(p,w,k,R,J){k=k.render;var ae=w.ref;return Xs(w,J),R=Lp(p,w,k,R,ae,J),k=$c(),p!==null&&!vl?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~J,Oh(p,w,J)):(ht&&k&&ct(w),w.flags|=1,Bo(p,w,R,J),w.child)}function eM(p,w,k,R,J){if(p===null){var ae=k.type;return typeof ae=="function"&&!ik(ae)&&ae.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(w.tag=15,w.type=ae,tM(p,w,ae,R,J)):(p=G1(k.type,null,R,w,w.mode,J),p.ref=w.ref,p.return=w,w.child=p)}if(ae=p.child,(p.lanes&J)===0){var Ne=ae.memoizedProps;if(k=k.compare,k=k!==null?k:co,k(Ne,R)&&p.ref===w.ref)return Oh(p,w,J)}return w.flags|=1,p=rm(ae,R),p.ref=w.ref,p.return=w,w.child=p}function tM(p,w,k,R,J){if(p!==null){var ae=p.memoizedProps;if(co(ae,R)&&p.ref===w.ref)if(vl=!1,w.pendingProps=R=ae,(p.lanes&J)!==0)(p.flags&131072)!==0&&(vl=!0);else return w.lanes=p.lanes,Oh(p,w,J)}return B5(p,w,k,R,J)}function rM(p,w,k){var R=w.pendingProps,J=R.children,ae=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xn($v,Kl),Kl|=k;else{if((k&1073741824)===0)return p=ae!==null?ae.baseLanes|k:k,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:p,cachePool:null,transitions:null},w.updateQueue=null,Xn($v,Kl),Kl|=p,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=ae!==null?ae.baseLanes:k,Xn($v,Kl),Kl|=R}else ae!==null?(R=ae.baseLanes|k,w.memoizedState=null):R=k,Xn($v,Kl),Kl|=R;return Bo(p,w,J,k),w.child}function nM(p,w){var k=w.ref;(p===null&&k!==null||p!==null&&p.ref!==k)&&(w.flags|=512,w.flags|=2097152)}function B5(p,w,k,R,J){var ae=mo(k)?Ah:fi.current;return ae=Hf(w,ae),Xs(w,J),k=Lp(p,w,k,R,ae,J),R=$c(),p!==null&&!vl?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~J,Oh(p,w,J)):(ht&&R&&ct(w),w.flags|=1,Bo(p,w,k,J),w.child)}function sM(p,w,k,R,J){if(mo(k)){var ae=!0;Ph(w)}else ae=!1;if(Xs(w,J),w.stateNode===null)M1(p,w),H6(w,k,R),M5(w,k,R,J),R=!0;else if(p===null){var Ne=w.stateNode,Fe=w.memoizedProps;Ne.props=Fe;var He=Ne.context,st=k.contextType;typeof st=="object"&&st!==null?st=Qs(st):(st=mo(k)?Ah:fi.current,st=Hf(w,st));var bt=k.getDerivedStateFromProps,kt=typeof bt=="function"||typeof Ne.getSnapshotBeforeUpdate=="function";kt||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Fe!==R||He!==st)&&G6(w,Ne,R,st),Ea=!1;var yt=w.memoizedState;Ne.state=yt,Ii(w,R,Ne,J),He=w.memoizedState,Fe!==R||yt!==He||fo.current||Ea?(typeof bt=="function"&&(D5(w,k,bt,R),He=w.memoizedState),(Fe=Ea||V6(w,k,Fe,R,yt,He,st))?(kt||typeof Ne.UNSAFE_componentWillMount!="function"&&typeof Ne.componentWillMount!="function"||(typeof Ne.componentWillMount=="function"&&Ne.componentWillMount(),typeof Ne.UNSAFE_componentWillMount=="function"&&Ne.UNSAFE_componentWillMount()),typeof Ne.componentDidMount=="function"&&(w.flags|=4194308)):(typeof Ne.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=R,w.memoizedState=He),Ne.props=R,Ne.state=He,Ne.context=st,R=Fe):(typeof Ne.componentDidMount=="function"&&(w.flags|=4194308),R=!1)}else{Ne=w.stateNode,po(p,w),Fe=w.memoizedProps,st=w.type===w.elementType?Fe:Iu(w.type,Fe),Ne.props=st,kt=w.pendingProps,yt=Ne.context,He=k.contextType,typeof He=="object"&&He!==null?He=Qs(He):(He=mo(k)?Ah:fi.current,He=Hf(w,He));var Ht=k.getDerivedStateFromProps;(bt=typeof Ht=="function"||typeof Ne.getSnapshotBeforeUpdate=="function")||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Fe!==kt||yt!==He)&&G6(w,Ne,R,He),Ea=!1,yt=w.memoizedState,Ne.state=yt,Ii(w,R,Ne,J);var or=w.memoizedState;Fe!==kt||yt!==or||fo.current||Ea?(typeof Ht=="function"&&(D5(w,k,Ht,R),or=w.memoizedState),(st=Ea||V6(w,k,st,R,yt,or,He)||!1)?(bt||typeof Ne.UNSAFE_componentWillUpdate!="function"&&typeof Ne.componentWillUpdate!="function"||(typeof Ne.componentWillUpdate=="function"&&Ne.componentWillUpdate(R,or,He),typeof Ne.UNSAFE_componentWillUpdate=="function"&&Ne.UNSAFE_componentWillUpdate(R,or,He)),typeof Ne.componentDidUpdate=="function"&&(w.flags|=4),typeof Ne.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof Ne.componentDidUpdate!="function"||Fe===p.memoizedProps&&yt===p.memoizedState||(w.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Fe===p.memoizedProps&&yt===p.memoizedState||(w.flags|=1024),w.memoizedProps=R,w.memoizedState=or),Ne.props=R,Ne.state=or,Ne.context=He,R=st):(typeof Ne.componentDidUpdate!="function"||Fe===p.memoizedProps&&yt===p.memoizedState||(w.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Fe===p.memoizedProps&&yt===p.memoizedState||(w.flags|=1024),R=!1)}return U5(p,w,k,R,ae,J)}function U5(p,w,k,R,J,ae){nM(p,w);var Ne=(w.flags&128)!==0;if(!R&&!Ne)return J&&C1(w,k,!1),Oh(p,w,ae);R=w.stateNode,woe.current=w;var Fe=Ne&&typeof k.getDerivedStateFromError!="function"?null:R.render();return w.flags|=1,p!==null&&Ne?(w.child=Ca(w,p.child,null,ae),w.child=Ca(w,null,Fe,ae)):Bo(p,w,Fe,ae),w.memoizedState=R.state,J&&C1(w,k,!0),w.child}function aM(p){var w=p.stateNode;w.pendingContext?k1(p,w.pendingContext,w.pendingContext!==w.context):w.context&&k1(p,w.context,!1),Gf(p,w.containerInfo)}function iM(p,w,k,R,J){return Qt(),Rt(J),w.flags|=256,Bo(p,w,k,R),w.child}var $5={dehydrated:null,treeContext:null,retryLane:0};function q5(p){return{baseLanes:p,cachePool:null,transitions:null}}function oM(p,w,k){var R=w.pendingProps,J=Ns.current,ae=!1,Ne=(w.flags&128)!==0,Fe;if((Fe=Ne)||(Fe=p!==null&&p.memoizedState===null?!1:(J&2)!==0),Fe?(ae=!0,w.flags&=-129):(p===null||p.memoizedState!==null)&&(J|=1),Xn(Ns,J&1),p===null)return ar(w),p=w.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((w.mode&1)===0?w.lanes=1:p.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(Ne=R.children,p=R.fallback,ae?(R=w.mode,ae=w.child,Ne={mode:"hidden",children:Ne},(R&1)===0&&ae!==null?(ae.childLanes=0,ae.pendingProps=Ne):ae=K1(Ne,R,0,null),p=Wp(p,R,k,null),ae.return=w,p.return=w,ae.sibling=p,w.child=ae,w.child.memoizedState=q5(k),w.memoizedState=$5,p):z5(w,Ne));if(J=p.memoizedState,J!==null&&(Fe=J.dehydrated,Fe!==null))return boe(p,w,Ne,R,Fe,J,k);if(ae){ae=R.fallback,Ne=w.mode,J=p.child,Fe=J.sibling;var He={mode:"hidden",children:R.children};return(Ne&1)===0&&w.child!==J?(R=w.child,R.childLanes=0,R.pendingProps=He,w.deletions=null):(R=rm(J,He),R.subtreeFlags=J.subtreeFlags&14680064),Fe!==null?ae=rm(Fe,ae):(ae=Wp(ae,Ne,k,null),ae.flags|=2),ae.return=w,R.return=w,R.sibling=ae,w.child=R,R=ae,ae=w.child,Ne=p.child.memoizedState,Ne=Ne===null?q5(k):{baseLanes:Ne.baseLanes|k,cachePool:null,transitions:Ne.transitions},ae.memoizedState=Ne,ae.childLanes=p.childLanes&~k,w.memoizedState=$5,R}return ae=p.child,p=ae.sibling,R=rm(ae,{mode:"visible",children:R.children}),(w.mode&1)===0&&(R.lanes=k),R.return=w,R.sibling=null,p!==null&&(k=w.deletions,k===null?(w.deletions=[p],w.flags|=16):k.push(p)),w.child=R,w.memoizedState=null,R}function z5(p,w){return w=K1({mode:"visible",children:w},p.mode,0,null),w.return=p,p.child=w}function D1(p,w,k,R){return R!==null&&Rt(R),Ca(w,p.child,null,k),p=z5(w,w.pendingProps.children),p.flags|=2,w.memoizedState=null,p}function boe(p,w,k,R,J,ae,Ne){if(k)return w.flags&256?(w.flags&=-257,R=L5(Error(r(422))),D1(p,w,Ne,R)):w.memoizedState!==null?(w.child=p.child,w.flags|=128,null):(ae=R.fallback,J=w.mode,R=K1({mode:"visible",children:R.children},J,0,null),ae=Wp(ae,J,Ne,null),ae.flags|=2,R.return=w,ae.return=w,R.sibling=ae,w.child=R,(w.mode&1)!==0&&Ca(w,p.child,null,Ne),w.child.memoizedState=q5(Ne),w.memoizedState=$5,ae);if((w.mode&1)===0)return D1(p,w,Ne,null);if(J.data==="$!"){if(R=J.nextSibling&&J.nextSibling.dataset,R)var Fe=R.dgst;return R=Fe,ae=Error(r(419)),R=L5(ae,R,void 0),D1(p,w,Ne,R)}if(Fe=(Ne&p.childLanes)!==0,vl||Fe){if(R=Ri,R!==null){switch(Ne&-Ne){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}J=(J&(R.suspendedLanes|Ne))!==0?0:J,J!==0&&J!==ae.retryLane&&(ae.retryLane=J,os(p,J),Mu(R,p,J,-1))}return ak(),R=L5(Error(r(421))),D1(p,w,Ne,R)}return J.data==="$?"?(w.flags|=128,w.child=p.child,w=Roe.bind(null,p),J._reactRetry=w,null):(p=ae.treeContext,lt=Ki(J.nextSibling),ot=w,ht=!0,ft=null,p!==null&&(Ae[Te++]=Ze,Ae[Te++]=Oe,Ae[Te++]=Ve,Ze=p.id,Oe=p.overflow,Ve=w),w=z5(w,R.children),w.flags|=4096,w)}function lM(p,w,k){p.lanes|=w;var R=p.alternate;R!==null&&(R.lanes|=w),Dn(p.return,w,k)}function W5(p,w,k,R,J){var ae=p.memoizedState;ae===null?p.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:R,tail:k,tailMode:J}:(ae.isBackwards=w,ae.rendering=null,ae.renderingStartTime=0,ae.last=R,ae.tail=k,ae.tailMode=J)}function cM(p,w,k){var R=w.pendingProps,J=R.revealOrder,ae=R.tail;if(Bo(p,w,R.children,k),R=Ns.current,(R&2)!==0)R=R&1|2,w.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=w.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&lM(p,k,w);else if(p.tag===19)lM(p,k,w);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===w)break e;for(;p.sibling===null;){if(p.return===null||p.return===w)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(Xn(Ns,R),(w.mode&1)===0)w.memoizedState=null;else switch(J){case"forwards":for(k=w.child,J=null;k!==null;)p=k.alternate,p!==null&&Vl(p)===null&&(J=k),k=k.sibling;k=J,k===null?(J=w.child,w.child=null):(J=k.sibling,k.sibling=null),W5(w,!1,J,k,ae);break;case"backwards":for(k=null,J=w.child,w.child=null;J!==null;){if(p=J.alternate,p!==null&&Vl(p)===null){w.child=J;break}p=J.sibling,J.sibling=k,k=J,J=p}W5(w,!0,k,null,ae);break;case"together":W5(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function M1(p,w){(w.mode&1)===0&&p!==null&&(p.alternate=null,w.alternate=null,w.flags|=2)}function Oh(p,w,k){if(p!==null&&(w.dependencies=p.dependencies),Up|=w.lanes,(k&w.childLanes)===0)return null;if(p!==null&&w.child!==p.child)throw Error(r(153));if(w.child!==null){for(p=w.child,k=rm(p,p.pendingProps),w.child=k,k.return=w;p.sibling!==null;)p=p.sibling,k=k.sibling=rm(p,p.pendingProps),k.return=w;k.sibling=null}return w.child}function joe(p,w,k){switch(w.tag){case 3:aM(w),Qt();break;case 5:E1(w);break;case 1:mo(w.type)&&Ph(w);break;case 4:Gf(w,w.stateNode.containerInfo);break;case 10:var R=w.type._context,J=w.memoizedProps.value;Xn(qa,R._currentValue),R._currentValue=J;break;case 13:if(R=w.memoizedState,R!==null)return R.dehydrated!==null?(Xn(Ns,Ns.current&1),w.flags|=128,null):(k&w.child.childLanes)!==0?oM(p,w,k):(Xn(Ns,Ns.current&1),p=Oh(p,w,k),p!==null?p.sibling:null);Xn(Ns,Ns.current&1);break;case 19:if(R=(k&w.childLanes)!==0,(p.flags&128)!==0){if(R)return cM(p,w,k);w.flags|=128}if(J=w.memoizedState,J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),Xn(Ns,Ns.current),R)break;return null;case 22:case 23:return w.lanes=0,rM(p,w,k)}return Oh(p,w,k)}var uM,V5,dM,hM;uM=function(p,w){for(var k=w.child;k!==null;){if(k.tag===5||k.tag===6)p.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===w)break;for(;k.sibling===null;){if(k.return===null||k.return===w)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},V5=function(){},dM=function(p,w,k,R){var J=p.memoizedProps;if(J!==R){p=w.stateNode,Pu(ri.current);var ae=null;switch(k){case"input":J=G(p,J),R=G(p,R),ae=[];break;case"select":J=X({},J,{value:void 0}),R=X({},R,{value:void 0}),ae=[];break;case"textarea":J=we(p,J),R=we(p,R),ae=[];break;default:typeof J.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=zf)}_r(k,R);var Ne;k=null;for(st in J)if(!R.hasOwnProperty(st)&&J.hasOwnProperty(st)&&J[st]!=null)if(st==="style"){var Fe=J[st];for(Ne in Fe)Fe.hasOwnProperty(Ne)&&(k||(k={}),k[Ne]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(a.hasOwnProperty(st)?ae||(ae=[]):(ae=ae||[]).push(st,null));for(st in R){var He=R[st];if(Fe=J!=null?J[st]:void 0,R.hasOwnProperty(st)&&He!==Fe&&(He!=null||Fe!=null))if(st==="style")if(Fe){for(Ne in Fe)!Fe.hasOwnProperty(Ne)||He&&He.hasOwnProperty(Ne)||(k||(k={}),k[Ne]="");for(Ne in He)He.hasOwnProperty(Ne)&&Fe[Ne]!==He[Ne]&&(k||(k={}),k[Ne]=He[Ne])}else k||(ae||(ae=[]),ae.push(st,k)),k=He;else st==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,Fe=Fe?Fe.__html:void 0,He!=null&&Fe!==He&&(ae=ae||[]).push(st,He)):st==="children"?typeof He!="string"&&typeof He!="number"||(ae=ae||[]).push(st,""+He):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(a.hasOwnProperty(st)?(He!=null&&st==="onScroll"&&as("scroll",p),ae||Fe===He||(ae=[])):(ae=ae||[]).push(st,He))}k&&(ae=ae||[]).push("style",k);var st=ae;(w.updateQueue=st)&&(w.flags|=4)}},hM=function(p,w,k,R){k!==R&&(w.flags|=4)};function E0(p,w){if(!ht)switch(p.tailMode){case"hidden":w=p.tail;for(var k=null;w!==null;)w.alternate!==null&&(k=w),w=w.sibling;k===null?p.tail=null:k.sibling=null;break;case"collapsed":k=p.tail;for(var R=null;k!==null;)k.alternate!==null&&(R=k),k=k.sibling;R===null?w||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function go(p){var w=p.alternate!==null&&p.alternate.child===p.child,k=0,R=0;if(w)for(var J=p.child;J!==null;)k|=J.lanes|J.childLanes,R|=J.subtreeFlags&14680064,R|=J.flags&14680064,J.return=p,J=J.sibling;else for(J=p.child;J!==null;)k|=J.lanes|J.childLanes,R|=J.subtreeFlags,R|=J.flags,J.return=p,J=J.sibling;return p.subtreeFlags|=R,p.childLanes=k,w}function Noe(p,w,k){var R=w.pendingProps;switch(tt(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return go(w),null;case 1:return mo(w.type)&&Av(),go(w),null;case 3:return R=w.stateNode,Bc(),Wn(fo),Wn(fi),S0(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(Js(w)?w.flags|=4:p===null||p.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,ft!==null&&(rk(ft),ft=null))),V5(p,w),go(w),null;case 5:N0(w);var J=Pu(Sd.current);if(k=w.type,p!==null&&w.stateNode!=null)dM(p,w,k,R,J),p.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!R){if(w.stateNode===null)throw Error(r(166));return go(w),null}if(p=Pu(ri.current),Js(w)){R=w.stateNode,k=w.type;var ae=w.memoizedProps;switch(R[Fc]=w,R[Wf]=ae,p=(w.mode&1)!==0,k){case"dialog":as("cancel",R),as("close",R);break;case"iframe":case"object":case"embed":as("load",R);break;case"video":case"audio":for(J=0;J<jd.length;J++)as(jd[J],R);break;case"source":as("error",R);break;case"img":case"image":case"link":as("error",R),as("load",R);break;case"details":as("toggle",R);break;case"input":pe(R,ae),as("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!ae.multiple},as("invalid",R);break;case"textarea":Me(R,ae),as("invalid",R)}_r(k,ae),J=null;for(var Ne in ae)if(ae.hasOwnProperty(Ne)){var Fe=ae[Ne];Ne==="children"?typeof Fe=="string"?R.textContent!==Fe&&(ae.suppressHydrationWarning!==!0&&Ev(R.textContent,Fe,p),J=["children",Fe]):typeof Fe=="number"&&R.textContent!==""+Fe&&(ae.suppressHydrationWarning!==!0&&Ev(R.textContent,Fe,p),J=["children",""+Fe]):a.hasOwnProperty(Ne)&&Fe!=null&&Ne==="onScroll"&&as("scroll",R)}switch(k){case"input":de(R),z(R,ae,!0);break;case"textarea":de(R),Le(R);break;case"select":case"option":break;default:typeof ae.onClick=="function"&&(R.onclick=zf)}R=J,w.updateQueue=R,R!==null&&(w.flags|=4)}else{Ne=J.nodeType===9?J:J.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Ge(k)),p==="http://www.w3.org/1999/xhtml"?k==="script"?(p=Ne.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=Ne.createElement(k,{is:R.is}):(p=Ne.createElement(k),k==="select"&&(Ne=p,R.multiple?Ne.multiple=!0:R.size&&(Ne.size=R.size))):p=Ne.createElementNS(p,k),p[Fc]=w,p[Wf]=R,uM(p,w,!1,!1),w.stateNode=p;e:{switch(Ne=nr(k,R),k){case"dialog":as("cancel",p),as("close",p),J=R;break;case"iframe":case"object":case"embed":as("load",p),J=R;break;case"video":case"audio":for(J=0;J<jd.length;J++)as(jd[J],p);J=R;break;case"source":as("error",p),J=R;break;case"img":case"image":case"link":as("error",p),as("load",p),J=R;break;case"details":as("toggle",p),J=R;break;case"input":pe(p,R),J=G(p,R),as("invalid",p);break;case"option":J=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},J=X({},R,{value:void 0}),as("invalid",p);break;case"textarea":Me(p,R),J=we(p,R),as("invalid",p);break;default:J=R}_r(k,J),Fe=J;for(ae in Fe)if(Fe.hasOwnProperty(ae)){var He=Fe[ae];ae==="style"?Dt(p,He):ae==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,He!=null&&Ct(p,He)):ae==="children"?typeof He=="string"?(k!=="textarea"||He!=="")&&Mt(p,He):typeof He=="number"&&Mt(p,""+He):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(a.hasOwnProperty(ae)?He!=null&&ae==="onScroll"&&as("scroll",p):He!=null&&b(p,ae,He,Ne))}switch(k){case"input":de(p),z(p,R,!1);break;case"textarea":de(p),Le(p);break;case"option":R.value!=null&&p.setAttribute("value",""+V(R.value));break;case"select":p.multiple=!!R.multiple,ae=R.value,ae!=null?ge(p,!!R.multiple,ae,!1):R.defaultValue!=null&&ge(p,!!R.multiple,R.defaultValue,!0);break;default:typeof J.onClick=="function"&&(p.onclick=zf)}switch(k){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return go(w),null;case 6:if(p&&w.stateNode!=null)hM(p,w,p.memoizedProps,R);else{if(typeof R!="string"&&w.stateNode===null)throw Error(r(166));if(k=Pu(Sd.current),Pu(ri.current),Js(w)){if(R=w.stateNode,k=w.memoizedProps,R[Fc]=w,(ae=R.nodeValue!==k)&&(p=ot,p!==null))switch(p.tag){case 3:Ev(R.nodeValue,k,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Ev(R.nodeValue,k,(p.mode&1)!==0)}ae&&(w.flags|=4)}else R=(k.nodeType===9?k:k.ownerDocument).createTextNode(R),R[Fc]=w,w.stateNode=R}return go(w),null;case 13:if(Wn(Ns),R=w.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ht&&lt!==null&&(w.mode&1)!==0&&(w.flags&128)===0)an(),Qt(),w.flags|=98560,ae=!1;else if(ae=Js(w),R!==null&&R.dehydrated!==null){if(p===null){if(!ae)throw Error(r(318));if(ae=w.memoizedState,ae=ae!==null?ae.dehydrated:null,!ae)throw Error(r(317));ae[Fc]=w}else Qt(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;go(w),ae=!1}else ft!==null&&(rk(ft),ft=null),ae=!0;if(!ae)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=k,w):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(w.child.flags|=8192,(w.mode&1)!==0&&(p===null||(Ns.current&1)!==0?pi===0&&(pi=3):ak())),w.updateQueue!==null&&(w.flags|=4),go(w),null);case 4:return Bc(),V5(p,w),p===null&&Sh(w.stateNode.containerInfo),go(w),null;case 10:return As(w.type._context),go(w),null;case 17:return mo(w.type)&&Av(),go(w),null;case 19:if(Wn(Ns),ae=w.memoizedState,ae===null)return go(w),null;if(R=(w.flags&128)!==0,Ne=ae.rendering,Ne===null)if(R)E0(ae,!1);else{if(pi!==0||p!==null&&(p.flags&128)!==0)for(p=w.child;p!==null;){if(Ne=Vl(p),Ne!==null){for(w.flags|=128,E0(ae,!1),R=Ne.updateQueue,R!==null&&(w.updateQueue=R,w.flags|=4),w.subtreeFlags=0,R=k,k=w.child;k!==null;)ae=k,p=R,ae.flags&=14680066,Ne=ae.alternate,Ne===null?(ae.childLanes=0,ae.lanes=p,ae.child=null,ae.subtreeFlags=0,ae.memoizedProps=null,ae.memoizedState=null,ae.updateQueue=null,ae.dependencies=null,ae.stateNode=null):(ae.childLanes=Ne.childLanes,ae.lanes=Ne.lanes,ae.child=Ne.child,ae.subtreeFlags=0,ae.deletions=null,ae.memoizedProps=Ne.memoizedProps,ae.memoizedState=Ne.memoizedState,ae.updateQueue=Ne.updateQueue,ae.type=Ne.type,p=Ne.dependencies,ae.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),k=k.sibling;return Xn(Ns,Ns.current&1|2),w.child}p=p.sibling}ae.tail!==null&&sn()>qv&&(w.flags|=128,R=!0,E0(ae,!1),w.lanes=4194304)}else{if(!R)if(p=Vl(Ne),p!==null){if(w.flags|=128,R=!0,k=p.updateQueue,k!==null&&(w.updateQueue=k,w.flags|=4),E0(ae,!0),ae.tail===null&&ae.tailMode==="hidden"&&!Ne.alternate&&!ht)return go(w),null}else 2*sn()-ae.renderingStartTime>qv&&k!==1073741824&&(w.flags|=128,R=!0,E0(ae,!1),w.lanes=4194304);ae.isBackwards?(Ne.sibling=w.child,w.child=Ne):(k=ae.last,k!==null?k.sibling=Ne:w.child=Ne,ae.last=Ne)}return ae.tail!==null?(w=ae.tail,ae.rendering=w,ae.tail=w.sibling,ae.renderingStartTime=sn(),w.sibling=null,k=Ns.current,Xn(Ns,R?k&1|2:k&1),w):(go(w),null);case 22:case 23:return sk(),R=w.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(w.flags|=8192),R&&(w.mode&1)!==0?(Kl&1073741824)!==0&&(go(w),w.subtreeFlags&6&&(w.flags|=8192)):go(w),null;case 24:return null;case 25:return null}throw Error(r(156,w.tag))}function _oe(p,w){switch(tt(w),w.tag){case 1:return mo(w.type)&&Av(),p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 3:return Bc(),Wn(fo),Wn(fi),S0(),p=w.flags,(p&65536)!==0&&(p&128)===0?(w.flags=p&-65537|128,w):null;case 5:return N0(w),null;case 13:if(Wn(Ns),p=w.memoizedState,p!==null&&p.dehydrated!==null){if(w.alternate===null)throw Error(r(340));Qt()}return p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 19:return Wn(Ns),null;case 4:return Bc(),null;case 10:return As(w.type._context),null;case 22:case 23:return sk(),null;case 24:return null;default:return null}}var L1=!1,vo=!1,Soe=typeof WeakSet=="function"?WeakSet:Set,tr=null;function Uv(p,w){var k=p.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(R){Pa(p,w,R)}else k.current=null}function H5(p,w,k){try{k()}catch(R){Pa(p,w,R)}}var fM=!1;function koe(p,w){if(Rp=If,p=ka(),ql(p)){if("selectionStart"in p)var k={start:p.selectionStart,end:p.selectionEnd};else e:{k=(k=p.ownerDocument)&&k.defaultView||window;var R=k.getSelection&&k.getSelection();if(R&&R.rangeCount!==0){k=R.anchorNode;var J=R.anchorOffset,ae=R.focusNode;R=R.focusOffset;try{k.nodeType,ae.nodeType}catch{k=null;break e}var Ne=0,Fe=-1,He=-1,st=0,bt=0,kt=p,yt=null;t:for(;;){for(var Ht;kt!==k||J!==0&&kt.nodeType!==3||(Fe=Ne+J),kt!==ae||R!==0&&kt.nodeType!==3||(He=Ne+R),kt.nodeType===3&&(Ne+=kt.nodeValue.length),(Ht=kt.firstChild)!==null;)yt=kt,kt=Ht;for(;;){if(kt===p)break t;if(yt===k&&++st===J&&(Fe=Ne),yt===ae&&++bt===R&&(He=Ne),(Ht=kt.nextSibling)!==null)break;kt=yt,yt=kt.parentNode}kt=Ht}k=Fe===-1||He===-1?null:{start:Fe,end:He}}else k=null}k=k||{start:0,end:0}}else k=null;for(Ch={focusedElem:p,selectionRange:k},If=!1,tr=w;tr!==null;)if(w=tr,p=w.child,(w.subtreeFlags&1028)!==0&&p!==null)p.return=w,tr=p;else for(;tr!==null;){w=tr;try{var or=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(or!==null){var pr=or.memoizedProps,Wa=or.memoizedState,et=w.stateNode,Ye=et.getSnapshotBeforeUpdate(w.elementType===w.type?pr:Iu(w.type,pr),Wa);et.__reactInternalSnapshotBeforeUpdate=Ye}break;case 3:var nt=w.stateNode.containerInfo;nt.nodeType===1?nt.textContent="":nt.nodeType===9&&nt.documentElement&&nt.removeChild(nt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Tt){Pa(w,w.return,Tt)}if(p=w.sibling,p!==null){p.return=w.return,tr=p;break}tr=w.return}return or=fM,fM=!1,or}function A0(p,w,k){var R=w.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var J=R=R.next;do{if((J.tag&p)===p){var ae=J.destroy;J.destroy=void 0,ae!==void 0&&H5(w,k,ae)}J=J.next}while(J!==R)}}function F1(p,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&p)===p){var R=k.create;k.destroy=R()}k=k.next}while(k!==w)}}function G5(p){var w=p.ref;if(w!==null){var k=p.stateNode;switch(p.tag){case 5:p=k;break;default:p=k}typeof w=="function"?w(p):w.current=p}}function mM(p){var w=p.alternate;w!==null&&(p.alternate=null,mM(w)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(w=p.stateNode,w!==null&&(delete w[Fc],delete w[Wf],delete w[ho],delete w[T5],delete w[O5])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function pM(p){return p.tag===5||p.tag===3||p.tag===4}function gM(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||pM(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function K5(p,w,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,w?k.nodeType===8?k.parentNode.insertBefore(p,w):k.insertBefore(p,w):(k.nodeType===8?(w=k.parentNode,w.insertBefore(p,k)):(w=k,w.appendChild(p)),k=k._reactRootContainer,k!=null||w.onclick!==null||(w.onclick=zf));else if(R!==4&&(p=p.child,p!==null))for(K5(p,w,k),p=p.sibling;p!==null;)K5(p,w,k),p=p.sibling}function Y5(p,w,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,w?k.insertBefore(p,w):k.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(Y5(p,w,k),p=p.sibling;p!==null;)Y5(p,w,k),p=p.sibling}var Yi=null,Ru=!1;function Xf(p,w,k){for(k=k.child;k!==null;)vM(p,w,k),k=k.sibling}function vM(p,w,k){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Cc,k)}catch{}switch(k.tag){case 5:vo||Uv(k,w);case 6:var R=Yi,J=Ru;Yi=null,Xf(p,w,k),Yi=R,Ru=J,Yi!==null&&(Ru?(p=Yi,k=k.stateNode,p.nodeType===8?p.parentNode.removeChild(k):p.removeChild(k)):Yi.removeChild(k.stateNode));break;case 18:Yi!==null&&(Ru?(p=Yi,k=k.stateNode,p.nodeType===8?w0(p.parentNode,k):p.nodeType===1&&w0(p,k),Tc(p)):w0(Yi,k.stateNode));break;case 4:R=Yi,J=Ru,Yi=k.stateNode.containerInfo,Ru=!0,Xf(p,w,k),Yi=R,Ru=J;break;case 0:case 11:case 14:case 15:if(!vo&&(R=k.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){J=R=R.next;do{var ae=J,Ne=ae.destroy;ae=ae.tag,Ne!==void 0&&((ae&2)!==0||(ae&4)!==0)&&H5(k,w,Ne),J=J.next}while(J!==R)}Xf(p,w,k);break;case 1:if(!vo&&(Uv(k,w),R=k.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=k.memoizedProps,R.state=k.memoizedState,R.componentWillUnmount()}catch(Fe){Pa(k,w,Fe)}Xf(p,w,k);break;case 21:Xf(p,w,k);break;case 22:k.mode&1?(vo=(R=vo)||k.memoizedState!==null,Xf(p,w,k),vo=R):Xf(p,w,k);break;default:Xf(p,w,k)}}function xM(p){var w=p.updateQueue;if(w!==null){p.updateQueue=null;var k=p.stateNode;k===null&&(k=p.stateNode=new Soe),w.forEach(function(R){var J=Doe.bind(null,p,R);k.has(R)||(k.add(R),R.then(J,J))})}}function Du(p,w){var k=w.deletions;if(k!==null)for(var R=0;R<k.length;R++){var J=k[R];try{var ae=p,Ne=w,Fe=Ne;e:for(;Fe!==null;){switch(Fe.tag){case 5:Yi=Fe.stateNode,Ru=!1;break e;case 3:Yi=Fe.stateNode.containerInfo,Ru=!0;break e;case 4:Yi=Fe.stateNode.containerInfo,Ru=!0;break e}Fe=Fe.return}if(Yi===null)throw Error(r(160));vM(ae,Ne,J),Yi=null,Ru=!1;var He=J.alternate;He!==null&&(He.return=null),J.return=null}catch(st){Pa(J,w,st)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)yM(w,p),w=w.sibling}function yM(p,w){var k=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Du(w,p),Cd(p),R&4){try{A0(3,p,p.return),F1(3,p)}catch(pr){Pa(p,p.return,pr)}try{A0(5,p,p.return)}catch(pr){Pa(p,p.return,pr)}}break;case 1:Du(w,p),Cd(p),R&512&&k!==null&&Uv(k,k.return);break;case 5:if(Du(w,p),Cd(p),R&512&&k!==null&&Uv(k,k.return),p.flags&32){var J=p.stateNode;try{Mt(J,"")}catch(pr){Pa(p,p.return,pr)}}if(R&4&&(J=p.stateNode,J!=null)){var ae=p.memoizedProps,Ne=k!==null?k.memoizedProps:ae,Fe=p.type,He=p.updateQueue;if(p.updateQueue=null,He!==null)try{Fe==="input"&&ae.type==="radio"&&ae.name!=null&&ce(J,ae),nr(Fe,Ne);var st=nr(Fe,ae);for(Ne=0;Ne<He.length;Ne+=2){var bt=He[Ne],kt=He[Ne+1];bt==="style"?Dt(J,kt):bt==="dangerouslySetInnerHTML"?Ct(J,kt):bt==="children"?Mt(J,kt):b(J,bt,kt,st)}switch(Fe){case"input":$(J,ae);break;case"textarea":Be(J,ae);break;case"select":var yt=J._wrapperState.wasMultiple;J._wrapperState.wasMultiple=!!ae.multiple;var Ht=ae.value;Ht!=null?ge(J,!!ae.multiple,Ht,!1):yt!==!!ae.multiple&&(ae.defaultValue!=null?ge(J,!!ae.multiple,ae.defaultValue,!0):ge(J,!!ae.multiple,ae.multiple?[]:"",!1))}J[Wf]=ae}catch(pr){Pa(p,p.return,pr)}}break;case 6:if(Du(w,p),Cd(p),R&4){if(p.stateNode===null)throw Error(r(162));J=p.stateNode,ae=p.memoizedProps;try{J.nodeValue=ae}catch(pr){Pa(p,p.return,pr)}}break;case 3:if(Du(w,p),Cd(p),R&4&&k!==null&&k.memoizedState.isDehydrated)try{Tc(w.containerInfo)}catch(pr){Pa(p,p.return,pr)}break;case 4:Du(w,p),Cd(p);break;case 13:Du(w,p),Cd(p),J=p.child,J.flags&8192&&(ae=J.memoizedState!==null,J.stateNode.isHidden=ae,!ae||J.alternate!==null&&J.alternate.memoizedState!==null||(Q5=sn())),R&4&&xM(p);break;case 22:if(bt=k!==null&&k.memoizedState!==null,p.mode&1?(vo=(st=vo)||bt,Du(w,p),vo=st):Du(w,p),Cd(p),R&8192){if(st=p.memoizedState!==null,(p.stateNode.isHidden=st)&&!bt&&(p.mode&1)!==0)for(tr=p,bt=p.child;bt!==null;){for(kt=tr=bt;tr!==null;){switch(yt=tr,Ht=yt.child,yt.tag){case 0:case 11:case 14:case 15:A0(4,yt,yt.return);break;case 1:Uv(yt,yt.return);var or=yt.stateNode;if(typeof or.componentWillUnmount=="function"){R=yt,k=yt.return;try{w=R,or.props=w.memoizedProps,or.state=w.memoizedState,or.componentWillUnmount()}catch(pr){Pa(R,k,pr)}}break;case 5:Uv(yt,yt.return);break;case 22:if(yt.memoizedState!==null){jM(kt);continue}}Ht!==null?(Ht.return=yt,tr=Ht):jM(kt)}bt=bt.sibling}e:for(bt=null,kt=p;;){if(kt.tag===5){if(bt===null){bt=kt;try{J=kt.stateNode,st?(ae=J.style,typeof ae.setProperty=="function"?ae.setProperty("display","none","important"):ae.display="none"):(Fe=kt.stateNode,He=kt.memoizedProps.style,Ne=He!=null&&He.hasOwnProperty("display")?He.display:null,Fe.style.display=Wt("display",Ne))}catch(pr){Pa(p,p.return,pr)}}}else if(kt.tag===6){if(bt===null)try{kt.stateNode.nodeValue=st?"":kt.memoizedProps}catch(pr){Pa(p,p.return,pr)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===p)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===p)break e;for(;kt.sibling===null;){if(kt.return===null||kt.return===p)break e;bt===kt&&(bt=null),kt=kt.return}bt===kt&&(bt=null),kt.sibling.return=kt.return,kt=kt.sibling}}break;case 19:Du(w,p),Cd(p),R&4&&xM(p);break;case 21:break;default:Du(w,p),Cd(p)}}function Cd(p){var w=p.flags;if(w&2){try{e:{for(var k=p.return;k!==null;){if(pM(k)){var R=k;break e}k=k.return}throw Error(r(160))}switch(R.tag){case 5:var J=R.stateNode;R.flags&32&&(Mt(J,""),R.flags&=-33);var ae=gM(p);Y5(p,ae,J);break;case 3:case 4:var Ne=R.stateNode.containerInfo,Fe=gM(p);K5(p,Fe,Ne);break;default:throw Error(r(161))}}catch(He){Pa(p,p.return,He)}p.flags&=-3}w&4096&&(p.flags&=-4097)}function Coe(p,w,k){tr=p,wM(p)}function wM(p,w,k){for(var R=(p.mode&1)!==0;tr!==null;){var J=tr,ae=J.child;if(J.tag===22&&R){var Ne=J.memoizedState!==null||L1;if(!Ne){var Fe=J.alternate,He=Fe!==null&&Fe.memoizedState!==null||vo;Fe=L1;var st=vo;if(L1=Ne,(vo=He)&&!st)for(tr=J;tr!==null;)Ne=tr,He=Ne.child,Ne.tag===22&&Ne.memoizedState!==null?NM(J):He!==null?(He.return=Ne,tr=He):NM(J);for(;ae!==null;)tr=ae,wM(ae),ae=ae.sibling;tr=J,L1=Fe,vo=st}bM(p)}else(J.subtreeFlags&8772)!==0&&ae!==null?(ae.return=J,tr=ae):bM(p)}}function bM(p){for(;tr!==null;){var w=tr;if((w.flags&8772)!==0){var k=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:vo||F1(5,w);break;case 1:var R=w.stateNode;if(w.flags&4&&!vo)if(k===null)R.componentDidMount();else{var J=w.elementType===w.type?k.memoizedProps:Iu(w.type,k.memoizedProps);R.componentDidUpdate(J,k.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var ae=w.updateQueue;ae!==null&&gl(w,ae,R);break;case 3:var Ne=w.updateQueue;if(Ne!==null){if(k=null,w.child!==null)switch(w.child.tag){case 5:k=w.child.stateNode;break;case 1:k=w.child.stateNode}gl(w,Ne,k)}break;case 5:var Fe=w.stateNode;if(k===null&&w.flags&4){k=Fe;var He=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":He.autoFocus&&k.focus();break;case"img":He.src&&(k.src=He.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var st=w.alternate;if(st!==null){var bt=st.memoizedState;if(bt!==null){var kt=bt.dehydrated;kt!==null&&Tc(kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}vo||w.flags&512&&G5(w)}catch(yt){Pa(w,w.return,yt)}}if(w===p){tr=null;break}if(k=w.sibling,k!==null){k.return=w.return,tr=k;break}tr=w.return}}function jM(p){for(;tr!==null;){var w=tr;if(w===p){tr=null;break}var k=w.sibling;if(k!==null){k.return=w.return,tr=k;break}tr=w.return}}function NM(p){for(;tr!==null;){var w=tr;try{switch(w.tag){case 0:case 11:case 15:var k=w.return;try{F1(4,w)}catch(He){Pa(w,k,He)}break;case 1:var R=w.stateNode;if(typeof R.componentDidMount=="function"){var J=w.return;try{R.componentDidMount()}catch(He){Pa(w,J,He)}}var ae=w.return;try{G5(w)}catch(He){Pa(w,ae,He)}break;case 5:var Ne=w.return;try{G5(w)}catch(He){Pa(w,Ne,He)}}}catch(He){Pa(w,w.return,He)}if(w===p){tr=null;break}var Fe=w.sibling;if(Fe!==null){Fe.return=w.return,tr=Fe;break}tr=w.return}}var Eoe=Math.ceil,B1=_.ReactCurrentDispatcher,J5=_.ReactCurrentOwner,qc=_.ReactCurrentBatchConfig,Mn=0,Ri=null,ni=null,Ji=0,Kl=0,$v=zl(0),pi=0,P0=null,Up=0,U1=0,X5=0,T0=null,xl=null,Q5=0,qv=1/0,Ih=null,$1=!1,Z5=null,Qf=null,q1=!1,Zf=null,z1=0,O0=0,ek=null,W1=-1,V1=0;function Uo(){return(Mn&6)!==0?sn():W1!==-1?W1:W1=sn()}function em(p){return(p.mode&1)===0?1:(Mn&2)!==0&&Ji!==0?Ji&-Ji:la.transition!==null?(V1===0&&(V1=gv()),V1):(p=An,p!==0||(p=window.event,p=p===void 0?16:dh(p.type)),p)}function Mu(p,w,k,R){if(50<O0)throw O0=0,ek=null,Error(r(185));oh(p,k,R),((Mn&2)===0||p!==Ri)&&(p===Ri&&((Mn&2)===0&&(U1|=k),pi===4&&tm(p,Ji)),yl(p,R),k===1&&Mn===0&&(w.mode&1)===0&&(qv=sn()+500,Mp&&fe()))}function yl(p,w){var k=p.callbackNode;aa(p,w);var R=io(p,p===Ri?Ji:0);if(R===0)k!==null&&Nt(k),p.callbackNode=null,p.callbackPriority=0;else if(w=R&-R,p.callbackPriority!==w){if(k!=null&&Nt(k),w===1)p.tag===0?ne(SM.bind(null,p)):F(SM.bind(null,p)),A5(function(){(Mn&6)===0&&fe()}),k=null;else{switch(xu(R)){case 1:k=sa;break;case 4:k=Fs;break;case 16:k=Hi;break;case 536870912:k=Cs;break;default:k=Hi}k=IM(k,_M.bind(null,p))}p.callbackPriority=w,p.callbackNode=k}}function _M(p,w){if(W1=-1,V1=0,(Mn&6)!==0)throw Error(r(327));var k=p.callbackNode;if(zv()&&p.callbackNode!==k)return null;var R=io(p,p===Ri?Ji:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||w)w=H1(p,R);else{w=R;var J=Mn;Mn|=2;var ae=CM();(Ri!==p||Ji!==w)&&(Ih=null,qv=sn()+500,qp(p,w));do try{Toe();break}catch(Fe){kM(p,Fe)}while(!0);Rn(),B1.current=ae,Mn=J,ni!==null?w=0:(Ri=null,Ji=0,w=pi)}if(w!==0){if(w===2&&(J=ih(p),J!==0&&(R=J,w=tk(p,J))),w===1)throw k=P0,qp(p,0),tm(p,R),yl(p,sn()),k;if(w===6)tm(p,R);else{if(J=p.current.alternate,(R&30)===0&&!Aoe(J)&&(w=H1(p,R),w===2&&(ae=ih(p),ae!==0&&(R=ae,w=tk(p,ae))),w===1))throw k=P0,qp(p,0),tm(p,R),yl(p,sn()),k;switch(p.finishedWork=J,p.finishedLanes=R,w){case 0:case 1:throw Error(r(345));case 2:zp(p,xl,Ih);break;case 3:if(tm(p,R),(R&130023424)===R&&(w=Q5+500-sn(),10<w)){if(io(p,0)!==0)break;if(J=p.suspendedLanes,(J&R)!==R){Uo(),p.pingedLanes|=p.suspendedLanes&J;break}p.timeoutHandle=y0(zp.bind(null,p,xl,Ih),w);break}zp(p,xl,Ih);break;case 4:if(tm(p,R),(R&4194240)===R)break;for(w=p.eventTimes,J=-1;0<R;){var Ne=31-Ci(R);ae=1<<Ne,Ne=w[Ne],Ne>J&&(J=Ne),R&=~ae}if(R=J,R=sn()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*Eoe(R/1960))-R,10<R){p.timeoutHandle=y0(zp.bind(null,p,xl,Ih),R);break}zp(p,xl,Ih);break;case 5:zp(p,xl,Ih);break;default:throw Error(r(329))}}}return yl(p,sn()),p.callbackNode===k?_M.bind(null,p):null}function tk(p,w){var k=T0;return p.current.memoizedState.isDehydrated&&(qp(p,w).flags|=256),p=H1(p,w),p!==2&&(w=xl,xl=k,w!==null&&rk(w)),p}function rk(p){xl===null?xl=p:xl.push.apply(xl,p)}function Aoe(p){for(var w=p;;){if(w.flags&16384){var k=w.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var R=0;R<k.length;R++){var J=k[R],ae=J.getSnapshot;J=J.value;try{if(!Ks(ae(),J))return!1}catch{return!1}}}if(k=w.child,w.subtreeFlags&16384&&k!==null)k.return=w,w=k;else{if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function tm(p,w){for(w&=~X5,w&=~U1,p.suspendedLanes|=w,p.pingedLanes&=~w,p=p.expirationTimes;0<w;){var k=31-Ci(w),R=1<<k;p[k]=-1,w&=~R}}function SM(p){if((Mn&6)!==0)throw Error(r(327));zv();var w=io(p,0);if((w&1)===0)return yl(p,sn()),null;var k=H1(p,w);if(p.tag!==0&&k===2){var R=ih(p);R!==0&&(w=R,k=tk(p,R))}if(k===1)throw k=P0,qp(p,0),tm(p,w),yl(p,sn()),k;if(k===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=w,zp(p,xl,Ih),yl(p,sn()),null}function nk(p,w){var k=Mn;Mn|=1;try{return p(w)}finally{Mn=k,Mn===0&&(qv=sn()+500,Mp&&fe())}}function $p(p){Zf!==null&&Zf.tag===0&&(Mn&6)===0&&zv();var w=Mn;Mn|=1;var k=qc.transition,R=An;try{if(qc.transition=null,An=1,p)return p()}finally{An=R,qc.transition=k,Mn=w,(Mn&6)===0&&fe()}}function sk(){Kl=$v.current,Wn($v)}function qp(p,w){p.finishedWork=null,p.finishedLanes=0;var k=p.timeoutHandle;if(k!==-1&&(p.timeoutHandle=-1,_1(k)),ni!==null)for(k=ni.return;k!==null;){var R=k;switch(tt(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Av();break;case 3:Bc(),Wn(fo),Wn(fi),S0();break;case 5:N0(R);break;case 4:Bc();break;case 13:Wn(Ns);break;case 19:Wn(Ns);break;case 10:As(R.type._context);break;case 22:case 23:sk()}k=k.return}if(Ri=p,ni=p=rm(p.current,null),Ji=Kl=w,pi=0,P0=null,X5=U1=Up=0,xl=T0=null,is!==null){for(w=0;w<is.length;w++)if(k=is[w],R=k.interleaved,R!==null){k.interleaved=null;var J=R.next,ae=k.pending;if(ae!==null){var Ne=ae.next;ae.next=J,R.next=Ne}k.pending=R}is=null}return p}function kM(p,w){do{var k=ni;try{if(Rn(),Pv.current=I1,Kf){for(var R=Ps.memoizedState;R!==null;){var J=R.queue;J!==null&&(J.pending=null),R=R.next}Kf=!1}if(Uc=0,ha=Aa=Ps=null,Tu=!1,Yf=0,J5.current=null,k===null||k.return===null){pi=1,P0=w,ni=null;break}e:{var ae=p,Ne=k.return,Fe=k,He=w;if(w=Ji,Fe.flags|=32768,He!==null&&typeof He=="object"&&typeof He.then=="function"){var st=He,bt=Fe,kt=bt.tag;if((bt.mode&1)===0&&(kt===0||kt===11||kt===15)){var yt=bt.alternate;yt?(bt.updateQueue=yt.updateQueue,bt.memoizedState=yt.memoizedState,bt.lanes=yt.lanes):(bt.updateQueue=null,bt.memoizedState=null)}var Ht=X6(Ne);if(Ht!==null){Ht.flags&=-257,Q6(Ht,Ne,Fe,ae,w),Ht.mode&1&&J6(ae,st,w),w=Ht,He=st;var or=w.updateQueue;if(or===null){var pr=new Set;pr.add(He),w.updateQueue=pr}else or.add(He);break e}else{if((w&1)===0){J6(ae,st,w),ak();break e}He=Error(r(426))}}else if(ht&&Fe.mode&1){var Wa=X6(Ne);if(Wa!==null){(Wa.flags&65536)===0&&(Wa.flags|=256),Q6(Wa,Ne,Fe,ae,w),Rt(Bv(He,Fe));break e}}ae=He=Bv(He,Fe),pi!==4&&(pi=2),T0===null?T0=[ae]:T0.push(ae),ae=Ne;do{switch(ae.tag){case 3:ae.flags|=65536,w&=-w,ae.lanes|=w;var et=K6(ae,He,w);ls(ae,et);break e;case 1:Fe=He;var Ye=ae.type,nt=ae.stateNode;if((ae.flags&128)===0&&(typeof Ye.getDerivedStateFromError=="function"||nt!==null&&typeof nt.componentDidCatch=="function"&&(Qf===null||!Qf.has(nt)))){ae.flags|=65536,w&=-w,ae.lanes|=w;var Tt=Y6(ae,Fe,w);ls(ae,Tt);break e}}ae=ae.return}while(ae!==null)}AM(k)}catch(wr){w=wr,ni===k&&k!==null&&(ni=k=k.return);continue}break}while(!0)}function CM(){var p=B1.current;return B1.current=I1,p===null?I1:p}function ak(){(pi===0||pi===3||pi===2)&&(pi=4),Ri===null||(Up&268435455)===0&&(U1&268435455)===0||tm(Ri,Ji)}function H1(p,w){var k=Mn;Mn|=2;var R=CM();(Ri!==p||Ji!==w)&&(Ih=null,qp(p,w));do try{Poe();break}catch(J){kM(p,J)}while(!0);if(Rn(),Mn=k,B1.current=R,ni!==null)throw Error(r(261));return Ri=null,Ji=0,pi}function Poe(){for(;ni!==null;)EM(ni)}function Toe(){for(;ni!==null&&!Vt();)EM(ni)}function EM(p){var w=OM(p.alternate,p,Kl);p.memoizedProps=p.pendingProps,w===null?AM(p):ni=w,J5.current=null}function AM(p){var w=p;do{var k=w.alternate;if(p=w.return,(w.flags&32768)===0){if(k=Noe(k,w,Kl),k!==null){ni=k;return}}else{if(k=_oe(k,w),k!==null){k.flags&=32767,ni=k;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{pi=6,ni=null;return}}if(w=w.sibling,w!==null){ni=w;return}ni=w=p}while(w!==null);pi===0&&(pi=5)}function zp(p,w,k){var R=An,J=qc.transition;try{qc.transition=null,An=1,Ooe(p,w,k,R)}finally{qc.transition=J,An=R}return null}function Ooe(p,w,k,R){do zv();while(Zf!==null);if((Mn&6)!==0)throw Error(r(327));k=p.finishedWork;var J=p.finishedLanes;if(k===null)return null;if(p.finishedWork=null,p.finishedLanes=0,k===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var ae=k.lanes|k.childLanes;if(Ec(p,ae),p===Ri&&(ni=Ri=null,Ji=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||q1||(q1=!0,IM(Hi,function(){return zv(),null})),ae=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||ae){ae=qc.transition,qc.transition=null;var Ne=An;An=1;var Fe=Mn;Mn|=4,J5.current=null,koe(p,k),yM(k,p),kp(Ch),If=!!Rp,Ch=Rp=null,p.current=k,Coe(k),Yn(),Mn=Fe,An=Ne,qc.transition=ae}else p.current=k;if(q1&&(q1=!1,Zf=p,z1=J),ae=p.pendingLanes,ae===0&&(Qf=null),mv(k.stateNode),yl(p,sn()),w!==null)for(R=p.onRecoverableError,k=0;k<w.length;k++)J=w[k],R(J.value,{componentStack:J.stack,digest:J.digest});if($1)throw $1=!1,p=Z5,Z5=null,p;return(z1&1)!==0&&p.tag!==0&&zv(),ae=p.pendingLanes,(ae&1)!==0?p===ek?O0++:(O0=0,ek=p):O0=0,fe(),null}function zv(){if(Zf!==null){var p=xu(z1),w=qc.transition,k=An;try{if(qc.transition=null,An=16>p?16:p,Zf===null)var R=!1;else{if(p=Zf,Zf=null,z1=0,(Mn&6)!==0)throw Error(r(331));var J=Mn;for(Mn|=4,tr=p.current;tr!==null;){var ae=tr,Ne=ae.child;if((tr.flags&16)!==0){var Fe=ae.deletions;if(Fe!==null){for(var He=0;He<Fe.length;He++){var st=Fe[He];for(tr=st;tr!==null;){var bt=tr;switch(bt.tag){case 0:case 11:case 15:A0(8,bt,ae)}var kt=bt.child;if(kt!==null)kt.return=bt,tr=kt;else for(;tr!==null;){bt=tr;var yt=bt.sibling,Ht=bt.return;if(mM(bt),bt===st){tr=null;break}if(yt!==null){yt.return=Ht,tr=yt;break}tr=Ht}}}var or=ae.alternate;if(or!==null){var pr=or.child;if(pr!==null){or.child=null;do{var Wa=pr.sibling;pr.sibling=null,pr=Wa}while(pr!==null)}}tr=ae}}if((ae.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=ae,tr=Ne;else e:for(;tr!==null;){if(ae=tr,(ae.flags&2048)!==0)switch(ae.tag){case 0:case 11:case 15:A0(9,ae,ae.return)}var et=ae.sibling;if(et!==null){et.return=ae.return,tr=et;break e}tr=ae.return}}var Ye=p.current;for(tr=Ye;tr!==null;){Ne=tr;var nt=Ne.child;if((Ne.subtreeFlags&2064)!==0&&nt!==null)nt.return=Ne,tr=nt;else e:for(Ne=Ye;tr!==null;){if(Fe=tr,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:F1(9,Fe)}}catch(wr){Pa(Fe,Fe.return,wr)}if(Fe===Ne){tr=null;break e}var Tt=Fe.sibling;if(Tt!==null){Tt.return=Fe.return,tr=Tt;break e}tr=Fe.return}}if(Mn=J,fe(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(Cc,p)}catch{}R=!0}return R}finally{An=k,qc.transition=w}}return!1}function PM(p,w,k){w=Bv(k,w),w=K6(p,w,1),p=ua(p,w,1),w=Uo(),p!==null&&(oh(p,1,w),yl(p,w))}function Pa(p,w,k){if(p.tag===3)PM(p,p,k);else for(;w!==null;){if(w.tag===3){PM(w,p,k);break}else if(w.tag===1){var R=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Qf===null||!Qf.has(R))){p=Bv(k,p),p=Y6(w,p,1),w=ua(w,p,1),p=Uo(),w!==null&&(oh(w,1,p),yl(w,p));break}}w=w.return}}function Ioe(p,w,k){var R=p.pingCache;R!==null&&R.delete(w),w=Uo(),p.pingedLanes|=p.suspendedLanes&k,Ri===p&&(Ji&k)===k&&(pi===4||pi===3&&(Ji&130023424)===Ji&&500>sn()-Q5?qp(p,0):X5|=k),yl(p,w)}function TM(p,w){w===0&&((p.mode&1)===0?w=1:(w=il,il<<=1,(il&130023424)===0&&(il=4194304)));var k=Uo();p=os(p,w),p!==null&&(oh(p,w,k),yl(p,k))}function Roe(p){var w=p.memoizedState,k=0;w!==null&&(k=w.retryLane),TM(p,k)}function Doe(p,w){var k=0;switch(p.tag){case 13:var R=p.stateNode,J=p.memoizedState;J!==null&&(k=J.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(w),TM(p,k)}var OM;OM=function(p,w,k){if(p!==null)if(p.memoizedProps!==w.pendingProps||fo.current)vl=!0;else{if((p.lanes&k)===0&&(w.flags&128)===0)return vl=!1,joe(p,w,k);vl=(p.flags&131072)!==0}else vl=!1,ht&&(w.flags&1048576)!==0&&Qe(w,Ce,w.index);switch(w.lanes=0,w.tag){case 2:var R=w.type;M1(p,w),p=w.pendingProps;var J=Hf(w,fi.current);Xs(w,k),J=Lp(null,w,R,p,J,k);var ae=$c();return w.flags|=1,typeof J=="object"&&J!==null&&typeof J.render=="function"&&J.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,mo(R)?(ae=!0,Ph(w)):ae=!1,w.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,mi(w),J.updater=R1,w.stateNode=J,J._reactInternals=w,M5(w,R,p,k),w=U5(null,w,R,!0,ae,k)):(w.tag=0,ht&&ae&&ct(w),Bo(null,w,J,k),w=w.child),w;case 16:R=w.elementType;e:{switch(M1(p,w),p=w.pendingProps,J=R._init,R=J(R._payload),w.type=R,J=w.tag=Loe(R),p=Iu(R,p),J){case 0:w=B5(null,w,R,p,k);break e;case 1:w=sM(null,w,R,p,k);break e;case 11:w=Z6(null,w,R,p,k);break e;case 14:w=eM(null,w,R,Iu(R.type,p),k);break e}throw Error(r(306,R,""))}return w;case 0:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Iu(R,J),B5(p,w,R,J,k);case 1:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Iu(R,J),sM(p,w,R,J,k);case 3:e:{if(aM(w),p===null)throw Error(r(387));R=w.pendingProps,ae=w.memoizedState,J=ae.element,po(p,w),Ii(w,R,null,k);var Ne=w.memoizedState;if(R=Ne.element,ae.isDehydrated)if(ae={element:R,isDehydrated:!1,cache:Ne.cache,pendingSuspenseBoundaries:Ne.pendingSuspenseBoundaries,transitions:Ne.transitions},w.updateQueue.baseState=ae,w.memoizedState=ae,w.flags&256){J=Bv(Error(r(423)),w),w=iM(p,w,R,k,J);break e}else if(R!==J){J=Bv(Error(r(424)),w),w=iM(p,w,R,k,J);break e}else for(lt=Ki(w.stateNode.containerInfo.firstChild),ot=w,ht=!0,ft=null,k=Us(w,null,R,k),w.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(Qt(),R===J){w=Oh(p,w,k);break e}Bo(p,w,R,k)}w=w.child}return w;case 5:return E1(w),p===null&&ar(w),R=w.type,J=w.pendingProps,ae=p!==null?p.memoizedProps:null,Ne=J.children,x0(R,J)?Ne=null:ae!==null&&x0(R,ae)&&(w.flags|=32),nM(p,w),Bo(p,w,Ne,k),w.child;case 6:return p===null&&ar(w),null;case 13:return oM(p,w,k);case 4:return Gf(w,w.stateNode.containerInfo),R=w.pendingProps,p===null?w.child=Ca(w,null,R,k):Bo(p,w,R,k),w.child;case 11:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Iu(R,J),Z6(p,w,R,J,k);case 7:return Bo(p,w,w.pendingProps,k),w.child;case 8:return Bo(p,w,w.pendingProps.children,k),w.child;case 12:return Bo(p,w,w.pendingProps.children,k),w.child;case 10:e:{if(R=w.type._context,J=w.pendingProps,ae=w.memoizedProps,Ne=J.value,Xn(qa,R._currentValue),R._currentValue=Ne,ae!==null)if(Ks(ae.value,Ne)){if(ae.children===J.children&&!fo.current){w=Oh(p,w,k);break e}}else for(ae=w.child,ae!==null&&(ae.return=w);ae!==null;){var Fe=ae.dependencies;if(Fe!==null){Ne=ae.child;for(var He=Fe.firstContext;He!==null;){if(He.context===R){if(ae.tag===1){He=ca(-1,k&-k),He.tag=2;var st=ae.updateQueue;if(st!==null){st=st.shared;var bt=st.pending;bt===null?He.next=He:(He.next=bt.next,bt.next=He),st.pending=He}}ae.lanes|=k,He=ae.alternate,He!==null&&(He.lanes|=k),Dn(ae.return,k,w),Fe.lanes|=k;break}He=He.next}}else if(ae.tag===10)Ne=ae.type===w.type?null:ae.child;else if(ae.tag===18){if(Ne=ae.return,Ne===null)throw Error(r(341));Ne.lanes|=k,Fe=Ne.alternate,Fe!==null&&(Fe.lanes|=k),Dn(Ne,k,w),Ne=ae.sibling}else Ne=ae.child;if(Ne!==null)Ne.return=ae;else for(Ne=ae;Ne!==null;){if(Ne===w){Ne=null;break}if(ae=Ne.sibling,ae!==null){ae.return=Ne.return,Ne=ae;break}Ne=Ne.return}ae=Ne}Bo(p,w,J.children,k),w=w.child}return w;case 9:return J=w.type,R=w.pendingProps.children,Xs(w,k),J=Qs(J),R=R(J),w.flags|=1,Bo(p,w,R,k),w.child;case 14:return R=w.type,J=Iu(R,w.pendingProps),J=Iu(R.type,J),eM(p,w,R,J,k);case 15:return tM(p,w,w.type,w.pendingProps,k);case 17:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Iu(R,J),M1(p,w),w.tag=1,mo(R)?(p=!0,Ph(w)):p=!1,Xs(w,k),H6(w,R,J),M5(w,R,J,k),U5(null,w,R,!0,p,k);case 19:return cM(p,w,k);case 22:return rM(p,w,k)}throw Error(r(156,w.tag))};function IM(p,w){return We(p,w)}function Moe(p,w,k,R){this.tag=p,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(p,w,k,R){return new Moe(p,w,k,R)}function ik(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Loe(p){if(typeof p=="function")return ik(p)?1:0;if(p!=null){if(p=p.$$typeof,p===C)return 11;if(p===H)return 14}return 2}function rm(p,w){var k=p.alternate;return k===null?(k=zc(p.tag,w,p.key,p.mode),k.elementType=p.elementType,k.type=p.type,k.stateNode=p.stateNode,k.alternate=p,p.alternate=k):(k.pendingProps=w,k.type=p.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=p.flags&14680064,k.childLanes=p.childLanes,k.lanes=p.lanes,k.child=p.child,k.memoizedProps=p.memoizedProps,k.memoizedState=p.memoizedState,k.updateQueue=p.updateQueue,w=p.dependencies,k.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},k.sibling=p.sibling,k.index=p.index,k.ref=p.ref,k}function G1(p,w,k,R,J,ae){var Ne=2;if(R=p,typeof p=="function")ik(p)&&(Ne=1);else if(typeof p=="string")Ne=5;else e:switch(p){case A:return Wp(k.children,J,ae,w);case L:Ne=8,J|=8;break;case E:return p=zc(12,k,w,J|2),p.elementType=E,p.lanes=ae,p;case I:return p=zc(13,k,w,J),p.elementType=I,p.lanes=ae,p;case O:return p=zc(19,k,w,J),p.elementType=O,p.lanes=ae,p;case U:return K1(k,J,ae,w);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case q:Ne=10;break e;case M:Ne=9;break e;case C:Ne=11;break e;case H:Ne=14;break e;case re:Ne=16,R=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return w=zc(Ne,k,w,J),w.elementType=p,w.type=R,w.lanes=ae,w}function Wp(p,w,k,R){return p=zc(7,p,R,w),p.lanes=k,p}function K1(p,w,k,R){return p=zc(22,p,R,w),p.elementType=U,p.lanes=k,p.stateNode={isHidden:!1},p}function ok(p,w,k){return p=zc(6,p,null,w),p.lanes=k,p}function lk(p,w,k){return w=zc(4,p.children!==null?p.children:[],p.key,w),w.lanes=k,w.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},w}function Foe(p,w,k,R,J){this.tag=w,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=R,this.onRecoverableError=J,this.mutableSourceEagerHydrationData=null}function ck(p,w,k,R,J,ae,Ne,Fe,He){return p=new Foe(p,w,k,Fe,He),w===1?(w=1,ae===!0&&(w|=8)):w=0,ae=zc(3,null,null,w),p.current=ae,ae.stateNode=p,ae.memoizedState={element:R,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},mi(ae),p}function Boe(p,w,k){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:R==null?null:""+R,children:p,containerInfo:w,implementation:k}}function RM(p){if(!p)return _d;p=p._reactInternals;e:{if(Na(p)!==p||p.tag!==1)throw Error(r(170));var w=p;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(mo(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(r(171))}if(p.tag===1){var k=p.type;if(mo(k))return j0(p,k,w)}return w}function DM(p,w,k,R,J,ae,Ne,Fe,He){return p=ck(k,R,!0,p,J,ae,Ne,Fe,He),p.context=RM(null),k=p.current,R=Uo(),J=em(k),ae=ca(R,J),ae.callback=w??null,ua(k,ae,J),p.current.lanes=J,oh(p,J,R),yl(p,R),p}function Y1(p,w,k,R){var J=w.current,ae=Uo(),Ne=em(J);return k=RM(k),w.context===null?w.context=k:w.pendingContext=k,w=ca(ae,Ne),w.payload={element:p},R=R===void 0?null:R,R!==null&&(w.callback=R),p=ua(J,w,Ne),p!==null&&(Mu(p,J,Ne,ae),Oi(p,J,Ne)),Ne}function J1(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function MM(p,w){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var k=p.retryLane;p.retryLane=k!==0&&k<w?k:w}}function uk(p,w){MM(p,w),(p=p.alternate)&&MM(p,w)}function Uoe(){return null}var LM=typeof reportError=="function"?reportError:function(p){console.error(p)};function dk(p){this._internalRoot=p}X1.prototype.render=dk.prototype.render=function(p){var w=this._internalRoot;if(w===null)throw Error(r(409));Y1(p,w,null,null)},X1.prototype.unmount=dk.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var w=p.containerInfo;$p(function(){Y1(null,p,null,null)}),w[Pi]=null}};function X1(p){this._internalRoot=p}X1.prototype.unstable_scheduleHydration=function(p){if(p){var w=xv();p={blockedOn:null,target:p,priority:w};for(var k=0;k<Pc.length&&w!==0&&w<Pc[k].priority;k++);Pc.splice(k,0,p),k===0&&wv(p)}};function hk(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Q1(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function FM(){}function $oe(p,w,k,R,J){if(J){if(typeof R=="function"){var ae=R;R=function(){var st=J1(Ne);ae.call(st)}}var Ne=DM(w,R,p,0,null,!1,!1,"",FM);return p._reactRootContainer=Ne,p[Pi]=Ne.current,Sh(p.nodeType===8?p.parentNode:p),$p(),Ne}for(;J=p.lastChild;)p.removeChild(J);if(typeof R=="function"){var Fe=R;R=function(){var st=J1(He);Fe.call(st)}}var He=ck(p,0,!1,null,null,!1,!1,"",FM);return p._reactRootContainer=He,p[Pi]=He.current,Sh(p.nodeType===8?p.parentNode:p),$p(function(){Y1(w,He,k,R)}),He}function Z1(p,w,k,R,J){var ae=k._reactRootContainer;if(ae){var Ne=ae;if(typeof J=="function"){var Fe=J;J=function(){var He=J1(Ne);Fe.call(He)}}Y1(w,Ne,p,J)}else Ne=$oe(k,w,p,J,R);return J1(Ne)}Pf=function(p){switch(p.tag){case 3:var w=p.stateNode;if(w.current.memoizedState.isDehydrated){var k=Ml(w.pendingLanes);k!==0&&(Af(w,k|1),yl(w,sn()),(Mn&6)===0&&(qv=sn()+500,fe()))}break;case 13:$p(function(){var R=os(p,1);if(R!==null){var J=Uo();Mu(R,p,1,J)}}),uk(p,1)}},xp=function(p){if(p.tag===13){var w=os(p,134217728);if(w!==null){var k=Uo();Mu(w,p,134217728,k)}uk(p,134217728)}},vv=function(p){if(p.tag===13){var w=em(p),k=os(p,w);if(k!==null){var R=Uo();Mu(k,p,w,R)}uk(p,w)}},xv=function(){return An},Tf=function(p,w){var k=An;try{return An=p,w()}finally{An=k}},Cn=function(p,w,k){switch(w){case"input":if($(p,k),w=k.name,k.type==="radio"&&w!=null){for(k=p;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<k.length;w++){var R=k[w];if(R!==p&&R.form===p.form){var J=Dp(R);if(!J)throw Error(r(90));ue(R),$(R,J)}}}break;case"textarea":Be(p,k);break;case"select":w=k.value,w!=null&&ge(p,!!k.multiple,w,!1)}},Zt=nk,nn=$p;var qoe={usingClientEntryPoint:!1,Events:[Vf,Eh,Dp,wn,kr,nk]},I0={findFiberByHostInstance:Nd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zoe={bundleType:I0.bundleType,version:I0.version,rendererPackageName:I0.rendererPackageName,rendererConfig:I0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Oo(p),p===null?null:p.stateNode},findFiberByHostInstance:I0.findFiberByHostInstance||Uoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ej=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ej.isDisabled&&ej.supportsFiber)try{Cc=ej.inject(zoe),ki=ej}catch{}}return wl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qoe,wl.createPortal=function(p,w){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hk(w))throw Error(r(200));return Boe(p,w,null,k)},wl.createRoot=function(p,w){if(!hk(p))throw Error(r(299));var k=!1,R="",J=LM;return w!=null&&(w.unstable_strictMode===!0&&(k=!0),w.identifierPrefix!==void 0&&(R=w.identifierPrefix),w.onRecoverableError!==void 0&&(J=w.onRecoverableError)),w=ck(p,1,!1,null,null,k,!1,R,J),p[Pi]=w.current,Sh(p.nodeType===8?p.parentNode:p),new dk(w)},wl.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var w=p._reactInternals;if(w===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=Oo(w),p=p===null?null:p.stateNode,p},wl.flushSync=function(p){return $p(p)},wl.hydrate=function(p,w,k){if(!Q1(w))throw Error(r(200));return Z1(null,p,w,!0,k)},wl.hydrateRoot=function(p,w,k){if(!hk(p))throw Error(r(405));var R=k!=null&&k.hydratedSources||null,J=!1,ae="",Ne=LM;if(k!=null&&(k.unstable_strictMode===!0&&(J=!0),k.identifierPrefix!==void 0&&(ae=k.identifierPrefix),k.onRecoverableError!==void 0&&(Ne=k.onRecoverableError)),w=DM(w,null,p,1,k??null,J,!1,ae,Ne),p[Pi]=w.current,Sh(p),R)for(p=0;p<R.length;p++)k=R[p],J=k._getVersion,J=J(k._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[k,J]:w.mutableSourceEagerHydrationData.push(k,J);return new X1(w)},wl.render=function(p,w,k){if(!Q1(w))throw Error(r(200));return Z1(null,p,w,!1,k)},wl.unmountComponentAtNode=function(p){if(!Q1(p))throw Error(r(40));return p._reactRootContainer?($p(function(){Z1(null,null,p,!1,function(){p._reactRootContainer=null,p[Pi]=null})}),!0):!1},wl.unstable_batchedUpdates=nk,wl.unstable_renderSubtreeIntoContainer=function(p,w,k,R){if(!Q1(k))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return Z1(p,w,k,!1,R)},wl.version="18.3.1-next-f1338f8080-20240426",wl}var GM;function gV(){if(GM)return gk.exports;GM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gk.exports=Zoe(),gk.exports}var KM;function ele(){if(KM)return nj;KM=1;var e=gV();return nj.createRoot=e.createRoot,nj.hydrateRoot=e.hydrateRoot,nj}var tle=ele();const rle=1,nle=1e6;let yk=0;function sle(){return yk=(yk+1)%Number.MAX_SAFE_INTEGER,yk.toString()}const wk=new Map,YM=e=>{if(wk.has(e))return;const t=setTimeout(()=>{wk.delete(e),xw({type:"REMOVE_TOAST",toastId:e})},nle);wk.set(e,t)},ale=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,rle)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?YM(r):e.toasts.forEach(s=>{YM(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},m2=[];let p2={toasts:[]};function xw(e){p2=ale(p2,e),m2.forEach(t=>{t(p2)})}function bl({...e}){const t=sle(),r=a=>xw({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>xw({type:"DISMISS_TOAST",toastId:t});return xw({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function Nc(){const[e,t]=N.useState(p2);return N.useEffect(()=>(m2.push(t),()=>{const r=m2.indexOf(t);r>-1&&m2.splice(r,1)}),[e]),{...e,toast:bl,dismiss:r=>xw({type:"DISMISS_TOAST",toastId:r})}}var vf=gV();const Y3=mu(vf);function St(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function JM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function v_(...e){return t=>{let r=!1;const s=e.map(a=>{const i=JM(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():JM(e[a],null)}}}}function Tr(...e){return N.useCallback(v_(...e),e)}function ile(e,t){const r=N.createContext(t),s=i=>{const{children:o,...l}=i,c=N.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=N.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function di(e,t=[]){let r=[];function s(i,o){const l=N.createContext(o),c=r.length;r=[...r,o];const u=h=>{var y;const{scope:m,children:f,...x}=h,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=N.useMemo(()=>x,Object.values(x));return n.jsx(v.Provider,{value:g,children:f})};u.displayName=i+"Provider";function d(h,m){var v;const f=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=N.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,ole(a,...t)]}function ole(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function qm(e){const t=cle(e),r=N.forwardRef((s,a)=>{const{children:i,...o}=s,l=N.Children.toArray(i),c=l.find(ule);if(c){const u=c.props.children,d=l.map(h=>h===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:h);return n.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var lle=qm("Slot");function cle(e){const t=N.forwardRef((r,s)=>{const{children:a,...i}=r;if(N.isValidElement(a)){const o=hle(a),l=dle(i,a.props);return a.type!==N.Fragment&&(l.ref=s?v_(s,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vV=Symbol("radix.slottable");function xV(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=vV,t}function ule(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vV}function dle(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hle(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ny(e){const t=e+"CollectionProvider",[r,s]=di(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:g,children:y}=v,j=at.useRef(null),b=at.useRef(new Map).current;return n.jsx(a,{scope:g,itemMap:b,collectionRef:j,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=qm(l),u=at.forwardRef((v,g)=>{const{scope:y,children:j}=v,b=i(l,y),_=Tr(g,b.collectionRef);return n.jsx(c,{ref:_,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=qm(d),f=at.forwardRef((v,g)=>{const{scope:y,children:j,...b}=v,_=at.useRef(null),S=Tr(g,_),T=i(d,y);return at.useEffect(()=>(T.itemMap.set(_,{ref:_,...b}),()=>void T.itemMap.delete(_))),n.jsx(m,{[h]:"",ref:S,children:j})});f.displayName=d;function x(v){const g=i(e+"CollectionConsumer",v);return at.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((T,A)=>b.indexOf(T.ref.current)-b.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},x,s]}var fle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=fle.reduce((e,t)=>{const r=qm(`Primitive.${t}`),s=N.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function J3(e,t){e&&vf.flushSync(()=>e.dispatchEvent(t))}function Ma(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function mle(e,t=globalThis==null?void 0:globalThis.document){const r=Ma(e);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var ple="DismissableLayer",gP="dismissableLayer.update",gle="dismissableLayer.pointerDownOutside",vle="dismissableLayer.focusOutside",XM,yV=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rv=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=N.useContext(yV),[d,h]=N.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=N.useState({}),x=Tr(t,A=>h(A)),v=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),j=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=j>=y,S=yle(A=>{const L=A.target,E=[...u.branches].some(q=>q.contains(L));!_||E||(a==null||a(A),o==null||o(A),A.defaultPrevented||l==null||l())},m),T=wle(A=>{const L=A.target;[...u.branches].some(q=>q.contains(L))||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},m);return mle(A=>{j===u.layers.size-1&&(s==null||s(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},m),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),QM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=XM)}},[d,m,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),QM())},[d,u]),N.useEffect(()=>{const A=()=>f({});return document.addEventListener(gP,A),()=>document.removeEventListener(gP,A)},[]),n.jsx(zt.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:St(e.onFocusCapture,T.onFocusCapture),onBlurCapture:St(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:St(e.onPointerDownCapture,S.onPointerDownCapture)})});rv.displayName=ple;var xle="DismissableLayerBranch",wV=N.forwardRef((e,t)=>{const r=N.useContext(yV),s=N.useRef(null),a=Tr(t,s);return N.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(zt.div,{...e,ref:a})});wV.displayName=xle;function yle(e,t=globalThis==null?void 0:globalThis.document){const r=Ma(e),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){bV(gle,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function wle(e,t=globalThis==null?void 0:globalThis.document){const r=Ma(e),s=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!s.current&&bV(vle,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function QM(){const e=new CustomEvent(gP);document.dispatchEvent(e)}function bV(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?J3(a,i):a.dispatchEvent(i)}var ble=rv,jle=wV,Ba=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Nle="Portal",_y=N.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=N.useState(!1);Ba(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Y3.createPortal(n.jsx(zt.div,{...s,ref:t}),o):null});_y.displayName=Nle;function _le(e,t){return N.useReducer((r,s)=>t[r][s]??r,e)}var yi=e=>{const{present:t,children:r}=e,s=Sle(t),a=typeof r=="function"?r({present:s.isPresent}):N.Children.only(r),i=Tr(s.ref,kle(a));return typeof r=="function"||s.isPresent?N.cloneElement(a,{ref:i}):null};yi.displayName="Presence";function Sle(e){const[t,r]=N.useState(),s=N.useRef(null),a=N.useRef(e),i=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_le(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=sj(s.current);i.current=l==="mounted"?u:"none"},[l]),Ba(()=>{const u=s.current,d=a.current;if(d!==e){const m=i.current,f=sj(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ba(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const v=sj(s.current).includes(f.animationName);if(f.target===t&&v&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=f=>{f.target===t&&(i.current=sj(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function sj(e){return(e==null?void 0:e.animationName)||"none"}function kle(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Cle=g_[" useInsertionEffect ".trim().toString()]||Ba;function Xo({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=Ele({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=N.useRef(e!==void 0);N.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=N.useCallback(d=>{var h;if(l){const m=Ale(d)?d(e):d;m!==e&&((h=o.current)==null||h.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function Ele({defaultProp:e,onChange:t}){const[r,s]=N.useState(e),a=N.useRef(r),i=N.useRef(t);return Cle(()=>{i.current=t},[t]),N.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,s,i]}function Ale(e){return typeof e=="function"}var jV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ple="VisuallyHidden",x_=N.forwardRef((e,t)=>n.jsx(zt.span,{...e,ref:t,style:{...jV,...e.style}}));x_.displayName=Ple;var Tle=x_,X3="ToastProvider",[Q3,Ole,Ile]=Ny("Toast"),[NV]=di("Toast",[Ile]),[Rle,y_]=NV(X3),_V=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=N.useState(null),[u,d]=N.useState(0),h=N.useRef(!1),m=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${X3}\`. Expected non-empty \`string\`.`),n.jsx(Q3.Provider,{scope:t,children:n.jsx(Rle,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(f=>f+1),[]),onToastRemove:N.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};_V.displayName=X3;var SV="ToastViewport",Dle=["F8"],vP="toast.viewportPause",xP="toast.viewportResume",kV=N.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=Dle,label:a="Notifications ({hotkey})",...i}=e,o=y_(SV,r),l=Ole(r),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),h=N.useRef(null),m=Tr(t,h,o.onViewportChange),f=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;N.useEffect(()=>{const g=y=>{var b;s.length!==0&&s.every(_=>y[_]||y.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),N.useEffect(()=>{const g=c.current,y=h.current;if(x&&g&&y){const j=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(vP);y.dispatchEvent(T),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(xP);y.dispatchEvent(T),o.isClosePausedRef.current=!1}},_=T=>{!g.contains(T.relatedTarget)&&b()},S=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",j),g.addEventListener("focusout",_),g.addEventListener("pointermove",j),g.addEventListener("pointerleave",S),window.addEventListener("blur",j),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",j),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",j),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",j),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=N.useCallback(({tabbingDirection:g})=>{const j=l().map(b=>{const _=b.ref.current,S=[_,...Kle(_)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?j.reverse():j).flat()},[l]);return N.useEffect(()=>{const g=h.current;if(g){const y=j=>{var S,T,A;const b=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!b){const L=document.activeElement,E=j.shiftKey;if(j.target===g&&E){(S=u.current)==null||S.focus();return}const C=v({tabbingDirection:E?"backwards":"forwards"}),I=C.findIndex(O=>O===L);bk(C.slice(I+1))?j.preventDefault():E?(T=u.current)==null||T.focus():(A=d.current)==null||A.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,v]),n.jsxs(jle,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(yP,{ref:u,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"forwards"});bk(g)}}),n.jsx(Q3.Slot,{scope:r,children:n.jsx(zt.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(yP,{ref:d,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"backwards"});bk(g)}})]})});kV.displayName=SV;var CV="ToastFocusProxy",yP=N.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=y_(CV,r);return n.jsx(x_,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});yP.displayName=CV;var jb="Toast",Mle="toast.swipeStart",Lle="toast.swipeMove",Fle="toast.swipeCancel",Ble="toast.swipeEnd",EV=N.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Xo({prop:s,defaultProp:a??!0,onChange:i,caller:jb});return n.jsx(yi,{present:r||l,children:n.jsx(qle,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ma(e.onPause),onResume:Ma(e.onResume),onSwipeStart:St(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:St(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:St(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:St(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});EV.displayName=jb;var[Ule,$le]=NV(jb,{onClose(){}}),qle=N.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...x}=e,v=y_(jb,r),[g,y]=N.useState(null),j=Tr(t,O=>y(O)),b=N.useRef(null),_=N.useRef(null),S=a||v.duration,T=N.useRef(0),A=N.useRef(S),L=N.useRef(0),{onToastAdd:E,onToastRemove:q}=v,M=Ma(()=>{var H;(g==null?void 0:g.contains(document.activeElement))&&((H=v.viewport)==null||H.focus()),o()}),C=N.useCallback(O=>{!O||O===1/0||(window.clearTimeout(L.current),T.current=new Date().getTime(),L.current=window.setTimeout(M,O))},[M]);N.useEffect(()=>{const O=v.viewport;if(O){const H=()=>{C(A.current),u==null||u()},re=()=>{const U=new Date().getTime()-T.current;A.current=A.current-U,window.clearTimeout(L.current),c==null||c()};return O.addEventListener(vP,re),O.addEventListener(xP,H),()=>{O.removeEventListener(vP,re),O.removeEventListener(xP,H)}}},[v.viewport,S,c,u,C]),N.useEffect(()=>{i&&!v.isClosePausedRef.current&&C(S)},[i,S,v.isClosePausedRef,C]),N.useEffect(()=>(E(),()=>q()),[E,q]);const I=N.useMemo(()=>g?DV(g):null,[g]);return v.viewport?n.jsxs(n.Fragment,{children:[I&&n.jsx(zle,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),n.jsx(Ule,{scope:r,onClose:M,children:vf.createPortal(n.jsx(Q3.ItemSlot,{scope:r,children:n.jsx(ble,{asChild:!0,onEscapeKeyDown:St(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:St(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:St(e.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:St(e.onPointerMove,O=>{if(!b.current)return;const H=O.clientX-b.current.x,re=O.clientY-b.current.y,U=!!_.current,K=["left","right"].includes(v.swipeDirection),ee=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,X=K?ee(0,H):0,B=K?0:ee(0,re),D=O.pointerType==="touch"?10:2,Q={x:X,y:B},ie={originalEvent:O,delta:Q};U?(_.current=Q,aj(Lle,h,ie,{discrete:!1})):ZM(Q,v.swipeDirection,D)?(_.current=Q,aj(Mle,d,ie,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(H)>D||Math.abs(re)>D)&&(b.current=null)}),onPointerUp:St(e.onPointerUp,O=>{const H=_.current,re=O.target;if(re.hasPointerCapture(O.pointerId)&&re.releasePointerCapture(O.pointerId),_.current=null,b.current=null,H){const U=O.currentTarget,K={originalEvent:O,delta:H};ZM(H,v.swipeDirection,v.swipeThreshold)?aj(Ble,f,K,{discrete:!0}):aj(Fle,m,K,{discrete:!0}),U.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),zle=e=>{const{__scopeToast:t,children:r,...s}=e,a=y_(jb,t),[i,o]=N.useState(!1),[l,c]=N.useState(!1);return Hle(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:n.jsx(_y,{asChild:!0,children:n.jsx(x_,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},Wle="ToastTitle",AV=N.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(zt.div,{...s,ref:t})});AV.displayName=Wle;var Vle="ToastDescription",PV=N.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(zt.div,{...s,ref:t})});PV.displayName=Vle;var TV="ToastAction",OV=N.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(RV,{altText:r,asChild:!0,children:n.jsx(Z3,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${TV}\`. Expected non-empty \`string\`.`),null)});OV.displayName=TV;var IV="ToastClose",Z3=N.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=$le(IV,r);return n.jsx(RV,{asChild:!0,children:n.jsx(zt.button,{type:"button",...s,ref:t,onClick:St(e.onClick,a.onClose)})})});Z3.displayName=IV;var RV=N.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function DV(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Gle(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...DV(s))}}),t}function aj(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?J3(a,i):a.dispatchEvent(i)}var ZM=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function Hle(e=()=>{}){const t=Ma(e);Ba(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function Gle(e){return e.nodeType===e.ELEMENT_NODE}function Kle(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bk(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Yle=_V,MV=kV,LV=EV,FV=AV,BV=PV,UV=OV,$V=Z3;function qV(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=qV(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function kn(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=qV(e))&&(s&&(s+=" "),s+=t);return s}const eL=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tL=kn,Sy=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return tL(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const m=eL(d)||eL(h);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:m,...f}=d;return Object.entries(f).every(x=>{let[v,g]=x;return Array.isArray(g)?g.includes({...i,...l}[v]):{...i,...l}[v]===g})?[...u,h,m]:u},[]);return tL(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zV=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...Xle,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:zV("lucide",a),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const r=N.forwardRef(({className:s,...a},i)=>N.createElement(Qle,{ref:i,iconNode:t,className:zV(`lucide-${Jle(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=mt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=mt("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=mt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=mt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=mt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=mt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=mt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=mt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=mt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=mt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=mt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=mt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=mt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=mt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=mt("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=mt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=mt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=mt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=mt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=mt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=mt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=mt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=mt("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=mt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=mt("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=mt("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=mt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=mt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=mt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=mt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=mt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=mt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=mt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=mt("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=mt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=mt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=mt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=mt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=mt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=mt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=mt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=mt("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=mt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=mt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=mt("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=mt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=mt("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=mt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=mt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=mt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=mt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=mt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=mt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=mt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=mt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=mt("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=mt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=mt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=mt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=mt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=mt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=mt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=mt("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=mt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=mt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=mt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=mt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=mt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=mt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=mt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=mt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=mt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=mt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=mt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=mt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=mt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=mt("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=mt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=mt("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=mt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=mt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),fO="-",Sce=e=>{const t=Cce(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(fO);return l[0]===""&&l.length!==1&&l.shift(),oH(l,t)||kce(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},oH=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?oH(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(fO);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},oL=/^\[(.+)\]$/,kce=e=>{if(oL.test(e)){const t=oL.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Cce=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Ace(Object.entries(e.classGroups),r).forEach(([i,o])=>{wP(o,s,i,t)}),s},wP=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:lL(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Ece(a)){wP(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{wP(o,lL(t,i),r,s)})})},lL=(e,t)=>{let r=e;return t.split(fO).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Ece=e=>e.isThemeGetter,Ace=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Pce=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},lH="!",Tce=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let g=0;g<l.length;g++){let y=l[g];if(u===0){if(y===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(d,g)),d=g+i;continue}if(y==="/"){h=g;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(d),f=m.startsWith(lH),x=f?m.substring(1):m,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},Oce=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},Ice=e=>({cache:Pce(e.cacheSize),parseClassName:Tce(e),...Sce(e)}),Rce=/\s+/,Dce=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Rce);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=r(u);let x=!!f,v=s(x?m.substring(0,f):m);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=s(m),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const g=Oce(d).join(":"),y=h?g+lH:g,j=y+v;if(i.includes(j))continue;i.push(j);const b=a(v,x);for(let _=0;_<b.length;++_){const S=b[_];i.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function Mce(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=cH(t))&&(s&&(s+=" "),s+=r);return s}const cH=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=cH(e[s]))&&(r&&(r+=" "),r+=t);return r};function Lce(e,...t){let r,s,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=Ice(u),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=Dce(c,r);return a(c,d),d}return function(){return i(Mce.apply(null,arguments))}}const $s=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},uH=/^\[(?:([a-z-]+):)?(.+)\]$/i,Fce=/^\d+\/\d+$/,Bce=new Set(["px","full","screen"]),Uce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$ce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zce=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rh=e=>xx(e)||Bce.has(e)||Fce.test(e),sm=e=>Ey(e,"length",Qce),xx=e=>!!e&&!Number.isNaN(Number(e)),Nk=e=>Ey(e,"number",xx),D0=e=>!!e&&Number.isInteger(Number(e)),Vce=e=>e.endsWith("%")&&xx(e.slice(0,-1)),dn=e=>uH.test(e),am=e=>Uce.test(e),Hce=new Set(["length","size","percentage"]),Gce=e=>Ey(e,Hce,dH),Kce=e=>Ey(e,"position",dH),Yce=new Set(["image","url"]),Jce=e=>Ey(e,Yce,eue),Xce=e=>Ey(e,"",Zce),M0=()=>!0,Ey=(e,t,r)=>{const s=uH.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},Qce=e=>$ce.test(e)&&!qce.test(e),dH=()=>!1,Zce=e=>zce.test(e),eue=e=>Wce.test(e),tue=()=>{const e=$s("colors"),t=$s("spacing"),r=$s("blur"),s=$s("brightness"),a=$s("borderColor"),i=$s("borderRadius"),o=$s("borderSpacing"),l=$s("borderWidth"),c=$s("contrast"),u=$s("grayscale"),d=$s("hueRotate"),h=$s("invert"),m=$s("gap"),f=$s("gradientColorStops"),x=$s("gradientColorStopPositions"),v=$s("inset"),g=$s("margin"),y=$s("opacity"),j=$s("padding"),b=$s("saturate"),_=$s("scale"),S=$s("sepia"),T=$s("skew"),A=$s("space"),L=$s("translate"),E=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",dn,t],C=()=>[dn,t],I=()=>["",Rh,sm],O=()=>["auto",xx,dn],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",dn],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[xx,dn];return{cacheSize:500,separator:":",theme:{colors:[M0],spacing:[Rh,sm],blur:["none","",am,dn],brightness:B(),borderColor:[e],borderRadius:["none","","full",am,dn],borderSpacing:C(),borderWidth:I(),contrast:B(),grayscale:ee(),hueRotate:B(),invert:ee(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Vce,sm],inset:M(),margin:M(),opacity:B(),padding:C(),saturate:B(),scale:B(),sepia:ee(),skew:B(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",dn]}],container:["container"],columns:[{columns:[am]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),dn]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",D0,dn]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dn]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",D0,dn]}],"grid-cols":[{"grid-cols":[M0]}],"col-start-end":[{col:["auto",{span:["full",D0,dn]},dn]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[M0]}],"row-start-end":[{row:["auto",{span:[D0,dn]},dn]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dn,t]}],"min-w":[{"min-w":[dn,t,"min","max","fit"]}],"max-w":[{"max-w":[dn,t,"none","full","min","max","fit","prose",{screen:[am]},am]}],h:[{h:[dn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",am,sm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nk]}],"font-family":[{font:[M0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dn]}],"line-clamp":[{"line-clamp":["none",xx,Nk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rh,dn]}],"list-image":[{"list-image":["none",dn]}],"list-style-type":[{list:["none","disc","decimal",dn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rh,sm]}],"underline-offset":[{"underline-offset":["auto",Rh,dn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Kce]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Jce]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:re()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Rh,dn]}],"outline-w":[{outline:[Rh,sm]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Rh,sm]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",am,Xce]}],"shadow-color":[{shadow:[M0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",am,dn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dn]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",dn]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",dn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[D0,dn]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rh,sm,Nk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rue=Lce(tue);function Pt(...e){return rue(kn(e))}const nue=Yle,hH=N.forwardRef(({className:e,...t},r)=>n.jsx(MV,{ref:r,className:Pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));hH.displayName=MV.displayName;const sue=Sy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fH=N.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(LV,{ref:s,className:Pt(sue({variant:t}),e),...r}));fH.displayName=LV.displayName;const aue=N.forwardRef(({className:e,...t},r)=>n.jsx(UV,{ref:r,className:Pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));aue.displayName=UV.displayName;const mH=N.forwardRef(({className:e,...t},r)=>n.jsx($V,{ref:r,className:Pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Rl,{className:"h-4 w-4"})}));mH.displayName=$V.displayName;const pH=N.forwardRef(({className:e,...t},r)=>n.jsx(FV,{ref:r,className:Pt("text-sm font-semibold",e),...t}));pH.displayName=FV.displayName;const gH=N.forwardRef(({className:e,...t},r)=>n.jsx(BV,{ref:r,className:Pt("text-sm opacity-90",e),...t}));gH.displayName=BV.displayName;function iue(){const{toasts:e}=Nc();return n.jsxs(nue,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(fH,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(pH,{children:r}),s&&n.jsx(gH,{children:s})]}),a,n.jsx(mH,{})]},t)}),n.jsx(hH,{})]})}var cL=["light","dark"],oue="(prefers-color-scheme: dark)",lue=N.createContext(void 0),cue={setTheme:e=>{},themes:[]},uue=()=>{var e;return(e=N.useContext(lue))!=null?e:cue};N.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?cL.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,v=!1,g=!0)=>{let y=o?o[x]:x,j=v?x+"|| ''":`'${y}'`,b="";return a&&g&&!v&&cL.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?v||y?b+=`c.add(${j})`:b+="null":y&&(b+=`d[s](n,${j})`),b},f=e?`!function(){${d}${m(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${oue}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return N.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var due=e=>{switch(e){case"success":return mue;case"info":return gue;case"warning":return pue;case"error":return vue;default:return null}},hue=Array(12).fill(0),fue=({visible:e,className:t})=>at.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},at.createElement("div",{className:"sonner-spinner"},hue.map((r,s)=>at.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),mue=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pue=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gue=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vue=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xue=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},at.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),at.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yue=()=>{let[e,t]=at.useState(document.hidden);return at.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},bP=1,wue=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:s,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:bP++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:s}),{...c,...t,id:i,dismissible:l,title:s}):c):this.addToast({title:s,...a,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=s!==void 0,o,l=a.then(async u=>{if(o=["resolve",u],at.isValidElement(u))i=!1,this.create({id:s,type:"default",message:u});else if(jue(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:s,type:"error",message:d,description:h})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:s,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:s,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(s),s=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(t,r)=>{let s=(r==null?void 0:r.id)||bP++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kl=new wue,bue=(e,t)=>{let r=(t==null?void 0:t.id)||bP++;return kl.addToast({title:e,...t,id:r}),r},jue=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Nue=bue,_ue=()=>kl.toasts,Sue=()=>kl.getActiveToasts(),xe=Object.assign(Nue,{success:kl.success,info:kl.info,warning:kl.warning,error:kl.error,custom:kl.custom,message:kl.message,promise:kl.promise,dismiss:kl.dismiss,loading:kl.loading},{getHistory:_ue,getToasts:Sue});function kue(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}kue(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ij(e){return e.label!==void 0}var Cue=3,Eue="32px",Aue="16px",uL=4e3,Pue=356,Tue=14,Oue=20,Iue=200;function Lu(...e){return e.filter(Boolean).join(" ")}function Rue(e){let[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}var Due=e=>{var t,r,s,a,i,o,l,c,u,d,h;let{invert:m,toast:f,unstyled:x,interacting:v,setHeights:g,visibleToasts:y,heights:j,index:b,toasts:_,expanded:S,removeToast:T,defaultRichColors:A,closeButton:L,style:E,cancelButtonStyle:q,actionButtonStyle:M,className:C="",descriptionClassName:I="",duration:O,position:H,gap:re,loadingIcon:U,expandByDefault:K,classNames:ee,icons:X,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:D}=e,[Q,ie]=at.useState(null),[te,he]=at.useState(null),[W,V]=at.useState(!1),[oe,me]=at.useState(!1),[de,ue]=at.useState(!1),[Pe,G]=at.useState(!1),[pe,ce]=at.useState(!1),[$,z]=at.useState(0),[Z,le]=at.useState(0),ge=at.useRef(f.duration||O||uL),we=at.useRef(null),Me=at.useRef(null),Be=b===0,Le=b+1<=y,Ge=f.type,it=f.dismissible!==!1,ut=f.className||"",Ct=f.descriptionClassName||"",Mt=at.useMemo(()=>j.findIndex(kr=>kr.toastId===f.id)||0,[j,f.id]),Et=at.useMemo(()=>{var kr;return(kr=f.closeButton)!=null?kr:L},[f.closeButton,L]),rn=at.useMemo(()=>f.duration||O||uL,[f.duration,O]),Wt=at.useRef(0),Dt=at.useRef(0),ir=at.useRef(0),_r=at.useRef(null),[nr,Lr]=H.split("-"),Ar=at.useMemo(()=>j.reduce((kr,Zt,nn)=>nn>=Mt?kr:kr+Zt.height,0),[j,Mt]),Cn=yue(),Sn=f.invert||m,Yr=Ge==="loading";Dt.current=at.useMemo(()=>Mt*re+Ar,[Mt,Ar]),at.useEffect(()=>{ge.current=rn},[rn]),at.useEffect(()=>{V(!0)},[]),at.useEffect(()=>{let kr=Me.current;if(kr){let Zt=kr.getBoundingClientRect().height;return le(Zt),g(nn=>[{toastId:f.id,height:Zt,position:f.position},...nn]),()=>g(nn=>nn.filter(hs=>hs.toastId!==f.id))}},[g,f.id]),at.useLayoutEffect(()=>{if(!W)return;let kr=Me.current,Zt=kr.style.height;kr.style.height="auto";let nn=kr.getBoundingClientRect().height;kr.style.height=Zt,le(nn),g(hs=>hs.find(Jt=>Jt.toastId===f.id)?hs.map(Jt=>Jt.toastId===f.id?{...Jt,height:nn}:Jt):[{toastId:f.id,height:nn,position:f.position},...hs])},[W,f.title,f.description,g,f.id]);let Yt=at.useCallback(()=>{me(!0),z(Dt.current),g(kr=>kr.filter(Zt=>Zt.toastId!==f.id)),setTimeout(()=>{T(f)},Iue)},[f,T,g,Dt]);at.useEffect(()=>{if(f.promise&&Ge==="loading"||f.duration===1/0||f.type==="loading")return;let kr;return S||v||D&&Cn?(()=>{if(ir.current<Wt.current){let Zt=new Date().getTime()-Wt.current;ge.current=ge.current-Zt}ir.current=new Date().getTime()})():ge.current!==1/0&&(Wt.current=new Date().getTime(),kr=setTimeout(()=>{var Zt;(Zt=f.onAutoClose)==null||Zt.call(f,f),Yt()},ge.current)),()=>clearTimeout(kr)},[S,v,f,Ge,D,Cn,Yt]),at.useEffect(()=>{f.delete&&Yt()},[Yt,f.delete]);function wn(){var kr,Zt,nn;return X!=null&&X.loading?at.createElement("div",{className:Lu(ee==null?void 0:ee.loader,(kr=f==null?void 0:f.classNames)==null?void 0:kr.loader,"sonner-loader"),"data-visible":Ge==="loading"},X.loading):U?at.createElement("div",{className:Lu(ee==null?void 0:ee.loader,(Zt=f==null?void 0:f.classNames)==null?void 0:Zt.loader,"sonner-loader"),"data-visible":Ge==="loading"},U):at.createElement(fue,{className:Lu(ee==null?void 0:ee.loader,(nn=f==null?void 0:f.classNames)==null?void 0:nn.loader),visible:Ge==="loading"})}return at.createElement("li",{tabIndex:0,ref:Me,className:Lu(C,ut,ee==null?void 0:ee.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[Ge],(r=f==null?void 0:f.classNames)==null?void 0:r[Ge]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:A,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":W,"data-promise":!!f.promise,"data-swiped":pe,"data-removed":oe,"data-visible":Le,"data-y-position":nr,"data-x-position":Lr,"data-index":b,"data-front":Be,"data-swiping":de,"data-dismissible":it,"data-type":Ge,"data-invert":Sn,"data-swipe-out":Pe,"data-swipe-direction":te,"data-expanded":!!(S||K&&W),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${oe?$:Dt.current}px`,"--initial-height":K?"auto":`${Z}px`,...E,...f.style},onDragEnd:()=>{ue(!1),ie(null),_r.current=null},onPointerDown:kr=>{Yr||!it||(we.current=new Date,z(Dt.current),kr.target.setPointerCapture(kr.pointerId),kr.target.tagName!=="BUTTON"&&(ue(!0),_r.current={x:kr.clientX,y:kr.clientY}))},onPointerUp:()=>{var kr,Zt,nn,hs;if(Pe||!it)return;_r.current=null;let Jt=Number(((kr=Me.current)==null?void 0:kr.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fs=Number(((Zt=Me.current)==null?void 0:Zt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Hs=new Date().getTime()-((nn=we.current)==null?void 0:nn.getTime()),Tn=Q==="x"?Jt:fs,Ms=Math.abs(Tn)/Hs;if(Math.abs(Tn)>=Oue||Ms>.11){z(Dt.current),(hs=f.onDismiss)==null||hs.call(f,f),he(Q==="x"?Jt>0?"right":"left":fs>0?"down":"up"),Yt(),G(!0),ce(!1);return}ue(!1),ie(null)},onPointerMove:kr=>{var Zt,nn,hs,Jt;if(!_r.current||!it||((Zt=window.getSelection())==null?void 0:Zt.toString().length)>0)return;let fs=kr.clientY-_r.current.y,Hs=kr.clientX-_r.current.x,Tn=(nn=e.swipeDirections)!=null?nn:Rue(H);!Q&&(Math.abs(Hs)>1||Math.abs(fs)>1)&&ie(Math.abs(Hs)>Math.abs(fs)?"x":"y");let Ms={x:0,y:0};Q==="y"?(Tn.includes("top")||Tn.includes("bottom"))&&(Tn.includes("top")&&fs<0||Tn.includes("bottom")&&fs>0)&&(Ms.y=fs):Q==="x"&&(Tn.includes("left")||Tn.includes("right"))&&(Tn.includes("left")&&Hs<0||Tn.includes("right")&&Hs>0)&&(Ms.x=Hs),(Math.abs(Ms.x)>0||Math.abs(Ms.y)>0)&&ce(!0),(hs=Me.current)==null||hs.style.setProperty("--swipe-amount-x",`${Ms.x}px`),(Jt=Me.current)==null||Jt.style.setProperty("--swipe-amount-y",`${Ms.y}px`)}},Et&&!f.jsx?at.createElement("button",{"aria-label":B,"data-disabled":Yr,"data-close-button":!0,onClick:Yr||!it?()=>{}:()=>{var kr;Yt(),(kr=f.onDismiss)==null||kr.call(f,f)},className:Lu(ee==null?void 0:ee.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},(i=X==null?void 0:X.close)!=null?i:xue):null,f.jsx||N.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:at.createElement(at.Fragment,null,Ge||f.icon||f.promise?at.createElement("div",{"data-icon":"",className:Lu(ee==null?void 0:ee.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||wn():null,f.type!=="loading"?f.icon||(X==null?void 0:X[Ge])||due(Ge):null):null,at.createElement("div",{"data-content":"",className:Lu(ee==null?void 0:ee.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},at.createElement("div",{"data-title":"",className:Lu(ee==null?void 0:ee.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?at.createElement("div",{"data-description":"",className:Lu(I,Ct,ee==null?void 0:ee.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),N.isValidElement(f.cancel)?f.cancel:f.cancel&&ij(f.cancel)?at.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||q,onClick:kr=>{var Zt,nn;ij(f.cancel)&&it&&((nn=(Zt=f.cancel).onClick)==null||nn.call(Zt,kr),Yt())},className:Lu(ee==null?void 0:ee.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,N.isValidElement(f.action)?f.action:f.action&&ij(f.action)?at.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||M,onClick:kr=>{var Zt,nn;ij(f.action)&&((nn=(Zt=f.action).onClick)==null||nn.call(Zt,kr),!kr.defaultPrevented&&Yt())},className:Lu(ee==null?void 0:ee.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function dL(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Mue(e,t){let r={};return[e,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Aue:Eue;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),r}var Lue=N.forwardRef(function(e,t){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:f,visibleToasts:x=Cue,toastOptions:v,dir:g=dL(),gap:y=Tue,loadingIcon:j,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[T,A]=at.useState([]),L=at.useMemo(()=>Array.from(new Set([s].concat(T.filter(D=>D.position).map(D=>D.position)))),[T,s]),[E,q]=at.useState([]),[M,C]=at.useState(!1),[I,O]=at.useState(!1),[H,re]=at.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=at.useRef(null),K=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=at.useRef(null),X=at.useRef(!1),B=at.useCallback(D=>{A(Q=>{var ie;return(ie=Q.find(te=>te.id===D.id))!=null&&ie.delete||kl.dismiss(D.id),Q.filter(({id:te})=>te!==D.id)})},[]);return at.useEffect(()=>kl.subscribe(D=>{if(D.dismiss){A(Q=>Q.map(ie=>ie.id===D.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{Y3.flushSync(()=>{A(Q=>{let ie=Q.findIndex(te=>te.id===D.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...D},...Q.slice(ie+1)]:[D,...Q]})})})}),[]),at.useEffect(()=>{if(d!=="system"){re(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:Q})=>{re(Q?"dark":"light")})}catch{D.addListener(({matches:ie})=>{try{re(ie?"dark":"light")}catch(te){console.error(te)}})}},[d]),at.useEffect(()=>{T.length<=1&&C(!1)},[T]),at.useEffect(()=>{let D=Q=>{var ie,te;a.every(he=>Q[he]||Q.code===he)&&(C(!0),(ie=U.current)==null||ie.focus()),Q.code==="Escape"&&(document.activeElement===U.current||(te=U.current)!=null&&te.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[a]),at.useEffect(()=>{if(U.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,X.current=!1)}},[U.current]),at.createElement("section",{ref:t,"aria-label":`${_} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((D,Q)=>{var ie;let[te,he]=D.split("-");return T.length?at.createElement("ol",{key:D,dir:g==="auto"?dL():g,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":te,"data-lifted":M&&T.length>1&&!i,"data-x-position":he,style:{"--front-toast-height":`${((ie=E[0])==null?void 0:ie.height)||0}px`,"--width":`${Pue}px`,"--gap":`${y}px`,...f,...Mue(c,u)},onBlur:W=>{X.current&&!W.currentTarget.contains(W.relatedTarget)&&(X.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||X.current||(X.current=!0,ee.current=W.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{I||C(!1)},onDragEnd:()=>C(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},T.filter(W=>!W.position&&Q===0||W.position===D).map((W,V)=>{var oe,me;return at.createElement(Due,{key:W.id,icons:b,index:V,toast:W,defaultRichColors:h,duration:(oe=v==null?void 0:v.duration)!=null?oe:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:x,closeButton:(me=v==null?void 0:v.closeButton)!=null?me:o,interacting:I,position:D,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:B,toasts:T.filter(de=>de.position==W.position),heights:E.filter(de=>de.position==W.position),setHeights:q,expandByDefault:i,gap:y,loadingIcon:j,expanded:M,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Fue=({...e})=>{const{theme:t="system"}=uue();return n.jsx(Lue,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Bue=g_[" useId ".trim().toString()]||(()=>{}),Uue=0;function Pl(e){const[t,r]=N.useState(Bue());return Ba(()=>{r(s=>s??String(Uue++))},[e]),t?`radix-${t}`:""}const $ue=["top","right","bottom","left"],zm=Math.min,tc=Math.max,F2=Math.round,oj=Math.floor,qd=e=>({x:e,y:e}),que={left:"right",right:"left",bottom:"top",top:"bottom"},zue={start:"end",end:"start"};function jP(e,t,r){return tc(e,zm(t,r))}function of(e,t){return typeof e=="function"?e(t):e}function lf(e){return e.split("-")[0]}function Ay(e){return e.split("-")[1]}function mO(e){return e==="x"?"y":"x"}function pO(e){return e==="y"?"height":"width"}const Wue=new Set(["top","bottom"]);function Ld(e){return Wue.has(lf(e))?"y":"x"}function gO(e){return mO(Ld(e))}function Vue(e,t,r){r===void 0&&(r=!1);const s=Ay(e),a=gO(e),i=pO(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=B2(o)),[o,B2(o)]}function Hue(e){const t=B2(e);return[NP(e),t,NP(t)]}function NP(e){return e.replace(/start|end/g,t=>zue[t])}const hL=["left","right"],fL=["right","left"],Gue=["top","bottom"],Kue=["bottom","top"];function Yue(e,t,r){switch(e){case"top":case"bottom":return r?t?fL:hL:t?hL:fL;case"left":case"right":return t?Gue:Kue;default:return[]}}function Jue(e,t,r,s){const a=Ay(e);let i=Yue(lf(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(NP)))),i}function B2(e){return e.replace(/left|right|bottom|top/g,t=>que[t])}function Xue(e){return{top:0,right:0,bottom:0,left:0,...e}}function vH(e){return typeof e!="number"?Xue(e):{top:e,right:e,bottom:e,left:e}}function U2(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function mL(e,t,r){let{reference:s,floating:a}=e;const i=Ld(t),o=gO(t),l=pO(o),c=lf(t),u=i==="y",d=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let f;switch(c){case"top":f={x:d,y:s.y-a.height};break;case"bottom":f={x:d,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:h};break;case"left":f={x:s.x-a.width,y:h};break;default:f={x:s.x,y:s.y}}switch(Ay(t)){case"start":f[o]-=m*(r&&u?-1:1);break;case"end":f[o]+=m*(r&&u?-1:1);break}return f}const Que=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=mL(u,s,c),m=s,f={},x=0;for(let v=0;v<l.length;v++){const{name:g,fn:y}=l[v],{x:j,y:b,data:_,reset:S}=await y({x:d,y:h,initialPlacement:s,placement:m,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,h=b??h,f={...f,[g]:{...f[g],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:h}=mL(u,m,c)),v=-1)}return{x:d,y:h,placement:m,strategy:a,middlewareData:f}};async function Rw(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=of(t,e),x=vH(f),g=l[m?h==="floating"?"reference":"floating":h],y=U2(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=U2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(y.top-S.top+x.top)/_.y,bottom:(S.bottom-y.bottom+x.bottom)/_.y,left:(y.left-S.left+x.left)/_.x,right:(S.right-y.right+x.right)/_.x}}const Zue=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=of(e,t)||{};if(u==null)return{};const h=vH(d),m={x:r,y:s},f=gO(a),x=pO(f),v=await o.getDimensions(u),g=f==="y",y=g?"top":"left",j=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[f]-m[f]-i.floating[x],S=m[f]-i.reference[f],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=T?T[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(T)))&&(A=l.floating[b]||i.floating[x]);const L=_/2-S/2,E=A/2-v[x]/2-1,q=zm(h[y],E),M=zm(h[j],E),C=q,I=A-v[x]-M,O=A/2-v[x]/2+L,H=jP(C,O,I),re=!c.arrow&&Ay(a)!=null&&O!==H&&i.reference[x]/2-(O<C?q:M)-v[x]/2<0,U=re?O<C?O-C:O-I:0;return{[f]:m[f]+U,data:{[f]:H,centerOffset:O-H-U,...re&&{alignmentOffset:U}},reset:re}}}),ede=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...g}=of(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=lf(a),j=Ld(l),b=lf(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(b||!v?[B2(l)]:Hue(l)),T=x!=="none";!m&&T&&S.push(...Jue(l,v,x,_));const A=[l,...S],L=await Rw(t,g),E=[];let q=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&E.push(L[y]),h){const O=Vue(a,o,_);E.push(L[O[0]],L[O[1]])}if(q=[...q,{placement:a,overflows:E}],!E.every(O=>O<=0)){var M,C;const O=(((M=i.flip)==null?void 0:M.index)||0)+1,H=A[O];if(H&&(!(h==="alignment"?j!==Ld(H):!1)||q.every(K=>K.overflows[0]>0&&Ld(K.placement)===j)))return{data:{index:O,overflows:q},reset:{placement:H}};let re=(C=q.filter(U=>U.overflows[0]<=0).sort((U,K)=>U.overflows[1]-K.overflows[1])[0])==null?void 0:C.placement;if(!re)switch(f){case"bestFit":{var I;const U=(I=q.filter(K=>{if(T){const ee=Ld(K.placement);return ee===j||ee==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ee=>ee>0).reduce((ee,X)=>ee+X,0)]).sort((K,ee)=>K[1]-ee[1])[0])==null?void 0:I[0];U&&(re=U);break}case"initialPlacement":re=l;break}if(a!==re)return{reset:{placement:re}}}return{}}}};function pL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gL(e){return $ue.some(t=>e[t]>=0)}const tde=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=of(e,t);switch(s){case"referenceHidden":{const i=await Rw(t,{...a,elementContext:"reference"}),o=pL(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gL(o)}}}case"escaped":{const i=await Rw(t,{...a,altBoundary:!0}),o=pL(i,r.floating);return{data:{escapedOffsets:o,escaped:gL(o)}}}default:return{}}}}},xH=new Set(["left","top"]);async function rde(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=lf(r),l=Ay(r),c=Ld(r)==="y",u=xH.has(o)?-1:1,d=i&&c?-1:1,h=of(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(f=l==="end"?x*-1:x),c?{x:f*d,y:m*u}:{x:m*u,y:f*d}}const nde=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await rde(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},sde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:j}=g;return{x:y,y:j}}},...c}=of(e,t),u={x:r,y:s},d=await Rw(t,c),h=Ld(lf(a)),m=mO(h);let f=u[m],x=u[h];if(i){const g=m==="y"?"top":"left",y=m==="y"?"bottom":"right",j=f+d[g],b=f-d[y];f=jP(j,f,b)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",j=x+d[g],b=x-d[y];x=jP(j,x,b)}const v=l.fn({...t,[m]:f,[h]:x});return{...v,data:{x:v.x-r,y:v.y-s,enabled:{[m]:i,[h]:o}}}}}},ade=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=of(e,t),d={x:r,y:s},h=Ld(a),m=mO(h);let f=d[m],x=d[h];const v=of(l,t),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",_=i.reference[m]-i.floating[b]+g.mainAxis,S=i.reference[m]+i.reference[b]-g.mainAxis;f<_?f=_:f>S&&(f=S)}if(u){var y,j;const b=m==="y"?"width":"height",_=xH.has(lf(a)),S=i.reference[h]-i.floating[b]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:g.crossAxis),T=i.reference[h]+i.reference[b]+(_?0:((j=o.offset)==null?void 0:j[h])||0)-(_?g.crossAxis:0);x<S?x=S:x>T&&(x=T)}return{[m]:f,[h]:x}}}},ide=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=of(e,t),d=await Rw(t,u),h=lf(a),m=Ay(a),f=Ld(a)==="y",{width:x,height:v}=i.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,g=m==="end"?"top":"bottom");const j=v-d.top-d.bottom,b=x-d.left-d.right,_=zm(v-d[g],j),S=zm(x-d[y],b),T=!t.middlewareData.shift;let A=_,L=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=j),T&&!m){const q=tc(d.left,0),M=tc(d.right,0),C=tc(d.top,0),I=tc(d.bottom,0);f?L=x-2*(q!==0||M!==0?q+M:tc(d.left,d.right)):A=v-2*(C!==0||I!==0?C+I:tc(d.top,d.bottom))}await c({...t,availableWidth:L,availableHeight:A});const E=await o.getDimensions(l.floating);return x!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function S_(){return typeof window<"u"}function Py(e){return yH(e)?(e.nodeName||"").toLowerCase():"#document"}function cc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zd(e){var t;return(t=(yH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yH(e){return S_()?e instanceof Node||e instanceof cc(e).Node:!1}function sd(e){return S_()?e instanceof Element||e instanceof cc(e).Element:!1}function Gd(e){return S_()?e instanceof HTMLElement||e instanceof cc(e).HTMLElement:!1}function vL(e){return!S_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cc(e).ShadowRoot}const ode=new Set(["inline","contents"]);function kb(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=ad(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!ode.has(a)}const lde=new Set(["table","td","th"]);function cde(e){return lde.has(Py(e))}const ude=[":popover-open",":modal"];function k_(e){return ude.some(t=>{try{return e.matches(t)}catch{return!1}})}const dde=["transform","translate","scale","rotate","perspective"],hde=["transform","translate","scale","rotate","perspective","filter"],fde=["paint","layout","strict","content"];function vO(e){const t=xO(),r=sd(e)?ad(e):e;return dde.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||hde.some(s=>(r.willChange||"").includes(s))||fde.some(s=>(r.contain||"").includes(s))}function mde(e){let t=Wm(e);for(;Gd(t)&&!Gx(t);){if(vO(t))return t;if(k_(t))return null;t=Wm(t)}return null}function xO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pde=new Set(["html","body","#document"]);function Gx(e){return pde.has(Py(e))}function ad(e){return cc(e).getComputedStyle(e)}function C_(e){return sd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wm(e){if(Py(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vL(e)&&e.host||Zd(e);return vL(t)?t.host:t}function wH(e){const t=Wm(e);return Gx(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gd(t)&&kb(t)?t:wH(t)}function Dw(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=wH(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=cc(a);if(i){const l=_P(o);return t.concat(o,o.visualViewport||[],kb(a)?a:[],l&&r?Dw(l):[])}return t.concat(a,Dw(a,[],r))}function _P(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bH(e){const t=ad(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Gd(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=F2(r)!==i||F2(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function yO(e){return sd(e)?e:e.contextElement}function yx(e){const t=yO(e);if(!Gd(t))return qd(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=bH(t);let o=(i?F2(r.width):r.width)/s,l=(i?F2(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const gde=qd(0);function jH(e){const t=cc(e);return!xO()||!t.visualViewport?gde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vde(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==cc(e)?!1:t}function Og(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=yO(e);let o=qd(1);t&&(s?sd(s)&&(o=yx(s)):o=yx(e));const l=vde(i,r,s)?jH(i):qd(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const m=cc(i),f=s&&sd(s)?cc(s):s;let x=m,v=_P(x);for(;v&&s&&f!==x;){const g=yx(v),y=v.getBoundingClientRect(),j=ad(v),b=y.left+(v.clientLeft+parseFloat(j.paddingLeft))*g.x,_=y.top+(v.clientTop+parseFloat(j.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,h*=g.y,c+=b,u+=_,x=cc(v),v=_P(x)}}return U2({width:d,height:h,x:c,y:u})}function wO(e,t){const r=C_(e).scrollLeft;return t?t.left+r:Og(Zd(e)).left+r}function NH(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:wO(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function xde(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Zd(s),l=t?k_(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=qd(1);const d=qd(0),h=Gd(s);if((h||!h&&!i)&&((Py(s)!=="body"||kb(o))&&(c=C_(s)),Gd(s))){const f=Og(s);u=yx(s),d.x=f.x+s.clientLeft,d.y=f.y+s.clientTop}const m=o&&!h&&!i?NH(o,c,!0):qd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function yde(e){return Array.from(e.getClientRects())}function wde(e){const t=Zd(e),r=C_(e),s=e.ownerDocument.body,a=tc(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=tc(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+wO(e);const l=-r.scrollTop;return ad(s).direction==="rtl"&&(o+=tc(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function bde(e,t){const r=cc(e),s=Zd(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=xO();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const jde=new Set(["absolute","fixed"]);function Nde(e,t){const r=Og(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Gd(e)?yx(e):qd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=s*i.y;return{width:o,height:l,x:c,y:u}}function xL(e,t,r){let s;if(t==="viewport")s=bde(e,r);else if(t==="document")s=wde(Zd(e));else if(sd(t))s=Nde(t,r);else{const a=jH(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return U2(s)}function _H(e,t){const r=Wm(e);return r===t||!sd(r)||Gx(r)?!1:ad(r).position==="fixed"||_H(r,t)}function _de(e,t){const r=t.get(e);if(r)return r;let s=Dw(e,[],!1).filter(l=>sd(l)&&Py(l)!=="body"),a=null;const i=ad(e).position==="fixed";let o=i?Wm(e):e;for(;sd(o)&&!Gx(o);){const l=ad(o),c=vO(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&jde.has(a.position)||kb(o)&&!c&&_H(e,o))?s=s.filter(d=>d!==o):a=l,o=Wm(o)}return t.set(e,s),s}function Sde(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?k_(t)?[]:_de(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((u,d)=>{const h=xL(t,d,a);return u.top=tc(h.top,u.top),u.right=zm(h.right,u.right),u.bottom=zm(h.bottom,u.bottom),u.left=tc(h.left,u.left),u},xL(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kde(e){const{width:t,height:r}=bH(e);return{width:t,height:r}}function Cde(e,t,r){const s=Gd(t),a=Zd(t),i=r==="fixed",o=Og(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=qd(0);function u(){c.x=wO(a)}if(s||!s&&!i)if((Py(t)!=="body"||kb(a))&&(l=C_(t)),s){const f=Og(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&u();i&&!s&&a&&u();const d=a&&!s&&!i?NH(a,l):qd(0),h=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:o.width,height:o.height}}function _k(e){return ad(e).position==="static"}function yL(e,t){if(!Gd(e)||ad(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zd(e)===r&&(r=r.ownerDocument.body),r}function SH(e,t){const r=cc(e);if(k_(e))return r;if(!Gd(e)){let a=Wm(e);for(;a&&!Gx(a);){if(sd(a)&&!_k(a))return a;a=Wm(a)}return r}let s=yL(e,t);for(;s&&cde(s)&&_k(s);)s=yL(s,t);return s&&Gx(s)&&_k(s)&&!vO(s)?r:s||mde(e)||r}const Ede=async function(e){const t=this.getOffsetParent||SH,r=this.getDimensions,s=await r(e.floating);return{reference:Cde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Ade(e){return ad(e).direction==="rtl"}const Pde={convertOffsetParentRelativeRectToViewportRelativeRect:xde,getDocumentElement:Zd,getClippingRect:Sde,getOffsetParent:SH,getElementRects:Ede,getClientRects:yde,getDimensions:kde,getScale:yx,isElement:sd,isRTL:Ade};function kH(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Tde(e,t){let r=null,s;const a=Zd(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:f}=u;if(l||t(),!m||!f)return;const x=oj(h),v=oj(a.clientWidth-(d+m)),g=oj(a.clientHeight-(h+f)),y=oj(d),b={rootMargin:-x+"px "+-v+"px "+-g+"px "+-y+"px",threshold:tc(0,zm(1,c))||1};let _=!0;function S(T){const A=T[0].intersectionRatio;if(A!==c){if(!_)return o();A?o(!1,A):s=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!kH(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return o(!0),i}function Ode(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=yO(e),d=a||i?[...u?Dw(u):[],...Dw(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=u&&l?Tde(u,r):null;let m=-1,f=null;o&&(f=new ResizeObserver(y=>{let[j]=y;j&&j.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let x,v=c?Og(e):null;c&&g();function g(){const y=Og(e);v&&!kH(v,y)&&r(),v=y,x=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(x)}}const Ide=nde,Rde=sde,Dde=ede,Mde=ide,Lde=tde,wL=Zue,Fde=ade,Bde=(e,t,r)=>{const s=new Map,a={platform:Pde,...r},i={...a.platform,_c:s};return Que(e,t,{...a,platform:i})};var Ude=typeof document<"u",$de=function(){},g2=Ude?N.useLayoutEffect:$de;function $2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!$2(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!$2(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function CH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bL(e,t){const r=CH(e);return Math.round(t*r)/r}function Sk(e){const t=N.useRef(e);return g2(()=>{t.current=e}),t}function qde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=N.useState(s);$2(m,s)||f(s);const[x,v]=N.useState(null),[g,y]=N.useState(null),j=N.useCallback(K=>{K!==T.current&&(T.current=K,v(K))},[]),b=N.useCallback(K=>{K!==A.current&&(A.current=K,y(K))},[]),_=i||x,S=o||g,T=N.useRef(null),A=N.useRef(null),L=N.useRef(d),E=c!=null,q=Sk(c),M=Sk(a),C=Sk(u),I=N.useCallback(()=>{if(!T.current||!A.current)return;const K={placement:t,strategy:r,middleware:m};M.current&&(K.platform=M.current),Bde(T.current,A.current,K).then(ee=>{const X={...ee,isPositioned:C.current!==!1};O.current&&!$2(L.current,X)&&(L.current=X,vf.flushSync(()=>{h(X)}))})},[m,t,r,M,C]);g2(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(K=>({...K,isPositioned:!1})))},[u]);const O=N.useRef(!1);g2(()=>(O.current=!0,()=>{O.current=!1}),[]),g2(()=>{if(_&&(T.current=_),S&&(A.current=S),_&&S){if(q.current)return q.current(_,S,I);I()}},[_,S,I,q,E]);const H=N.useMemo(()=>({reference:T,floating:A,setReference:j,setFloating:b}),[j,b]),re=N.useMemo(()=>({reference:_,floating:S}),[_,S]),U=N.useMemo(()=>{const K={position:r,left:0,top:0};if(!re.floating)return K;const ee=bL(re.floating,d.x),X=bL(re.floating,d.y);return l?{...K,transform:"translate("+ee+"px, "+X+"px)",...CH(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:X}},[r,l,re.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:I,refs:H,elements:re,floatingStyles:U}),[d,I,H,re,U])}const zde=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?wL({element:s.current,padding:a}).fn(r):{}:s?wL({element:s,padding:a}).fn(r):{}}}},Wde=(e,t)=>({...Ide(e),options:[e,t]}),Vde=(e,t)=>({...Rde(e),options:[e,t]}),Hde=(e,t)=>({...Fde(e),options:[e,t]}),Gde=(e,t)=>({...Dde(e),options:[e,t]}),Kde=(e,t)=>({...Mde(e),options:[e,t]}),Yde=(e,t)=>({...Lde(e),options:[e,t]}),Jde=(e,t)=>({...zde(e),options:[e,t]});var Xde="Arrow",EH=N.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(zt.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});EH.displayName=Xde;var Qde=EH;function E_(e){const[t,r]=N.useState(void 0);return Ba(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var bO="Popper",[AH,rp]=di(bO),[Zde,PH]=AH(bO),TH=e=>{const{__scopePopper:t,children:r}=e,[s,a]=N.useState(null);return n.jsx(Zde,{scope:t,anchor:s,onAnchorChange:a,children:r})};TH.displayName=bO;var OH="PopperAnchor",IH=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=PH(OH,r),o=N.useRef(null),l=Tr(t,o);return N.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(zt.div,{...a,ref:l})});IH.displayName=OH;var jO="PopperContent",[ehe,the]=AH(jO),RH=N.forwardRef((e,t)=>{var W,V,oe,me,de,ue;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:x,...v}=e,g=PH(jO,r),[y,j]=N.useState(null),b=Tr(t,Pe=>j(Pe)),[_,S]=N.useState(null),T=E_(_),A=(T==null?void 0:T.width)??0,L=(T==null?void 0:T.height)??0,E=s+(i!=="center"?"-"+i:""),q=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],C=M.length>0,I={padding:q,boundary:M.filter(nhe),altBoundary:C},{refs:O,floatingStyles:H,placement:re,isPositioned:U,middlewareData:K}=qde({strategy:"fixed",placement:E,whileElementsMounted:(...Pe)=>Ode(...Pe,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[Wde({mainAxis:a+L,alignmentAxis:o}),c&&Vde({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Hde():void 0,...I}),c&&Gde({...I}),Kde({...I,apply:({elements:Pe,rects:G,availableWidth:pe,availableHeight:ce})=>{const{width:$,height:z}=G.reference,Z=Pe.floating.style;Z.setProperty("--radix-popper-available-width",`${pe}px`),Z.setProperty("--radix-popper-available-height",`${ce}px`),Z.setProperty("--radix-popper-anchor-width",`${$}px`),Z.setProperty("--radix-popper-anchor-height",`${z}px`)}}),_&&Jde({element:_,padding:l}),she({arrowWidth:A,arrowHeight:L}),m&&Yde({strategy:"referenceHidden",...I})]}),[ee,X]=LH(re),B=Ma(x);Ba(()=>{U&&(B==null||B())},[U,B]);const D=(W=K.arrow)==null?void 0:W.x,Q=(V=K.arrow)==null?void 0:V.y,ie=((oe=K.arrow)==null?void 0:oe.centerOffset)!==0,[te,he]=N.useState();return Ba(()=>{y&&he(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:U?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(me=K.transformOrigin)==null?void 0:me.x,(de=K.transformOrigin)==null?void 0:de.y].join(" "),...((ue=K.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(ehe,{scope:r,placedSide:ee,onArrowChange:S,arrowX:D,arrowY:Q,shouldHideArrow:ie,children:n.jsx(zt.div,{"data-side":ee,"data-align":X,...v,ref:b,style:{...v.style,animation:U?void 0:"none"}})})})});RH.displayName=jO;var DH="PopperArrow",rhe={top:"bottom",right:"left",bottom:"top",left:"right"},MH=N.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=the(DH,s),o=rhe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Qde,{...a,ref:r,style:{...a.style,display:"block"}})})});MH.displayName=DH;function nhe(e){return e!==null}var she=e=>({name:"transformOrigin",options:e,fn(t){var g,y,j;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=LH(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,f=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?h:`${m}px`,v=`${-c}px`):u==="top"?(x=o?h:`${m}px`,v=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?h:`${f}px`):u==="left"&&(x=`${s.floating.width+c}px`,v=o?h:`${f}px`),{data:{x,y:v}}}});function LH(e){const[t,r="center"]=e.split("-");return[t,r]}var A_=TH,Cb=IH,P_=RH,T_=MH,[O_]=di("Tooltip",[rp]),I_=rp(),FH="TooltipProvider",ahe=700,SP="tooltip.open",[ihe,NO]=O_(FH),BH=e=>{const{__scopeTooltip:t,delayDuration:r=ahe,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),n.jsx(ihe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};BH.displayName=FH;var Mw="Tooltip",[ohe,R_]=O_(Mw),UH=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=NO(Mw,e.__scopeTooltip),u=I_(t),[d,h]=N.useState(null),m=Pl(),f=N.useRef(0),x=o??c.disableHoverableContent,v=l??c.delayDuration,g=N.useRef(!1),[y,j]=Xo({prop:s,defaultProp:a??!1,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(SP))):c.onClose(),i==null||i(A)},caller:Mw}),b=N.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=N.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g.current=!1,j(!0)},[j]),S=N.useCallback(()=>{window.clearTimeout(f.current),f.current=0,j(!1)},[j]),T=N.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,j(!0),f.current=0},v)},[v,j]);return N.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),n.jsx(A_,{...u,children:n.jsx(ohe,{scope:t,contentId:m,open:y,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:N.useCallback(()=>{c.isOpenDelayedRef.current?T():_()},[c.isOpenDelayedRef,T,_]),onTriggerLeave:N.useCallback(()=>{x?S():(window.clearTimeout(f.current),f.current=0)},[S,x]),onOpen:_,onClose:S,disableHoverableContent:x,children:r})})};UH.displayName=Mw;var kP="TooltipTrigger",$H=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=R_(kP,r),i=NO(kP,r),o=I_(r),l=N.useRef(null),c=Tr(t,l,a.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),h=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Cb,{asChild:!0,...o,children:n.jsx(zt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:St(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:St(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:St(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:St(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:St(e.onBlur,a.onClose),onClick:St(e.onClick,a.onClose)})})});$H.displayName=kP;var lhe="TooltipPortal",[tQe,che]=O_(lhe,{forceMount:void 0}),Kx="TooltipContent",qH=N.forwardRef((e,t)=>{const r=che(Kx,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=R_(Kx,e.__scopeTooltip);return n.jsx(yi,{present:s||o.open,children:o.disableHoverableContent?n.jsx(zH,{side:a,...i,ref:t}):n.jsx(uhe,{side:a,...i,ref:t})})}),uhe=N.forwardRef((e,t)=>{const r=R_(Kx,e.__scopeTooltip),s=NO(Kx,e.__scopeTooltip),a=N.useRef(null),i=Tr(t,a),[o,l]=N.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:h}=s,m=N.useCallback(()=>{l(null),h(!1)},[h]),f=N.useCallback((x,v)=>{const g=x.currentTarget,y={x:x.clientX,y:x.clientY},j=phe(y,g.getBoundingClientRect()),b=ghe(y,j),_=vhe(v.getBoundingClientRect()),S=yhe([...b,..._]);l(S),h(!0)},[h]);return N.useEffect(()=>()=>m(),[m]),N.useEffect(()=>{if(c&&d){const x=g=>f(g,d),v=g=>f(g,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,f,m]),N.useEffect(()=>{if(o){const x=v=>{const g=v.target,y={x:v.clientX,y:v.clientY},j=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),b=!xhe(y,o);j?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,m]),n.jsx(zH,{...e,ref:i})}),[dhe,hhe]=O_(Mw,{isInside:!1}),fhe=xV("TooltipContent"),zH=N.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=R_(Kx,r),u=I_(r),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(SP,d),()=>document.removeEventListener(SP,d)),[d]),N.useEffect(()=>{if(c.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),n.jsx(rv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:n.jsxs(P_,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(fhe,{children:s}),n.jsx(dhe,{scope:r,isInside:!0,children:n.jsx(Tle,{id:c.contentId,role:"tooltip",children:a||s})})]})})});qH.displayName=Kx;var WH="TooltipArrow",mhe=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=I_(r);return hhe(WH,r).isInside?null:n.jsx(T_,{...a,...s,ref:t})});mhe.displayName=WH;function phe(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ghe(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function vhe(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function xhe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,m=c.y;d>s!=m>s&&r<(h-u)*(s-d)/(m-d)+u&&(a=!a)}return a}function yhe(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),whe(t)}function whe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var bhe=BH,jhe=UH,Nhe=$H,VH=qH;const HH=bhe,_he=jhe,She=Nhe,GH=N.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(VH,{ref:s,sideOffset:t,className:Pt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));GH.displayName=VH.displayName;var Ty=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ig=typeof window>"u"||"Deno"in globalThis;function Vo(){}function khe(e,t){return typeof e=="function"?e(t):e}function CP(e){return typeof e=="number"&&e>=0&&e!==1/0}function KH(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Im(e,t){return typeof e=="function"?e(t):e}function Xc(e,t){return typeof e=="function"?e(t):e}function jL(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==_O(o,t.options))return!1}else if(!Lw(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function NL(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Rg(t.options.mutationKey)!==Rg(i))return!1}else if(!Lw(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function _O(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rg)(e)}function Rg(e){return JSON.stringify(e,(t,r)=>EP(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Lw(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Lw(e[r],t[r])):!1}function YH(e,t){if(e===t)return e;const r=_L(e)&&_L(t);if(r||EP(e)&&EP(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(s);let u=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=YH(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function q2(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _L(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function EP(e){if(!SL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!SL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function SL(e){return Object.prototype.toString.call(e)==="[object Object]"}function Che(e){return new Promise(t=>{setTimeout(t,e)})}function AP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?YH(e,t):t}function Ehe(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Ahe(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var SO=Symbol();function JH(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===SO?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function XH(e,t){return typeof e=="function"?e(...t):!!e}var vg,wm,Ix,aV,Phe=(aV=class extends Ty{constructor(){super();Pr(this,vg);Pr(this,wm);Pr(this,Ix);Gt(this,Ix,t=>{if(!Ig&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ze(this,wm)||this.setEventListener(ze(this,Ix))}onUnsubscribe(){var t;this.hasListeners()||((t=ze(this,wm))==null||t.call(this),Gt(this,wm,void 0))}setEventListener(t){var r;Gt(this,Ix,t),(r=ze(this,wm))==null||r.call(this),Gt(this,wm,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ze(this,vg)!==t&&(Gt(this,vg,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ze(this,vg)=="boolean"?ze(this,vg):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vg=new WeakMap,wm=new WeakMap,Ix=new WeakMap,aV),kO=new Phe,Rx,bm,Dx,iV,The=(iV=class extends Ty{constructor(){super();Pr(this,Rx,!0);Pr(this,bm);Pr(this,Dx);Gt(this,Dx,t=>{if(!Ig&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){ze(this,bm)||this.setEventListener(ze(this,Dx))}onUnsubscribe(){var t;this.hasListeners()||((t=ze(this,bm))==null||t.call(this),Gt(this,bm,void 0))}setEventListener(t){var r;Gt(this,Dx,t),(r=ze(this,bm))==null||r.call(this),Gt(this,bm,t(this.setOnline.bind(this)))}setOnline(t){ze(this,Rx)!==t&&(Gt(this,Rx,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ze(this,Rx)}},Rx=new WeakMap,bm=new WeakMap,Dx=new WeakMap,iV),z2=new The;function PP(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Ohe(e){return Math.min(1e3*2**e,3e4)}function QH(e){return(e??"online")==="online"?z2.isOnline():!0}var ZH=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kk(e){return e instanceof ZH}function eG(e){let t=!1,r=0,s=!1,a;const i=PP(),o=v=>{var g;s||(m(new ZH(v)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>kO.isFocused()&&(e.networkMode==="always"||z2.isOnline())&&e.canRun(),d=()=>QH(e.networkMode)&&e.canRun(),h=v=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,v),a==null||a(),i.resolve(v))},m=v=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,v),a==null||a(),i.reject(v))},f=()=>new Promise(v=>{var g;a=y=>{(s||u())&&v(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var v;a=void 0,s||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(s)return;let v;const g=r===0?e.initialPromise:void 0;try{v=g??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var T;if(s)return;const j=e.retry??(Ig?0:3),b=e.retryDelay??Ohe,_=typeof b=="function"?b(r,y):b,S=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,y);if(t||!S){m(y);return}r++,(T=e.onFail)==null||T.call(e,r,y),Che(_).then(()=>u()?void 0:f()).then(()=>{t?m(y):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():f().then(x),i)}}var Ihe=e=>setTimeout(e,0);function Rhe(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=Ihe;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var xi=Rhe(),xg,oV,tG=(oV=class{constructor(){Pr(this,xg)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CP(this.gcTime)&&Gt(this,xg,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ig?1/0:300*1e3))}clearGcTimeout(){ze(this,xg)&&(clearTimeout(ze(this,xg)),Gt(this,xg,void 0))}},xg=new WeakMap,oV),Mx,yg,Jc,wg,_o,xb,bg,Vu,$h,lV,Dhe=(lV=class extends tG{constructor(t){super();Pr(this,Vu);Pr(this,Mx);Pr(this,yg);Pr(this,Jc);Pr(this,wg);Pr(this,_o);Pr(this,xb);Pr(this,bg);Gt(this,bg,!1),Gt(this,xb,t.defaultOptions),this.setOptions(t.options),this.observers=[],Gt(this,wg,t.client),Gt(this,Jc,ze(this,wg).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Gt(this,Mx,Mhe(this.options)),this.state=t.state??ze(this,Mx),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ze(this,_o))==null?void 0:t.promise}setOptions(t){this.options={...ze(this,xb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ze(this,Jc).remove(this)}setData(t,r){const s=AP(this.state.data,t,this.options);return hn(this,Vu,$h).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){hn(this,Vu,$h).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=ze(this,_o))==null?void 0:s.promise;return(a=ze(this,_o))==null||a.cancel(t),r?r.then(Vo).catch(Vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ze(this,Mx))}isActive(){return this.observers.some(t=>Xc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===SO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Im(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KH(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ze(this,_o))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ze(this,_o))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ze(this,Jc).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ze(this,_o)&&(ze(this,bg)?ze(this,_o).cancel({revert:!0}):ze(this,_o).cancelRetry()),this.scheduleGc()),ze(this,Jc).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hn(this,Vu,$h).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ze(this,_o))return ze(this,_o).continueRetry(),ze(this,_o).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(f=>f.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Gt(this,bg,!0),s.signal)})},i=()=>{const m=JH(this.options,r),x=(()=>{const v={client:ze(this,wg),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return Gt(this,bg,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ze(this,wg),state:this.state,fetchFn:i};return a(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),Gt(this,yg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&hn(this,Vu,$h).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var f,x,v,g;kk(m)&&m.silent||hn(this,Vu,$h).call(this,{type:"error",error:m}),kk(m)||((x=(f=ze(this,Jc).config).onError)==null||x.call(f,m,this),(g=(v=ze(this,Jc).config).onSettled)==null||g.call(v,this.state.data,m,this)),this.scheduleGc()};return Gt(this,_o,eG({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var f,x,v,g;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(x=(f=ze(this,Jc).config).onSuccess)==null||x.call(f,m,this),(g=(v=ze(this,Jc).config).onSettled)==null||g.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,f)=>{hn(this,Vu,$h).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{hn(this,Vu,$h).call(this,{type:"pause"})},onContinue:()=>{hn(this,Vu,$h).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ze(this,_o).start()}},Mx=new WeakMap,yg=new WeakMap,Jc=new WeakMap,wg=new WeakMap,_o=new WeakMap,xb=new WeakMap,bg=new WeakMap,Vu=new WeakSet,$h=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...rG(s.data,this.options),fetchMeta:t.meta??null};case"success":return Gt(this,yg,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return kk(a)&&a.revert&&ze(this,yg)?{...ze(this,yg),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),xi.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ze(this,Jc).notify({query:this,type:"updated",action:t})})},lV);function rG(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QH(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mhe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Rd,cV,Lhe=(cV=class extends Ty{constructor(t={}){super();Pr(this,Rd);this.config=t,Gt(this,Rd,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??_O(a,r);let o=this.get(i);return o||(o=new Dhe({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ze(this,Rd).has(t.queryHash)||(ze(this,Rd).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ze(this,Rd).get(t.queryHash);r&&(t.destroy(),r===t&&ze(this,Rd).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ze(this,Rd).get(t)}getAll(){return[...ze(this,Rd).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>jL(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>jL(t,s)):r}notify(t){xi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rd=new WeakMap,cV),Dd,zo,jg,Md,dm,uV,Fhe=(uV=class extends tG{constructor(t){super();Pr(this,Md);Pr(this,Dd);Pr(this,zo);Pr(this,jg);this.mutationId=t.mutationId,Gt(this,zo,t.mutationCache),Gt(this,Dd,[]),this.state=t.state||nG(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ze(this,Dd).includes(t)||(ze(this,Dd).push(t),this.clearGcTimeout(),ze(this,zo).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Gt(this,Dd,ze(this,Dd).filter(r=>r!==t)),this.scheduleGc(),ze(this,zo).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ze(this,Dd).length||(this.state.status==="pending"?this.scheduleGc():ze(this,zo).remove(this))}continue(){var t;return((t=ze(this,jg))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,h,m,f,x,v,g,y,j,b,_,S,T,A,L;const r=()=>{hn(this,Md,dm).call(this,{type:"continue"})};Gt(this,jg,eG({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,q)=>{hn(this,Md,dm).call(this,{type:"failed",failureCount:E,error:q})},onPause:()=>{hn(this,Md,dm).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ze(this,zo).canRun(this)}));const s=this.state.status==="pending",a=!ze(this,jg).canStart();try{if(s)r();else{hn(this,Md,dm).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=ze(this,zo).config).onMutate)==null?void 0:o.call(i,t,this));const q=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));q!==this.state.context&&hn(this,Md,dm).call(this,{type:"pending",context:q,variables:t,isPaused:a})}const E=await ze(this,jg).start();return await((d=(u=ze(this,zo).config).onSuccess)==null?void 0:d.call(u,E,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,E,t,this.state.context)),await((x=(f=ze(this,zo).config).onSettled)==null?void 0:x.call(f,E,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,E,null,t,this.state.context)),hn(this,Md,dm).call(this,{type:"success",data:E}),E}catch(E){try{throw await((j=(y=ze(this,zo).config).onError)==null?void 0:j.call(y,E,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,E,t,this.state.context)),await((T=(S=ze(this,zo).config).onSettled)==null?void 0:T.call(S,void 0,E,this.state.variables,this.state.context,this)),await((L=(A=this.options).onSettled)==null?void 0:L.call(A,void 0,E,t,this.state.context)),E}finally{hn(this,Md,dm).call(this,{type:"error",error:E})}}finally{ze(this,zo).runNext(this)}}},Dd=new WeakMap,zo=new WeakMap,jg=new WeakMap,Md=new WeakSet,dm=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xi.batch(()=>{ze(this,Dd).forEach(s=>{s.onMutationUpdate(t)}),ze(this,zo).notify({mutation:this,type:"updated",action:t})})},uV);function nG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vh,Hu,yb,dV,Bhe=(dV=class extends Ty{constructor(t={}){super();Pr(this,Vh);Pr(this,Hu);Pr(this,yb);this.config=t,Gt(this,Vh,new Set),Gt(this,Hu,new Map),Gt(this,yb,0)}build(t,r,s){const a=new Fhe({mutationCache:this,mutationId:++tj(this,yb)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){ze(this,Vh).add(t);const r=lj(t);if(typeof r=="string"){const s=ze(this,Hu).get(r);s?s.push(t):ze(this,Hu).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ze(this,Vh).delete(t)){const r=lj(t);if(typeof r=="string"){const s=ze(this,Hu).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&ze(this,Hu).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=lj(t);if(typeof r=="string"){const s=ze(this,Hu).get(r),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const r=lj(t);if(typeof r=="string"){const a=(s=ze(this,Hu).get(r))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xi.batch(()=>{ze(this,Vh).forEach(t=>{this.notify({type:"removed",mutation:t})}),ze(this,Vh).clear(),ze(this,Hu).clear()})}getAll(){return Array.from(ze(this,Vh))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>NL(r,s))}findAll(t={}){return this.getAll().filter(r=>NL(t,r))}notify(t){xi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xi.batch(()=>Promise.all(t.map(r=>r.continue().catch(Vo))))}},Vh=new WeakMap,Hu=new WeakMap,yb=new WeakMap,dV);function lj(e){var t;return(t=e.options.scope)==null?void 0:t.id}function kL(e){return{onFetch:(t,r)=>{var d,h,m,f,x;const s=t.options,a=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=JH(t.options,t.fetchOptions),j=async(b,_,S)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const A=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return g(M),M})(),L=await y(A),{maxPages:E}=t.options,q=S?Ahe:Ehe;return{pages:q(b.pages,L,E),pageParams:q(b.pageParams,_,E)}};if(a&&i.length){const b=a==="backward",_=b?Uhe:CL,S={pages:i,pageParams:o},T=_(s,S);l=await j(S,T,b)}else{const b=e??i.length;do{const _=c===0?o[0]??s.initialPageParam:CL(s,l);if(c>0&&_==null)break;l=await j(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,g;return(g=(v=t.options).persister)==null?void 0:g.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function CL(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Uhe(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Oa,jm,Nm,Lx,Fx,_m,Bx,Ux,hV,$he=(hV=class{constructor(e={}){Pr(this,Oa);Pr(this,jm);Pr(this,Nm);Pr(this,Lx);Pr(this,Fx);Pr(this,_m);Pr(this,Bx);Pr(this,Ux);Gt(this,Oa,e.queryCache||new Lhe),Gt(this,jm,e.mutationCache||new Bhe),Gt(this,Nm,e.defaultOptions||{}),Gt(this,Lx,new Map),Gt(this,Fx,new Map),Gt(this,_m,0)}mount(){tj(this,_m)._++,ze(this,_m)===1&&(Gt(this,Bx,kO.subscribe(async e=>{e&&(await this.resumePausedMutations(),ze(this,Oa).onFocus())})),Gt(this,Ux,z2.subscribe(async e=>{e&&(await this.resumePausedMutations(),ze(this,Oa).onOnline())})))}unmount(){var e,t;tj(this,_m)._--,ze(this,_m)===0&&((e=ze(this,Bx))==null||e.call(this),Gt(this,Bx,void 0),(t=ze(this,Ux))==null||t.call(this),Gt(this,Ux,void 0))}isFetching(e){return ze(this,Oa).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ze(this,jm).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ze(this,Oa).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ze(this,Oa).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Im(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ze(this,Oa).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=ze(this,Oa).get(s.queryHash),i=a==null?void 0:a.state.data,o=khe(t,i);if(o!==void 0)return ze(this,Oa).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return xi.batch(()=>ze(this,Oa).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ze(this,Oa).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ze(this,Oa);xi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ze(this,Oa);return xi.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=xi.batch(()=>ze(this,Oa).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Vo).catch(Vo)}invalidateQueries(e,t={}){return xi.batch(()=>(ze(this,Oa).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=xi.batch(()=>ze(this,Oa).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Vo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Vo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ze(this,Oa).build(this,t);return r.isStaleByTime(Im(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vo).catch(Vo)}fetchInfiniteQuery(e){return e.behavior=kL(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vo).catch(Vo)}ensureInfiniteQueryData(e){return e.behavior=kL(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return z2.isOnline()?ze(this,jm).resumePausedMutations():Promise.resolve()}getQueryCache(){return ze(this,Oa)}getMutationCache(){return ze(this,jm)}getDefaultOptions(){return ze(this,Nm)}setDefaultOptions(e){Gt(this,Nm,e)}setQueryDefaults(e,t){ze(this,Lx).set(Rg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ze(this,Lx).values()],r={};return t.forEach(s=>{Lw(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){ze(this,Fx).set(Rg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ze(this,Fx).values()],r={};return t.forEach(s=>{Lw(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ze(this,Nm).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_O(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===SO&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ze(this,Nm).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ze(this,Oa).clear(),ze(this,jm).clear()}},Oa=new WeakMap,jm=new WeakMap,Nm=new WeakMap,Lx=new WeakMap,Fx=new WeakMap,_m=new WeakMap,Bx=new WeakMap,Ux=new WeakMap,hV),Nl,En,wb,Wo,Ng,$x,Sm,km,bb,qx,zx,_g,Sg,Cm,Wx,rs,uw,TP,OP,IP,RP,DP,MP,LP,sG,fV,qhe=(fV=class extends Ty{constructor(t,r){super();Pr(this,rs);Pr(this,Nl);Pr(this,En);Pr(this,wb);Pr(this,Wo);Pr(this,Ng);Pr(this,$x);Pr(this,Sm);Pr(this,km);Pr(this,bb);Pr(this,qx);Pr(this,zx);Pr(this,_g);Pr(this,Sg);Pr(this,Cm);Pr(this,Wx,new Set);this.options=r,Gt(this,Nl,t),Gt(this,km,null),Gt(this,Sm,PP()),this.options.experimental_prefetchInRender||ze(this,Sm).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ze(this,En).addObserver(this),EL(ze(this,En),this.options)?hn(this,rs,uw).call(this):this.updateResult(),hn(this,rs,RP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FP(ze(this,En),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FP(ze(this,En),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,hn(this,rs,DP).call(this),hn(this,rs,MP).call(this),ze(this,En).removeObserver(this)}setOptions(t){const r=this.options,s=ze(this,En);if(this.options=ze(this,Nl).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xc(this.options.enabled,ze(this,En))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");hn(this,rs,LP).call(this),ze(this,En).setOptions(this.options),r._defaulted&&!q2(this.options,r)&&ze(this,Nl).getQueryCache().notify({type:"observerOptionsUpdated",query:ze(this,En),observer:this});const a=this.hasListeners();a&&AL(ze(this,En),s,this.options,r)&&hn(this,rs,uw).call(this),this.updateResult(),a&&(ze(this,En)!==s||Xc(this.options.enabled,ze(this,En))!==Xc(r.enabled,ze(this,En))||Im(this.options.staleTime,ze(this,En))!==Im(r.staleTime,ze(this,En)))&&hn(this,rs,TP).call(this);const i=hn(this,rs,OP).call(this);a&&(ze(this,En)!==s||Xc(this.options.enabled,ze(this,En))!==Xc(r.enabled,ze(this,En))||i!==ze(this,Cm))&&hn(this,rs,IP).call(this,i)}getOptimisticResult(t){const r=ze(this,Nl).getQueryCache().build(ze(this,Nl),t),s=this.createResult(r,t);return Whe(this,s)&&(Gt(this,Wo,s),Gt(this,$x,this.options),Gt(this,Ng,ze(this,En).state)),s}getCurrentResult(){return ze(this,Wo)}trackResult(t,r){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(s,a))})}trackProp(t){ze(this,Wx).add(t)}getCurrentQuery(){return ze(this,En)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ze(this,Nl).defaultQueryOptions(t),s=ze(this,Nl).getQueryCache().build(ze(this,Nl),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return hn(this,rs,uw).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ze(this,Wo)))}createResult(t,r){var E;const s=ze(this,En),a=this.options,i=ze(this,Wo),o=ze(this,Ng),l=ze(this,$x),u=t!==s?t.state:ze(this,wb),{state:d}=t;let h={...d},m=!1,f;if(r._optimisticResults){const q=this.hasListeners(),M=!q&&EL(t,r),C=q&&AL(t,s,r,a);(M||C)&&(h={...h,...rG(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:g}=h;f=h.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&g==="pending"){let q;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(q=i.data,y=!0):q=typeof r.placeholderData=="function"?r.placeholderData((E=ze(this,zx))==null?void 0:E.state.data,ze(this,zx)):r.placeholderData,q!==void 0&&(g="success",f=AP(i==null?void 0:i.data,q,r),m=!0)}if(r.select&&f!==void 0&&!y)if(i&&f===(o==null?void 0:o.data)&&r.select===ze(this,bb))f=ze(this,qx);else try{Gt(this,bb,r.select),f=r.select(f),f=AP(i==null?void 0:i.data,f,r),Gt(this,qx,f),Gt(this,km,null)}catch(q){Gt(this,km,q)}ze(this,km)&&(x=ze(this,km),f=ze(this,qx),v=Date.now(),g="error");const j=h.fetchStatus==="fetching",b=g==="pending",_=g==="error",S=b&&j,T=f!==void 0,L={status:g,fetchStatus:h.fetchStatus,isPending:b,isSuccess:g==="success",isError:_,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!b,isLoadingError:_&&!T,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&T,isStale:CO(t,r),refetch:this.refetch,promise:ze(this,Sm),isEnabled:Xc(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const q=I=>{L.status==="error"?I.reject(L.error):L.data!==void 0&&I.resolve(L.data)},M=()=>{const I=Gt(this,Sm,L.promise=PP());q(I)},C=ze(this,Sm);switch(C.status){case"pending":t.queryHash===s.queryHash&&q(C);break;case"fulfilled":(L.status==="error"||L.data!==C.value)&&M();break;case"rejected":(L.status!=="error"||L.error!==C.reason)&&M();break}}return L}updateResult(){const t=ze(this,Wo),r=this.createResult(ze(this,En),this.options);if(Gt(this,Ng,ze(this,En).state),Gt(this,$x,this.options),ze(this,Ng).data!==void 0&&Gt(this,zx,ze(this,En)),q2(r,t))return;Gt(this,Wo,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!ze(this,Wx).size)return!0;const o=new Set(i??ze(this,Wx));return this.options.throwOnError&&o.add("error"),Object.keys(ze(this,Wo)).some(l=>{const c=l;return ze(this,Wo)[c]!==t[c]&&o.has(c)})};hn(this,rs,sG).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&hn(this,rs,RP).call(this)}},Nl=new WeakMap,En=new WeakMap,wb=new WeakMap,Wo=new WeakMap,Ng=new WeakMap,$x=new WeakMap,Sm=new WeakMap,km=new WeakMap,bb=new WeakMap,qx=new WeakMap,zx=new WeakMap,_g=new WeakMap,Sg=new WeakMap,Cm=new WeakMap,Wx=new WeakMap,rs=new WeakSet,uw=function(t){hn(this,rs,LP).call(this);let r=ze(this,En).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Vo)),r},TP=function(){hn(this,rs,DP).call(this);const t=Im(this.options.staleTime,ze(this,En));if(Ig||ze(this,Wo).isStale||!CP(t))return;const s=KH(ze(this,Wo).dataUpdatedAt,t)+1;Gt(this,_g,setTimeout(()=>{ze(this,Wo).isStale||this.updateResult()},s))},OP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ze(this,En)):this.options.refetchInterval)??!1},IP=function(t){hn(this,rs,MP).call(this),Gt(this,Cm,t),!(Ig||Xc(this.options.enabled,ze(this,En))===!1||!CP(ze(this,Cm))||ze(this,Cm)===0)&&Gt(this,Sg,setInterval(()=>{(this.options.refetchIntervalInBackground||kO.isFocused())&&hn(this,rs,uw).call(this)},ze(this,Cm)))},RP=function(){hn(this,rs,TP).call(this),hn(this,rs,IP).call(this,hn(this,rs,OP).call(this))},DP=function(){ze(this,_g)&&(clearTimeout(ze(this,_g)),Gt(this,_g,void 0))},MP=function(){ze(this,Sg)&&(clearInterval(ze(this,Sg)),Gt(this,Sg,void 0))},LP=function(){const t=ze(this,Nl).getQueryCache().build(ze(this,Nl),this.options);if(t===ze(this,En))return;const r=ze(this,En);Gt(this,En,t),Gt(this,wb,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},sG=function(t){xi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ze(this,Wo))}),ze(this,Nl).getQueryCache().notify({query:ze(this,En),type:"observerResultsUpdated"})})},fV);function zhe(e,t){return Xc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function EL(e,t){return zhe(e,t)||e.state.data!==void 0&&FP(e,t,t.refetchOnMount)}function FP(e,t,r){if(Xc(t.enabled,e)!==!1&&Im(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&CO(e,t)}return!1}function AL(e,t,r,s){return(e!==t||Xc(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&CO(e,r)}function CO(e,t){return Xc(t.enabled,e)!==!1&&e.isStaleByTime(Im(t.staleTime,e))}function Whe(e,t){return!q2(e.getCurrentResult(),t)}var Em,Am,_l,Hh,sf,v2,BP,mV,Vhe=(mV=class extends Ty{constructor(r,s){super();Pr(this,sf);Pr(this,Em);Pr(this,Am);Pr(this,_l);Pr(this,Hh);Gt(this,Em,r),this.setOptions(s),this.bindMethods(),hn(this,sf,v2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=ze(this,Em).defaultMutationOptions(r),q2(this.options,s)||ze(this,Em).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ze(this,_l),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Rg(s.mutationKey)!==Rg(this.options.mutationKey)?this.reset():((a=ze(this,_l))==null?void 0:a.state.status)==="pending"&&ze(this,_l).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ze(this,_l))==null||r.removeObserver(this)}onMutationUpdate(r){hn(this,sf,v2).call(this),hn(this,sf,BP).call(this,r)}getCurrentResult(){return ze(this,Am)}reset(){var r;(r=ze(this,_l))==null||r.removeObserver(this),Gt(this,_l,void 0),hn(this,sf,v2).call(this),hn(this,sf,BP).call(this)}mutate(r,s){var a;return Gt(this,Hh,s),(a=ze(this,_l))==null||a.removeObserver(this),Gt(this,_l,ze(this,Em).getMutationCache().build(ze(this,Em),this.options)),ze(this,_l).addObserver(this),ze(this,_l).execute(r)}},Em=new WeakMap,Am=new WeakMap,_l=new WeakMap,Hh=new WeakMap,sf=new WeakSet,v2=function(){var s;const r=((s=ze(this,_l))==null?void 0:s.state)??nG();Gt(this,Am,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},BP=function(r){xi.batch(()=>{var s,a,i,o,l,c,u,d;if(ze(this,Hh)&&this.hasListeners()){const h=ze(this,Am).variables,m=ze(this,Am).context;(r==null?void 0:r.type)==="success"?((a=(s=ze(this,Hh)).onSuccess)==null||a.call(s,r.data,h,m),(o=(i=ze(this,Hh)).onSettled)==null||o.call(i,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=ze(this,Hh)).onError)==null||c.call(l,r.error,h,m),(d=(u=ze(this,Hh)).onSettled)==null||d.call(u,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(ze(this,Am))})})},mV),aG=N.createContext(void 0),wa=e=>{const t=N.useContext(aG);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Hhe=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(aG.Provider,{value:e,children:t})),iG=N.createContext(!1),Ghe=()=>N.useContext(iG);iG.Provider;function Khe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Yhe=N.createContext(Khe()),Jhe=()=>N.useContext(Yhe),Xhe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Qhe=e=>{N.useEffect(()=>{e.clearReset()},[e])},Zhe=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||XH(r,[e.error,s])),efe=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>t(r(...s)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},tfe=(e,t)=>e.isLoading&&e.isFetching&&!t,rfe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PL=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nfe(e,t,r){var h,m,f,x,v;const s=Ghe(),a=Jhe(),i=wa(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",efe(o),Xhe(o,a),Qhe(a);const l=!i.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(g=>{const y=d?c.subscribe(xi.batchCalls(g)):Vo;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o)},[o,c]),rfe(o,u))throw PL(o,c,a);if(Zhe({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||x.call(f,o,u),o.experimental_prefetchInRender&&!Ig&&tfe(u,s)){const g=l?PL(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;g==null||g.catch(Vo).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function vr(e,t){return nfe(e,qhe)}function ds(e,t){const r=wa(),[s]=N.useState(()=>new Vhe(r,e));N.useEffect(()=>{s.setOptions(e)},[s,e]);const a=N.useSyncExternalStore(N.useCallback(o=>s.subscribe(xi.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=N.useCallback((o,l)=>{s.mutate(o,l).catch(Vo)},[s]);if(a.error&&XH(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fw.apply(this,arguments)}var Pm;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pm||(Pm={}));const TL="popstate";function sfe(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return UP("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:W2(a)}return ife(t,r,null,e)}function Ya(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oG(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function afe(){return Math.random().toString(36).substr(2,8)}function OL(e,t){return{usr:e.state,key:e.key,idx:t}}function UP(e,t,r,s){return r===void 0&&(r=null),Fw({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oy(t):t,{state:r,key:t&&t.key||s||afe()})}function W2(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Oy(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ife(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Pm.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Fw({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Pm.Pop;let g=d(),y=g==null?null:g-u;u=g,c&&c({action:l,location:v.location,delta:y})}function m(g,y){l=Pm.Push;let j=UP(v.location,g,y);u=d()+1;let b=OL(j,u),_=v.createHref(j);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function f(g,y){l=Pm.Replace;let j=UP(v.location,g,y);u=d();let b=OL(j,u),_=v.createHref(j);o.replaceState(b,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function x(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof g=="string"?g:W2(g);return j=j.replace(/ $/,"%20"),Ya(y,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,y)}let v={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(TL,h),c=g,()=>{a.removeEventListener(TL,h),c=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let y=x(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:f,go(g){return o.go(g)}};return v}var IL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(IL||(IL={}));function ofe(e,t,r){return r===void 0&&(r="/"),lfe(e,t,r)}function lfe(e,t,r,s){let a=typeof t=="string"?Oy(t):t,i=EO(a.pathname||"/",r);if(i==null)return null;let o=lG(e);cfe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=bfe(i);l=xfe(o[c],u)}return l}function lG(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ya(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Rm([s,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ya(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lG(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:gfe(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of cG(i.path))a(i,o,c)}),t}function cG(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=cG(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cfe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vfe(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const ufe=/^:[\w-]+$/,dfe=3,hfe=2,ffe=1,mfe=10,pfe=-2,RL=e=>e==="*";function gfe(e,t){let r=e.split("/"),s=r.length;return r.some(RL)&&(s+=pfe),t&&(s+=hfe),r.filter(a=>!RL(a)).reduce((a,i)=>a+(ufe.test(i)?dfe:i===""?ffe:mfe),s)}function vfe(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function xfe(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=yfe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Rm([i,h.pathname]),pathnameBase:Sfe(Rm([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Rm([i,h.pathnameBase]))}return o}function yfe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=wfe(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[h];return f&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function wfe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),oG(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function bfe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oG(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function EO(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function jfe(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Oy(e):e;return{pathname:r?r.startsWith("/")?r:Nfe(r,t):t,search:kfe(s),hash:Cfe(a)}}function Nfe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ck(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _fe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function AO(e,t){let r=_fe(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function PO(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Oy(e):(a=Fw({},e),Ya(!a.pathname||!a.pathname.includes("?"),Ck("?","pathname","search",a)),Ya(!a.pathname||!a.pathname.includes("#"),Ck("#","pathname","hash",a)),Ya(!a.search||!a.search.includes("#"),Ck("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=jfe(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Rm=e=>e.join("/").replace(/\/\/+/g,"/"),Sfe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kfe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cfe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Efe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uG=["post","put","patch","delete"];new Set(uG);const Afe=["get",...uG];new Set(Afe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Bw.apply(this,arguments)}const TO=N.createContext(null),Pfe=N.createContext(null),np=N.createContext(null),D_=N.createContext(null),yf=N.createContext({outlet:null,matches:[],isDataRoute:!1}),dG=N.createContext(null);function Tfe(e,t){let{relative:r}=t===void 0?{}:t;Iy()||Ya(!1);let{basename:s,navigator:a}=N.useContext(np),{hash:i,pathname:o,search:l}=fG(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Rm([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Iy(){return N.useContext(D_)!=null}function sp(){return Iy()||Ya(!1),N.useContext(D_).location}function hG(e){N.useContext(np).static||N.useLayoutEffect(e)}function ns(){let{isDataRoute:e}=N.useContext(yf);return e?Wfe():Ofe()}function Ofe(){Iy()||Ya(!1);let e=N.useContext(TO),{basename:t,future:r,navigator:s}=N.useContext(np),{matches:a}=N.useContext(yf),{pathname:i}=sp(),o=JSON.stringify(AO(a,r.v7_relativeSplatPath)),l=N.useRef(!1);return hG(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=PO(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Rm([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,o,i,e])}function _c(){let{matches:e}=N.useContext(yf),t=e[e.length-1];return t?t.params:{}}function fG(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=N.useContext(np),{matches:a}=N.useContext(yf),{pathname:i}=sp(),o=JSON.stringify(AO(a,s.v7_relativeSplatPath));return N.useMemo(()=>PO(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Ife(e,t){return Rfe(e,t)}function Rfe(e,t,r,s){Iy()||Ya(!1);let{navigator:a}=N.useContext(np),{matches:i}=N.useContext(yf),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=sp(),d;if(t){var h;let g=typeof t=="string"?Oy(t):t;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||Ya(!1),d=g}else d=u;let m=d.pathname||"/",f=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=ofe(e,{pathname:f}),v=Bfe(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Rm([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Rm([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return t&&v?N.createElement(D_.Provider,{value:{location:Bw({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pm.Pop}},v):v}function Dfe(){let e=zfe(),t=Efe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const Mfe=N.createElement(Dfe,null);class Lfe extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(yf.Provider,{value:this.props.routeContext},N.createElement(dG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ffe(e){let{routeContext:t,match:r,children:s}=e,a=N.useContext(TO);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(yf.Provider,{value:t},s)}function Bfe(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ya(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:f}=r,x=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let f,x=!1,v=null,g=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Mfe,c&&(u<0&&m===0?(Vfe("route-fallback"),x=!0,g=null):u===m&&(x=!0,g=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),j=()=>{let b;return f?b=v:x?b=g:h.route.Component?b=N.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,N.createElement(Ffe,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?N.createElement(Lfe,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):j()},null)}var mG=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(mG||{}),pG=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(pG||{});function Ufe(e){let t=N.useContext(TO);return t||Ya(!1),t}function $fe(e){let t=N.useContext(Pfe);return t||Ya(!1),t}function qfe(e){let t=N.useContext(yf);return t||Ya(!1),t}function gG(e){let t=qfe(),r=t.matches[t.matches.length-1];return r.route.id||Ya(!1),r.route.id}function zfe(){var e;let t=N.useContext(dG),r=$fe(),s=gG();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Wfe(){let{router:e}=Ufe(mG.UseNavigateStable),t=gG(pG.UseNavigateStable),r=N.useRef(!1);return hG(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bw({fromRouteId:t},i)))},[e,t])}const DL={};function Vfe(e,t,r){DL[e]||(DL[e]=!0)}function Hfe(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gfe(e){let{to:t,replace:r,state:s,relative:a}=e;Iy()||Ya(!1);let{future:i,static:o}=N.useContext(np),{matches:l}=N.useContext(yf),{pathname:c}=sp(),u=ns(),d=PO(t,AO(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(h),{replace:r,state:s,relative:a}),[u,h,a,r,s]),null}function Ut(e){Ya(!1)}function Kfe(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Pm.Pop,navigator:i,static:o=!1,future:l}=e;Iy()&&Ya(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:o,future:Bw({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Oy(s));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:x="default"}=s,v=N.useMemo(()=>{let g=EO(d,c);return g==null?null:{location:{pathname:g,search:h,hash:m,state:f,key:x},navigationType:a}},[c,d,h,m,f,x,a]);return v==null?null:N.createElement(np.Provider,{value:u},N.createElement(D_.Provider,{children:r,value:v}))}function Yfe(e){let{children:t,location:r}=e;return Ife($P(t),r)}new Promise(()=>{});function $P(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(s,a)=>{if(!N.isValidElement(s))return;let i=[...t,a];if(s.type===N.Fragment){r.push.apply(r,$P(s.props.children,i));return}s.type!==Ut&&Ya(!1),!s.props.index||!s.props.children||Ya(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=$P(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qP.apply(this,arguments)}function Jfe(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Xfe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qfe(e,t){return e.button===0&&(!t||t==="_self")&&!Xfe(e)}function zP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Zfe(e,t){let r=zP(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const eme=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tme="6";try{window.__reactRouterVersion=tme}catch{}const rme="startTransition",ML=g_[rme];function nme(e){let{basename:t,children:r,future:s,window:a}=e,i=N.useRef();i.current==null&&(i.current=sfe({window:a,v5Compat:!0}));let o=i.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=N.useCallback(h=>{u&&ML?ML(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>Hfe(s),[s]),N.createElement(Kfe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const sme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ame=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=N.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=Jfe(t,eme),{basename:f}=N.useContext(np),x,v=!1;if(typeof u=="string"&&ame.test(u)&&(x=u,sme))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=EO(_.pathname,f);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:v=!0}catch{}let g=Tfe(u,{relative:a}),y=ime(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function j(b){s&&s(b),b.defaultPrevented||y(b)}return N.createElement("a",qP({},m,{href:x||g,onClick:v||i?s:j,ref:r,target:c}))});var LL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(LL||(LL={}));var FL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(FL||(FL={}));function ime(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ns(),u=sp(),d=fG(e,{relative:o});return N.useCallback(h=>{if(Qfe(h,r)){h.preventDefault();let m=s!==void 0?s:W2(u)===W2(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,s,a,r,e,i,o,l])}function Eb(e){let t=N.useRef(zP(e)),r=N.useRef(!1),s=sp(),a=N.useMemo(()=>Zfe(s.search,r.current?null:t.current),[s.search]),i=ns(),o=N.useCallback((l,c)=>{const u=zP(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var WP=function(e,t){return WP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},WP(e,t)};function vG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");WP(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Zc=function(){return Zc=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zc.apply(this,arguments)};function ap(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function xG(e,t,r,s){var a=arguments.length,i=a<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function yG(e,t){return function(r,s){t(r,s,e)}}function wG(e,t,r,s,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=s.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?s.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,s.name):{}),h,m=!1,f=r.length-1;f>=0;f--){var x={};for(var v in s)x[v]=v==="access"?{}:s[v];for(var v in s.access)x.access[v]=s.access[v];x.addInitializer=function(y){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var g=(0,r[f])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(h=o(g.get))&&(d.get=h),(h=o(g.set))&&(d.set=h),(h=o(g.init))&&a.unshift(h)}else(h=o(g))&&(l==="field"?a.unshift(h):d[c]=h)}u&&Object.defineProperty(u,s.name,d),m=!0}function bG(e,t,r){for(var s=arguments.length>2,a=0;a<t.length;a++)r=s?t[a].call(e,r):t[a].call(e);return s?r:void 0}function jG(e){return typeof e=="symbol"?e:"".concat(e)}function NG(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function _G(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Nr(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})}function SG(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var M_=Object.create?(function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}):(function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]});function kG(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&M_(t,e,r)}function V2(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function OO(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function CG(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(OO(arguments[t]));return e}function EG(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var s=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)s[a]=i[o];return s}function IO(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function Yx(e){return this instanceof Yx?(this.v=e,this):new Yx(e)}function AG(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(f){return function(x){return Promise.resolve(x).then(f,h)}}function l(f,x){s[f]&&(a[f]=function(v){return new Promise(function(g,y){i.push([f,v,g,y])>1||c(f,v)})},x&&(a[f]=x(a[f])))}function c(f,x){try{u(s[f](x))}catch(v){m(i[0][3],v)}}function u(f){f.value instanceof Yx?Promise.resolve(f.value.v).then(d,h):m(i[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function m(f,x){f(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function PG(e){var t,r;return t={},s("next"),s("throw",function(a){throw a}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Yx(e[a](o)),done:!1}:i?i(o):o}:i}}function TG(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof V2=="function"?V2(e):e[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function OG(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ome=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},VP=function(e){return VP=Object.getOwnPropertyNames||function(t){var r=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[r.length]=s);return r},VP(e)};function IG(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=VP(e),s=0;s<r.length;s++)r[s]!=="default"&&M_(t,e,r[s]);return ome(t,e),t}function RG(e){return e&&e.__esModule?e:{default:e}}function DG(e,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)}function MG(e,t,r,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function LG(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function FG(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],r&&(a=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");a&&(s=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:s,async:r})}else r&&e.stack.push({async:!0});return t}var lme=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var s=new Error(r);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function BG(e){function t(i){e.error=e.hasError?new lme(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,s=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&s===1)return s=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else s|=1}catch(o){t(o)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function UG(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,a,i,o){return s?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const cme={__extends:vG,__assign:Zc,__rest:ap,__decorate:xG,__param:yG,__esDecorate:wG,__runInitializers:bG,__propKey:jG,__setFunctionName:NG,__metadata:_G,__awaiter:Nr,__generator:SG,__createBinding:M_,__exportStar:kG,__values:V2,__read:OO,__spread:CG,__spreadArrays:EG,__spreadArray:IO,__await:Yx,__asyncGenerator:AG,__asyncDelegator:PG,__asyncValues:TG,__makeTemplateObject:OG,__importStar:IG,__importDefault:RG,__classPrivateFieldGet:DG,__classPrivateFieldSet:MG,__classPrivateFieldIn:LG,__addDisposableResource:FG,__disposeResources:BG,__rewriteRelativeImportExtension:UG},ume=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:FG,get __assign(){return Zc},__asyncDelegator:PG,__asyncGenerator:AG,__asyncValues:TG,__await:Yx,__awaiter:Nr,__classPrivateFieldGet:DG,__classPrivateFieldIn:LG,__classPrivateFieldSet:MG,__createBinding:M_,__decorate:xG,__disposeResources:BG,__esDecorate:wG,__exportStar:kG,__extends:vG,__generator:SG,__importDefault:RG,__importStar:IG,__makeTemplateObject:OG,__metadata:_G,__param:yG,__propKey:jG,__read:OO,__rest:ap,__rewriteRelativeImportExtension:UG,__runInitializers:bG,__setFunctionName:NG,__spread:CG,__spreadArray:IO,__spreadArrays:EG,__values:V2,default:cme},Symbol.toStringTag,{value:"Module"})),dme=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class RO extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class BL extends RO{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class UL extends RO{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $L extends RO{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var HP;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(HP||(HP={}));class hme{constructor(t,{headers:r={},customFetch:s,region:a=HP.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=dme(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Nr(this,arguments,void 0,function*(r,s={}){var a;try{const{headers:i,method:o,body:l,signal:c}=s;let u={},{region:d}=s;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new BL(y)}),x=f.headers.get("x-relay-error");if(x&&x==="true")throw new UL(f);if(!f.ok)throw new $L(f);let v=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return v==="application/json"?g=yield f.json():v==="application/octet-stream"||v==="application/pdf"?g=yield f.blob():v==="text/event-stream"?g=f:v==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new BL(i)}:{data:null,error:i,response:i instanceof $L||i instanceof UL?i.context:void 0}}})}}var xo={};const Ry=Goe(ume);var cj={},uj={},dj={},hj={},fj={},mj={},qL;function $G(){if(qL)return mj;qL=1,Object.defineProperty(mj,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return mj.default=e,mj}var zL;function qG(){if(zL)return fj;zL=1,Object.defineProperty(fj,"__esModule",{value:!0});const t=Ry.__importDefault($G());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,m;let f=null,x=null,v=null,g=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(f={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,v=null,g=406,y="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const b=await c.text();try{f=JSON.parse(b),Array.isArray(f)&&c.status===404&&(x=[],f=null,g=200,y="OK")}catch{c.status===404&&b===""?(g=204,y="No Content"):f={message:b}}if(f&&this.isMaybeSingle&&(!((m=f==null?void 0:f.details)===null||m===void 0)&&m.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:x,count:v,status:g,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,i)}returns(){return this}overrideTypes(){return this}}return fj.default=r,fj}var WL;function zG(){if(WL)return hj;WL=1,Object.defineProperty(hj,"__esModule",{value:!0});const t=Ry.__importDefault(qG());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return hj.default=r,hj}var VL;function DO(){if(VL)return dj;VL=1,Object.defineProperty(dj,"__esModule",{value:!0});const t=Ry.__importDefault(zG()),r=new RegExp("[,()]");class s extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return dj.default=s,dj}var HL;function WG(){if(HL)return uj;HL=1,Object.defineProperty(uj,"__esModule",{value:!0});const t=Ry.__importDefault(DO());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return uj.default=r,uj}var GL;function fme(){if(GL)return cj;GL=1,Object.defineProperty(cj,"__esModule",{value:!0});const e=Ry,t=e.__importDefault(WG()),r=e.__importDefault(DO());class s{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${i}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([v,g])=>g!==void 0).map(([v,g])=>[v,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([v,g])=>{m.searchParams.append(v,g)})):(h="POST",f=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:h,url:m,headers:x,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return cj.default=s,cj}var KL;function mme(){if(KL)return xo;KL=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.PostgrestError=xo.PostgrestBuilder=xo.PostgrestTransformBuilder=xo.PostgrestFilterBuilder=xo.PostgrestQueryBuilder=xo.PostgrestClient=void 0;const e=Ry,t=e.__importDefault(fme());xo.PostgrestClient=t.default;const r=e.__importDefault(WG());xo.PostgrestQueryBuilder=r.default;const s=e.__importDefault(DO());xo.PostgrestFilterBuilder=s.default;const a=e.__importDefault(zG());xo.PostgrestTransformBuilder=a.default;const i=e.__importDefault(qG());xo.PostgrestBuilder=i.default;const o=e.__importDefault($G());return xo.PostgrestError=o.default,xo.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},xo}var VG=mme();const HG=mu(VG),pme=pV({__proto__:null,default:HG},[VG]),{PostgrestClient:gme,PostgrestQueryBuilder:nQe,PostgrestFilterBuilder:sQe,PostgrestTransformBuilder:aQe,PostgrestBuilder:iQe,PostgrestError:oQe}=HG||pme;class vme{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xme="2.80.0",yme=`realtime-js/${xme}`,wme="1.0.0",GP=1e4,bme=1e3,jme=100;var yw;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yw||(yw={}));var gi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gi||(gi={}));var Gu;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Gu||(Gu={}));var KP;(function(e){e.websocket="websocket"})(KP||(KP={}));var og;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(og||(og={}));class Nme{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class GG{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ts;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ts||(Ts={}));const YL=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_me(o,e,t,a),i),{}):{}},_me=(e,t,r,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?KG(i,o):YP(o)},KG=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Eme(t,r)}switch(e){case Ts.bool:return Sme(t);case Ts.float4:case Ts.float8:case Ts.int2:case Ts.int4:case Ts.int8:case Ts.numeric:case Ts.oid:return kme(t);case Ts.json:case Ts.jsonb:return Cme(t);case Ts.timestamp:return Ame(t);case Ts.abstime:case Ts.date:case Ts.daterange:case Ts.int4range:case Ts.int8range:case Ts.money:case Ts.reltime:case Ts.text:case Ts.time:case Ts.timestamptz:case Ts.timetz:case Ts.tsrange:case Ts.tstzrange:return YP(t);default:return YP(t)}},YP=e=>e,Sme=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kme=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Cme=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Eme=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>KG(t,l))}return e},Ame=e=>typeof e=="string"?e.replace(" ","T"):e,YG=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ek{constructor(t,r,s={},a=GP){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var JL;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(JL||(JL={}));class ww{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ww.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ww.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ww.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),x=d.filter(g=>f.indexOf(g.presence_ref)<0),v=h.filter(g=>m.indexOf(g.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var XL;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(XL||(XL={}));var bw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bw||(bw={}));var zh;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zh||(zh={}));class MO{constructor(t,r={config:{}},s){var a,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ek(this,Gu.join,this.params,this.timeout),this.rejoinTimer=new GG(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gu.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ww(this),this.broadcastEndpointURL=YG(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gi.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[bw.PRESENCE]&&this.bindings[bw.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(zh.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(zh.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var x;if(this.socket.setAuth(),f===void 0){t==null||t(zh.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,y=[];for(let j=0;j<g;j++){const b=v[j],{filter:{event:_,schema:S,table:T,filter:A}}=b,L=f&&f[j];if(L&&L.event===_&&L.schema===S&&L.table===T&&L.filter===A)y.push(Object.assign(Object.assign({},b),{id:L.id}));else{this.unsubscribe(),this.state=gi.errored,t==null||t(zh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(zh.SUBSCRIBED);return}}).receive("error",f=>{this.state=gi.errored,t==null||t(zh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===gi.joined&&t===bw.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gu.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Ek(this,Gu.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gi.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ek(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jme){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Gu;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var x,v,g;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((g=(v=f.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var x,v,g,y,j,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,S=(x=f.filter)===null||x===void 0?void 0:x.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(j=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:g,commit_timestamp:y,type:j,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:y,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(x))}f.callback(m,s)})}_isClosed(){return this.state===gi.closed}_isJoined(){return this.state===gi.joined}_isJoining(){return this.state===gi.joining}_isLeaving(){return this.state===gi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&MO.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Gu.close,{},t)}_onError(t){this._on(Gu.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=YL(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=YL(t.columns,t.old_record)),r}}const Ak=()=>{},pj={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pme=[1e3,2e3,5e3,1e4],Tme=1e4,Ome=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ime{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=GP,this.transport=null,this.heartbeatIntervalMs=pj.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ak,this.ref=0,this.reconnectTimer=null,this.logger=Ak,this.conn=null,this.sendBuffer=[],this.serializer=new Nme,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${KP.websocket}`,this.httpEndpoint=YG(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vme.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wme}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case yw.connecting:return og.Connecting;case yw.open:return og.Open;case yw.closing:return og.Closing;default:return og.Closed}}isConnected(){return this.connectionState()===og.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new MO(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bme,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pj.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Gu.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Ome],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:yme};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Gu.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new GG(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pj.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:GP,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:pj.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ak,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(h=>Pme[h-1]||Tme),this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:((h,m)=>m(JSON.stringify(h))),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class LO extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Rme extends LO{constructor(t,r,s){super(t),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class JP extends LO{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const FO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Dme=()=>Response,XP=e=>{if(Array.isArray(e))return e.map(r=>XP(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=XP(s)}),t},Mme=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Pk=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Lme=(e,t,r)=>Nr(void 0,void 0,void 0,function*(){const s=yield Dme();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new Rme(Pk(a),i,o))}).catch(a=>{t(new JP(Pk(a),a))}):t(new JP(Pk(e),e))}),Fme=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(Mme(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Ab(e,t,r,s,a,i){return Nr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Fme(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Lme(c,l,s))})})}function Uw(e,t,r,s){return Nr(this,void 0,void 0,function*(){return Ab(e,"GET",t,r,s)})}function Wu(e,t,r,s,a){return Nr(this,void 0,void 0,function*(){return Ab(e,"POST",t,s,a,r)})}function QP(e,t,r,s,a){return Nr(this,void 0,void 0,function*(){return Ab(e,"PUT",t,s,a,r)})}function Bme(e,t,r,s){return Nr(this,void 0,void 0,function*(){return Ab(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function BO(e,t,r,s,a){return Nr(this,void 0,void 0,function*(){return Ab(e,"DELETE",t,s,a,r)})}class Ume{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Nr(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(fa(t))return{data:null,error:t};throw t}})}}var JG;class $me{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[JG]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ume(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Nr(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(fa(t))return{data:null,error:t};throw t}})}}JG=Symbol.toStringTag;const qme={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},QL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zme{constructor(t,r={},s,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=s,this.fetch=FO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,s,a){return Nr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},QL),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?QP:Wu)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fa(i))return{data:null,error:i};throw i}})}upload(t,r,s){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return Nr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:QL.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield QP(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(fa(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Nr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Wu(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new LO("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}update(t,r,s){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return Nr(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}copy(t,r,s){return Nr(this,void 0,void 0,function*(){try{return{data:{path:(yield Wu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return Nr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Wu(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return Nr(this,void 0,void 0,function*(){try{const a=yield Wu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Uw(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new $me(c,this.shouldThrowOnError)}info(t){return Nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield Uw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:XP(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}exists(t){return Nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Bme(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s)&&s instanceof JP){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield BO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}list(t,r,s){return Nr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},qme),r),{prefix:t||""});return{data:yield Wu(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}listV2(t,r){return Nr(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Wu(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const XG="2.80.0",QG={"X-Client-Info":`storage-js/${XG}`};class Wme{constructor(t,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QG),r),this.fetch=FO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Nr(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Uw(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}getBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield Uw(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}createBucket(t){return Nr(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Wu(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fa(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield QP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fa(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield BO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Vme{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QG),r),this.fetch=FO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}listBuckets(t){return Nr(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const s=r.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Uw(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield BO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fa(r))return{data:null,error:r};throw r}})}}const UO={"X-Client-Info":`storage-js/${XG}`,"Content-Type":"application/json"};class ZG extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function nc(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tk extends ZG{constructor(t,r,s){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hme extends ZG{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var ZL;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ZL||(ZL={}));const $O=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gme=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},e8=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kme=(e,t,r)=>Nr(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Tk(e8(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Tk(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Tk(l,a,o))}}else t(new Hme(e8(e),e))}),Yme=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return s?(Gme(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),r)):a};function Jme(e,t,r,s,a,i){return Nr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Yme(t,s,a,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Kme(c,l,s))})})}function sc(e,t,r,s,a){return Nr(this,void 0,void 0,function*(){return Jme(e,"POST",t,s,a,r)})}class Xme{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UO),r),this.fetch=$O(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Nr(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nc(s))return{data:null,error:s};throw s}})}listIndexes(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Nr(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nc(s))return{data:null,error:s};throw s}})}}class Qme{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UO),r),this.fetch=$O(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Nr(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sc(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}getVectors(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}listVectors(t){return Nr(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sc(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}queryVectors(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Nr(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sc(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}}class Zme{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UO),r),this.fetch=$O(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}getBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}listBuckets(){return Nr(this,arguments,void 0,function*(t={}){try{return{data:yield sc(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:(yield sc(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nc(r))return{data:null,error:r};throw r}})}}class epe extends Zme{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new tpe(this.url,this.headers,t,this.fetch)}}class tpe extends Xme{constructor(t,r,s,a){super(t,r,a),this.vectorBucketName=s}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Nr(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Nr(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Nr(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Nr(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new rpe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class rpe extends Qme{constructor(t,r,s,a,i){super(t,r,i),this.vectorBucketName=s,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Nr(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Nr(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Nr(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Nr(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Nr(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class npe extends Wme{constructor(t,r={},s,a){super(t,r,s,a)}from(t){return new zme(this.url,this.headers,t,this.fetch)}get vectors(){return new epe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vme(this.url+"/iceberg",this.headers,this.fetch)}}const spe="2.80.0";let dw="";typeof Deno<"u"?dw="deno":typeof document<"u"?dw="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dw="react-native":dw="node";const ape={"X-Client-Info":`supabase-js-${dw}/${spe}`},ipe={headers:ape},ope={schema:"public"},lpe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cpe={},upe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dpe=()=>Headers,hpe=(e,t,r)=>{const s=upe(r),a=dpe();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:u}))}};function fpe(e){return e.endsWith("/")?e:e+"/"}function mpe(e,t){var r,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function ppe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fpe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const eK="2.80.0",cx=30*1e3,ZP=3,Ok=ZP*cx,gpe="http://localhost:9999",vpe="supabase.auth.token",xpe={"X-Client-Info":`gotrue-js/${eK}`},eT="X-Supabase-Api-Version",tK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ype=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wpe=600*1e3;class $w extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Cr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bpe extends $w{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function jpe(e){return Cr(e)&&e.name==="AuthApiError"}class lg extends $w{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ip extends $w{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class Uu extends ip{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Npe(e){return Cr(e)&&e.name==="AuthSessionMissingError"}class Wv extends ip{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gj extends ip{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vj extends ip{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _pe(e){return Cr(e)&&e.name==="AuthImplicitGrantRedirectError"}class t8 extends ip{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tT extends ip{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ik(e){return Cr(e)&&e.name==="AuthRetryableFetchError"}class r8 extends ip{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class rT extends ip{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const H2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),n8=` 	
\r=`.split(""),Spe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<n8.length;t+=1)e[n8[t].charCodeAt(0)]=-2;for(let t=0;t<H2.length;t+=1)e[H2[t].charCodeAt(0)]=t;return e})();function s8(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(H2[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(H2[s]),t.queuedBits-=6}}function rK(e,t,r){const s=Spe[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function a8(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Epe(o,s,r)};for(let o=0;o<e.length;o+=1)rK(e.charCodeAt(o),a,i);return t.join("")}function kpe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Cpe(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}kpe(s,t)}}function Epe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wx(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)rK(e.charCodeAt(a),r,s);return new Uint8Array(t)}function Ape(e){const t=[];return Cpe(e,r=>t.push(r)),new Uint8Array(t)}function ug(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>s8(a,r,s)),s8(null,r,s),t.join("")}function Ppe(e){return Math.round(Date.now()/1e3)+e}function Tpe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const No=()=>typeof window<"u"&&typeof document<"u",Vp={tested:!1,writable:!1},nK=()=>{if(!No())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vp.tested)return Vp.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vp.tested=!0,Vp.writable=!0}catch{Vp.tested=!0,Vp.writable=!1}return Vp.writable};function Ope(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const sK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ipe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ux=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Hp=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},im=async(e,t)=>{await e.removeItem(t)};class L_{constructor(){this.promise=new L_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}L_.promiseConstructor=Promise;function Rk(e){const t=e.split(".");if(t.length!==3)throw new rT("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!ype.test(t[s]))throw new rT("JWT not in base64url format");return{header:JSON.parse(a8(t[0])),payload:JSON.parse(a8(t[1])),signature:wx(t[2]),raw:{header:t[0],payload:t[1]}}}async function Rpe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dpe(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Mpe(e){return("0"+e.toString(16)).substr(-2)}function Lpe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,Mpe).join("")}async function Fpe(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Bpe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Fpe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vv(e,t,r=!1){const s=Lpe();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await ux(e,`${t}-code-verifier`,a);const i=await Bpe(s);return[i,s===i?"plain":"s256"]}const Upe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $pe(e){const t=e.headers.get(eT);if(!t||!t.match(Upe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qpe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zpe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wpe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hv(e){if(!Wpe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dk(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vpe(e,t){return new Proxy(e,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,a)}})}function i8(e){return JSON.parse(JSON.stringify(e))}const Qp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hpe=[502,503,504];async function o8(e){var t;if(!Ipe(e))throw new tT(Qp(e),0);if(Hpe.includes(e.status))throw new tT(Qp(e),e.status);let r;try{r=await e.json()}catch(i){throw new lg(Qp(i),i)}let s;const a=$pe(e);if(a&&a.getTime()>=tK["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new r8(Qp(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Uu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new r8(Qp(r),e.status,r.weak_password.reasons);throw new bpe(Qp(r),e.status||500,s)}const Gpe=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function qr(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[eT]||(i[eT]=tK["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Kpe(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Kpe(e,t,r,s,a,i){const o=Gpe(t,s,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new tT(Qp(c),0)}if(l.ok||await o8(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await o8(c)}}function $u(e){var t;let r=null;Xpe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ppe(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function l8(e){const t=$u(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gm(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ype(e){return{data:e,error:null}}function Jpe(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=ap(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function c8(e){return e}function Xpe(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mk=["global","local","others"];class Qpe{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=sK(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mk[0]){if(Mk.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mk.join(", ")}`);try{return await qr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Cr(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await qr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gm})}catch(s){if(Cr(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=ap(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await qr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Jpe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Cr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gm})}catch(r){if(Cr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:c8});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(x.split(";")[1].split("=")[1]);u[`${g}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Cr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hv(t);try{return await qr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gm})}catch(r){if(Cr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hv(t);try{return await qr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gm})}catch(s){if(Cr(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Hv(t);try{return await qr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gm})}catch(s){if(Cr(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Hv(t.userId);try{const{data:r,error:s}=await qr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hv(t.userId),Hv(t.id);try{return{data:await qr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:c8});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(x.split(";")[1].split("=")[1]);u[`${g}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Cr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await qr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await qr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await qr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Cr(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await qr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await qr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}}function u8(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Gv={debug:!!(globalThis&&nK()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aK extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Zpe extends aK{}async function ege(e,t,r){Gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Gv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Gv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zpe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gv.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tge(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iK(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rge(e){return parseInt(e,16)}function nge(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function sge(e){var t;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=iK(e.address),x=d?`${d}://${s}`:s,v=e.statement?`${e.statement}
`:"",g=`${x} wants you to sign in with your Ethereum account:
${f}

${v}`;let y=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let j=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);j+=`
- ${b}`}y+=j}return`${g}
${y}`}class ai extends Error{constructor({message:t,code:r,cause:s,name:a}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class G2 extends ai{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function age({error:e,options:t}){var r,s,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ai({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ai({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ai({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ai({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ai({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ai({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ai({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ai({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(oK(o)){if(i.rp.id!==o)return new ai({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ai({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ai({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ige({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ai({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ai({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(oK(s)){if(r.rpId!==s)return new ai({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ai({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class oge{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lge=new oge;function cge(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,a=ap(e,["challenge","user","excludeCredentials"]),i=wx(t).buffer,o=Object.assign(Object.assign({},r),{id:wx(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const u=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:wx(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function uge(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=ap(e,["challenge","allowCredentials"]),a=wx(t).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:wx(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function dge(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ug(new Uint8Array(e.response.attestationObject)),clientDataJSON:ug(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hge(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ug(new Uint8Array(a.authenticatorData)),clientDataJSON:ug(new Uint8Array(a.clientDataJSON)),signature:ug(new Uint8Array(a.signature)),userHandle:a.userHandle?ug(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oK(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function d8(){var e,t;return!!(No()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fge(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new G2("Browser returned unexpected credential type",t)}:{data:null,error:new G2("Empty credential response",t)}}catch(t){return{data:null,error:age({error:t,options:e})}}}async function mge(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new G2("Browser returned unexpected credential type",t)}:{data:null,error:new G2("Empty credential response",t)}}catch(t){return{data:null,error:ige({error:t,options:e})}}}const pge={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gge={userVerification:"preferred",hints:["security-key"]};function K2(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const l=s[i];t(l)?s[i]=K2(l,o):s[i]=K2(o)}else s[i]=o}return s}function vge(e,t){return K2(pge,e,t||{})}function xge(e,t){return K2(gge,e,t||{})}class yge{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??lge.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=vge(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await fge({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=xge(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await mge(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return Cr(o)?{data:null,error:o}:{data:null,error:new lg("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new $w("rpId is required for WebAuthn authentication")};try{if(!d8())return{data:null,error:new lg("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return Cr(o)?{data:null,error:o}:{data:null,error:new lg("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new $w("rpId is required for WebAuthn registration")};try{if(!d8())return{data:null,error:new lg("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Cr(o)?{data:null,error:o}:{data:null,error:new lg("Unexpected error in register",o)}}}}tge();const wge={url:gpe,storageKey:vpe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xpe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function h8(e,t,r){return await r()}const Kv={};class qw{get jwks(){var t,r;return(r=(t=Kv[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Kv[this.storageKey]=Object.assign(Object.assign({},Kv[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Kv[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Kv[this.storageKey]=Object.assign(Object.assign({},Kv[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},wge),t);if(this.storageKey=i.storageKey,this.instanceID=(r=qw.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qw.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&No()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Qpe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sK(i.fetch),this.lock=i.lock||h8,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:No()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=ege:this.lock=h8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yge(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:nK()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=u8(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=u8(this.memoryStorage)),No()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eK}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(No()&&(r=Ope(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),No()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_pe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Cr(r)?this._returnResult({error:r}):this._returnResult({error:new lg("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:$u}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Cr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await Vv(this.storage,this.storageKey)),i=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:x},xform:$u})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:$u})}else throw new gj("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Cr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:l8})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:l8})}else throw new gj("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new Wv;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(Cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,a,i,o,l,c,u,d,h,m;let f,x;if("message"in t)f=t.message,x=t.signature;else{const{chain:v,wallet:g,statement:y,options:j}=t;let b;if(No())if(typeof g=="object")b=g;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")b=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=iK(S[0]);let A=(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const E=await b.request({method:"eth_chainId"});A=rge(E)}const L={domain:_.host,address:T,statement:y,uri:_.href,version:"1",chainId:A,nonce:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=sge(L),x=await b.request({method:"personal_sign",params:[nge(f),T]})}try{const{data:v,error:g}=await qr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:$u});if(g)throw g;if(!v||!v.session||!v.user){const y=new Wv;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(Cr(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,s,a,i,o,l,c,u,d,h,m,f;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:j,options:b}=t;let _;if(No())if(typeof y=="object")_=y;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),j?{statement:j}:null));let A;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")A=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)A=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)x=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:g,error:y}=await qr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ug(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$u});if(y)throw y;if(!g||!g.session||!g.user){const j=new Wv;return this._returnResult({data:{user:null,session:null},error:j})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Cr(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Hp(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await qr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:$u});if(await im(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Wv;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Cr(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,l=await qr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$u}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Wv;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vv(this.storage,this.storageKey));const{error:h}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new gj("You must provide either an email or phone number.")}catch(l){if(Cr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await qr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$u});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Cr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,s,a;try{let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Vv(this.storage,this.storageKey));const l=await qr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ype});return this._returnResult(l)}catch(i){if(Cr(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Uu;const{error:a}=await qr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Cr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new gj("You must provide either an email or phone number and a type")}catch(r){if(Cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Hp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Ok:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Hp(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Dk()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Vpe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gm}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Uu}:await qr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:gm})})}catch(r){if(Cr(r))return Npe(r)&&(await this._removeSession(),await im(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Uu;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vv(this.storage,this.storageKey));const{data:u,error:d}=await qr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:gm});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(Cr(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Uu;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=Rk(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Cr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Uu;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!No())throw new vj("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vj(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new t8("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vj("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new t8("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new vj("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const f=m-d;f*1e3<=cx&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(s){if(Cr(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Hp(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(jpe(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await im(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Tpe(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Vv(this.storage,this.storageKey,!0));try{return await qr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Cr(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Cr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await qr(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return No()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Cr(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await qr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$u}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Wv}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(a){if(Cr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await qr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Cr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Dpe(async a=>(a>0&&await Rpe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await qr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$u})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Ik(i)&&Date.now()+o-s<cx})}catch(s){if(this._debug(r,"error",s),Cr(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),No()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Hp(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Hp(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ux(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Dk()}else if(a&&!a.user&&!a.user){const o=await Hp(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await im(this.storage,this.storageKey+"-user"),await ux(this.storage,this.storageKey,a)):a.user=Dk()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ok;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Ok}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Ik(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Uu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new L_;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Uu;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Cr(i)){const o={data:null,error:i};return Ik(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ux(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=i8(a);await ux(this.storage,this.storageKey,i)}else{const a=i8(r);await ux(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await im(this.storage,this.storageKey),await im(this.storage,this.storageKey+"-code-verifier"),await im(this.storage,this.storageKey+"-user"),this.userStorage&&await im(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&No()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cx);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/cx);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${cx}ms, refresh threshold is ${ZP} ticks`),a<=ZP&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aK)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!No()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vv(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await qr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Cr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await qr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Cr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dge(t.webauthn.credential_response):hge(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await qr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Cr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await qr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:cge(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:uge(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Cr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Rk(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await qr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Uu})})}catch(r){if(Cr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Uu});const o=await qr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&No()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Cr(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Uu});const o=await qr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&No()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Cr(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+wpe>a)return s;const{data:i,error:o}=await qr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:f,error:x}=await this.getSession();if(x||!f.session)return this._returnResult({data:null,error:x});s=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Rk(s);r!=null&&r.allowExpired||qpe(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const d=zpe(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Ape(`${l}.${c}`)))throw new rT("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Cr(s))return this._returnResult({data:null,error:s});throw s}}}qw.nextInstanceID={};const bge=qw;class jge extends bge{constructor(t){super(t)}}class Nge{constructor(t,r,s){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=ppe(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:ope,realtime:cpe,auth:Object.assign(Object.assign({},lpe),{storageKey:c}),global:ipe},d=mpe(s??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=hpe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new gme(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new npe(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new hme(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},h,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jge({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ime(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _ge=(e,t,r)=>new Nge(e,t,r);function Sge(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Sge()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kge="https://fzckeizrrolxgakekzhe.supabase.co",Cge="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ6Y2tlaXpycm9seGdha2VremhlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3MzY2NDMsImV4cCI6MjA3ODMxMjY0M30.W9HC8Kg6QgAv6LosgPLyxI3Za-2eCu1nftVsn561sSY",se=_ge(kge,Cge,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),lK=N.createContext(void 0),Ege=({children:e})=>{const[t,r]=N.useState(null),[s,a]=N.useState(null),[i,o]=N.useState(null),[l,c]=N.useState(!0),u=async()=>{const{data:{user:j}}=await se.auth.getUser();if(!j){o(null);return}const{data:b,error:_}=await se.from("profiles").select("*").eq("user_id",j.id).single();!_&&b&&o(b)},d=async j=>{var b;try{if(((b=j.app_metadata)==null?void 0:b.provider)==="linkedin_oidc"){const _=j.user_metadata,{error:S}=await se.from("profiles").update({name:_.name||_.full_name,avatar_url:_.avatar_url||_.picture}).eq("user_id",j.id);S&&console.error("LinkedIn import error:",S)}}catch(_){console.error("Failed to import LinkedIn profile:",_)}};N.useEffect(()=>{const{data:{subscription:j}}=se.auth.onAuthStateChange((b,_)=>{a(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{var S;b==="SIGNED_IN"&&((S=_.user.app_metadata)==null?void 0:S.provider)==="linkedin_oidc"&&d(_.user),u()},0):o(null)});return se.auth.getSession().then(({data:{session:b}})=>{a(b),r((b==null?void 0:b.user)??null),c(!1),b!=null&&b.user&&u()}),()=>j.unsubscribe()},[]);const h=async(j,b)=>{try{const{data:_,error:S}=await se.auth.signInWithPassword({email:j,password:b});return S?{success:!1,error:S.message}:(xe.success("Signed in successfully!"),{success:!0})}catch{return{success:!1,error:"An unexpected error occurred"}}},m=async j=>{try{localStorage.setItem("auth_token",j);const{data:b,error:_}=await se.auth.getUser();return _||!b.user?{success:!1,error:"Invalid or expired token"}:{success:!0}}catch{return{success:!1,error:"An unexpected error occurred"}}},f=async(j,b=!1)=>{try{if(!t)return{success:!1,error:"No user logged in"};const{data:_,error:S}=await se.functions.invoke("delete-account",{body:b?{confirmationText:j,isOAuthUser:!0}:{password:j,isOAuthUser:!1}});return S?{success:!1,error:S.message}:_!=null&&_.success?(await v(),{success:!0}):{success:!1,error:(_==null?void 0:_.error)||"Failed to delete account"}}catch{return{success:!1,error:"Failed to delete account"}}},x=async(j,b,_)=>{try{const{data:S,error:T}=await se.auth.signUp({email:b,password:_,options:{data:{name:j},emailRedirectTo:`${window.location.origin}/`}});return T?{success:!1,error:T.message}:(xe.success("Account created successfully!"),{success:!0})}catch{return{success:!1,error:"An unexpected error occurred"}}},v=async()=>{try{await se.auth.signOut(),xe.success("Signed out successfully!")}catch{xe.error("Failed to sign out")}},g=async j=>{try{const{error:b}=await se.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});return b?{success:!1,error:b.message}:(xe.success("Password reset email sent!"),{success:!0})}catch{return{success:!1,error:"Failed to send reset email"}}},y=async j=>{try{const{error:b}=await se.auth.updateUser({password:j});return b?{success:!1,error:b.message}:(xe.success("Password updated successfully!"),{success:!0})}catch{return{success:!1,error:"Failed to update password"}}};return n.jsx(lK.Provider,{value:{user:t,session:s,profile:i,isLoading:l,login:h,loginWithToken:m,register:x,logout:v,resetPassword:g,updatePassword:y,deleteAccount:f,refreshProfile:u},children:e})},un=()=>{const e=N.useContext(lK);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},hr=({children:e})=>{const{user:t,isLoading:r}=un();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(Gfe,{to:"/login",replace:!0})},zw=Sy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=N.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?lle:"button";return n.jsx(o,{className:Pt(zw({variant:t,size:r,className:e})),ref:i,...a})});ve.displayName="Button";const cK="/assets/logo-C0EKhgsU.png",f8=()=>{const[e,t]=N.useState(()=>{const s=localStorage.getItem("theme");return s==="dark"||s==="light"?s:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});N.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{t(e==="light"?"dark":"light")};return n.jsx(ve,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Toggle theme",className:"rounded-full",children:e==="light"?n.jsx(xce,{className:"h-5 w-5"}):n.jsx(wce,{className:"h-5 w-5"})})},ye=N.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Pt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ye.displayName="Card";const Ie=N.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Pt("flex flex-col space-y-1.5 p-6",e),...t}));Ie.displayName="CardHeader";const De=N.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:Pt("text-2xl font-semibold leading-none tracking-tight",e),...t}));De.displayName="CardTitle";const _t=N.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:Pt("text-sm text-muted-foreground",e),...t}));_t.displayName="CardDescription";const _e=N.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Pt("p-6 pt-0",e),...t}));_e.displayName="CardContent";const uK=N.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Pt("flex items-center p-6 pt-0",e),...t}));uK.displayName="CardFooter";var Lk=0;function F_(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??m8()),document.body.insertAdjacentElement("beforeend",e[1]??m8()),Lk++,()=>{Lk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lk--}},[])}function m8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fk="focusScope.autoFocusOnMount",Bk="focusScope.autoFocusOnUnmount",p8={bubbles:!1,cancelable:!0},Age="FocusScope",Pb=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=N.useState(null),u=Ma(a),d=Ma(i),h=N.useRef(null),m=Tr(t,v=>c(v)),f=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let v=function(b){if(f.paused||!l)return;const _=b.target;l.contains(_)?h.current=_:hm(h.current,{select:!0})},g=function(b){if(f.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||hm(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&hm(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const j=new MutationObserver(y);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),j.disconnect()}}},[s,l,f.paused]),N.useEffect(()=>{if(l){v8.add(f);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Fk,p8);l.addEventListener(Fk,u),l.dispatchEvent(y),y.defaultPrevented||(Pge(Dge(dK(l)),{select:!0}),document.activeElement===v&&hm(l))}return()=>{l.removeEventListener(Fk,u),setTimeout(()=>{const y=new CustomEvent(Bk,p8);l.addEventListener(Bk,d),l.dispatchEvent(y),y.defaultPrevented||hm(v??document.body,{select:!0}),l.removeEventListener(Bk,d),v8.remove(f)},0)}}},[l,u,d,f]);const x=N.useCallback(v=>{if(!r&&!s||f.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(g&&y){const j=v.currentTarget,[b,_]=Tge(j);b&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&hm(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),r&&hm(_,{select:!0})):y===j&&v.preventDefault()}},[r,s,f.paused]);return n.jsx(zt.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Pb.displayName=Age;function Pge(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(hm(s,{select:t}),document.activeElement!==r)return}function Tge(e){const t=dK(e),r=g8(t,e),s=g8(t.reverse(),e);return[r,s]}function dK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function g8(e,t){for(const r of e)if(!Oge(r,{upTo:t}))return r}function Oge(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ige(e){return e instanceof HTMLInputElement&&"select"in e}function hm(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ige(e)&&t&&e.select()}}var v8=Rge();function Rge(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=x8(e,t),e.unshift(t)},remove(t){var r;e=x8(e,t),(r=e[0])==null||r.resume()}}}function x8(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Dge(e){return e.filter(t=>t.tagName!=="A")}var Mge=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yv=new WeakMap,xj=new WeakMap,yj={},Uk=0,hK=function(e){return e&&(e.host||hK(e.parentNode))},Lge=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=hK(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fge=function(e,t,r,s){var a=Lge(t,Array.isArray(e)?e:[e]);yj[r]||(yj[r]=new WeakMap);var i=yj[r],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var f=m.getAttribute(s),x=f!==null&&f!=="false",v=(Yv.get(m)||0)+1,g=(i.get(m)||0)+1;Yv.set(m,v),i.set(m,g),o.push(m),v===1&&x&&xj.set(m,!0),g===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(t),l.clear(),Uk++,function(){o.forEach(function(h){var m=Yv.get(h)-1,f=i.get(h)-1;Yv.set(h,m),i.set(h,f),m||(xj.has(h)||h.removeAttribute(s),xj.delete(h)),f||h.removeAttribute(r)}),Uk--,Uk||(Yv=new WeakMap,Yv=new WeakMap,xj=new WeakMap,yj={})}},B_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Mge(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Fge(s,a,r,"aria-hidden")):function(){return null}},x2="right-scroll-bar-position",y2="width-before-scroll-bar",Bge="with-scroll-bars-hidden",Uge="--removed-body-scroll-bar-size";function $k(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $ge(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var qge=typeof window<"u"?N.useLayoutEffect:N.useEffect,y8=new WeakMap;function zge(e,t){var r=$ge(null,function(s){return e.forEach(function(a){return $k(a,s)})});return qge(function(){var s=y8.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||$k(l,null)}),i.forEach(function(l){a.has(l)||$k(l,o)})}y8.set(r,e)},[e]),r}function Wge(e){return e}function Vge(e,t){t===void 0&&(t=Wge);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Hge(e){e===void 0&&(e={});var t=Vge(null);return t.options=Zc({async:!0,ssr:!1},e),t}var fK=function(e){var t=e.sideCar,r=ap(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,Zc({},r))};fK.isSideCarExport=!0;function Gge(e,t){return e.useMedium(t),fK}var mK=Hge(),qk=function(){},U_=N.forwardRef(function(e,t){var r=N.useRef(null),s=N.useState({onScrollCapture:qk,onWheelCapture:qk,onTouchMoveCapture:qk}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,x=e.noIsolation,v=e.inert,g=e.allowPinchZoom,y=e.as,j=y===void 0?"div":y,b=e.gapMode,_=ap(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,T=zge([r,t]),A=Zc(Zc({},_),a);return N.createElement(N.Fragment,null,d&&N.createElement(S,{sideCar:mK,removeScrollBar:u,shards:h,noRelative:f,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?N.cloneElement(N.Children.only(l),Zc(Zc({},A),{ref:T})):N.createElement(j,Zc({},A,{className:c,ref:T}),l))});U_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};U_.classNames={fullWidth:y2,zeroRight:x2};var Kge=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yge(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kge();return t&&e.setAttribute("nonce",t),e}function Jge(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xge(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Qge=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Yge())&&(Jge(t,r),Xge(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zge=function(){var e=Qge();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pK=function(){var e=Zge(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},eve={left:0,top:0,right:0,gap:0},zk=function(e){return parseInt(e||"",10)||0},tve=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[zk(r),zk(s),zk(a)]},rve=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eve;var t=tve(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},nve=pK(),bx="data-scroll-locked",sve=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Bge,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(bx,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(x2,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(y2,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(x2," .").concat(x2,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(y2," .").concat(y2,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(bx,`] {
    `).concat(Uge,": ").concat(l,`px;
  }
`)},w8=function(){var e=parseInt(document.body.getAttribute(bx)||"0",10);return isFinite(e)?e:0},ave=function(){N.useEffect(function(){return document.body.setAttribute(bx,(w8()+1).toString()),function(){var e=w8()-1;e<=0?document.body.removeAttribute(bx):document.body.setAttribute(bx,e.toString())}},[])},ive=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;ave();var i=N.useMemo(function(){return rve(a)},[a]);return N.createElement(nve,{styles:sve(i,!t,a,r?"":"!important")})},nT=!1;if(typeof window<"u")try{var wj=Object.defineProperty({},"passive",{get:function(){return nT=!0,!0}});window.addEventListener("test",wj,wj),window.removeEventListener("test",wj,wj)}catch{nT=!1}var Jv=nT?{passive:!1}:!1,ove=function(e){return e.tagName==="TEXTAREA"},gK=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ove(e)&&r[t]==="visible")},lve=function(e){return gK(e,"overflowY")},cve=function(e){return gK(e,"overflowX")},b8=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=vK(e,s);if(a){var i=xK(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},uve=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},dve=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},vK=function(e,t){return e==="v"?lve(t):cve(t)},xK=function(e,t){return e==="v"?uve(t):dve(t)},hve=function(e,t){return e==="h"&&t==="rtl"?-1:1},fve=function(e,t,r,s,a){var i=hve(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,m=0;do{if(!l)break;var f=xK(e,l),x=f[0],v=f[1],g=f[2],y=v-g-i*x;(x||y)&&vK(e,l)&&(h+=y,m+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},bj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j8=function(e){return[e.deltaX,e.deltaY]},N8=function(e){return e&&"current"in e?e.current:e},mve=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pve=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gve=0,Xv=[];function vve(e){var t=N.useRef([]),r=N.useRef([0,0]),s=N.useRef(),a=N.useState(gve++)[0],i=N.useState(pK)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=IO([e.lockRef.current],(e.shards||[]).map(N8),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(v,g){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=bj(v),j=r.current,b="deltaX"in v?v.deltaX:j[0]-y[0],_="deltaY"in v?v.deltaY:j[1]-y[1],S,T=v.target,A=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&A==="h"&&T.type==="range")return!1;var L=b8(A,T);if(!L)return!0;if(L?S=A:(S=A==="v"?"h":"v",L=b8(A,T)),!L)return!1;if(!s.current&&"changedTouches"in v&&(b||_)&&(s.current=S),!S)return!0;var E=s.current||S;return fve(E,g,v,E==="h"?b:_)},[]),c=N.useCallback(function(v){var g=v;if(!(!Xv.length||Xv[Xv.length-1]!==i)){var y="deltaY"in g?j8(g):bj(g),j=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&mve(S.delta,y)})[0];if(j&&j.should){g.cancelable&&g.preventDefault();return}if(!j){var b=(o.current.shards||[]).map(N8).filter(Boolean).filter(function(S){return S.contains(g.target)}),_=b.length>0?l(g,b[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=N.useCallback(function(v,g,y,j){var b={name:v,delta:g,target:y,should:j,shadowParent:xve(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=N.useCallback(function(v){r.current=bj(v),s.current=void 0},[]),h=N.useCallback(function(v){u(v.type,j8(v),v.target,l(v,e.lockRef.current))},[]),m=N.useCallback(function(v){u(v.type,bj(v),v.target,l(v,e.lockRef.current))},[]);N.useEffect(function(){return Xv.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Jv),document.addEventListener("touchmove",c,Jv),document.addEventListener("touchstart",d,Jv),function(){Xv=Xv.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Jv),document.removeEventListener("touchmove",c,Jv),document.removeEventListener("touchstart",d,Jv)}},[]);var f=e.removeScrollBar,x=e.inert;return N.createElement(N.Fragment,null,x?N.createElement(i,{styles:pve(a)}):null,f?N.createElement(ive,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xve(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yve=Gge(mK,vve);var Tb=N.forwardRef(function(e,t){return N.createElement(U_,Zc({},e,{ref:t,sideCar:yve}))});Tb.classNames=U_.classNames;var $_="Popover",[yK]=di($_,[rp]),Ob=rp(),[wve,op]=yK($_),wK=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Ob(t),c=N.useRef(null),[u,d]=N.useState(!1),[h,m]=Xo({prop:s,defaultProp:a??!1,onChange:i,caller:$_});return n.jsx(A_,{...l,children:n.jsx(wve,{scope:t,contentId:Pl(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:r})})};wK.displayName=$_;var bK="PopoverAnchor",bve=N.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=op(bK,r),i=Ob(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return N.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(Cb,{...i,...s,ref:t})});bve.displayName=bK;var jK="PopoverTrigger",NK=N.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=op(jK,r),i=Ob(r),o=Tr(t,a.triggerRef),l=n.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":EK(a.open),...s,ref:o,onClick:St(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Cb,{asChild:!0,...i,children:l})});NK.displayName=jK;var qO="PopoverPortal",[jve,Nve]=yK(qO,{forceMount:void 0}),_K=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=op(qO,t);return n.jsx(jve,{scope:t,forceMount:r,children:n.jsx(yi,{present:r||i.open,children:n.jsx(_y,{asChild:!0,container:a,children:s})})})};_K.displayName=qO;var Jx="PopoverContent",SK=N.forwardRef((e,t)=>{const r=Nve(Jx,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=op(Jx,e.__scopePopover);return n.jsx(yi,{present:s||i.open,children:i.modal?n.jsx(Sve,{...a,ref:t}):n.jsx(kve,{...a,ref:t})})});SK.displayName=Jx;var _ve=qm("PopoverContent.RemoveScroll"),Sve=N.forwardRef((e,t)=>{const r=op(Jx,e.__scopePopover),s=N.useRef(null),a=Tr(t,s),i=N.useRef(!1);return N.useEffect(()=>{const o=s.current;if(o)return B_(o)},[]),n.jsx(Tb,{as:_ve,allowPinchZoom:!0,children:n.jsx(kK,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:St(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:St(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:St(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),kve=N.forwardRef((e,t)=>{const r=op(Jx,e.__scopePopover),s=N.useRef(!1),a=N.useRef(!1);return n.jsx(kK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kK=N.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=op(Jx,r),f=Ob(r);return F_(),n.jsx(Pb,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(rv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(P_,{"data-state":EK(m.open),role:"dialog",id:m.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CK="PopoverClose",Cve=N.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=op(CK,r);return n.jsx(zt.button,{type:"button",...s,ref:t,onClick:St(e.onClick,()=>a.onOpenChange(!1))})});Cve.displayName=CK;var Eve="PopoverArrow",Ave=N.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ob(r);return n.jsx(T_,{...a,...s,ref:t})});Ave.displayName=Eve;function EK(e){return e?"open":"closed"}var Pve=wK,Tve=NK,Ove=_K,AK=SK;const Dg=Pve,Mg=Tve,Vm=N.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(Ove,{children:n.jsx(AK,{ref:a,align:t,sideOffset:r,className:Pt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Vm.displayName=AK.displayName;var Ive=N.createContext(void 0);function nv(e){const t=N.useContext(Ive);return e||t||"ltr"}function Ww(e,[t,r]){return Math.min(r,Math.max(t,e))}function Rve(e,t){return N.useReducer((r,s)=>t[r][s]??r,e)}var zO="ScrollArea",[PK]=di(zO),[Dve,pu]=PK(zO),TK=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=N.useState(null),[u,d]=N.useState(null),[h,m]=N.useState(null),[f,x]=N.useState(null),[v,g]=N.useState(null),[y,j]=N.useState(0),[b,_]=N.useState(0),[S,T]=N.useState(!1),[A,L]=N.useState(!1),E=Tr(t,M=>c(M)),q=nv(a);return n.jsx(Dve,{scope:r,type:s,dir:q,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:T,scrollbarY:v,onScrollbarYChange:g,scrollbarYEnabled:A,onScrollbarYEnabledChange:L,onCornerWidthChange:j,onCornerHeightChange:_,children:n.jsx(zt.div,{dir:q,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});TK.displayName=zO;var OK="ScrollAreaViewport",IK=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=pu(OK,r),l=N.useRef(null),c=Tr(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(zt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});IK.displayName=OK;var eh="ScrollAreaScrollbar",WO=N.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=pu(eh,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return N.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(Mve,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(Lve,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(RK,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(VO,{...s,ref:t}):null});WO.displayName=eh;var Mve=N.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=pu(eh,e.__scopeScrollArea),[i,o]=N.useState(!1);return N.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(yi,{present:r||i,children:n.jsx(RK,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Lve=N.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=pu(eh,e.__scopeScrollArea),i=e.orientation==="horizontal",o=z_(()=>c("SCROLL_END"),100),[l,c]=Rve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),N.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const f=u[d];h!==f&&(c("SCROLL"),o()),h=f};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(yi,{present:r||l!=="hidden",children:n.jsx(VO,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:St(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:St(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),RK=N.forwardRef((e,t)=>{const r=pu(eh,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=N.useState(!1),l=e.orientation==="horizontal",c=z_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Xx(r.viewport,c),Xx(r.content,c),n.jsx(yi,{present:s||i,children:n.jsx(VO,{"data-state":i?"visible":"hidden",...a,ref:t})})}),VO=N.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=pu(eh,e.__scopeScrollArea),i=N.useRef(null),o=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=BK(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,f){return zve(m,o.current,l,f)}return r==="horizontal"?n.jsx(Fve,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,f=_8(m,l,a.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?n.jsx(Bve,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,f=_8(m,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),Fve=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=pu(eh,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Tr(t,c,i.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(MK,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":q_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),$K(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:J2(o.paddingLeft),paddingEnd:J2(o.paddingRight)}})}})}),Bve=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=pu(eh,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Tr(t,c,i.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(MK,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":q_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),$K(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:J2(o.paddingTop),paddingEnd:J2(o.paddingBottom)}})}})}),[Uve,DK]=PK(eh),MK=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,f=pu(eh,r),[x,v]=N.useState(null),g=Tr(t,E=>v(E)),y=N.useRef(null),j=N.useRef(""),b=f.viewport,_=s.content-s.viewport,S=Ma(d),T=Ma(c),A=z_(h,10);function L(E){if(y.current){const q=E.clientX-y.current.left,M=E.clientY-y.current.top;u({x:q,y:M})}}return N.useEffect(()=>{const E=q=>{const M=q.target;(x==null?void 0:x.contains(M))&&S(q,_)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,x,_,S]),N.useEffect(T,[s,T]),Xx(x,A),Xx(f.content,A),n.jsx(Uve,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Ma(i),onThumbPointerUp:Ma(o),onThumbPositionChange:T,onThumbPointerDown:Ma(l),children:n.jsx(zt.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:St(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=x.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),L(E))}),onPointerMove:St(e.onPointerMove,L),onPointerUp:St(e.onPointerUp,E=>{const q=E.target;q.hasPointerCapture(E.pointerId)&&q.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=j.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),Y2="ScrollAreaThumb",LK=N.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=DK(Y2,e.__scopeScrollArea);return n.jsx(yi,{present:r||a.hasThumb,children:n.jsx($ve,{ref:t,...s})})}),$ve=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=pu(Y2,r),o=DK(Y2,r),{onThumbPositionChange:l}=o,c=Tr(t,h=>o.onThumbChange(h)),u=N.useRef(void 0),d=z_(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(d(),!u.current){const f=Wve(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,d,l]),n.jsx(zt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:St(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),x=h.clientX-f.left,v=h.clientY-f.top;o.onThumbPointerDown({x,y:v})}),onPointerUp:St(e.onPointerUp,o.onThumbPointerUp)})});LK.displayName=Y2;var HO="ScrollAreaCorner",FK=N.forwardRef((e,t)=>{const r=pu(HO,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(qve,{...e,ref:t}):null});FK.displayName=HO;var qve=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=pu(HO,r),[i,o]=N.useState(0),[l,c]=N.useState(0),u=!!(i&&l);return Xx(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Xx(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?n.jsx(zt.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function J2(e){return e?parseInt(e,10):0}function BK(e,t){const r=e/t;return isNaN(r)?0:r}function q_(e){const t=BK(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function zve(e,t,r,s="ltr"){const a=q_(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=s==="ltr"?[0,d]:[d*-1,0];return UK([c,u],h)(e)}function _8(e,t,r="ltr"){const s=q_(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],u=Ww(e,c);return UK([0,o],[0,l])(u)}function UK(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function $K(e,t){return e>0&&e<t}var Wve=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function z_(e,t){const r=Ma(e),s=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(s.current),[]),N.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Xx(e,t){const r=Ma(t);Ba(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var qK=TK,Vve=IK,Hve=FK;const X2=N.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(qK,{ref:s,className:Pt("relative overflow-hidden",e),...r,children:[n.jsx(Vve,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(zK,{}),n.jsx(Hve,{})]}));X2.displayName=qK.displayName;const zK=N.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(WO,{ref:s,orientation:t,className:Pt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(LK,{className:"relative flex-1 rounded-full bg-border"})}));zK.displayName=WO.displayName;const Gve=Sy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...r}){return n.jsx("div",{className:Pt(Gve({variant:t}),e),...r})}function Mr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ol(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Qi(e,t){const r=Mr(e);return isNaN(t)?Ol(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function iu(e,t){const r=Mr(e);if(isNaN(t))return Ol(e,NaN);if(!t)return r;const s=r.getDate(),a=Ol(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const GO=6048e5,Kve=864e5,Yve=6e4,Jve=36e5,jj=43200,S8=1440;let Xve={};function Dy(){return Xve}function ou(e,t){var l,c,u,d;const r=Dy(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Mr(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Lg(e){return ou(e,{weekStartsOn:1})}function WK(e){const t=Mr(e),r=t.getFullYear(),s=Ol(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Lg(s),i=Ol(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Lg(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Qx(e){const t=Mr(e);return t.setHours(0,0,0,0),t}function Zx(e){const t=Mr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Zu(e,t){const r=Qx(e),s=Qx(t),a=+r-Zx(r),i=+s-Zx(s);return Math.round((a-i)/Kve)}function Qve(e){const t=WK(e),r=Ol(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Lg(r)}function sT(e,t){const r=t*7;return Qi(e,r)}function Zve(e,t){return iu(e,t*12)}function exe(e){let t;return e.forEach(function(r){const s=Mr(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function txe(e){let t;return e.forEach(r=>{const s=Mr(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function w2(e,t){const r=Mr(e),s=Mr(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function rxe(e){return Ol(e,Date.now())}function Yo(e,t){const r=Qx(e),s=Qx(t);return+r==+s}function KO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nxe(e){if(!KO(e)&&typeof e!="number")return!1;const t=Mr(e);return!isNaN(Number(t))}function ey(e,t){const r=Mr(e),s=Mr(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function sxe(e,t,r){const s=ou(e,r),a=ou(t,r),i=+s-Zx(s),o=+a-Zx(a);return Math.round((i-o)/GO)}function kg(e,t){const r=Mr(e),s=Mr(t),a=k8(r,s),i=Math.abs(Zu(r,s));r.setDate(r.getDate()-a*i);const o=+(k8(r,s)===-a),l=a*(i-o);return l===0?0:l}function k8(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function YO(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function JO(e,t){return+Mr(e)-+Mr(t)}function axe(e,t,r){const s=JO(e,t)/Jve;return YO(r==null?void 0:r.roundingMethod)(s)}function ixe(e,t,r){const s=JO(e,t)/Yve;return YO(r==null?void 0:r.roundingMethod)(s)}function oxe(e){const t=Mr(e);return t.setHours(23,59,59,999),t}function W_(e){const t=Mr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lxe(e){const t=Mr(e);return+oxe(t)==+W_(t)}function cxe(e,t){const r=Mr(e),s=Mr(t),a=w2(r,s),i=Math.abs(ey(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=w2(r,s)===-a;lxe(Mr(e))&&i===1&&w2(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function uxe(e,t,r){const s=JO(e,t)/1e3;return YO(r==null?void 0:r.roundingMethod)(s)}function dxe(e){const t=Mr(e),r=t.getMonth(),s=r-r%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function Po(e){const t=Mr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function VK(e){const t=Mr(e),r=Ol(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function V_(e,t){var l,c,u,d;const r=Dy(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Mr(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function HK(e){return V_(e,{weekStartsOn:1})}const hxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fxe=(e,t,r)=>{let s;const a=hxe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Wk(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vxe={date:Wk({formats:mxe,defaultWidth:"full"}),time:Wk({formats:pxe,defaultWidth:"full"}),dateTime:Wk({formats:gxe,defaultWidth:"full"})},xxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yxe=(e,t,r,s)=>xxe[e];function L0(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const wxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_xe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kxe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cxe={ordinalNumber:kxe,era:L0({values:wxe,defaultWidth:"wide"}),quarter:L0({values:bxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:L0({values:jxe,defaultWidth:"wide"}),day:L0({values:Nxe,defaultWidth:"wide"}),dayPeriod:L0({values:_xe,defaultWidth:"wide",formattingValues:Sxe,defaultFormattingWidth:"wide"})};function F0(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Axe(l,h=>h.test(o)):Exe(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Exe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Axe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Pxe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Txe=/^(\d+)(th|st|nd|rd)?/i,Oxe=/\d+/i,Ixe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rxe={any:[/^b/i,/^(a|c)/i]},Dxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mxe={any:[/1/i,/2/i,/3/i,/4/i]},Lxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$xe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zxe={ordinalNumber:Pxe({matchPattern:Txe,parsePattern:Oxe,valueCallback:e=>parseInt(e,10)}),era:F0({matchPatterns:Ixe,defaultMatchWidth:"wide",parsePatterns:Rxe,defaultParseWidth:"any"}),quarter:F0({matchPatterns:Dxe,defaultMatchWidth:"wide",parsePatterns:Mxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:F0({matchPatterns:Lxe,defaultMatchWidth:"wide",parsePatterns:Fxe,defaultParseWidth:"any"}),day:F0({matchPatterns:Bxe,defaultMatchWidth:"wide",parsePatterns:Uxe,defaultParseWidth:"any"}),dayPeriod:F0({matchPatterns:$xe,defaultMatchWidth:"any",parsePatterns:qxe,defaultParseWidth:"any"})},XO={code:"en-US",formatDistance:fxe,formatLong:vxe,formatRelative:yxe,localize:Cxe,match:zxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wxe(e){const t=Mr(e);return Zu(t,VK(t))+1}function GK(e){const t=Mr(e),r=+Lg(t)-+Qve(t);return Math.round(r/GO)+1}function KK(e,t){var d,h,m,f;const r=Mr(e),s=r.getFullYear(),a=Dy(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(m=a.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ol(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=ou(o,t),c=Ol(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=ou(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function Vxe(e,t){var l,c,u,d;const r=Dy(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=KK(e,t),i=Ol(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),ou(i,t)}function YK(e,t){const r=Mr(e),s=+ou(r,t)-+Vxe(r,t);return Math.round(s/GO)+1}function cs(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const om={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return cs(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):cs(r+1,2)},d(e,t){return cs(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return cs(e.getHours()%12||12,t.length)},H(e,t){return cs(e.getHours(),t.length)},m(e,t){return cs(e.getMinutes(),t.length)},s(e,t){return cs(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return cs(a,t.length)}},Qv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C8={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return om.y(e,t)},Y:function(e,t,r,s){const a=KK(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return cs(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):cs(i,t.length)},R:function(e,t){const r=WK(e);return cs(r,t.length)},u:function(e,t){const r=e.getFullYear();return cs(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return cs(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return cs(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return om.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return cs(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=YK(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):cs(a,t.length)},I:function(e,t,r){const s=GK(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):cs(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):om.d(e,t)},D:function(e,t,r){const s=Wxe(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):cs(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return cs(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return cs(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return cs(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Qv.noon:s===0?a=Qv.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Qv.evening:s>=12?a=Qv.afternoon:s>=4?a=Qv.morning:a=Qv.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return om.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):om.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):cs(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):cs(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):om.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):om.s(e,t)},S:function(e,t){return om.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return A8(s);case"XXXX":case"XX":return Zp(s);case"XXXXX":case"XXX":default:return Zp(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return A8(s);case"xxxx":case"xx":return Zp(s);case"xxxxx":case"xxx":default:return Zp(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+E8(s,":");case"OOOO":default:return"GMT"+Zp(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+E8(s,":");case"zzzz":default:return"GMT"+Zp(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return cs(s,t.length)},T:function(e,t,r){const s=e.getTime();return cs(s,t.length)}};function E8(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+cs(i,2)}function A8(e,t){return e%60===0?(e>0?"-":"+")+cs(Math.abs(e)/60,2):Zp(e,t)}function Zp(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=cs(Math.trunc(s/60),2),i=cs(s%60,2);return r+a+t+i}const P8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hxe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return P8(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",P8(s,t)).replace("{{time}}",JK(a,t))},Gxe={p:JK,P:Hxe},Kxe=/^D+$/,Yxe=/^Y+$/,Jxe=["D","DD","YY","YYYY"];function Xxe(e){return Kxe.test(e)}function Qxe(e){return Yxe.test(e)}function Zxe(e,t,r){const s=eye(e,t,r);if(console.warn(s),Jxe.includes(e))throw new RangeError(s)}function eye(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nye=/^'([^]*?)'?$/,sye=/''/g,aye=/[a-zA-Z]/;function Lt(e,t,r){var d,h,m,f,x,v,g,y;const s=Dy(),a=(r==null?void 0:r.locale)??s.locale??XO,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(m=s.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Mr(e);if(!nxe(l))throw new RangeError("Invalid time value");let c=t.match(rye).map(j=>{const b=j[0];if(b==="p"||b==="P"){const _=Gxe[b];return _(j,a.formatLong)}return j}).join("").match(tye).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:iye(j)};if(C8[b])return{isToken:!0,value:j};if(b.match(aye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Qxe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Xxe(b))&&Zxe(b,t,String(e));const _=C8[b[0]];return _(l,b,a.localize,u)}).join("")}function iye(e){const t=e.match(nye);return t?t[1].replace(sye,"'"):e}function oye(e,t,r){const s=Dy(),a=(r==null?void 0:r.locale)??s.locale??XO,i=2520,o=w2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Mr(t),u=Mr(e)):(c=Mr(e),u=Mr(t));const d=uxe(u,c),h=(Zx(u)-Zx(c))/1e3,m=Math.round((d-h)/60);let f;if(m<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<S8){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<jj){const x=Math.round(m/S8);return a.formatDistance("xDays",x,l)}else if(m<jj*2)return f=Math.round(m/jj),a.formatDistance("aboutXMonths",f,l)}if(f=cxe(u,c),f<12){const x=Math.round(m/jj);return a.formatDistance("xMonths",x,l)}else{const x=f%12,v=Math.trunc(f/12);return x<3?a.formatDistance("aboutXYears",v,l):x<9?a.formatDistance("overXYears",v,l):a.formatDistance("almostXYears",v+1,l)}}function Fg(e,t){return oye(e,rxe(e),t)}function lye(e){const t=Mr(e),r=t.getFullYear(),s=t.getMonth(),a=Ol(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function cye(e){return Math.trunc(+Mr(e)/1e3)}function uye(e){const t=Mr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function dye(e,t){return sxe(uye(e),Po(e),t)+1}function aT(e,t){const r=Mr(e),s=Mr(t);return r.getTime()>s.getTime()}function XK(e,t){const r=Mr(e),s=Mr(t);return+r<+s}function QK(e){return+Mr(e)>Date.now()}function Q2(e){return+Mr(e)<Date.now()}function QO(e,t){const r=Mr(e),s=Mr(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function hye(e,t){const r=Mr(e),s=Mr(t);return r.getFullYear()===s.getFullYear()}function Vk(e,t){return Qi(e,-t)}function Hk(e,t){const r=Mr(e),s=r.getFullYear(),a=r.getDate(),i=Ol(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=lye(i);return r.setMonth(t,Math.min(a,o)),r}function T8(e,t){const r=Mr(e);return isNaN(+r)?Ol(e,NaN):(r.setFullYear(t),r)}function fye(e,t){return iu(e,-t)}const mye=()=>{const{user:e}=un(),[t,r]=N.useState([]),[s,a]=N.useState(!1);N.useEffect(()=>{if(!e)return;i(),o();const m=setInterval(()=>{o()},6e4),f=se.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},()=>{i()}).subscribe();return()=>{clearInterval(m),se.removeChannel(f)}},[e]);const i=async()=>{if(e)try{const{data:m,error:f}=await se.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(f)throw f;r(m||[])}catch(m){console.error("Error loading notifications:",m)}},o=async()=>{if(e)try{const{data:m,error:f}=await se.from("jobs").select("*").eq("user_id",e.id).eq("is_archived",!1).not("application_deadline","is",null);if(f)throw f;if(!m)return;const x=new Date;for(const v of m)if(v.application_deadline){const g=new Date(v.application_deadline),y=Math.ceil((g.getTime()-x.getTime())/(1e3*60*60*24));if(y<=3&&y>=0){const{data:j}=await se.from("notifications").select("id").eq("user_id",e.id).eq("type","deadline").eq("related_job_id",v.id).single();j||await se.from("notifications").insert({user_id:e.id,type:"deadline",title:"Application Deadline Approaching",message:`${v.job_title} at ${v.company_name} - ${y} day${y!==1?"s":""} remaining`,related_job_id:v.id})}}}catch(m){console.error("Error checking deadlines:",m)}},l=async m=>{try{const{error:f}=await se.from("notifications").update({is_read:!0}).eq("id",m);if(f)throw f;r(t.map(x=>x.id===m?{...x,is_read:!0}:x))}catch(f){console.error("Error marking notification as read:",f),xe.error("Failed to mark notification as read")}},c=async()=>{if(e)try{const{error:m}=await se.from("notifications").update({is_read:!0}).eq("user_id",e.id);if(m)throw m;r(t.map(f=>({...f,is_read:!0}))),xe.success("All notifications marked as read")}catch(m){console.error("Error marking all as read:",m),xe.error("Failed to mark all as read")}},u=async()=>{if(e)try{const{error:m}=await se.from("notifications").delete().eq("user_id",e.id);if(m)throw m;r([]),xe.success("All notifications cleared")}catch(m){console.error("Error clearing notifications:",m),xe.error("Failed to clear notifications")}},d=t.filter(m=>!m.is_read).length,h=m=>{switch(m){case"deadline":return"";case"interview":return"";default:return""}};return n.jsxs(Dg,{open:s,onOpenChange:a,children:[n.jsx(Mg,{asChild:!0,children:n.jsxs(ve,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(L2,{className:"h-5 w-5"}),d>0&&n.jsx($e,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:d})]})}),n.jsxs(Vm,{className:"w-96 p-0",align:"end",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"font-semibold",children:"Notifications"}),n.jsxs("div",{className:"flex gap-2",children:[d>0&&n.jsx(ve,{variant:"ghost",size:"sm",onClick:c,children:"Mark all read"}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:u,children:"Clear all"})]})]}),n.jsx(X2,{className:"h-[400px]",children:t.length===0?n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx(L2,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No notifications yet"})]}):n.jsx("div",{className:"space-y-1 p-2",children:t.map(m=>n.jsx(ye,{className:`p-3 cursor-pointer hover:bg-accent transition-colors ${m.is_read?"":"bg-accent/50"}`,onClick:()=>l(m.id),children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-2xl",children:h(m.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm truncate",children:m.title}),!m.is_read&&n.jsx($e,{variant:"default",className:"h-2 w-2 p-0 rounded-full"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Fg(new Date(m.created_at),{addSuffix:!0})})]})]})},m.id))})})]})]})};var H_="Dialog",[ZK,eY]=di(H_),[pye,ld]=ZK(H_),tY=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=N.useRef(null),c=N.useRef(null),[u,d]=Xo({prop:s,defaultProp:a??!1,onChange:i,caller:H_});return n.jsx(pye,{scope:t,triggerRef:l,contentRef:c,contentId:Pl(),titleId:Pl(),descriptionId:Pl(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};tY.displayName=H_;var rY="DialogTrigger",nY=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ld(rY,r),i=Tr(t,a.triggerRef);return n.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tI(a.open),...s,ref:i,onClick:St(e.onClick,a.onOpenToggle)})});nY.displayName=rY;var ZO="DialogPortal",[gye,sY]=ZK(ZO,{forceMount:void 0}),aY=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=ld(ZO,t);return n.jsx(gye,{scope:t,forceMount:r,children:N.Children.map(s,o=>n.jsx(yi,{present:r||i.open,children:n.jsx(_y,{asChild:!0,container:a,children:o})}))})};aY.displayName=ZO;var Z2="DialogOverlay",iY=N.forwardRef((e,t)=>{const r=sY(Z2,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ld(Z2,e.__scopeDialog);return i.modal?n.jsx(yi,{present:s||i.open,children:n.jsx(xye,{...a,ref:t})}):null});iY.displayName=Z2;var vye=qm("DialogOverlay.RemoveScroll"),xye=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ld(Z2,r);return n.jsx(Tb,{as:vye,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(zt.div,{"data-state":tI(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Bg="DialogContent",oY=N.forwardRef((e,t)=>{const r=sY(Bg,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ld(Bg,e.__scopeDialog);return n.jsx(yi,{present:s||i.open,children:i.modal?n.jsx(yye,{...a,ref:t}):n.jsx(wye,{...a,ref:t})})});oY.displayName=Bg;var yye=N.forwardRef((e,t)=>{const r=ld(Bg,e.__scopeDialog),s=N.useRef(null),a=Tr(t,r.contentRef,s);return N.useEffect(()=>{const i=s.current;if(i)return B_(i)},[]),n.jsx(lY,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:St(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:St(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:St(e.onFocusOutside,i=>i.preventDefault())})}),wye=N.forwardRef((e,t)=>{const r=ld(Bg,e.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return n.jsx(lY,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),lY=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ld(Bg,r),c=N.useRef(null),u=Tr(t,c);return F_(),n.jsxs(n.Fragment,{children:[n.jsx(Pb,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(rv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tI(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(jye,{titleId:l.titleId}),n.jsx(_ye,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eI="DialogTitle",cY=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ld(eI,r);return n.jsx(zt.h2,{id:a.titleId,...s,ref:t})});cY.displayName=eI;var uY="DialogDescription",dY=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ld(uY,r);return n.jsx(zt.p,{id:a.descriptionId,...s,ref:t})});dY.displayName=uY;var hY="DialogClose",fY=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ld(hY,r);return n.jsx(zt.button,{type:"button",...s,ref:t,onClick:St(e.onClick,()=>a.onOpenChange(!1))})});fY.displayName=hY;function tI(e){return e?"open":"closed"}var mY="DialogTitleWarning",[bye,pY]=ile(mY,{contentName:Bg,titleName:eI,docsSlug:"dialog"}),jye=({titleId:e})=>{const t=pY(mY),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Nye="DialogDescriptionWarning",_ye=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pY(Nye).contentName}}.`;return N.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},rI=tY,nI=nY,sI=aY,Ib=iY,Rb=oY,Db=cY,Mb=dY,G_=fY;const aI=rI,gY=nI,Sye=sI,vY=N.forwardRef(({className:e,...t},r)=>n.jsx(Ib,{className:Pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));vY.displayName=Ib.displayName;const kye=Sy("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),K_=N.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(Sye,{children:[n.jsx(vY,{}),n.jsxs(Rb,{ref:a,className:Pt(kye({side:e}),t),...s,children:[r,n.jsxs(G_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[n.jsx(Rl,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));K_.displayName=Rb.displayName;const Y_=({className:e,...t})=>n.jsx("div",{className:Pt("flex flex-col space-y-2 text-center sm:text-left",e),...t});Y_.displayName="SheetHeader";const J_=N.forwardRef(({className:e,...t},r)=>n.jsx(Db,{ref:r,className:Pt("text-lg font-semibold text-foreground",e),...t}));J_.displayName=Db.displayName;const xY=N.forwardRef(({className:e,...t},r)=>n.jsx(Mb,{ref:r,className:Pt("text-sm text-muted-foreground",e),...t}));xY.displayName=Mb.displayName;const At=()=>{const{user:e,logout:t}=un(),r=sp(),s=ns(),[a,i]=N.useState(!1),o=()=>{t(),s("/"),i(!1)},l=u=>r.pathname===u,c=[{to:"/dashboard",icon:Gr,label:"Dashboard"},{to:"/jobs",icon:xn,label:"Jobs"},{to:"/resumes",icon:bs,label:"Resumes"},{to:"/cover-letters",icon:gc,label:"Cover Letters"},{to:"/analytics",icon:VV,label:"Analytics"},{to:"/interview-analytics",icon:mr,label:"Interview Analytics"},{to:"/automation",icon:uO,label:"Automation"},{to:"/email",icon:YV,label:"Email"},{to:"/interview-prep",icon:mr,label:"Interview Prep"},{to:"/question-bank",icon:Tw,label:"Question Bank"},{to:"/technical-prep",icon:b_,label:"Technical Prep"},{to:"/network",icon:tn,label:"Network"},{to:"/collaboration",icon:hO,label:"Collaboration"},{to:"/family-dashboard",icon:Cy,label:"Progress"},{to:"/peer-community",icon:tn,label:"Community"},{to:"/advisors",icon:HV,label:"Advisors"},{to:"/institutional-admin",icon:Hx,label:"Institution"},{to:"/teams",icon:Fa,label:"Teams"}];return n.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[n.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[n.jsx(Sr,{to:"/",className:"flex items-center space-x-2",children:n.jsx("img",{src:cK,alt:"JibbitATS logo",className:"h-8 w-auto"})}),n.jsx("div",{className:"flex items-center space-x-4",children:e?n.jsxs(n.Fragment,{children:[n.jsxs(aI,{children:[n.jsx(gY,{asChild:!0,children:n.jsx(ve,{variant:"ghost",size:"icon",className:"hidden md:flex",children:n.jsx(aL,{className:"h-5 w-5"})})}),n.jsxs(K_,{side:"left",className:"w-80",children:[n.jsx(Y_,{children:n.jsx(J_,{children:"Navigation"})}),n.jsx(X2,{className:"h-[calc(100vh-8rem)] mt-6",children:n.jsx("div",{className:"space-y-1",children:c.map(u=>n.jsxs(Sr,{to:u.to,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${l(u.to)?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"}`,children:[n.jsx(u.icon,{className:"h-4 w-4"}),n.jsx("span",{children:u.label})]},u.to))})})]})]}),n.jsx(mye,{}),n.jsx(f8,{}),n.jsxs(ve,{variant:"ghost",size:"sm",onClick:o,className:"hidden md:flex",children:[n.jsx(sL,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(f8,{}),n.jsx(Sr,{to:"/login",children:n.jsx(ve,{variant:"ghost",size:"sm",children:"Login"})}),n.jsx(Sr,{to:"/register",children:n.jsx(ve,{size:"sm",children:"Get Started"})})]})}),n.jsx("button",{className:"md:hidden p-2",onClick:()=>i(!a),"aria-label":"Toggle menu",children:n.jsx(aL,{className:"h-6 w-6"})})]}),a&&n.jsx("div",{className:"md:hidden border-t border-border bg-background",children:n.jsx(X2,{className:"h-[calc(100vh-4rem)]",children:n.jsx("div",{className:"container py-4 space-y-1",children:e?n.jsxs(n.Fragment,{children:[c.map(u=>n.jsxs(Sr,{to:u.to,onClick:()=>i(!1),className:`flex items-center space-x-3 px-4 py-2 rounded-md text-sm font-medium transition-colors ${l(u.to)?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"}`,children:[n.jsx(u.icon,{className:"h-4 w-4"}),n.jsx("span",{children:u.label})]},u.to)),n.jsx("div",{className:"pt-4 border-t border-border mt-4",children:n.jsxs(ve,{variant:"ghost",className:"w-full justify-start",onClick:o,children:[n.jsx(sL,{className:"h-4 w-4 mr-2"}),"Logout"]})})]}):n.jsxs(n.Fragment,{children:[n.jsx(Sr,{to:"/login",onClick:()=>i(!1),className:"block px-4 py-2 rounded-md text-sm font-medium text-foreground hover:bg-muted",children:"Login"}),n.jsx(Sr,{to:"/register",onClick:()=>i(!1),className:"block px-4 py-2 rounded-md text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90",children:"Get Started"})]})})})})]})},Ia=N.forwardRef(({icon:e,title:t,description:r,children:s,footer:a,className:i,...o},l)=>n.jsxs(ye,{ref:l,className:Pt("transition-shadow hover:shadow-md",i),...o,children:[(e||t||r)&&n.jsxs(Ie,{children:[e&&n.jsx("div",{className:"mb-2 w-fit rounded-lg bg-primary/10 p-2",children:n.jsx(e,{className:"h-5 w-5 text-primary"})}),t&&n.jsx(De,{children:t}),r&&n.jsx(_t,{children:r})]}),s&&n.jsx(_e,{children:s}),a&&n.jsx(uK,{children:a})]}));Ia.displayName="InfoCard";const Cye=()=>{const{user:e}=un(),t=ns();return N.useEffect(()=>{const r=new URL(window.location.href),s=new URLSearchParams(r.hash.replace(/^#/,"")),a=r.searchParams,i=s.has("access_token")||s.has("refresh_token"),o=a.get("error")||s.get("error"),l=a.get("error_description")||s.get("error_description");o&&xe.error(decodeURIComponent(l||"Authentication failed")),(i||o)&&window.history.replaceState({},document.title,window.location.pathname)},[]),N.useEffect(()=>{e&&t("/dashboard")},[e,t]),n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("section",{className:"flex-1 container py-20 md:py-32",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[n.jsxs("h1",{className:"text-4xl md:text-6xl font-display font-bold tracking-tight",children:["Empower Your Job Search with"," ",n.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"JibbitATS"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto",children:"The modern ATS platform designed for candidates. Build, manage, and showcase your professional profile with ease."}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:e?n.jsx(Sr,{to:"/dashboard",children:n.jsxs(ve,{size:"lg",className:"group",children:["Go to Dashboard",n.jsx(Yh,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})}):n.jsxs(n.Fragment,{children:[n.jsx(Sr,{to:"/register",children:n.jsxs(ve,{size:"lg",className:"group",children:["Get Started Free",n.jsx(Yh,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})}),n.jsx(Sr,{to:"/login",children:n.jsx(ve,{size:"lg",variant:"outline",children:"Sign In"})})]})})]})}),n.jsx("section",{className:"bg-muted/50 py-20",children:n.jsxs("div",{className:"container",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold mb-4",children:"Everything You Need to Stand Out"}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Powerful features to showcase your professional journey"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[n.jsx(Ia,{icon:Fa,title:"Career Timeline",description:"Document your employment history, skills, and achievements in a structured, professional format."}),n.jsx(Ia,{icon:bs,title:"Profile Management",description:"Create comprehensive profiles with education, certifications, and special projects all in one place."}),n.jsx(Ia,{icon:Gr,title:"Track Your Progress",description:"Monitor your profile completeness and get suggestions to improve your professional presentation."})]})]})}),n.jsx("footer",{className:"border-t py-8",children:n.jsxs("div",{className:"container text-center text-sm text-muted-foreground space-y-2",children:[n.jsx("p",{children:" 2025 JibbitATS. All rights reserved."}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx(Sr,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),n.jsx(Sr,{to:"/terms",className:"hover:underline",children:"Terms of Service"})]})]})})]})},Je=N.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Pt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));Je.displayName="Input";var Eye="Label",yY=N.forwardRef((e,t)=>n.jsx(zt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yY.displayName=Eye;var wY=yY;const Aye=Sy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ee=N.forwardRef(({className:e,...t},r)=>n.jsx(wY,{ref:r,className:Pt(Aye(),e),...t}));Ee.displayName=wY.displayName;var Pye="Separator",O8="horizontal",Tye=["horizontal","vertical"],bY=N.forwardRef((e,t)=>{const{decorative:r,orientation:s=O8,...a}=e,i=Oye(s)?s:O8,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(zt.div,{"data-orientation":i,...l,...a,ref:t})});bY.displayName=Pye;function Oye(e){return Tye.includes(e)}var jY=bY;const Bi=N.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(jY,{ref:a,decorative:r,orientation:t,className:Pt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Bi.displayName=jY.displayName;const Iye=()=>{const e=ns(),{login:t,user:r}=un();Eb();const[s,a]=N.useState({email:"",password:""}),[i,o]=N.useState(!1);N.useEffect(()=>{r&&e("/dashboard")},[r,e]);const l=async d=>{o(!0);try{const{error:h}=await se.auth.signInWithOAuth({provider:d,options:{redirectTo:`${window.location.origin}/auth/callback`}});h&&xe.error(`Failed to sign in with ${d}: ${h.message}`)}catch(h){xe.error("An unexpected error occurred"),console.error("OAuth error:",h)}finally{o(!1)}},c=()=>{o(!0);const d="https://fzckeizrrolxgakekzhe.supabase.co",h=encodeURIComponent(window.location.origin);window.location.href=`${d}/functions/v1/linkedin-oauth-start?redirect_to=${h}`},u=async d=>{d.preventDefault(),o(!0);const h=await t(s.email,s.password);o(!1),h.success?(xe.success("Welcome back!"),e("/dashboard")):(a({...s,password:""}),xe.error(h.error||"Login failed"))};return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"w-full max-w-md",children:[n.jsxs(Ie,{className:"text-center",children:[n.jsx(De,{className:"text-3xl font-display",children:"Welcome Back"}),n.jsx(_t,{children:"Sign in to your JibbitATS account"})]}),n.jsxs(_e,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(ve,{type:"button",variant:"outline",onClick:()=>l("google"),disabled:i,className:"w-full",children:[n.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),n.jsxs(ve,{type:"button",variant:"outline",onClick:()=>l("azure"),disabled:i,className:"w-full",children:[n.jsx("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M11.4 24H0V12.6h11.4V24zM24 24H12.6V12.6H24V24zM11.4 11.4H0V0h11.4v11.4zm12.6 0H12.6V0H24v11.4z"})}),"Microsoft"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:c,disabled:i,className:"w-full",children:n.jsx(lO,{className:"h-4 w-4"})}),n.jsx(ve,{type:"button",variant:"outline",onClick:()=>l("github"),disabled:i,className:"w-full",children:n.jsx(iO,{className:"h-4 w-4"})}),n.jsx(ve,{type:"button",variant:"outline",onClick:()=>l("apple"),disabled:i,className:"w-full",children:n.jsx(WV,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx(Bi,{className:"w-full"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"email",children:"Email"}),n.jsx(Je,{id:"email",type:"email",value:s.email,onChange:d=>a({...s,email:d.target.value}),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ee,{htmlFor:"password",children:"Password"}),n.jsx(Sr,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),n.jsx(Je,{id:"password",type:"password",value:s.password,onChange:d=>a({...s,password:d.target.value}),required:!0})]}),n.jsx(ve,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]})]}),n.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Don't have an account?"," ",n.jsx(Sr,{to:"/register",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})]})})]})},Rye=()=>{const e=ns(),{register:t,user:r}=un(),[s,a]=N.useState({name:"",email:"",password:"",confirmPassword:""}),[i,o]=N.useState({}),[l,c]=N.useState(!1);N.useEffect(()=>{r&&e("/dashboard")},[r,e]);const u=async m=>{c(!0);try{const{error:f}=await se.auth.signInWithOAuth({provider:m,options:{redirectTo:`${window.location.origin}/dashboard`}});f&&xe.error(`Failed to sign up with ${m}: ${f.message}`)}catch(f){xe.error("An unexpected error occurred"),console.error("OAuth error:",f)}finally{c(!1)}},d=()=>{const m={};return s.name.trim()||(m.name="Name is required"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(m.email="Please enter a valid email address"):m.email="Email is required",s.password?s.password.length<8?m.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s.password)||(m.password="Password must contain uppercase, lowercase, and number"):m.password="Password is required",s.password!==s.confirmPassword&&(m.confirmPassword="Passwords do not match"),o(m),Object.keys(m).length===0},h=async m=>{if(m.preventDefault(),!d())return;c(!0);const f=await t(s.name,s.email,s.password);c(!1),f.success?(xe.success("Account created successfully!"),e("/dashboard")):xe.error(f.error||"Registration failed")};return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"w-full max-w-md",children:[n.jsxs(Ie,{className:"text-center",children:[n.jsx(De,{className:"text-3xl font-display",children:"Create Your Account"}),n.jsx(_t,{children:"Get started with JibbitATS today"})]}),n.jsxs(_e,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(ve,{type:"button",variant:"outline",onClick:()=>u("google"),disabled:l,className:"w-full",children:[n.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),n.jsxs(ve,{type:"button",variant:"outline",onClick:()=>u("azure"),disabled:l,className:"w-full",children:[n.jsx("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M11.4 24H0V12.6h11.4V24zM24 24H12.6V12.6H24V24zM11.4 11.4H0V0h11.4v11.4zm12.6 0H12.6V0H24v11.4z"})}),"Microsoft"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>u("linkedin_oidc"),disabled:l,className:"w-full",children:n.jsx(lO,{className:"h-4 w-4"})}),n.jsx(ve,{type:"button",variant:"outline",onClick:()=>u("github"),disabled:l,className:"w-full",children:n.jsx(iO,{className:"h-4 w-4"})}),n.jsx(ve,{type:"button",variant:"outline",onClick:()=>u("apple"),disabled:l,className:"w-full",children:n.jsx(WV,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx(Bi,{className:"w-full"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"name",children:"Full Name"}),n.jsx(Je,{id:"name",type:"text",value:s.name,onChange:m=>a({...s,name:m.target.value}),className:i.name?"border-destructive":""}),i.name&&n.jsx("p",{className:"text-sm text-destructive",children:i.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"email",children:"Email"}),n.jsx(Je,{id:"email",type:"email",value:s.email,onChange:m=>a({...s,email:m.target.value}),className:i.email?"border-destructive":""}),i.email&&n.jsx("p",{className:"text-sm text-destructive",children:i.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"password",children:"Password"}),n.jsx(Je,{id:"password",type:"password",value:s.password,onChange:m=>a({...s,password:m.target.value}),className:i.password?"border-destructive":""}),i.password&&n.jsx("p",{className:"text-sm text-destructive",children:i.password})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx(Je,{id:"confirmPassword",type:"password",value:s.confirmPassword,onChange:m=>a({...s,confirmPassword:m.target.value}),className:i.confirmPassword?"border-destructive":""}),i.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive",children:i.confirmPassword})]}),n.jsx(ve,{type:"submit",className:"w-full",disabled:l,children:l?"Creating account...":"Create Account"})]})]}),n.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Already have an account?"," ",n.jsx(Sr,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})})]})},I8=()=>{const{toast:e}=Nc(),t=ns(),{token:r}=_c(),[s,a]=N.useState(""),[i,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1),[h,m]=N.useState(!1),[f,x]=N.useState({}),v=()=>{const j={};return i?i.length<8?j.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(i)||(j.password="Password must contain uppercase, lowercase, and number"):j.password="Password is required",i!==l&&(j.confirmPassword="Passwords do not match"),x(j),Object.keys(j).length===0},g=async j=>{j.preventDefault(),d(!0);const{error:b}=await se.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/reset-password`});d(!1),b?e({title:"Error",description:b.message||"Failed to send reset email",variant:"destructive"}):(m(!0),e({title:"Email sent",description:"Check your inbox for password reset instructions."}))},y=async j=>{if(j.preventDefault(),!(!v()||!r)){d(!0);try{const _=await(await fetch(`https://api.jibbit.app/api/auth/reset-password/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i})})).json();d(!1),_.success?(e({title:"Success",description:"Your password has been reset successfully."}),setTimeout(()=>{t("/login")},1500)):e({title:"Error",description:_.message||"Failed to reset password",variant:"destructive"})}catch{d(!1),e({title:"Error",description:"Failed to reset password. Please try again.",variant:"destructive"})}}};return r?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"w-full max-w-md",children:[n.jsxs(Ie,{className:"text-center",children:[n.jsx(De,{className:"text-3xl font-display",children:"Set New Password"}),n.jsx(_t,{children:"Enter your new password below"})]}),n.jsx(_e,{children:n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"password",children:"New Password"}),n.jsx(Je,{id:"password",type:"password",value:i,onChange:j=>o(j.target.value),className:f.password?"border-destructive":""}),f.password&&n.jsx("p",{className:"text-sm text-destructive",children:f.password}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters with 1 uppercase, 1 lowercase, and 1 number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsx(Je,{id:"confirmPassword",type:"password",value:l,onChange:j=>c(j.target.value),className:f.confirmPassword?"border-destructive":""}),f.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive",children:f.confirmPassword})]}),n.jsx(ve,{type:"submit",className:"w-full",disabled:u,children:u?"Resetting...":"Reset Password"})]})})]})})]}):h?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"w-full max-w-md text-center",children:[n.jsxs(Ie,{children:[n.jsx(De,{className:"text-3xl font-display",children:"Check your email"}),n.jsxs(_t,{children:["We've sent password reset instructions to ",n.jsx("strong",{children:s})]})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"The reset link will expire in 15 minutes."}),n.jsx(Sr,{to:"/login",children:n.jsx(ve,{variant:"outline",className:"w-full",children:"Back to login"})})]})]})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"w-full max-w-md",children:[n.jsxs(Ie,{className:"text-center",children:[n.jsx(De,{className:"text-3xl font-display",children:"Reset Password"}),n.jsx(_t,{children:"Enter your email and we'll send you a reset link"})]}),n.jsxs(_e,{children:[n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"email",children:"Email"}),n.jsx(Je,{id:"email",type:"email",placeholder:"you@example.com",value:s,onChange:j=>a(j.target.value),required:!0})]}),n.jsx(ve,{type:"submit",className:"w-full",disabled:u,children:u?"Sending...":"Send Reset Link"})]}),n.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Remember your password?"," ",n.jsx(Sr,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})})]})},Dye=()=>{const{user:e}=un();return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Dashboard"}),n.jsxs("p",{className:"text-muted-foreground mt-2 text-lg",children:["Welcome back, ",e==null?void 0:e.email]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(Sr,{to:"/jobs",children:n.jsx(Ia,{icon:xn,title:"Jobs",description:"Manage and track your job applications",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/resumes",children:n.jsx(Ia,{icon:bs,title:"Resumes",description:"Create and manage your resumes",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/cover-letters",children:n.jsx(Ia,{icon:gc,title:"Cover Letters",description:"Build tailored cover letters",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/analytics",children:n.jsx(Ia,{icon:VV,title:"Analytics",description:"Track your job search progress",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/interview-analytics",children:n.jsx(Ia,{icon:mr,title:"Interview Analytics",description:"Analyze your interview performance",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/automation",children:n.jsx(Ia,{icon:uO,title:"Automation",description:"Automate your job search workflow",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/email",children:n.jsx(Ia,{icon:YV,title:"Email",description:"Monitor application responses",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/interview-prep",children:n.jsx(Ia,{icon:mr,title:"Interview Prep",description:"Prepare for your interviews",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/question-bank",children:n.jsx(Ia,{icon:Tw,title:"Question Bank",description:"Practice common interview questions",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/technical-prep",children:n.jsx(Ia,{icon:b_,title:"Technical Prep",description:"Prepare for technical interviews",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/network",children:n.jsx(Ia,{icon:yce,title:"Network",description:"Manage your professional contacts",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/collaboration",children:n.jsx(Ia,{icon:hO,title:"Collaboration",description:"Share and collaborate with teams",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/family-dashboard",children:n.jsx(Ia,{icon:Cy,title:"Progress",description:"Share your progress with supporters",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/peer-community",children:n.jsx(Ia,{icon:tn,title:"Community",description:"Connect with peer job seekers",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/advisors",children:n.jsx(Ia,{icon:HV,title:"Advisors",description:"Find career advisors and coaches",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/institutional-admin",children:n.jsx(Ia,{icon:Hx,title:"Institution",description:"Institutional admin features",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/teams",children:n.jsx(Ia,{icon:Fa,title:"Teams",description:"Manage your team collaboration",className:"hover-scale cursor-pointer"})}),n.jsx(Sr,{to:"/profile",children:n.jsx(Ia,{icon:su,title:"Profile",description:"Manage your personal information",className:"hover-scale cursor-pointer"})})]})]})})]})},dr=N.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Pt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));dr.displayName="Textarea";var Gk="rovingFocusGroup.onEntryFocus",Mye={bubbles:!1,cancelable:!0},Lb="RovingFocusGroup",[iT,NY,Lye]=Ny(Lb),[Fye,X_]=di(Lb,[Lye]),[Bye,Uye]=Fye(Lb),_Y=N.forwardRef((e,t)=>n.jsx(iT.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(iT.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx($ye,{...e,ref:t})})}));_Y.displayName=Lb;var $ye=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=N.useRef(null),f=Tr(t,m),x=nv(i),[v,g]=Xo({prop:o,defaultProp:l??null,onChange:c,caller:Lb}),[y,j]=N.useState(!1),b=Ma(u),_=NY(r),S=N.useRef(!1),[T,A]=N.useState(0);return N.useEffect(()=>{const L=m.current;if(L)return L.addEventListener(Gk,b),()=>L.removeEventListener(Gk,b)},[b]),n.jsx(Bye,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:v,onItemFocus:N.useCallback(L=>g(L),[g]),onItemShiftTab:N.useCallback(()=>j(!0),[]),onFocusableItemAdd:N.useCallback(()=>A(L=>L+1),[]),onFocusableItemRemove:N.useCallback(()=>A(L=>L-1),[]),children:n.jsx(zt.div,{tabIndex:y||T===0?-1:0,"data-orientation":s,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:St(e.onMouseDown,()=>{S.current=!0}),onFocus:St(e.onFocus,L=>{const E=!S.current;if(L.target===L.currentTarget&&E&&!y){const q=new CustomEvent(Gk,Mye);if(L.currentTarget.dispatchEvent(q),!q.defaultPrevented){const M=_().filter(re=>re.focusable),C=M.find(re=>re.active),I=M.find(re=>re.id===v),H=[C,I,...M].filter(Boolean).map(re=>re.ref.current);CY(H,d)}}S.current=!1}),onBlur:St(e.onBlur,()=>j(!1))})})}),SY="RovingFocusGroupItem",kY=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Pl(),u=i||c,d=Uye(SY,r),h=d.currentTabStopId===u,m=NY(r),{onFocusableItemAdd:f,onFocusableItemRemove:x,currentTabStopId:v}=d;return N.useEffect(()=>{if(s)return f(),()=>x()},[s,f,x]),n.jsx(iT.ItemSlot,{scope:r,id:u,focusable:s,active:a,children:n.jsx(zt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:St(e.onMouseDown,g=>{s?d.onItemFocus(u):g.preventDefault()}),onFocus:St(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:St(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Wye(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=d.loop?Vye(b,_+1):b.slice(_+1)}setTimeout(()=>CY(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});kY.displayName=SY;var qye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zye(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Wye(e,t,r){const s=zye(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return qye[s]}function CY(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Vye(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var EY=_Y,AY=kY,Q_="Tabs",[Hye]=di(Q_,[X_]),PY=X_(),[Gye,iI]=Hye(Q_),TY=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=nv(l),[h,m]=Xo({prop:s,onChange:a,defaultProp:i??"",caller:Q_});return n.jsx(Gye,{scope:r,baseId:Pl(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:c,children:n.jsx(zt.div,{dir:d,"data-orientation":o,...u,ref:t})})});TY.displayName=Q_;var OY="TabsList",IY=N.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=iI(OY,r),o=PY(r);return n.jsx(EY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(zt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});IY.displayName=OY;var RY="TabsTrigger",DY=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=iI(RY,r),l=PY(r),c=FY(o.baseId,s),u=BY(o.baseId,s),d=s===o.value;return n.jsx(AY,{asChild:!0,...l,focusable:!a,active:d,children:n.jsx(zt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:St(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:St(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:St(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(s)})})})});DY.displayName=RY;var MY="TabsContent",LY=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=iI(MY,r),c=FY(l.baseId,s),u=BY(l.baseId,s),d=s===l.value,h=N.useRef(d);return N.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(yi,{present:a||d,children:({present:m})=>n.jsx(zt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});LY.displayName=MY;function FY(e,t){return`${e}-trigger-${t}`}function BY(e,t){return`${e}-content-${t}`}var Kye=TY,UY=IY,$Y=DY,qY=LY;const ss=Kye,Kn=N.forwardRef(({className:e,...t},r)=>n.jsx(UY,{ref:r,className:Pt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Kn.displayName=UY.displayName;const vt=N.forwardRef(({className:e,...t},r)=>n.jsx($Y,{ref:r,className:Pt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));vt.displayName=$Y.displayName;const xt=N.forwardRef(({className:e,...t},r)=>n.jsx(qY,{ref:r,className:Pt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xt.displayName=qY.displayName;var Kk={exports:{}},Yk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R8;function Yye(){if(R8)return Yk;R8=1;var e=jy();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var f=m(),x=s({inst:{value:f,getSnapshot:m}}),v=x[0].inst,g=x[1];return i(function(){v.value=f,v.getSnapshot=m,c(v)&&g({inst:v})},[h,f,m]),a(function(){return c(v)&&g({inst:v}),h(function(){c(v)&&g({inst:v})})},[h]),o(f),f}function c(h){var m=h.getSnapshot;h=h.value;try{var f=m();return!r(h,f)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Yk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Yk}var D8;function zY(){return D8||(D8=1,Kk.exports=Yye()),Kk.exports}var Jye=zY();function Xye(){return Jye.useSyncExternalStore(Qye,()=>!0,()=>!1)}function Qye(){return()=>{}}var oI="Avatar",[Zye]=di(oI),[e0e,WY]=Zye(oI),VY=N.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=N.useState("idle");return n.jsx(e0e,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(zt.span,{...s,ref:t})})});VY.displayName=oI;var HY="AvatarImage",GY=N.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=WY(HY,r),l=t0e(s,i),c=Ma(u=>{a(u),o.onImageLoadingStatusChange(u)});return Ba(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(zt.img,{...i,ref:t,src:s}):null});GY.displayName=HY;var KY="AvatarFallback",YY=N.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=WY(KY,r),[o,l]=N.useState(s===void 0);return N.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(zt.span,{...a,ref:t}):null});YY.displayName=KY;function M8(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t0e(e,{referrerPolicy:t,crossOrigin:r}){const s=Xye(),a=N.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=N.useState(()=>M8(i,e));return Ba(()=>{l(M8(i,e))},[i,e]),Ba(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var JY=VY,XY=GY,QY=YY;const Vw=N.forwardRef(({className:e,...t},r)=>n.jsx(JY,{ref:r,className:Pt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Vw.displayName=JY.displayName;const ZY=N.forwardRef(({className:e,...t},r)=>n.jsx(XY,{ref:r,className:Pt("aspect-square h-full w-full",e),...t}));ZY.displayName=XY.displayName;const Hw=N.forwardRef(({className:e,...t},r)=>n.jsx(QY,{ref:r,className:Pt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Hw.displayName=QY.displayName;const Hn={auth:{getUser:async()=>await se.auth.getUser()},jobs:{getAll:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");let r=se.from("jobs").select("*").eq("user_id",t.id);if(e!=null&&e.search){const l=`%${e.search}%`;r=r.or(`job_title.ilike.${l},company_name.ilike.${l}`)}e!=null&&e.status&&(r=r.eq("status",e.status)),(e==null?void 0:e.salaryMin)!==void 0&&(r=r.gte("salary_max",e.salaryMin)),(e==null?void 0:e.salaryMax)!==void 0&&(r=r.lte("salary_min",e.salaryMax)),e!=null&&e.deadlineFrom&&(r=r.gte("application_deadline",e.deadlineFrom)),e!=null&&e.deadlineTo&&(r=r.lte("application_deadline",e.deadlineTo)),(e==null?void 0:e.isArchived)!==void 0&&(r=r.eq("is_archived",e.isArchived));const s=(e==null?void 0:e.sortBy)||"created_at",a=(e==null?void 0:e.sortOrder)==="asc"?{ascending:!0}:{ascending:!1};r=r.order(s,a);const{data:i,error:o}=await r;if(o)throw o;return i||[]},get:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("jobs").select("*").eq("id",e).eq("user_id",t.id).single();if(s)throw s;return r},create:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("jobs").insert({...e,user_id:t.id}).select().single();if(s)throw s;return r},update:async(e,t)=>{const{data:{user:r}}=await se.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:s,error:a}=await se.from("jobs").update(t).eq("id",e).eq("user_id",r.id).select().single();if(a)throw a;return s},delete:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await se.from("jobs").delete().eq("id",e).eq("user_id",t.id);if(r)throw r},archive:async(e,t)=>Hn.jobs.update(e,{is_archived:!0,archive_reason:t}),unarchive:async e=>Hn.jobs.update(e,{is_archived:!1,archive_reason:null}),updateStatus:async(e,t)=>{const s=(await Hn.jobs.get(e)).status_history||[];return s.push({status:t,changedAt:new Date().toISOString()}),Hn.jobs.update(e,{status:t,status_history:s,status_updated_at:new Date().toISOString()})},getStats:async()=>{const e=await Hn.jobs.getAll(),t={interested:e.filter(s=>s.status==="interested").length,applied:e.filter(s=>s.status==="applied").length,phoneScreen:e.filter(s=>s.status==="phone_screen").length,interview:e.filter(s=>s.status==="interview").length,offer:e.filter(s=>s.status==="offer").length,rejected:e.filter(s=>s.status==="rejected").length},r=e.filter(s=>s.application_deadline&&!s.is_archived).map(s=>({jobId:s.id,jobTitle:s.job_title,company:s.company_name,deadline:s.application_deadline,daysUntil:Math.ceil((new Date(s.application_deadline).getTime()-Date.now())/(1e3*60*60*24))})).filter(s=>s.daysUntil>=0).sort((s,a)=>s.daysUntil-a.daysUntil).slice(0,5);return{total:e.length,byStatus:t,upcomingDeadlines:r}}},resumes:{getAll:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");let r=se.from("resumes").select("*").eq("user_id",t.id);e!==void 0&&(r=r.eq("is_archived",e)),r=r.order("created_at",{ascending:!1});const{data:s,error:a}=await r;if(a)throw a;return s||[]},get:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("resumes").select("*").eq("id",e).eq("user_id",t.id).single();if(s)throw s;return r},create:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("resumes").insert({...e,user_id:t.id}).select().single();if(s)throw s;return r},update:async(e,t)=>{const{data:{user:r}}=await se.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:s,error:a}=await se.from("resumes").update(t).eq("id",e).eq("user_id",r.id).select().single();if(a)throw a;return s},delete:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await se.from("resumes").delete().eq("id",e).eq("user_id",t.id);if(r)throw r},generateContent:async(e,t,r)=>{const{data:s,error:a}=await se.functions.invoke("ai-resume-content",{body:{jobId:t,sections:r,returnFormat:"structured"}});if(a)throw a;return r.length>1?{summary:s.summary||[],experience:s.experience||[],skills:s.skills||[]}:s},optimizeSkills:async e=>{const{data:t,error:r}=await se.functions.invoke("ai-optimize-skills",{body:{jobId:e}});if(r)throw r;return t},tailorExperience:async e=>{const{data:t,error:r}=await se.functions.invoke("ai-tailor-experience",{body:{jobId:e}});if(r)throw r;return t}},coverLetters:{getAll:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");let r=se.from("cover_letters").select("*").eq("user_id",t.id);e!==void 0&&(r=r.eq("is_archived",e)),r=r.order("created_at",{ascending:!1});const{data:s,error:a}=await r;if(a)throw a;return s||[]},get:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("cover_letters").select("*").eq("id",e).eq("user_id",t.id).single();if(s)throw s;return r},create:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("cover_letters").insert({...e,user_id:t.id}).select().single();if(s)throw s;return r},update:async(e,t)=>{const{data:{user:r}}=await se.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:s,error:a}=await se.from("cover_letters").update(t).eq("id",e).eq("user_id",r.id).select().single();if(a)throw a;return s},delete:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await se.from("cover_letters").delete().eq("id",e).eq("user_id",t.id);if(r)throw r},generate:async(e,t,r,s)=>{const{data:a,error:i}=await se.functions.invoke("ai-cover-letter-generate",{body:{jobId:e,tone:t||"professional",template:r||"formal",researchContext:s}});if(i)throw i;return a}},company:{research:async(e,t)=>{const{data:r,error:s}=await se.functions.invoke("ai-company-research",{body:{companyName:e,companyWebsite:t}});if(s)throw s;return r}},matching:{analyzeJob:async e=>{const{data:t,error:r}=await se.functions.invoke("ai-job-match",{body:{jobId:e}});if(r)throw r;return t}},jobImport:{fromUrl:async e=>{const{data:t,error:r}=await se.functions.invoke("ai-job-import",{body:{url:e}});if(r)throw r;return t}},profile:{get:async()=>{const{data:{user:e}}=await se.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await se.from("profiles").select("*").eq("user_id",e.id).single();if(r)throw r;return t},update:async e=>{const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("profiles").update(e).eq("user_id",t.id).select().single();if(s)throw s;return r}},materialsUsage:{async listByJob(e){const{data:t,error:r}=await se.from("materials_usage").select("*").eq("job_id",e).order("used_at",{ascending:!1});if(r)throw r;return t??[]},async add(e){const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:s}=await se.from("materials_usage").insert({user_id:t.id,job_id:e.jobId,resume_id:e.resumeId??null,cover_letter_id:e.coverLetterId??null,notes:e.notes??null}).select("*").single();if(s)throw s;return r},async usageByMonth({months:e=6}={}){const{data:{user:t}}=await se.auth.getUser();if(!t)throw new Error("Not authenticated");const r=new Date;r.setMonth(r.getMonth()-e);const{data:s,error:a}=await se.from("materials_usage").select("used_at").eq("user_id",t.id).gte("used_at",r.toISOString());if(a)throw a;const i=new Map;return s==null||s.forEach(({used_at:o})=>{const l=new Date(o),c=`${l.getUTCFullYear()}-${String(l.getUTCMonth()+1).padStart(2,"0")}`;i.set(c,(i.get(c)??0)+1)}),Array.from(i.entries()).sort((o,l)=>o[0].localeCompare(l[0])).map(([o,l])=>({month:o,count:l}))}}};function Z_(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eS="Checkbox",[r0e]=di(eS),[n0e,lI]=r0e(eS);function s0e(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[m,f]=Xo({prop:r,defaultProp:a??!1,onChange:c,caller:eS}),[x,v]=N.useState(null),[g,y]=N.useState(null),j=N.useRef(!1),b=x?!!o||!!x.closest("form"):!0,_={checked:m,disabled:i,setChecked:f,control:x,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:Dm(a)?!1:a,isFormControl:b,bubbleInput:g,setBubbleInput:y};return n.jsx(n0e,{scope:t,..._,children:a0e(h)?h(_):s})}var eJ="CheckboxTrigger",tJ=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:f,bubbleInput:x}=lI(eJ,e),v=Tr(a,d),g=N.useRef(c);return N.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const j=()=>h(g.current);return y.addEventListener("reset",j),()=>y.removeEventListener("reset",j)}},[i,h]),n.jsx(zt.button,{type:"button",role:"checkbox","aria-checked":Dm(c)?"mixed":c,"aria-required":u,"data-state":iJ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:St(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:St(r,y=>{h(j=>Dm(j)?!0:!j),x&&f&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});tJ.displayName=eJ;var cI=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return n.jsx(s0e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>n.jsxs(n.Fragment,{children:[n.jsx(tJ,{...h,ref:t,__scopeCheckbox:r}),m&&n.jsx(aJ,{__scopeCheckbox:r})]})})});cI.displayName=eS;var rJ="CheckboxIndicator",nJ=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=lI(rJ,r);return n.jsx(yi,{present:s||Dm(i.checked)||i.checked===!0,children:n.jsx(zt.span,{"data-state":iJ(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});nJ.displayName=rJ;var sJ="CheckboxBubbleInput",aJ=N.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:f}=lI(sJ,e),x=Tr(r,f),v=Z_(i),g=E_(s);N.useEffect(()=>{const j=m;if(!j)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,T=!a.current;if(v!==i&&S){const A=new Event("click",{bubbles:T});j.indeterminate=Dm(i),S.call(j,Dm(i)?!1:i),j.dispatchEvent(A)}},[m,v,i,a]);const y=N.useRef(Dm(i)?!1:i);return n.jsx(zt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});aJ.displayName=sJ;function a0e(e){return typeof e=="function"}function Dm(e){return e==="indeterminate"}function iJ(e){return Dm(e)?"indeterminate":e?"checked":"unchecked"}const ga=N.forwardRef(({className:e,...t},r)=>n.jsx(cI,{ref:r,className:Pt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(nJ,{className:Pt("flex items-center justify-center text-current"),children:n.jsx(Vd,{className:"h-4 w-4"})})}));ga.displayName=cI.displayName;var oJ="AlertDialog",[i0e]=di(oJ,[eY]),wf=eY(),lJ=e=>{const{__scopeAlertDialog:t,...r}=e,s=wf(t);return n.jsx(rI,{...s,...r,modal:!0})};lJ.displayName=oJ;var o0e="AlertDialogTrigger",l0e=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=wf(r);return n.jsx(nI,{...a,...s,ref:t})});l0e.displayName=o0e;var c0e="AlertDialogPortal",cJ=e=>{const{__scopeAlertDialog:t,...r}=e,s=wf(t);return n.jsx(sI,{...s,...r})};cJ.displayName=c0e;var u0e="AlertDialogOverlay",uJ=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=wf(r);return n.jsx(Ib,{...a,...s,ref:t})});uJ.displayName=u0e;var jx="AlertDialogContent",[d0e,h0e]=i0e(jx),f0e=xV("AlertDialogContent"),dJ=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=wf(r),o=N.useRef(null),l=Tr(t,o),c=N.useRef(null);return n.jsx(bye,{contentName:jx,titleName:hJ,docsSlug:"alert-dialog",children:n.jsx(d0e,{scope:r,cancelRef:c,children:n.jsxs(Rb,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:St(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[n.jsx(f0e,{children:s}),n.jsx(p0e,{contentRef:o})]})})})});dJ.displayName=jx;var hJ="AlertDialogTitle",fJ=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=wf(r);return n.jsx(Db,{...a,...s,ref:t})});fJ.displayName=hJ;var mJ="AlertDialogDescription",pJ=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=wf(r);return n.jsx(Mb,{...a,...s,ref:t})});pJ.displayName=mJ;var m0e="AlertDialogAction",gJ=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=wf(r);return n.jsx(G_,{...a,...s,ref:t})});gJ.displayName=m0e;var vJ="AlertDialogCancel",xJ=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=h0e(vJ,r),i=wf(r),o=Tr(t,a);return n.jsx(G_,{...i,...s,ref:o})});xJ.displayName=vJ;var p0e=({contentRef:e})=>{const t=`\`${jx}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jx}\` by passing a \`${mJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jx}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},g0e=lJ,v0e=cJ,yJ=uJ,wJ=dJ,bJ=gJ,jJ=xJ,NJ=fJ,_J=pJ;const Fb=g0e,x0e=v0e,SJ=N.forwardRef(({className:e,...t},r)=>n.jsx(yJ,{className:Pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));SJ.displayName=yJ.displayName;const My=N.forwardRef(({className:e,...t},r)=>n.jsxs(x0e,{children:[n.jsx(SJ,{}),n.jsx(wJ,{ref:r,className:Pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));My.displayName=wJ.displayName;const Ly=({className:e,...t})=>n.jsx("div",{className:Pt("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ly.displayName="AlertDialogHeader";const Fy=({className:e,...t})=>n.jsx("div",{className:Pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fy.displayName="AlertDialogFooter";const By=N.forwardRef(({className:e,...t},r)=>n.jsx(NJ,{ref:r,className:Pt("text-lg font-semibold",e),...t}));By.displayName=NJ.displayName;const Uy=N.forwardRef(({className:e,...t},r)=>n.jsx(_J,{ref:r,className:Pt("text-sm text-muted-foreground",e),...t}));Uy.displayName=_J.displayName;const $y=N.forwardRef(({className:e,...t},r)=>n.jsx(bJ,{ref:r,className:Pt(zw(),e),...t}));$y.displayName=bJ.displayName;const qy=N.forwardRef(({className:e,...t},r)=>n.jsx(jJ,{ref:r,className:Pt(zw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));qy.displayName=jJ.displayName;const Bb=()=>{const{user:e,profile:t,refreshProfile:r}=un(),[s,a]=N.useState(!1);return{profile:t,loading:s,updateProfileField:async(o,l)=>{if(e){a(!0);try{const{error:c}=await se.from("profiles").update({[o]:l}).eq("user_id",e.id);if(c)throw c;await r(),xe.success("Profile updated successfully")}catch(c){xe.error(c.message||"Failed to update profile")}finally{a(!1)}}}}},y0e=()=>{const{profile:e,updateProfileField:t}=Bb(),[r,s]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,h]=N.useState(null),[m,f]=N.useState(!1),[x,v]=N.useState({jobTitle:"",company:"",location:"",startDate:"",endDate:"",currentlyWorking:!1,description:""}),[g,y]=N.useState({});N.useEffect(()=>{e!=null&&e.employment_history&&s(e.employment_history),i(!1)},[e]);const j=()=>{const E={};return x.jobTitle.trim()||(E.jobTitle="Job title is required"),x.company.trim()||(E.company="Company name is required"),x.startDate||(E.startDate="Start date is required"),!x.currentlyWorking&&!x.endDate&&(E.endDate="End date is required for past positions"),x.startDate&&x.endDate&&!x.currentlyWorking&&new Date(x.endDate)<new Date(x.startDate)&&(E.endDate="End date must be after start date"),y(E),Object.keys(E).length===0},b=async E=>{if(E.preventDefault(),!!j()){f(!0);try{const q=(e==null?void 0:e.employment_history)||[];let M;if(c)M=q.map(C=>C.id===c?{...x,id:c}:C),xe.success("Your work experience has been updated successfully.");else{const C={...x,id:crypto.randomUUID()};M=[...q,C],xe.success("Your work experience has been added successfully.")}await t("employment_history",M),u(null),T()}catch{xe.error("An unexpected error occurred")}finally{f(!1)}}},_=E=>{v({jobTitle:E.jobTitle,company:E.company,location:E.location,startDate:E.startDate,endDate:E.endDate,currentlyWorking:E.currentlyWorking,description:E.description}),u(E.id),l(!0)},S=async()=>{if(d){try{const E=((e==null?void 0:e.employment_history)||[]).filter(q=>q.id!==d);await t("employment_history",E),xe.success("The entry has been removed from your profile.")}catch{xe.error("Failed to delete employment")}h(null)}},T=()=>{v({jobTitle:"",company:"",location:"",startDate:"",endDate:"",currentlyWorking:!1,description:""}),y({}),l(!1),u(null)},A=E=>E?new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"",L=[...r].sort((E,q)=>E.currentlyWorking&&!q.currentlyWorking?-1:!E.currentlyWorking&&q.currentlyWorking?1:new Date(q.startDate).getTime()-new Date(E.startDate).getTime());return a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"space-y-6",children:[o?n.jsxs(ye,{className:"border-primary",children:[n.jsx(Ie,{children:n.jsx(De,{children:c?"Edit Employment":"Add Employment History"})}),n.jsx(_e,{children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"jobTitle",children:"Job Title *"}),n.jsx(Je,{id:"jobTitle",placeholder:"e.g., Senior Software Engineer",value:x.jobTitle,onChange:E=>v({...x,jobTitle:E.target.value}),className:g.jobTitle?"border-destructive":""}),g.jobTitle&&n.jsx("p",{className:"text-sm text-destructive",children:g.jobTitle})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"company",children:"Company *"}),n.jsx(Je,{id:"company",placeholder:"e.g., TechCorp Inc.",value:x.company,onChange:E=>v({...x,company:E.target.value}),className:g.company?"border-destructive":""}),g.company&&n.jsx("p",{className:"text-sm text-destructive",children:g.company})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"location",children:"Location"}),n.jsx(Je,{id:"location",placeholder:"e.g., San Francisco, CA",value:x.location,onChange:E=>v({...x,location:E.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"startDate",children:"Start Date *"}),n.jsx(Je,{id:"startDate",type:"month",value:x.startDate,onChange:E=>v({...x,startDate:E.target.value}),className:g.startDate?"border-destructive":""}),g.startDate&&n.jsx("p",{className:"text-sm text-destructive",children:g.startDate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"endDate",children:"End Date"}),n.jsx(Je,{id:"endDate",type:"month",value:x.endDate,onChange:E=>v({...x,endDate:E.target.value}),disabled:x.currentlyWorking,className:g.endDate?"border-destructive":""}),g.endDate&&n.jsx("p",{className:"text-sm text-destructive",children:g.endDate})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"currentlyWorking",checked:x.currentlyWorking,onCheckedChange:E=>v({...x,currentlyWorking:E,endDate:E?"":x.endDate})}),n.jsx(Ee,{htmlFor:"currentlyWorking",className:"cursor-pointer",children:"I currently work here"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"description",children:"Job Description"}),n.jsx(dr,{id:"description",placeholder:"Describe your responsibilities, achievements, and key projects...",value:x.description,onChange:E=>v({...x,description:E.target.value}),rows:5,maxLength:1e3}),n.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[x.description.length,"/1000 characters"]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:T,disabled:m,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):c?"Update Entry":"Add Entry"})]})]})})]}):n.jsxs(ve,{onClick:()=>l(!0),className:"w-full",children:[n.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Add Employment History"]}),L.length>0?n.jsx("div",{className:"space-y-4",children:L.map(E=>n.jsx(ye,{className:"hover-scale",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-2 bg-primary/10 rounded-lg",children:n.jsx(Fa,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold",children:E.jobTitle}),n.jsx("p",{className:"text-muted-foreground font-medium",children:E.company}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),A(E.startDate)," - ",E.currentlyWorking?"Present":A(E.endDate),E.currentlyWorking&&n.jsx("span",{className:"ml-2 px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full",children:"Current"})]}),E.location&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ao,{className:"h-3 w-3"}),E.location]})]})]})]}),E.description&&n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed pl-12",children:E.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>_(E),children:n.jsx(xf,{className:"h-4 w-4"})}),n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>h(E.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]})})},E.id))}):!o&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Fa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No employment history added yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Add your work experience to showcase your professional journey"})]})}),n.jsx(Fb,{open:!!d,onOpenChange:()=>h(null),children:n.jsxs(My,{children:[n.jsxs(Ly,{children:[n.jsx(By,{children:"Are you sure?"}),n.jsx(Uy,{children:"This will permanently delete this employment entry. This action cannot be undone."})]}),n.jsxs(Fy,{children:[n.jsx(qy,{children:"Cancel"}),n.jsx($y,{onClick:S,children:"Delete"})]})]})})]})};function oT(e,t){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},oT(e,t)}function kJ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oT(e,t)}function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Dr.apply(null,arguments)}function Un(e){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(e)}function w0e(e,t){if(Un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Un(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0e(e){var t=w0e(e,"string");return Un(t)=="symbol"?t:t+""}function j0e(e,t,r){return(t=b0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function F8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(s){j0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jl(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var B8=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),U8=function(){return Math.random().toString(36).substring(7).split("").join(".")},$8={INIT:"@@redux/INIT"+U8(),REPLACE:"@@redux/REPLACE"+U8()};function N0e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function CJ(e,t,r){var s;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(jl(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(jl(1));return r(CJ)(e,t)}if(typeof e!="function")throw new Error(jl(2));var a=e,i=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(jl(3));return i}function h(v){if(typeof v!="function")throw new Error(jl(4));if(c)throw new Error(jl(5));var g=!0;return u(),l.push(v),function(){if(g){if(c)throw new Error(jl(6));g=!1,u();var j=l.indexOf(v);l.splice(j,1),o=null}}}function m(v){if(!N0e(v))throw new Error(jl(7));if(typeof v.type>"u")throw new Error(jl(8));if(c)throw new Error(jl(9));try{c=!0,i=a(i,v)}finally{c=!1}for(var g=o=l,y=0;y<g.length;y++){var j=g[y];j()}return v}function f(v){if(typeof v!="function")throw new Error(jl(10));a=v,m({type:$8.REPLACE})}function x(){var v,g=h;return v={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(jl(11));function b(){j.next&&j.next(d())}b();var _=g(b);return{unsubscribe:_}}},v[B8]=function(){return this},v}return m({type:$8.INIT}),s={dispatch:m,subscribe:h,getState:d,replaceReducer:f},s[B8]=x,s}function q8(e,t){return function(){return t(e.apply(this,arguments))}}function z8(e,t){if(typeof e=="function")return q8(e,t);if(typeof e!="object"||e===null)throw new Error(jl(16));var r={};for(var s in e){var a=e[s];typeof a=="function"&&(r[s]=q8(a,t))}return r}function EJ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(s){return s}:t.length===1?t[0]:t.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function _0e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return function(){var a=s.apply(void 0,arguments),i=function(){throw new Error(jl(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=EJ.apply(void 0,l)(a.dispatch),F8(F8({},a),{},{dispatch:i})}}}var AJ=at.createContext(null);function S0e(e){e()}var PJ=S0e,k0e=function(t){return PJ=t},C0e=function(){return PJ};function E0e(){var e=C0e(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var W8={notify:function(){},get:function(){return[]}};function TJ(e,t){var r,s=W8;function a(h){return c(),s.subscribe(h)}function i(){s.notify()}function o(){d.onStateChange&&d.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),s=E0e())}function u(){r&&(r(),r=void 0,s.clear(),s=W8)}var d={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return s}};return d}var OJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function A0e(e){var t=e.store,r=e.context,s=e.children,a=N.useMemo(function(){var l=TJ(t);return{store:t,subscription:l}},[t]),i=N.useMemo(function(){return t.getState()},[t]);OJ(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=r||AJ;return at.createElement(o.Provider,{value:a},s)}function eN(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Jk={exports:{}},Zn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V8;function P0e(){if(V8)return Zn;V8=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,s=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,j=e?Symbol.for("react.scope"):60119;function b(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case t:switch(S=S.type,S){case c:case u:case s:case i:case a:case h:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case x:case f:case o:return S;default:return T}}case r:return T}}}function _(S){return b(S)===u}return Zn.AsyncMode=c,Zn.ConcurrentMode=u,Zn.ContextConsumer=l,Zn.ContextProvider=o,Zn.Element=t,Zn.ForwardRef=d,Zn.Fragment=s,Zn.Lazy=x,Zn.Memo=f,Zn.Portal=r,Zn.Profiler=i,Zn.StrictMode=a,Zn.Suspense=h,Zn.isAsyncMode=function(S){return _(S)||b(S)===c},Zn.isConcurrentMode=_,Zn.isContextConsumer=function(S){return b(S)===l},Zn.isContextProvider=function(S){return b(S)===o},Zn.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Zn.isForwardRef=function(S){return b(S)===d},Zn.isFragment=function(S){return b(S)===s},Zn.isLazy=function(S){return b(S)===x},Zn.isMemo=function(S){return b(S)===f},Zn.isPortal=function(S){return b(S)===r},Zn.isProfiler=function(S){return b(S)===i},Zn.isStrictMode=function(S){return b(S)===a},Zn.isSuspense=function(S){return b(S)===h},Zn.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===s||S===u||S===i||S===a||S===h||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===x||S.$$typeof===f||S.$$typeof===o||S.$$typeof===l||S.$$typeof===d||S.$$typeof===g||S.$$typeof===y||S.$$typeof===j||S.$$typeof===v)},Zn.typeOf=b,Zn}var H8;function T0e(){return H8||(H8=1,Jk.exports=P0e()),Jk.exports}var Xk,G8;function O0e(){if(G8)return Xk;G8=1;var e=T0e(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=s,i[e.Memo]=a;function o(x){return e.isMemo(x)?a:i[x.$$typeof]||t}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function f(x,v,g){if(typeof v!="string"){if(m){var y=h(v);y&&y!==m&&f(x,y,g)}var j=c(v);u&&(j=j.concat(u(v)));for(var b=o(x),_=o(v),S=0;S<j.length;++S){var T=j[S];if(!r[T]&&!(g&&g[T])&&!(_&&_[T])&&!(b&&b[T])){var A=d(v,T);try{l(x,T,A)}catch{}}}}return x}return Xk=f,Xk}var I0e=O0e();const K8=mu(I0e);var Qk={exports:{}},gs={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y8;function R0e(){if(Y8)return gs;Y8=1;var e=60103,t=60106,r=60107,s=60108,a=60114,i=60109,o=60110,l=60112,c=60113,u=60120,d=60115,h=60116,m=60121,f=60122,x=60117,v=60129,g=60131;if(typeof Symbol=="function"&&Symbol.for){var y=Symbol.for;e=y("react.element"),t=y("react.portal"),r=y("react.fragment"),s=y("react.strict_mode"),a=y("react.profiler"),i=y("react.provider"),o=y("react.context"),l=y("react.forward_ref"),c=y("react.suspense"),u=y("react.suspense_list"),d=y("react.memo"),h=y("react.lazy"),m=y("react.block"),f=y("react.server.block"),x=y("react.fundamental"),v=y("react.debug_trace_mode"),g=y("react.legacy_hidden")}function j(I){if(typeof I=="object"&&I!==null){var O=I.$$typeof;switch(O){case e:switch(I=I.type,I){case r:case a:case s:case c:case u:return I;default:switch(I=I&&I.$$typeof,I){case o:case l:case h:case d:case i:return I;default:return O}}case t:return O}}}var b=i,_=e,S=l,T=r,A=h,L=d,E=t,q=a,M=s,C=c;return gs.ContextConsumer=o,gs.ContextProvider=b,gs.Element=_,gs.ForwardRef=S,gs.Fragment=T,gs.Lazy=A,gs.Memo=L,gs.Portal=E,gs.Profiler=q,gs.StrictMode=M,gs.Suspense=C,gs.isAsyncMode=function(){return!1},gs.isConcurrentMode=function(){return!1},gs.isContextConsumer=function(I){return j(I)===o},gs.isContextProvider=function(I){return j(I)===i},gs.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},gs.isForwardRef=function(I){return j(I)===l},gs.isFragment=function(I){return j(I)===r},gs.isLazy=function(I){return j(I)===h},gs.isMemo=function(I){return j(I)===d},gs.isPortal=function(I){return j(I)===t},gs.isProfiler=function(I){return j(I)===a},gs.isStrictMode=function(I){return j(I)===s},gs.isSuspense=function(I){return j(I)===c},gs.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===a||I===v||I===s||I===c||I===u||I===g||typeof I=="object"&&I!==null&&(I.$$typeof===h||I.$$typeof===d||I.$$typeof===i||I.$$typeof===o||I.$$typeof===l||I.$$typeof===x||I.$$typeof===m||I[0]===f)},gs.typeOf=j,gs}var J8;function D0e(){return J8||(J8=1,Qk.exports=R0e()),Qk.exports}var IJ=D0e(),M0e=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],L0e=["reactReduxForwardedRef"],F0e=[],B0e=[null,null];function U0e(e,t){var r=e[1];return[t.payload,r+1]}function X8(e,t,r){OJ(function(){return e.apply(void 0,t)},r)}function $0e(e,t,r,s,a,i,o){e.current=s,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function q0e(e,t,r,s,a,i,o,l,c,u){if(e){var d=!1,h=null,m=function(){if(!d){var v=t.getState(),g,y;try{g=s(v,a.current)}catch(j){y=j,h=j}y||(h=null),g===i.current?o.current||c():(i.current=g,l.current=g,o.current=!0,u({type:"STORE_UPDATED",payload:{error:y}}))}};r.onStateChange=m,r.trySubscribe(),m();var f=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h};return f}}var z0e=function(){return[null,0]};function W0e(e,t){t===void 0&&(t={});var r=t,s=r.getDisplayName,a=s===void 0?function(b){return"ConnectAdvanced("+b+")"}:s,i=r.methodName,o=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,h=r.storeKey,m=h===void 0?"store":h;r.withRef;var f=r.forwardRef,x=f===void 0?!1:f,v=r.context,g=v===void 0?AJ:v,y=eN(r,M0e),j=g;return function(_){var S=_.displayName||_.name||"Component",T=a(S),A=Dr({},y,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:d,storeKey:m,displayName:T,wrappedComponentName:S,WrappedComponent:_}),L=y.pure;function E(O){return e(O.dispatch,A)}var q=L?N.useMemo:function(O){return O()};function M(O){var H=N.useMemo(function(){var Z=O.reactReduxForwardedRef,le=eN(O,L0e);return[O.context,Z,le]},[O]),re=H[0],U=H[1],K=H[2],ee=N.useMemo(function(){return re&&re.Consumer&&IJ.isContextConsumer(at.createElement(re.Consumer,null))?re:j},[re,j]),X=N.useContext(ee),B=!!O.store&&!!O.store.getState&&!!O.store.dispatch;X&&X.store;var D=B?O.store:X.store,Q=N.useMemo(function(){return E(D)},[D]),ie=N.useMemo(function(){if(!d)return B0e;var Z=TJ(D,B?null:X.subscription),le=Z.notifyNestedSubs.bind(Z);return[Z,le]},[D,B,X]),te=ie[0],he=ie[1],W=N.useMemo(function(){return B?X:Dr({},X,{subscription:te})},[B,X,te]),V=N.useReducer(U0e,F0e,z0e),oe=V[0],me=oe[0],de=V[1];if(me&&me.error)throw me.error;var ue=N.useRef(),Pe=N.useRef(K),G=N.useRef(),pe=N.useRef(!1),ce=q(function(){return G.current&&K===Pe.current?G.current:Q(D.getState(),K)},[D,me,K]);X8($0e,[Pe,ue,pe,K,ce,G,he]),X8(q0e,[d,D,te,Q,Pe,ue,pe,G,he,de],[D,te,Q]);var $=N.useMemo(function(){return at.createElement(_,Dr({},ce,{ref:U}))},[U,_,ce]),z=N.useMemo(function(){return d?at.createElement(ee.Provider,{value:W},$):$},[ee,$,W]);return z}var C=L?at.memo(M):M;if(C.WrappedComponent=_,C.displayName=M.displayName=T,x){var I=at.forwardRef(function(H,re){return at.createElement(C,Dr({},H,{reactReduxForwardedRef:re}))});return I.displayName=T,I.WrappedComponent=_,K8(I,_)}return K8(C,_)}}function Q8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Zk(e,t){if(Q8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Q8(e[r[a]],t[r[a]]))return!1;return!0}function V0e(e,t){var r={},s=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)s(a);return r}function uI(e){return function(r,s){var a=e(r,s);function i(){return a}return i.dependsOnOwnProps=!1,i}}function Z8(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function RJ(e,t){return function(s,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Z8(e);var u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=Z8(u),u=i(l,c)),u},i}}function H0e(e){return typeof e=="function"?RJ(e):void 0}function G0e(e){return e?void 0:uI(function(t){return{dispatch:t}})}function K0e(e){return e&&typeof e=="object"?uI(function(t){return V0e(e,t)}):void 0}const Y0e=[H0e,G0e,K0e];function J0e(e){return typeof e=="function"?RJ(e):void 0}function X0e(e){return e?void 0:uI(function(){return{}})}const Q0e=[J0e,X0e];function Z0e(e,t,r){return Dr({},r,e,t)}function ewe(e){return function(r,s){s.displayName;var a=s.pure,i=s.areMergedPropsEqual,o=!1,l;return function(u,d,h){var m=e(u,d,h);return o?(!a||!i(m,l))&&(l=m):(o=!0,l=m),l}}}function twe(e){return typeof e=="function"?ewe(e):void 0}function rwe(e){return e?void 0:function(){return Z0e}}const nwe=[twe,rwe];var swe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function awe(e,t,r,s){return function(i,o){return r(e(i,o),t(s,o),o)}}function iwe(e,t,r,s,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,u,d,h,m,f;function x(b,_){return u=b,d=_,h=e(u,d),m=t(s,d),f=r(h,m,d),c=!0,f}function v(){return h=e(u,d),t.dependsOnOwnProps&&(m=t(s,d)),f=r(h,m,d),f}function g(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(m=t(s,d)),f=r(h,m,d),f}function y(){var b=e(u,d),_=!l(b,h);return h=b,_&&(f=r(h,m,d)),f}function j(b,_){var S=!o(_,d),T=!i(b,u,_,d);return u=b,d=_,S&&T?v():S?g():T?y():f}return function(_,S){return c?j(_,S):x(_,S)}}function owe(e,t){var r=t.initMapStateToProps,s=t.initMapDispatchToProps,a=t.initMergeProps,i=eN(t,swe),o=r(e,i),l=s(e,i),c=a(e,i),u=i.pure?iwe:awe;return u(o,l,c,e,i)}var lwe=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function eC(e,t,r){for(var s=t.length-1;s>=0;s--){var a=t[s](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function cwe(e,t){return e===t}function uwe(e){var t=e===void 0?{}:e,r=t.connectHOC,s=r===void 0?W0e:r,a=t.mapStateToPropsFactories,i=a===void 0?Q0e:a,o=t.mapDispatchToPropsFactories,l=o===void 0?Y0e:o,c=t.mergePropsFactories,u=c===void 0?nwe:c,d=t.selectorFactory,h=d===void 0?owe:d;return function(f,x,v,g){g===void 0&&(g={});var y=g,j=y.pure,b=j===void 0?!0:j,_=y.areStatesEqual,S=_===void 0?cwe:_,T=y.areOwnPropsEqual,A=T===void 0?Zk:T,L=y.areStatePropsEqual,E=L===void 0?Zk:L,q=y.areMergedPropsEqual,M=q===void 0?Zk:q,C=eN(y,lwe),I=eC(f,i,"mapStateToProps"),O=eC(x,l,"mapDispatchToProps"),H=eC(v,u,"mergeProps");return s(h,Dr({methodName:"connect",getDisplayName:function(U){return"Connect("+U+")"},shouldHandleStateChanges:!!f,initMapStateToProps:I,initMapDispatchToProps:O,initMergeProps:H,pure:b,areStatesEqual:S,areOwnPropsEqual:A,areStatePropsEqual:E,areMergedPropsEqual:M},C))}}const DJ=uwe();k0e(vf.unstable_batchedUpdates);function dwe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function MJ(e,t){var r=N.useState(function(){return{inputs:t,result:e()}})[0],s=N.useRef(!0),a=N.useRef(r),i=s.current||!!(t&&a.current.inputs&&dwe(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return N.useEffect(function(){s.current=!1,a.current=o},[o]),o.result}function hwe(e,t){return MJ(function(){return e},t)}var Ln=MJ,Er=hwe,fwe="Invariant failed";function LJ(e,t){throw new Error(fwe)}var ed=function(t){var r=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-r,c={top:r,right:s,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(s+i)/2,y:(a+r)/2}};return c},dI=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},eF=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},mwe=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},tC={top:0,right:0,bottom:0,left:0},hI=function(t){var r=t.borderBox,s=t.margin,a=s===void 0?tC:s,i=t.border,o=i===void 0?tC:i,l=t.padding,c=l===void 0?tC:l,u=ed(dI(r,a)),d=ed(eF(r,o)),h=ed(eF(d,c));return{marginBox:u,borderBox:ed(r),paddingBox:d,contentBox:h,margin:a,border:o,padding:c}},Wc=function(t){var r=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(r);return isNaN(a)&&LJ(),a},pwe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},tN=function(t,r){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=mwe(s,r);return hI({borderBox:l,border:a,margin:i,padding:o})},rN=function(t,r){return r===void 0&&(r=pwe()),tN(t,r)},FJ=function(t,r){var s={top:Wc(r.marginTop),right:Wc(r.marginRight),bottom:Wc(r.marginBottom),left:Wc(r.marginLeft)},a={top:Wc(r.paddingTop),right:Wc(r.paddingRight),bottom:Wc(r.paddingBottom),left:Wc(r.paddingLeft)},i={top:Wc(r.borderTopWidth),right:Wc(r.borderRightWidth),bottom:Wc(r.borderBottomWidth),left:Wc(r.borderLeftWidth)};return hI({borderBox:t,margin:s,padding:a,border:i})},BJ=function(t){var r=t.getBoundingClientRect(),s=window.getComputedStyle(t);return FJ(r,s)},tF=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function gwe(e,t){return!!(e===t||tF(e)&&tF(t))}function vwe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!gwe(e[r],t[r]))return!1;return!0}function $i(e,t){t===void 0&&(t=vwe);var r,s=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,s)||(a=e.apply(this,l),i=!0,r=this,s=l),a}return o}var Gw=function(t){var r=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,r)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function UJ(e,t){}UJ.bind(null,"warn");UJ.bind(null,"error");function Mm(){}function xwe(e,t){return Dr({},e,{},t)}function eu(e,t,r){var s=t.map(function(a){var i=xwe(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(function(i){i()})}}var ywe="Invariant failed";function nN(e){this.message=e}nN.prototype.toString=function(){return this.message};function It(e,t){throw new nN(ywe)}var wwe=(function(e){kJ(t,e);function t(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.callbacks=null,s.unbind=Mm,s.onWindowError=function(l){var c=s.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof nN&&l.preventDefault()},s.getCallbacks=function(){if(!s.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return s.callbacks},s.setCallbacks=function(l){s.callbacks=l},s}var r=t.prototype;return r.componentDidMount=function(){this.unbind=eu(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof nN){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t})(at.Component),bwe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,sN=function(t){return t+1},jwe=function(t){return`
  You have lifted an item in position `+sN(t.source.index)+`
`},$J=function(t,r){var s=t.droppableId===r.droppableId,a=sN(t.index),i=sN(r.index);return s?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},qJ=function(t,r,s){var a=r.droppableId===s.droppableId;return a?`
      The item `+t+`
      has been combined with `+s.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+s.draggableId+`
      in list `+s.droppableId+`
    `},Nwe=function(t){var r=t.destination;if(r)return $J(t.source,r);var s=t.combine;return s?qJ(t.draggableId,t.source,s):"You are over an area that cannot be dropped on"},rF=function(t){return`
  The item has returned to its starting position
  of `+sN(t.index)+`
`},_we=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+rF(t.source)+`
    `;var r=t.destination,s=t.combine;return r?`
      You have dropped the item.
      `+$J(t.source,r)+`
    `:s?`
      You have dropped the item.
      `+qJ(t.draggableId,t.source,s)+`
    `:`
    The item has been dropped while not over a drop area.
    `+rF(t.source)+`
  `},b2={dragHandleUsageInstructions:bwe,onDragStart:jwe,onDragUpdate:Nwe,onDragEnd:_we},zi={x:0,y:0},eo=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},ic=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Lm=function(t,r){return t.x===r.x&&t.y===r.y},zy=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Ug=function(t,r,s){var a;return s===void 0&&(s=0),a={},a[t]=r,a[t==="x"?"y":"x"]=s,a},Kw=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},nF=function(t,r){return Math.min.apply(Math,r.map(function(s){return Kw(t,s)}))},zJ=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Swe=(function(e,t){var r=ed({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}),Ub=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},sF=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},kwe={top:0,right:0,bottom:0,left:0},Cwe=function(t,r){return r?Ub(t,r.scroll.diff.displacement):t},Ewe=function(t,r,s){if(s&&s.increasedBy){var a;return Dr({},t,(a={},a[r.end]=t[r.end]+s.increasedBy[r.line],a))}return t},Awe=function(t,r){return r&&r.shouldClipSubject?Swe(r.pageMarginBox,t):ed(t)},ty=(function(e){var t=e.page,r=e.withPlaceholder,s=e.axis,a=e.frame,i=Cwe(t.marginBox,a),o=Ewe(i,s,r),l=Awe(o,a);return{page:t,withPlaceholder:r,active:l}}),fI=(function(e,t){e.frame||It();var r=e.frame,s=ic(t,r.scroll.initial),a=zy(s),i=Dr({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:s,displacement:a},max:r.scroll.max}}),o=ty({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=Dr({},e,{frame:i,subject:o});return l});function aN(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function mI(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function lp(e,t){if(e.find)return e.find(t);var r=mI(e,t);if(r!==-1)return e[r]}function WJ(e){return Array.prototype.slice.call(e)}var VJ=$i(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),HJ=$i(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),tS=$i(function(e){return aN(e)}),Pwe=$i(function(e){return aN(e)}),Wy=$i(function(e,t){var r=Pwe(t).filter(function(s){return e===s.descriptor.droppableId}).sort(function(s,a){return s.descriptor.index-a.descriptor.index});return r});function pI(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function rS(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var nS=$i(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Twe=(function(e){var t=e.isMovingForward,r=e.draggable,s=e.destination,a=e.insideDestination,i=e.previousImpact;if(!s.isCombineEnabled)return null;var o=pI(i);if(!o)return null;function l(v){var g={type:"COMBINE",combine:{draggableId:v,droppableId:s.descriptor.id}};return Dr({},i,{at:g})}var c=i.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var d=nS(r,a);if(!u){if(!d.length)return null;var h=d[d.length-1];return l(h.descriptor.id)}var m=mI(d,function(v){return v.descriptor.id===u});m===-1&&It();var f=m-1;if(f<0)return null;var x=d[f];return l(x.descriptor.id)}),Vy=(function(e,t){return e.descriptor.droppableId===t.descriptor.id}),GJ={point:zi,value:0},Yw={invisible:{},visible:{},all:[]},Owe={displaced:Yw,displacedBy:GJ,at:null},ru=(function(e,t){return function(r){return e<=r&&r<=t}}),KJ=(function(e){var t=ru(e.top,e.bottom),r=ru(e.left,e.right);return function(s){var a=t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right);if(a)return!0;var i=t(s.top)||t(s.bottom),o=r(s.left)||r(s.right),l=i&&o;if(l)return!0;var c=s.top<e.top&&s.bottom>e.bottom,u=s.left<e.left&&s.right>e.right,d=c&&u;if(d)return!0;var h=c&&o||u&&i;return h}}),Iwe=(function(e){var t=ru(e.top,e.bottom),r=ru(e.left,e.right);return function(s){var a=t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right);return a}}),gI={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},YJ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Rwe=(function(e){return function(t){var r=ru(t.top,t.bottom),s=ru(t.left,t.right);return function(a){return e===gI?r(a.top)&&r(a.bottom):s(a.left)&&s(a.right)}}}),Dwe=function(t,r){var s=r.frame?r.frame.scroll.diff.displacement:zi;return Ub(t,s)},Mwe=function(t,r,s){return r.subject.active?s(r.subject.active)(t):!1},Lwe=function(t,r,s){return s(r)(t)},vI=function(t){var r=t.target,s=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?Dwe(r,s):r;return Mwe(l,s,o)&&Lwe(l,a,o)},Fwe=function(t){return vI(Dr({},t,{isVisibleThroughFrameFn:KJ}))},JJ=function(t){return vI(Dr({},t,{isVisibleThroughFrameFn:Iwe}))},Bwe=function(t){return vI(Dr({},t,{isVisibleThroughFrameFn:Rwe(t.destination.axis)}))},Uwe=function(t,r,s){if(typeof s=="boolean")return s;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function $we(e,t){var r=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return ed(dI(r,s))}function Jw(e){var t=e.afterDragging,r=e.destination,s=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,u){var d=$we(u,s),h=u.descriptor.id;c.all.push(h);var m=Fwe({target:d,destination:r,viewport:a,withDroppableDisplacement:!0});if(!m)return c.invisible[u.descriptor.id]=!0,c;var f=Uwe(h,o,i),x={draggableId:h,shouldAnimate:f};return c.visible[h]=x,c},{all:[],visible:{},invisible:{}})}function qwe(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function aF(e){var t=e.insideDestination,r=e.inHomeList,s=e.displacedBy,a=e.destination,i=qwe(t,{inHomeList:r});return{displaced:Yw,displacedBy:s,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function iN(e){var t=e.draggable,r=e.insideDestination,s=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,u=Vy(t,s);if(l==null)return aF({insideDestination:r,inHomeList:u,displacedBy:i,destination:s});var d=lp(r,function(v){return v.descriptor.index===l});if(!d)return aF({insideDestination:r,inHomeList:u,displacedBy:i,destination:s});var h=nS(t,r),m=r.indexOf(d),f=h.slice(m),x=Jw({afterDragging:f,destination:s,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:x,displacedBy:i,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:l}}}}function Hm(e,t){return!!t.effected[e]}var zwe=(function(e){var t=e.isMovingForward,r=e.destination,s=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,l=s[o],c=l.descriptor.index,u=Hm(o,i);return u?t?c:c-1:t?c+1:c}),Wwe=(function(e){var t=e.isMovingForward,r=e.isInHomeList,s=e.insideDestination,a=e.location;if(!s.length)return null;var i=a.index,o=t?i+1:i-1,l=s[0].descriptor.index,c=s[s.length-1].descriptor.index,u=r?c:c+1;return o<l||o>u?null:o}),Vwe=(function(e){var t=e.isMovingForward,r=e.isInHomeList,s=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,d=l.at;if(d||It(),d.type==="REORDER"){var h=Wwe({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:o});return h==null?null:iN({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})}var m=zwe({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:d.combine,afterCritical:u});return m==null?null:iN({draggable:s,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:m})}),Hwe=(function(e){var t=e.displaced,r=e.afterCritical,s=e.combineWith,a=e.displacedBy,i=!!(t.visible[s]||t.invisible[s]);return Hm(s,r)?i?zi:zy(a.point):i?a.point:zi}),Gwe=(function(e){var t=e.afterCritical,r=e.impact,s=e.draggables,a=rS(r);a||It();var i=a.draggableId,o=s[i].page.borderBox.center,l=Hwe({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return eo(o,l)}),XJ=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Kwe=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},xI=function(t,r,s){return r[t.crossAxisStart]+s.margin[t.crossAxisStart]+s.borderBox[t.crossAxisSize]/2},iF=function(t){var r=t.axis,s=t.moveRelativeTo,a=t.isMoving;return Ug(r.line,s.marginBox[r.end]+XJ(r,a),xI(r,s.marginBox,a))},oF=function(t){var r=t.axis,s=t.moveRelativeTo,a=t.isMoving;return Ug(r.line,s.marginBox[r.start]-Kwe(r,a),xI(r,s.marginBox,a))},Ywe=function(t){var r=t.axis,s=t.moveInto,a=t.isMoving;return Ug(r.line,s.contentBox[r.start]+XJ(r,a),xI(r,s.contentBox,a))},Jwe=(function(e){var t=e.impact,r=e.draggable,s=e.draggables,a=e.droppable,i=e.afterCritical,o=Wy(a.descriptor.id,s),l=r.page,c=a.axis;if(!o.length)return Ywe({axis:c,moveInto:a.page,isMoving:l});var u=t.displaced,d=t.displacedBy,h=u.all[0];if(h){var m=s[h];if(Hm(h,i))return oF({axis:c,moveRelativeTo:m.page,isMoving:l});var f=tN(m.page,d.point);return oF({axis:c,moveRelativeTo:f,isMoving:l})}var x=o[o.length-1];if(x.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Hm(x.descriptor.id,i)){var v=tN(x.page,zy(i.displacedBy.point));return iF({axis:c,moveRelativeTo:v,isMoving:l})}return iF({axis:c,moveRelativeTo:x.page,isMoving:l})}),lT=(function(e,t){var r=e.frame;return r?eo(t,r.scroll.diff.displacement):t}),Xwe=function(t){var r=t.impact,s=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,l=s.page.borderBox.center,c=r.at;return!a||!c?l:c.type==="REORDER"?Jwe({impact:r,draggable:s,draggables:i,droppable:a,afterCritical:o}):Gwe({impact:r,draggables:i,afterCritical:o})},sS=(function(e){var t=Xwe(e),r=e.droppable,s=r?lT(r,t):t;return s}),QJ=(function(e,t){var r=ic(t,e.scroll.initial),s=zy(r),a=ed({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:s}}};return i});function lF(e,t){return e.map(function(r){return t[r]})}function Qwe(e,t){for(var r=0;r<t.length;r++){var s=t[r].visible[e];if(s)return s}return null}var Zwe=(function(e){var t=e.impact,r=e.viewport,s=e.destination,a=e.draggables,i=e.maxScrollChange,o=QJ(r,eo(r.scroll.current,i)),l=s.frame?fI(s,eo(s.frame.scroll.current,i)):s,c=t.displaced,u=Jw({afterDragging:lF(c.all,a),destination:s,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),d=Jw({afterDragging:lF(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),h={},m={},f=[c,u,d];c.all.forEach(function(v){var g=Qwe(v,f);if(g){m[v]=g;return}h[v]=!0});var x=Dr({},t,{displaced:{all:c.all,invisible:h,visible:m}});return x}),ebe=(function(e,t){return eo(e.scroll.diff.displacement,t)}),yI=(function(e){var t=e.pageBorderBoxCenter,r=e.draggable,s=e.viewport,a=ebe(s,t),i=ic(a,r.page.borderBox.center);return eo(r.client.borderBox.center,i)}),ZJ=(function(e){var t=e.draggable,r=e.destination,s=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=ic(s,t.page.borderBox.center),u=Ub(t.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:i,viewport:a};return l?Bwe(d):JJ(d)}),tbe=(function(e){var t=e.isMovingForward,r=e.draggable,s=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!s.isEnabled)return null;var d=Wy(s.descriptor.id,a),h=Vy(r,s),m=Twe({isMovingForward:t,draggable:r,destination:s,insideDestination:d,previousImpact:i})||Vwe({isMovingForward:t,isInHomeList:h,draggable:r,draggables:a,destination:s,insideDestination:d,previousImpact:i,viewport:o,afterCritical:u});if(!m)return null;var f=sS({impact:m,draggable:r,droppable:s,draggables:a,afterCritical:u}),x=ZJ({draggable:r,destination:s,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(x){var v=yI({pageBorderBoxCenter:f,draggable:r,viewport:o});return{clientSelection:v,impact:m,scrollJumpRequest:null}}var g=ic(f,l),y=Zwe({impact:m,viewport:o,destination:s,draggables:a,maxScrollChange:g});return{clientSelection:c,impact:y,scrollJumpRequest:g}}),$o=function(t){var r=t.subject.active;return r||It(),r},rbe=(function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,s=e.source,a=e.droppables,i=e.viewport,o=s.subject.active;if(!o)return null;var l=s.axis,c=ru(o[l.start],o[l.end]),u=tS(a).filter(function(h){return h!==s}).filter(function(h){return h.isEnabled}).filter(function(h){return!!h.subject.active}).filter(function(h){return KJ(i.frame)($o(h))}).filter(function(h){var m=$o(h);return t?o[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(h){var m=$o(h),f=ru(m[l.start],m[l.end]);return c(m[l.start])||c(m[l.end])||f(o[l.start])||f(o[l.end])}).sort(function(h,m){var f=$o(h)[l.crossAxisStart],x=$o(m)[l.crossAxisStart];return t?f-x:x-f}).filter(function(h,m,f){return $o(h)[l.crossAxisStart]===$o(f[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(h){var m=ru($o(h)[l.start],$o(h)[l.end]);return m(r[l.line])});return d.length===1?d[0]:d.length>1?d.sort(function(h,m){return $o(h)[l.start]-$o(m)[l.start]})[0]:u.sort(function(h,m){var f=nF(r,sF($o(h))),x=nF(r,sF($o(m)));return f!==x?f-x:$o(h)[l.start]-$o(m)[l.start]})[0]}),cF=function(t,r){var s=t.page.borderBox.center;return Hm(t.descriptor.id,r)?ic(s,r.displacedBy.point):s},nbe=function(t,r){var s=t.page.borderBox;return Hm(t.descriptor.id,r)?Ub(s,zy(r.displacedBy.point)):s},sbe=(function(e){var t=e.pageBorderBoxCenter,r=e.viewport,s=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return JJ({target:nbe(l,i),destination:s,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=Kw(t,lT(s,cF(l,i))),d=Kw(t,lT(s,cF(c,i)));return u<d?-1:d<u?1:l.descriptor.index-c.descriptor.index});return o[0]||null}),$b=$i(function(t,r){var s=r[t.line];return{value:s,point:Ug(t.line,s)}}),abe=function(t,r,s){var a=t.axis;if(t.descriptor.mode==="virtual")return Ug(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],o=Wy(t.descriptor.id,s),l=o.reduce(function(d,h){return d+h.client.marginBox[a.size]},0),c=l+r[a.line],u=c-i;return u<=0?null:Ug(a.line,u)},eX=function(t,r){return Dr({},t,{scroll:Dr({},t.scroll,{max:r})})},tX=function(t,r,s){var a=t.frame;Vy(r,t)&&It(),t.subject.withPlaceholder&&It();var i=$b(t.axis,r.displaceBy).point,o=abe(t,i,s),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=ty({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return Dr({},t,{subject:c})}var u=o?eo(a.scroll.max,o):a.scroll.max,d=eX(a,u),h=ty({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:d});return Dr({},t,{subject:h,frame:d})},ibe=function(t){var r=t.subject.withPlaceholder;r||It();var s=t.frame;if(!s){var a=ty({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Dr({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||It();var o=eX(s,i),l=ty({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return Dr({},t,{subject:l,frame:o})},obe=(function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,s=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(s.length)return null;var u={displaced:Yw,displacedBy:GJ,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=sS({impact:u,draggable:a,droppable:o,draggables:i,afterCritical:c}),h=Vy(a,o)?o:tX(o,a,i),m=ZJ({draggable:a,destination:h,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return m?u:null}var f=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],x=(function(){var g=r.descriptor.index;return r.descriptor.id===a.descriptor.id||f?g:g+1})(),v=$b(o.axis,a.displaceBy);return iN({draggable:a,insideDestination:s,destination:o,viewport:l,displacedBy:v,last:Yw,index:x})}),lbe=(function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,s=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,u=rbe({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:l});if(!u)return null;var d=Wy(u.descriptor.id,i),h=sbe({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:d,afterCritical:c}),m=obe({previousPageBorderBoxCenter:r,destination:u,draggable:s,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:l,afterCritical:c});if(!m)return null;var f=sS({impact:m,draggable:s,droppable:u,draggables:i,afterCritical:c}),x=yI({pageBorderBoxCenter:f,draggable:s,viewport:l});return{clientSelection:x,impact:m,scrollJumpRequest:null}}),uc=(function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null}),cbe=function(t,r){var s=uc(t);return s?r[s]:null},ube=(function(e){var t=e.state,r=e.type,s=cbe(t.impact,t.dimensions.droppables),a=!!s,i=t.dimensions.droppables[t.critical.droppable.id],o=s||i,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,m=t.dimensions,f=m.draggables,x=m.droppables;return c?tbe({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):lbe({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:o,draggables:f,droppables:x,viewport:t.viewport,afterCritical:t.afterCritical})});function eg(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function rX(e){var t=ru(e.top,e.bottom),r=ru(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function dbe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function hbe(e){var t=e.pageBorderBox,r=e.draggable,s=e.candidates,a=r.page.borderBox.center,i=s.map(function(o){var l=o.axis,c=Ug(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Kw(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function fbe(e){var t=e.pageBorderBox,r=e.draggable,s=e.droppables,a=tS(s).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!dbe(t,o))return!1;if(rX(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],u=t[l.crossAxisStart],d=t[l.crossAxisEnd],h=ru(o[l.crossAxisStart],o[l.crossAxisEnd]),m=h(u),f=h(d);return!m&&!f?!0:m?u<c:d>c});return a.length?a.length===1?a[0].descriptor.id:hbe({pageBorderBox:t,draggable:r,candidates:a}):null}var nX=function(t,r){return ed(Ub(t,r))},mbe=(function(e,t){var r=e.frame;return r?nX(t,r.scroll.diff.value):t});function sX(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function pbe(e){var t=e.draggable,r=e.closest,s=e.inHomeList;return r?s&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var gbe=(function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,s=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=s.axis,u=$b(s.axis,r.displaceBy),d=u.value,h=t[c.start],m=t[c.end],f=nS(r,a),x=lp(f,function(g){var y=g.descriptor.id,j=g.page.borderBox.center[c.line],b=Hm(y,l),_=sX({displaced:i,id:y});return b?_?m<=j:h<j-d:_?m<=j+d:h<j}),v=pbe({draggable:r,closest:x,inHomeList:Vy(r,s)});return iN({draggable:r,insideDestination:a,destination:s,viewport:o,last:i,displacedBy:u,index:v})}),vbe=4,xbe=(function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,s=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=$b(a.axis,t.displaceBy),u=c.value,d=r[l.start],h=r[l.end],m=nS(t,i),f=lp(m,function(v){var g=v.descriptor.id,y=v.page.borderBox,j=y[l.size],b=j/vbe,_=Hm(g,o),S=sX({displaced:s.displaced,id:g});return _?S?h>y[l.start]+b&&h<y[l.end]-b:d>y[l.start]-u+b&&d<y[l.end]-u-b:S?h>y[l.start]+u+b&&h<y[l.end]+u-b:d>y[l.start]+b&&d<y[l.end]-b});if(!f)return null;var x={displacedBy:c,displaced:s.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}};return x}),aX=(function(e){var t=e.pageOffset,r=e.draggable,s=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=nX(r.page.borderBox,t),u=fbe({pageBorderBox:c,draggable:r,droppables:a});if(!u)return Owe;var d=a[u],h=Wy(d.descriptor.id,s),m=mbe(d,c);return xbe({pageBorderBoxWithDroppableScroll:m,draggable:r,previousImpact:i,destination:d,insideDestination:h,afterCritical:l})||gbe({pageBorderBoxWithDroppableScroll:m,draggable:r,destination:d,insideDestination:h,last:i.displaced,viewport:o,afterCritical:l})}),wI=(function(e,t){var r;return Dr({},e,(r={},r[t.descriptor.id]=t,r))}),ybe=function(t){var r=t.previousImpact,s=t.impact,a=t.droppables,i=uc(r),o=uc(s);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=ibe(l);return wI(a,c)},wbe=(function(e){var t=e.draggable,r=e.draggables,s=e.droppables,a=e.previousImpact,i=e.impact,o=ybe({previousImpact:a,impact:i,droppables:s}),l=uc(i);if(!l)return o;var c=s[l];if(Vy(t,c)||c.subject.withPlaceholder)return o;var u=tX(c,t,r);return wI(o,u)}),jw=(function(e){var t=e.state,r=e.clientSelection,s=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=s||t.dimensions,u=r||t.current.client.selection,d=ic(u,t.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:eo(t.initial.client.borderBoxCenter,d)},m={selection:eo(h.selection,l.scroll.current),borderBoxCenter:eo(h.borderBoxCenter,l.scroll.current),offset:eo(h.offset,l.scroll.diff.value)},f={client:h,page:m};if(t.phase==="COLLECTING")return Dr({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:f});var x=c.draggables[t.critical.draggable.id],v=i||aX({pageOffset:m.offset,draggable:x,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=wbe({draggable:x,impact:v,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),y=Dr({},t,{current:f,dimensions:{draggables:c.draggables,droppables:g},impact:v,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return y});function bbe(e,t){return e.map(function(r){return t[r]})}var iX=(function(e){var t=e.impact,r=e.viewport,s=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=bbe(o.all,s),c=Jw({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return Dr({},t,{displaced:c})}),oX=(function(e){var t=e.impact,r=e.draggable,s=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=sS({impact:t,draggable:r,draggables:a,droppable:s,afterCritical:o});return yI({pageBorderBoxCenter:l,draggable:r,viewport:i})}),lX=(function(e){var t=e.state,r=e.dimensions,s=e.viewport;t.movementMode!=="SNAP"&&It();var a=t.impact,i=s||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,u=l[t.critical.draggable.id],d=uc(a);d||It();var h=c[d],m=iX({impact:a,viewport:i,destination:h,draggables:l}),f=oX({impact:m,draggable:u,droppable:h,draggables:l,viewport:i,afterCritical:t.afterCritical});return jw({impact:m,clientSelection:f,state:t,dimensions:o,viewport:i})}),jbe=(function(e){return{index:e.index,droppableId:e.droppableId}}),cX=(function(e){var t=e.draggable,r=e.home,s=e.draggables,a=e.viewport,i=$b(r.axis,t.displaceBy),o=Wy(r.descriptor.id,s),l=o.indexOf(t);l===-1&&It();var c=o.slice(l+1),u=c.reduce(function(f,x){return f[x.descriptor.id]=!0,f},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},h=Jw({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),m={displaced:h,displacedBy:i,at:{type:"REORDER",destination:jbe(t.descriptor)}};return{impact:m,afterCritical:d}}),Nbe=(function(e,t){return{draggables:e.draggables,droppables:wI(e.droppables,t)}}),_be=(function(e){var t=e.draggable,r=e.offset,s=e.initialWindowScroll,a=tN(t.client,r),i=rN(a,s),o=Dr({},t,{placeholder:Dr({},t.placeholder,{client:a}),client:a,page:i});return o}),Sbe=(function(e){var t=e.frame;return t||It(),t}),kbe=(function(e){var t=e.additions,r=e.updatedDroppables,s=e.viewport,a=s.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=r[o],c=Sbe(l),u=c.scroll.diff.value,d=eo(a,u),h=_be({draggable:i,offset:d,initialWindowScroll:s.scroll.initial});return h})}),Cbe=(function(e){var t=e.state,r=e.published,s=r.modified.map(function(b){var _=t.dimensions.droppables[b.droppableId],S=fI(_,b.scroll);return S}),a=Dr({},t.dimensions.droppables,{},VJ(s)),i=HJ(kbe({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=Dr({},t.dimensions.draggables,{},i);r.removals.forEach(function(b){delete o[b]});var l={droppables:a,draggables:o},c=uc(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],h=l.droppables[t.critical.droppable.id],m=cX({draggable:d,home:h,draggables:o,viewport:t.viewport}),f=m.impact,x=m.afterCritical,v=u&&u.isCombineEnabled?t.impact:f,g=aX({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:x}),y=Dr({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:l,afterCritical:x,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return y;var j=Dr({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return j}),cT=function(t){return t.movementMode==="SNAP"},rC=function(t,r,s){var a=Nbe(t.dimensions,r);return!cT(t)||s?jw({state:t,dimensions:a}):lX({state:t,dimensions:a})};function nC(e){return e.isDragging&&e.movementMode==="SNAP"?Dr({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var uF={phase:"IDLE",completed:null,shouldFlush:!1},Ebe=(function(e,t){if(e===void 0&&(e=uF),t.type==="FLUSH")return Dr({},uF,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&It();var r=t.payload,s=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[s.draggable.id],u=o.droppables[s.droppable.id],d={selection:a,borderBoxCenter:c.client.borderBox.center,offset:zi},h={client:d,page:{selection:eo(d.selection,i.scroll.initial),borderBoxCenter:eo(d.selection,i.scroll.initial),offset:eo(d.selection,i.scroll.diff.value)}},m=tS(o.droppables).every(function(de){return!de.isFixedOnPage}),f=cX({draggable:c,home:u,draggables:o.draggables,viewport:i}),x=f.impact,v=f.afterCritical,g={phase:"DRAGGING",isDragging:!0,critical:s,movementMode:l,dimensions:o,initial:h,current:h,isWindowScrollAllowed:m,impact:x,afterCritical:v,onLiftImpact:x,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return g}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&It();var y=Dr({phase:"COLLECTING"},e,{phase:"COLLECTING"});return y}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||It(),Cbe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;eg(e)||It();var j=t.payload.client;return Lm(j,e.current.client.selection)?e:jw({state:e,clientSelection:j,impact:cT(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return nC(e);eg(e)||It();var b=t.payload,_=b.id,S=b.newScroll,T=e.dimensions.droppables[_];if(!T)return e;var A=fI(T,S);return rC(e,A,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;eg(e)||It();var L=t.payload,E=L.id,q=L.isEnabled,M=e.dimensions.droppables[E];M||It(),M.isEnabled===q&&It();var C=Dr({},M,{isEnabled:q});return rC(e,C,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;eg(e)||It();var I=t.payload,O=I.id,H=I.isCombineEnabled,re=e.dimensions.droppables[O];re||It(),re.isCombineEnabled===H&&It();var U=Dr({},re,{isCombineEnabled:H});return rC(e,U,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;eg(e)||It(),e.isWindowScrollAllowed||It();var K=t.payload.newScroll;if(Lm(e.viewport.scroll.current,K))return nC(e);var ee=QJ(e.viewport,K);return cT(e)?lX({state:e,viewport:ee}):jw({state:e,viewport:ee})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!eg(e))return e;var X=t.payload.maxScroll;if(Lm(X,e.viewport.scroll.max))return e;var B=Dr({},e.viewport,{scroll:Dr({},e.viewport.scroll,{max:X})});return Dr({phase:"DRAGGING"},e,{viewport:B})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&It();var D=ube({state:e,type:t.type});return D?jw({state:e,impact:D.impact,clientSelection:D.clientSelection,scrollJumpRequest:D.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var Q=t.payload.reason;e.phase!=="COLLECTING"&&It();var ie=Dr({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Q});return ie}if(t.type==="DROP_ANIMATE"){var te=t.payload,he=te.completed,W=te.dropDuration,V=te.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||It();var oe={phase:"DROP_ANIMATING",completed:he,dropDuration:W,newHomeClientOffset:V,dimensions:e.dimensions};return oe}if(t.type==="DROP_COMPLETE"){var me=t.payload.completed;return{phase:"IDLE",completed:me,shouldFlush:!1}}return e}),Abe=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Pbe=function(t){return{type:"LIFT",payload:t}},Tbe=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Obe=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Ibe=function(){return{type:"COLLECTION_STARTING",payload:null}},Rbe=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Dbe=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Mbe=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},uX=function(t){return{type:"MOVE",payload:t}},Lbe=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Fbe=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Bbe=function(){return{type:"MOVE_UP",payload:null}},Ube=function(){return{type:"MOVE_DOWN",payload:null}},$be=function(){return{type:"MOVE_RIGHT",payload:null}},qbe=function(){return{type:"MOVE_LEFT",payload:null}},bI=function(){return{type:"FLUSH",payload:null}},zbe=function(t){return{type:"DROP_ANIMATE",payload:t}},jI=function(t){return{type:"DROP_COMPLETE",payload:t}},dX=function(t){return{type:"DROP",payload:t}},Wbe=function(t){return{type:"DROP_PENDING",payload:t}},hX=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Vbe=(function(e){return function(t){var r=t.getState,s=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,u=o.movementMode,d=r();d.phase==="DROP_ANIMATING"&&s(jI({completed:d.completed})),r().phase!=="IDLE"&&It(),s(bI()),s(Abe({draggableId:l,movementMode:u}));var h={shouldPublishImmediately:u==="SNAP"},m={draggableId:l,scrollOptions:h},f=e.startPublishing(m),x=f.critical,v=f.dimensions,g=f.viewport;s(Tbe({critical:x,dimensions:v,clientSelection:c,movementMode:u,viewport:g}))}}}}),Hbe=(function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}}),NI={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Xw={opacity:{drop:0,combining:.7},scale:{drop:.75}},_I={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Gp=_I.outOfTheWay+"s "+NI.outOfTheWay,Nw={fluid:"opacity "+Gp,snap:"transform "+Gp+", opacity "+Gp,drop:function(t){var r=t+"s "+NI.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Gp,placeholder:"height "+Gp+", width "+Gp+", margin "+Gp},dF=function(t){return Lm(t,zi)?null:"translate("+t.x+"px, "+t.y+"px)"},uT={moveTo:dF,drop:function(t,r){var s=dF(t);return s?r?s+" scale("+Xw.scale.drop+")":s:null}},dT=_I.minDropTime,fX=_I.maxDropTime,Gbe=fX-dT,hF=1500,Kbe=.6,Ybe=(function(e){var t=e.current,r=e.destination,s=e.reason,a=Kw(t,r);if(a<=0)return dT;if(a>=hF)return fX;var i=a/hF,o=dT+Gbe*i,l=s==="CANCEL"?o*Kbe:o;return Number(l.toFixed(2))}),Jbe=(function(e){var t=e.impact,r=e.draggable,s=e.dimensions,a=e.viewport,i=e.afterCritical,o=s.draggables,l=s.droppables,c=uc(t),u=c?l[c]:null,d=l[r.descriptor.droppableId],h=oX({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:u||d,viewport:a}),m=ic(h,r.client.borderBox.center);return m}),Xbe=(function(e){var t=e.draggables,r=e.reason,s=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!s.at||r!=="DROP"){var l=iX({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(s.at.type==="REORDER")return{impact:s,didDropInsideDroppable:!0};var c=Dr({},s,{displaced:Yw});return{impact:c,didDropInsideDroppable:!0}}),Qbe=(function(e){var t=e.getState,r=e.dispatch;return function(s){return function(a){if(a.type!=="DROP"){s(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){r(Wbe({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&It(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||It();var c=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],h=Xbe({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=h.impact,f=h.didDropInsideDroppable,x=f?pI(m):null,v=f?rS(m):null,g={index:c.draggable.index,droppableId:c.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:g,reason:o,mode:i.movementMode,destination:x,combine:v},j=Jbe({impact:m,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:m},_=!Lm(i.current.client.offset,j)||!!y.combine;if(!_){r(jI({completed:b}));return}var S=Ybe({current:i.current.client.offset,destination:j,reason:o}),T={newHomeClientOffset:j,dropDuration:S,completed:b};r(zbe(T))}}}}),mX=(function(){return{x:window.pageXOffset,y:window.pageYOffset}});function Zbe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function e1e(e){var t=e.onWindowScroll;function r(){t(mX())}var s=Gw(r),a=Zbe(s),i=Mm;function o(){return i!==Mm}function l(){o()&&It(),i=eu(window,[a])}function c(){o()||It(),s.cancel(),i(),i=Mm}return{start:l,stop:c,isActive:o}}var t1e=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},r1e=(function(e){var t=e1e({onWindowScroll:function(s){e.dispatch(Lbe({newScroll:s}))}});return function(r){return function(s){!t.isActive()&&s.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&t1e(s)&&t.stop(),r(s)}}}),n1e=(function(e){var t=!1,r=!1,s=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(s))};return a.wasCalled=function(){return t},a}),s1e=(function(){var e=[],t=function(i){var o=mI(e,function(u){return u.timerId===i});o===-1&&It();var l=e.splice(o,1),c=l[0];c.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},s=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:s}}),a1e=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},i1e=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},o1e=function(t,r){if(t===r)return!0;var s=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return s&&a},B0=function(t,r){r()},Nj=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},sC=function(t,r,s,a){if(!t){s(a(r));return}var i=n1e(s),o={announce:i};t(r,o),i.wasCalled()||s(a(r))},l1e=(function(e,t){var r=s1e(),s=null,a=function(m,f){s&&It(),B0("onBeforeCapture",function(){var x=e().onBeforeCapture;if(x){var v={draggableId:m,mode:f};x(v)}})},i=function(m,f){s&&It(),B0("onBeforeDragStart",function(){var x=e().onBeforeDragStart;x&&x(Nj(m,f))})},o=function(m,f){s&&It();var x=Nj(m,f);s={mode:f,lastCritical:m,lastLocation:x.source,lastCombine:null},r.add(function(){B0("onDragStart",function(){return sC(e().onDragStart,x,t,b2.onDragStart)})})},l=function(m,f){var x=pI(f),v=rS(f);s||It();var g=!o1e(m,s.lastCritical);g&&(s.lastCritical=m);var y=!a1e(s.lastLocation,x);y&&(s.lastLocation=x);var j=!i1e(s.lastCombine,v);if(j&&(s.lastCombine=v),!(!g&&!y&&!j)){var b=Dr({},Nj(m,s.mode),{combine:v,destination:x});r.add(function(){B0("onDragUpdate",function(){return sC(e().onDragUpdate,b,t,b2.onDragUpdate)})})}},c=function(){s||It(),r.flush()},u=function(m){s||It(),s=null,B0("onDragEnd",function(){return sC(e().onDragEnd,m,t,b2.onDragEnd)})},d=function(){if(s){var m=Dr({},Nj(s.lastCritical,s.mode),{combine:null,destination:null,reason:"CANCEL"});u(m)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:u,abort:d}}),c1e=(function(e,t){var r=l1e(e,t);return function(s){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),a(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=s.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}}),u1e=(function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var s=e.getState();s.phase!=="DROP_ANIMATING"&&It(),e.dispatch(jI({completed:s.completed}))}}}),d1e=(function(e){var t=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&s(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(hX())}};r=requestAnimationFrame(function(){r=null,t=eu(window,[o])})}}}}),h1e=(function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}}),f1e=(function(e){var t=!1;return function(){return function(r){return function(s){if(s.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!t){if(s.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(s.type==="DROP_COMPLETE"){t=!1;var a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}),m1e=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},p1e=(function(e){return function(t){return function(r){return function(s){if(m1e(s)){e.stop(),r(s);return}if(s.type==="INITIAL_PUBLISH"){r(s);var a=t.getState();a.phase!=="DRAGGING"&&It(),e.start(a);return}r(s),e.scroll(t.getState())}}}}),g1e=(function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(dX({reason:s.reason})))}}}}),v1e=EJ,x1e=(function(e){var t=e.dimensionMarshal,r=e.focusMarshal,s=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return CJ(Ebe,v1e(_0e(Hbe(s),h1e(t),Vbe(t),Qbe,u1e,d1e,g1e,p1e(o),r1e,f1e(r),c1e(a,i))))}),aC=function(){return{additions:{},removals:{},modified:{}}};function y1e(e){var t=e.registry,r=e.callbacks,s=aC(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var d=s,h=d.additions,m=d.removals,f=d.modified,x=Object.keys(h).map(function(y){return t.draggable.getById(y).getDimension(zi)}).sort(function(y,j){return y.descriptor.index-j.descriptor.index}),v=Object.keys(f).map(function(y){var j=t.droppable.getById(y),b=j.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:b}}),g={additions:x,removals:Object.keys(m),modified:v};s=aC(),r.publish(g)}))},o=function(d){var h=d.descriptor.id;s.additions[h]=d,s.modified[d.descriptor.droppableId]=!0,s.removals[h]&&delete s.removals[h],i()},l=function(d){var h=d.descriptor;s.removals[h.id]=!0,s.modified[h.droppableId]=!0,s.additions[h.id]&&delete s.additions[h.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,s=aC())};return{add:o,remove:l,stop:c}}var pX=(function(e){var t=e.scrollHeight,r=e.scrollWidth,s=e.height,a=e.width,i=ic({x:r,y:t},{x:a,y:s}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o}),gX=(function(){var e=document.documentElement;return e||It(),e}),vX=(function(){var e=gX(),t=pX({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t}),w1e=(function(){var e=mX(),t=vX(),r=e.y,s=e.x,a=gX(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=r+o,u=ed({top:r,left:s,right:l,bottom:c}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:zi,displacement:zi}}};return d}),b1e=(function(e){var t=e.critical,r=e.scrollOptions,s=e.registry,a=w1e(),i=a.scroll.current,o=t.droppable,l=s.droppable.getAllByType(o.type).map(function(h){return h.callbacks.getDimensionAndWatchScroll(i,r)}),c=s.draggable.getAllByType(t.draggable.type).map(function(h){return h.getDimension(i)}),u={draggables:HJ(c),droppables:VJ(l)},d={dimensions:u,critical:t,viewport:a};return d});function fF(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var s=e.droppable.getById(r.descriptor.droppableId);return s.descriptor.mode==="virtual"}var j1e=(function(e,t){var r=null,s=y1e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(f,x){e.droppable.exists(f)||It(),r&&t.updateDroppableIsEnabled({id:f,isEnabled:x})},i=function(f,x){r&&(e.droppable.exists(f)||It(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:x}))},o=function(f,x){r&&(e.droppable.exists(f)||It(),t.updateDroppableScroll({id:f,newScroll:x}))},l=function(f,x){r&&e.droppable.getById(f).callbacks.scroll(x)},c=function(){if(r){s.stop();var f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(x){return x.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(f){r||It();var x=r.critical.draggable;f.type==="ADDITION"&&fF(e,x,f.value)&&s.add(f.value),f.type==="REMOVAL"&&fF(e,x,f.value)&&s.remove(f.value)},d=function(f){r&&It();var x=e.draggable.getById(f.draggableId),v=e.droppable.getById(x.descriptor.droppableId),g={draggable:x.descriptor,droppable:v.descriptor},y=e.subscribe(u);return r={critical:g,unsubscribe:y},b1e({critical:g,registry:e,scrollOptions:f.scrollOptions})},h={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:d,stopPublishing:c};return h}),xX=(function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"}),N1e=(function(e){window.scrollBy(e.x,e.y)}),_1e=$i(function(e){return tS(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),S1e=function(t,r){var s=lp(_1e(r),function(a){return a.frame||It(),rX(a.frame.pageMarginBox)(t)});return s},k1e=(function(e){var t=e.center,r=e.destination,s=e.droppables;if(r){var a=s[r];return a.frame?a:null}var i=S1e(t,s);return i}),Fm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},C1e=(function(e,t){var r=e[t.size]*Fm.startFromPercentage,s=e[t.size]*Fm.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:s};return a}),yX=(function(e){var t=e.startOfRange,r=e.endOfRange,s=e.current,a=r-t;if(a===0)return 0;var i=s-t,o=i/a;return o}),SI=1,E1e=(function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Fm.maxPixelScroll;if(e===t.startScrollingFrom)return SI;var r=yX({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=1-r,a=Fm.maxPixelScroll*Fm.ease(s);return Math.ceil(a)}),mF=Fm.durationDampening.accelerateAt,pF=Fm.durationDampening.stopDampeningAt,A1e=(function(e,t){var r=t,s=pF,a=Date.now(),i=a-r;if(i>=pF)return e;if(i<mF)return SI;var o=yX({startOfRange:mF,endOfRange:s,current:i}),l=e*Fm.ease(o);return Math.ceil(l)}),gF=(function(e){var t=e.distanceToEdge,r=e.thresholds,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=E1e(t,r);return i===0?0:a?Math.max(A1e(i,s),SI):i}),vF=(function(e){var t=e.container,r=e.distanceToEdges,s=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=C1e(t,a),l=r[a.end]<r[a.start];return l?gF({distanceToEdge:r[a.end],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i}):-1*gF({distanceToEdge:r[a.start],thresholds:o,dragStartTime:s,shouldUseTimeDampening:i})}),P1e=(function(e){var t=e.container,r=e.subject,s=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?s:i&&a?null:{x:i?0:s.x,y:a?0:s.y}}),T1e=zJ(function(e){return e===0?0:e}),wX=(function(e){var t=e.dragStartTime,r=e.container,s=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=vF({container:r,distanceToEdges:o,dragStartTime:t,axis:gI,shouldUseTimeDampening:i}),c=vF({container:r,distanceToEdges:o,dragStartTime:t,axis:YJ,shouldUseTimeDampening:i}),u=T1e({x:c,y:l});if(Lm(u,zi))return null;var d=P1e({container:r,subject:s,proposedScroll:u});return d?Lm(d,zi)?null:d:null}),O1e=zJ(function(e){return e===0?0:e>0?1:-1}),kI=(function(){var e=function(r,s){return r<0?r:r>s?r-s:0};return function(t){var r=t.current,s=t.max,a=t.change,i=eo(r,a),o={x:e(i.x,s.x),y:e(i.y,s.y)};return Lm(o,zi)?null:o}})(),bX=function(t){var r=t.max,s=t.current,a=t.change,i={x:Math.max(s.x,r.x),y:Math.max(s.y,r.y)},o=O1e(a),l=kI({max:i,current:s,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},CI=function(t,r){return bX({current:t.scroll.current,max:t.scroll.max,change:r})},I1e=function(t,r){if(!CI(t,r))return null;var s=t.scroll.max,a=t.scroll.current;return kI({current:a,max:s,change:r})},EI=function(t,r){var s=t.frame;return s?bX({current:s.scroll.current,max:s.scroll.max,change:r}):!1},R1e=function(t,r){var s=t.frame;return!s||!EI(t,r)?null:kI({current:s.scroll.current,max:s.scroll.max,change:r})},D1e=(function(e){var t=e.viewport,r=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=wX({dragStartTime:a,container:t.frame,subject:r,center:s,shouldUseTimeDampening:i});return o&&CI(t,o)?o:null}),M1e=(function(e){var t=e.droppable,r=e.subject,s=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=wX({dragStartTime:a,container:o.pageMarginBox,subject:r,center:s,shouldUseTimeDampening:i});return l&&EI(t,l)?l:null}),xF=(function(e){var t=e.state,r=e.dragStartTime,s=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=D1e({dragStartTime:r,viewport:u,subject:c,center:o,shouldUseTimeDampening:s});if(d){a(d);return}}var h=k1e({center:o,destination:uc(t.impact),droppables:t.dimensions.droppables});if(h){var m=M1e({dragStartTime:r,droppable:h,subject:c,center:o,shouldUseTimeDampening:s});m&&i(h.descriptor.id,m)}}),L1e=(function(e){var t=e.scrollWindow,r=e.scrollDroppable,s=Gw(t),a=Gw(r),i=null,o=function(d){i||It();var h=i,m=h.shouldUseTimeDampening,f=h.dragStartTime;xF({state:d,scrollWindow:s,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:m})},l=function(d){i&&It();var h=Date.now(),m=!1,f=function(){m=!0};xF({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:h,shouldUseTimeDampening:m},m&&o(d)},c=function(){i&&(s.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}}),F1e=(function(e){var t=e.move,r=e.scrollDroppable,s=e.scrollWindow,a=function(u,d){var h=eo(u.current.client.selection,d);t({client:h})},i=function(u,d){if(!EI(u,d))return d;var h=R1e(u,d);if(!h)return r(u.descriptor.id,d),null;var m=ic(d,h);r(u.descriptor.id,m);var f=ic(d,m);return f},o=function(u,d,h){if(!u||!CI(d,h))return h;var m=I1e(d,h);if(!m)return s(h),null;var f=ic(h,m);s(f);var x=ic(h,f);return x},l=function(u){var d=u.scrollJumpRequest;if(d){var h=uc(u.impact);h||It();var m=i(u.dimensions.droppables[h],d);if(m){var f=u.viewport,x=o(u.isWindowScrollAllowed,f,m);x&&a(u,x)}}};return l}),B1e=(function(e){var t=e.scrollDroppable,r=e.scrollWindow,s=e.move,a=L1e({scrollWindow:r,scrollDroppable:t}),i=F1e({move:s,scrollWindow:r,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){a.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:o,start:a.start,stop:a.stop};return l}),ry="data-rbd",ny=(function(){var e=ry+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}})(),hT=(function(){var e=ry+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),U1e=(function(){var e=ry+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),yF={contextId:ry+"-scroll-container-context-id"},$1e=function(t){return function(r){return"["+r+'="'+t+'"]'}},U0=function(t,r){return t.map(function(s){var a=s.styles[r];return a?s.selector+" { "+a+" }":""}).join(" ")},q1e="pointer-events: none;",z1e=(function(e){var t=$1e(e),r=(function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ny.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:q1e,dropAnimating:l}}})(),s=(function(){var l=`
      transition: `+Nw.outOfTheWay+`;
    `;return{selector:t(hT.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(U1e.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[s,r,a,i];return{always:U0(o,"always"),resting:U0(o,"resting"),dragging:U0(o,"dragging"),dropAnimating:U0(o,"dropAnimating"),userCancel:U0(o,"userCancel")}}),dc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,iC=function(){var t=document.querySelector("head");return t||It(),t},wF=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function W1e(e,t){var r=Ln(function(){return z1e(e)},[e]),s=N.useRef(null),a=N.useRef(null),i=Er($i(function(h){var m=a.current;m||It(),m.textContent=h}),[]),o=Er(function(h){var m=s.current;m||It(),m.textContent=h},[]);dc(function(){!s.current&&!a.current||It();var h=wF(t),m=wF(t);return s.current=h,a.current=m,h.setAttribute(ry+"-always",e),m.setAttribute(ry+"-dynamic",e),iC().appendChild(h),iC().appendChild(m),o(r.always),i(r.resting),function(){var f=function(v){var g=v.current;g||It(),iC().removeChild(g),v.current=null};f(s),f(a)}},[t,o,i,r.always,r.resting,e]);var l=Er(function(){return i(r.dragging)},[i,r.dragging]),c=Er(function(h){if(h==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=Er(function(){a.current&&i(r.resting)},[i,r.resting]),d=Ln(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return d}var jX=(function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window});function aS(e){return e instanceof jX(e).HTMLElement}function V1e(e,t){var r="["+ny.contextId+'="'+e+'"]',s=WJ(document.querySelectorAll(r));if(!s.length)return null;var a=lp(s,function(i){return i.getAttribute(ny.draggableId)===t});return!a||!aS(a)?null:a}function H1e(e){var t=N.useRef({}),r=N.useRef(null),s=N.useRef(null),a=N.useRef(!1),i=Er(function(m,f){var x={id:m,focus:f};return t.current[m]=x,function(){var g=t.current,y=g[m];y!==x&&delete g[m]}},[]),o=Er(function(m){var f=V1e(e,m);f&&f!==document.activeElement&&f.focus()},[e]),l=Er(function(m,f){r.current===m&&(r.current=f)},[]),c=Er(function(){s.current||a.current&&(s.current=requestAnimationFrame(function(){s.current=null;var m=r.current;m&&o(m)}))},[o]),u=Er(function(m){r.current=null;var f=document.activeElement;f&&f.getAttribute(ny.draggableId)===m&&(r.current=m)},[]);dc(function(){return a.current=!0,function(){a.current=!1;var m=s.current;m&&cancelAnimationFrame(m)}},[]);var d=Ln(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l]);return d}function G1e(){var e={draggables:{},droppables:{}},t=[];function r(h){return t.push(h),function(){var f=t.indexOf(h);f!==-1&&t.splice(f,1)}}function s(h){t.length&&t.forEach(function(m){return m(h)})}function a(h){return e.draggables[h]||null}function i(h){var m=a(h);return m||It(),m}var o={register:function(m){e.draggables[m.descriptor.id]=m,s({type:"ADDITION",value:m})},update:function(m,f){var x=e.draggables[f.descriptor.id];x&&x.uniqueId===m.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:function(m){var f=m.descriptor.id,x=a(f);x&&m.uniqueId===x.uniqueId&&(delete e.draggables[f],s({type:"REMOVAL",value:m}))},getById:i,findById:a,exists:function(m){return!!a(m)},getAllByType:function(m){return aN(e.draggables).filter(function(f){return f.descriptor.type===m})}};function l(h){return e.droppables[h]||null}function c(h){var m=l(h);return m||It(),m}var u={register:function(m){e.droppables[m.descriptor.id]=m},unregister:function(m){var f=l(m.descriptor.id);f&&m.uniqueId===f.uniqueId&&delete e.droppables[m.descriptor.id]},getById:c,findById:l,exists:function(m){return!!l(m)},getAllByType:function(m){return aN(e.droppables).filter(function(f){return f.descriptor.type===m})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:r,clean:d}}function K1e(){var e=Ln(G1e,[]);return N.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var AI=at.createContext(null),oN=(function(){var e=document.body;return e||It(),e}),Y1e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},J1e=function(t){return"rbd-announcement-"+t};function X1e(e){var t=Ln(function(){return J1e(e)},[e]),r=N.useRef(null);N.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Dr(i.style,Y1e),oN().appendChild(i),function(){setTimeout(function(){var c=oN();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var s=Er(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return s}var Q1e=0,Z1e={separator:"::"};function PI(e,t){return t===void 0&&(t=Z1e),Ln(function(){return""+e+t.separator+Q1e++},[t.separator,e])}function eje(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function tje(e){var t=e.contextId,r=e.text,s=PI("hidden-text",{separator:"-"}),a=Ln(function(){return eje({contextId:t,uniqueId:s})},[s,t]);return N.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",oN().appendChild(o),function(){var c=oN();c.contains(o)&&c.removeChild(o)}},[a,r]),a}var iS=at.createContext(null);function NX(e){var t=N.useRef(e);return N.useEffect(function(){t.current=e}),t}function rje(){var e=null;function t(){return!!e}function r(o){return o===e}function s(o){e&&It();var l={abandon:o};return e=l,l}function a(){e||It(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:s,release:a,tryAbandon:i}}var nje=9,sje=13,TI=27,_X=32,aje=33,ije=34,oje=35,lje=36,cje=37,uje=38,dje=39,hje=40,_j,fje=(_j={},_j[sje]=!0,_j[nje]=!0,_j),SX=(function(e){fje[e.keyCode]&&e.preventDefault()}),oS=(function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=lp(t,function(s){return"on"+s in document});return r||e})(),kX=0,bF=5;function mje(e,t){return Math.abs(t.x-e.x)>=bF||Math.abs(t.y-e.y)>=bF}var jF={type:"IDLE"};function pje(e){var t=e.cancel,r=e.completed,s=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,u=o.clientY;if(l===kX){var d={x:c,y:u},h=s();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(d);return}h.type!=="PENDING"&&It();var m=h.point;if(mje(m,d)){o.preventDefault();var f=h.actions.fluidLift(d);a({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var l=s();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){s().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=s();if(l.type==="PENDING"){t();return}if(o.keyCode===TI){o.preventDefault(),t();return}SX(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){s().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=s();if(l.type==="IDLE"&&It(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:oS,fn:t}]}function gje(e){var t=N.useRef(jF),r=N.useRef(Mm),s=Ln(function(){return{eventName:"mousedown",fn:function(h){if(!h.defaultPrevented&&h.button===kX&&!(h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)){var m=e.findClosestDraggableId(h);if(m){var f=e.tryGetLock(m,o,{sourceEvent:h});if(f){h.preventDefault();var x={x:h.clientX,y:h.clientY};r.current(),u(f,x)}}}}}},[e]),a=Ln(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(h){if(!h.defaultPrevented){var m=e.findClosestDraggableId(h);if(m){var f=e.findOptionsForDraggable(m);f&&(f.shouldRespectForcePress||e.canGetLock(m)&&h.preventDefault())}}}}},[e]),i=Er(function(){var h={passive:!1,capture:!0};r.current=eu(window,[a,s],h)},[a,s]),o=Er(function(){var d=t.current;d.type!=="IDLE"&&(t.current=jF,r.current(),i())},[i]),l=Er(function(){var d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),c=Er(function(){var h={capture:!0,passive:!1},m=pje({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(x){t.current=x}});r.current=eu(window,m,h)},[l,o]),u=Er(function(h,m){t.current.type!=="IDLE"&&It(),t.current={type:"PENDING",point:m,actions:h},c()},[c]);dc(function(){return i(),function(){r.current()}},[i])}var Zv;function vje(){}var xje=(Zv={},Zv[ije]=!0,Zv[aje]=!0,Zv[lje]=!0,Zv[oje]=!0,Zv);function yje(e,t){function r(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===TI){i.preventDefault(),r();return}if(i.keyCode===_X){i.preventDefault(),s();return}if(i.keyCode===hje){i.preventDefault(),e.moveDown();return}if(i.keyCode===uje){i.preventDefault(),e.moveUp();return}if(i.keyCode===dje){i.preventDefault(),e.moveRight();return}if(i.keyCode===cje){i.preventDefault(),e.moveLeft();return}if(xje[i.keyCode]){i.preventDefault();return}SX(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:oS,fn:r}]}function wje(e){var t=N.useRef(vje),r=Ln(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==_X)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,d,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,u=l.snapLift();t.current();function d(){c||It(),c=!1,t.current(),s()}t.current=eu(window,yje(u,d),{capture:!0,passive:!1})}}},[e]),s=Er(function(){var i={passive:!1,capture:!0};t.current=eu(window,[r],i)},[r]);dc(function(){return s(),function(){t.current()}},[s])}var oC={type:"IDLE"},bje=120,jje=.15;function Nje(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===TI&&a.preventDefault(),t()}},{eventName:oS,fn:t}]}function _je(e){var t=e.cancel,r=e.completed,s=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=s();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,u=l.clientY,d={x:c,y:u};i.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:function(i){var o=s();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(s().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=s();o.type==="IDLE"&&It();var l=i.touches[0];if(l){var c=l.force>=jje;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:oS,fn:t}]}function Sje(e){var t=N.useRef(oC),r=N.useRef(Mm),s=Er(function(){return t.current},[]),a=Er(function(f){t.current=f},[]),i=Ln(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var x=e.findClosestDraggableId(f);if(x){var v=e.tryGetLock(x,l,{sourceEvent:f});if(v){var g=f.touches[0],y=g.clientX,j=g.clientY,b={x:y,y:j};r.current(),h(v,b)}}}}}},[e]),o=Er(function(){var f={capture:!0,passive:!1};r.current=eu(window,[i],f)},[i]),l=Er(function(){var m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(oC),r.current(),o())},[o,a]),c=Er(function(){var m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),u=Er(function(){var f={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:s},v=eu(window,_je(x),f),g=eu(window,Nje(x),f);r.current=function(){v(),g()}},[c,s,l]),d=Er(function(){var f=s();f.type!=="PENDING"&&It();var x=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[s,a]),h=Er(function(f,x){s().type!=="IDLE"&&It();var v=setTimeout(d,bje);a({type:"PENDING",point:x,actions:f,longPressTimerId:v}),u()},[u,s,a,d]);dc(function(){return o(),function(){r.current();var x=s();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(oC))}},[s,o,a]),dc(function(){var f=eu(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var kje={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function CX(e,t){if(t==null)return!1;var r=!!kje[t.tagName.toLowerCase()];if(r)return!0;var s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:CX(e,t.parentElement)}function Cje(e,t){var r=t.target;return aS(r)?CX(e,r):!1}var Eje=(function(e){return ed(e.getBoundingClientRect()).center});function Aje(e){return e instanceof jX(e).Element}var Pje=(function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=lp(t,function(s){return s in Element.prototype});return r||e})();function EX(e,t){return e==null?null:e[Pje](t)?e:EX(e.parentElement,t)}function Tje(e,t){return e.closest?e.closest(t):EX(e,t)}function Oje(e){return"["+ny.contextId+'="'+e+'"]'}function Ije(e,t){var r=t.target;if(!Aje(r))return null;var s=Oje(e),a=Tje(r,s);return!a||!aS(a)?null:a}function Rje(e,t){var r=Ije(e,t);return r?r.getAttribute(ny.draggableId):null}function Dje(e,t){var r="["+hT.contextId+'="'+e+'"]',s=WJ(document.querySelectorAll(r)),a=lp(s,function(i){return i.getAttribute(hT.id)===t});return!a||!aS(a)?null:a}function Mje(e){e.preventDefault()}function Sj(e){var t=e.expected,r=e.phase,s=e.isLockActive;return e.shouldWarn,!(!s()||t!==r)}function AX(e){var t=e.lockAPI,r=e.store,s=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=s.draggable.findById(a);return!(!i||!i.options.isEnabled||!xX(r.getState(),a))}function Lje(e){var t=e.lockAPI,r=e.contextId,s=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=AX({lockAPI:t,store:s,registry:a,draggableId:i});if(!c)return null;var u=a.draggable.getById(i),d=Dje(r,u.descriptor.id);if(!d||l&&!u.options.canDragInteractiveElements&&Cje(d,l))return null;var h=t.claim(o||Mm),m="PRE_DRAG";function f(){return u.options.shouldRespectForcePress}function x(){return t.isActive(h)}function v(T,A){Sj({expected:T,phase:m,isLockActive:x,shouldWarn:!0})&&s.dispatch(A())}var g=v.bind(null,"DRAGGING");function y(T){function A(){t.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(A(),m!=="PRE_DRAG"&&It()),s.dispatch(Pbe(T.liftActionArgs)),m="DRAGGING";function L(E,q){if(q===void 0&&(q={shouldBlockNextClick:!1}),T.cleanup(),q.shouldBlockNextClick){var M=eu(window,[{eventName:"click",fn:Mje,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}A(),s.dispatch(dX({reason:E}))}return Dr({isActive:function(){return Sj({expected:"DRAGGING",phase:m,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(q){return L("DROP",q)},cancel:function(q){return L("CANCEL",q)}},T.actions)}function j(T){var A=Gw(function(E){g(function(){return uX({client:E})})}),L=y({liftActionArgs:{id:i,clientSelection:T,movementMode:"FLUID"},cleanup:function(){return A.cancel()},actions:{move:A}});return Dr({},L,{move:A})}function b(){var T={moveUp:function(){return g(Bbe)},moveRight:function(){return g($be)},moveDown:function(){return g(Ube)},moveLeft:function(){return g(qbe)}};return y({liftActionArgs:{id:i,clientSelection:Eje(d),movementMode:"SNAP"},cleanup:Mm,actions:T})}function _(){var T=Sj({expected:"PRE_DRAG",phase:m,isLockActive:x,shouldWarn:!0});T&&t.release()}var S={isActive:function(){return Sj({expected:"PRE_DRAG",phase:m,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:j,snapLift:b,abort:_};return S}var Fje=[gje,wje,Sje];function Bje(e){var t=e.contextId,r=e.store,s=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Fje:[],a||[]),l=N.useState(function(){return rje()})[0],c=Er(function(j,b){j.isDragging&&!b.isDragging&&l.tryAbandon()},[l]);dc(function(){var j=r.getState(),b=r.subscribe(function(){var _=r.getState();c(j,_),j=_});return b},[l,r,c]),dc(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=Er(function(y){return AX({lockAPI:l,registry:s,store:r,draggableId:y})},[l,s,r]),d=Er(function(y,j,b){return Lje({lockAPI:l,registry:s,contextId:t,store:r,draggableId:y,forceSensorStop:j,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[t,l,s,r]),h=Er(function(y){return Rje(t,y)},[t]),m=Er(function(y){var j=s.draggable.findById(y);return j?j.options:null},[s.draggable]),f=Er(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(bI()))},[l,r]),x=Er(l.isClaimed,[l]),v=Ln(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:m,tryReleaseLock:f,isLockClaimed:x}},[u,d,h,m,f,x]),g=0;g<o.length;g++)o[g](v)}var Uje=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function $0(e){return e.current||It(),e.current}function $je(e){var t=e.contextId,r=e.setCallbacks,s=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=N.useRef(null),l=NX(e),c=Er(function(){return Uje(l.current)},[l]),u=X1e(t),d=tje({contextId:t,text:i}),h=W1e(t,a),m=Er(function(E){$0(o).dispatch(E)},[]),f=Ln(function(){return z8({publishWhileDragging:Obe,updateDroppableScroll:Rbe,updateDroppableIsEnabled:Dbe,updateDroppableIsCombineEnabled:Mbe,collectionStarting:Ibe},m)},[m]),x=K1e(),v=Ln(function(){return j1e(x,f)},[x,f]),g=Ln(function(){return B1e(Dr({scrollWindow:N1e,scrollDroppable:v.scrollDroppable},z8({move:uX},m)))},[v.scrollDroppable,m]),y=H1e(t),j=Ln(function(){return x1e({announce:u,autoScroller:g,dimensionMarshal:v,focusMarshal:y,getResponders:c,styleMarshal:h})},[u,g,v,y,c,h]);o.current=j;var b=Er(function(){var E=$0(o),q=E.getState();q.phase!=="IDLE"&&E.dispatch(bI())},[]),_=Er(function(){var E=$0(o).getState();return E.isDragging||E.phase==="DROP_ANIMATING"},[]),S=Ln(function(){return{isDragging:_,tryAbort:b}},[_,b]);r(S);var T=Er(function(E){return xX($0(o).getState(),E)},[]),A=Er(function(){return eg($0(o).getState())},[]),L=Ln(function(){return{marshal:v,focus:y,contextId:t,canLift:T,isMovementAllowed:A,dragHandleUsageInstructionsId:d,registry:x}},[t,v,d,y,T,A,x]);return Bje({contextId:t,store:j,registry:x,customSensors:s,enableDefaultSensors:e.enableDefaultSensors!==!1}),N.useEffect(function(){return b},[b]),at.createElement(iS.Provider,{value:L},at.createElement(A0e,{context:AI,store:j},e.children))}var qje=0;function zje(){return Ln(function(){return""+qje++},[])}function PX(e){var t=zje(),r=e.dragHandleUsageInstructions||b2.dragHandleUsageInstructions;return at.createElement(wwe,null,function(s){return at.createElement($je,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var TX=function(t){return function(r){return t===r}},Wje=TX("scroll"),Vje=TX("auto"),NF=function(t,r){return r(t.overflowX)||r(t.overflowY)},Hje=function(t){var r=window.getComputedStyle(t),s={overflowX:r.overflowX,overflowY:r.overflowY};return NF(s,Wje)||NF(s,Vje)},Gje=function(){return!1},Kje=function e(t){return t==null?null:t===document.body?Gje()?t:null:t===document.documentElement?null:Hje(t)?t:e(t.parentElement)},fT=(function(e){return{x:e.scrollLeft,y:e.scrollTop}}),Yje=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},Jje=(function(e){var t=Kje(e),r=Yje(e);return{closestScrollable:t,isFixedOnPage:r}}),Xje=(function(e){var t=e.descriptor,r=e.isEnabled,s=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,u=(function(){if(!c)return null;var f=c.scrollSize,x=c.client,v=pX({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:x,scrollSize:f,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:v,diff:{value:zi,displacement:zi}}}})(),d=i==="vertical"?gI:YJ,h=ty({page:l,withPlaceholder:null,axis:d,frame:u}),m={descriptor:t,isCombineEnabled:s,isFixedOnPage:a,axis:d,isEnabled:r,client:o,page:l,frame:u,subject:h};return m}),Qje=function(t,r){var s=BJ(t);if(!r||t!==r)return s;var a=s.paddingBox.top-r.scrollTop,i=s.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,l=i+r.scrollWidth,c={top:a,right:l,bottom:o,left:i},u=dI(c,s.border),d=hI({borderBox:u,margin:s.margin,border:s.border,padding:s.padding});return d},Zje=(function(e){var t=e.ref,r=e.descriptor,s=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=s.closestScrollable,d=Qje(t,u),h=rN(d,a),m=(function(){if(!u)return null;var x=BJ(u),v={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:x,page:rN(x,a),scroll:fT(u),scrollSize:v,shouldClipSubject:c}})(),f=Xje({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:s.isFixedOnPage,direction:i,client:d,page:h,closest:m});return f}),e2e={passive:!1},t2e={passive:!0},_F=(function(e){return e.shouldPublishImmediately?e2e:t2e});function lN(e){var t=N.useContext(e);return t||It(),t}var kj=function(t){return t&&t.env.closestScrollable||null};function r2e(e){var t=N.useRef(null),r=lN(iS),s=PI("droppable"),a=r.registry,i=r.marshal,o=NX(e),l=Ln(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=N.useRef(l),u=Ln(function(){return $i(function(_,S){t.current||It();var T={x:_,y:S};i.updateDroppableScroll(l.id,T)})},[l.id,i]),d=Er(function(){var _=t.current;return!_||!_.env.closestScrollable?zi:fT(_.env.closestScrollable)},[]),h=Er(function(){var _=d();u(_.x,_.y)},[d,u]),m=Ln(function(){return Gw(h)},[h]),f=Er(function(){var _=t.current,S=kj(_);_&&S||It();var T=_.scrollOptions;if(T.shouldPublishImmediately){h();return}m()},[m,h]),x=Er(function(_,S){t.current&&It();var T=o.current,A=T.getDroppableRef();A||It();var L=Jje(A),E={ref:A,descriptor:l,env:L,scrollOptions:S};t.current=E;var q=Zje({ref:A,descriptor:l,env:L,windowScroll:_,direction:T.direction,isDropDisabled:T.isDropDisabled,isCombineEnabled:T.isCombineEnabled,shouldClipSubject:!T.ignoreContainerClipping}),M=L.closestScrollable;return M&&(M.setAttribute(yF.contextId,r.contextId),M.addEventListener("scroll",f,_F(E.scrollOptions))),q},[r.contextId,l,f,o]),v=Er(function(){var _=t.current,S=kj(_);return _&&S||It(),fT(S)},[]),g=Er(function(){var _=t.current;_||It();var S=kj(_);t.current=null,S&&(m.cancel(),S.removeAttribute(yF.contextId),S.removeEventListener("scroll",f,_F(_.scrollOptions)))},[f,m]),y=Er(function(_){var S=t.current;S||It();var T=kj(S);T||It(),T.scrollTop+=_.y,T.scrollLeft+=_.x},[]),j=Ln(function(){return{getDimensionAndWatchScroll:x,getScrollWhileDragging:v,dragStopped:g,scroll:y}},[g,x,v,y]),b=Ln(function(){return{uniqueId:s,descriptor:l,callbacks:j}},[j,l,s]);dc(function(){return c.current=b.descriptor,a.droppable.register(b),function(){t.current&&g(),a.droppable.unregister(b)}},[j,l,g,b,i,a.droppable]),dc(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),dc(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function lC(){}var SF={width:0,height:0,margin:kwe},n2e=function(t){var r=t.isAnimatingOpenOnMount,s=t.placeholder,a=t.animate;return r||a==="close"?SF:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin}},s2e=function(t){var r=t.isAnimatingOpenOnMount,s=t.placeholder,a=t.animate,i=n2e({isAnimatingOpenOnMount:r,placeholder:s,animate:a});return{display:s.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Nw.placeholder:null}};function a2e(e){var t=N.useRef(null),r=Er(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),s=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=N.useState(e.animate==="open"),c=l[0],u=l[1];N.useEffect(function(){return c?s!=="open"?(r(),u(!1),lC):t.current?lC:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):lC},[s,c,r]);var d=Er(function(m){m.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),h=s2e({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return at.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})}var i2e=at.memo(a2e),OI=at.createContext(null),o2e=(function(e){kJ(t,e);function t(){for(var s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=e.call.apply(e,[this].concat(i))||this,s.state={isVisible:!!s.props.on,data:s.props.on,animate:s.props.shouldAnimate&&s.props.on?"open":"none"},s.onClose=function(){s.state.animate==="close"&&s.setState({isVisible:!1})},s}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t})(at.PureComponent),kF={dragging:5e3,dropAnimating:4500},l2e=function(t,r){return r?Nw.drop(r.duration):t?Nw.snap:Nw.fluid},c2e=function(t,r){return t?r?Xw.opacity.drop:Xw.opacity.combining:null},u2e=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function d2e(e){var t=e.dimension,r=t.client,s=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=u2e(e),c=!!i,u=c?uT.drop(s,o):uT.moveTo(s),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:l2e(l,i),transform:u,opacity:c2e(o,c),zIndex:c?kF.dropAnimating:kF.dragging,pointerEvents:"none"};return d}function h2e(e){return{transform:uT.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function f2e(e){return e.type==="DRAGGING"?d2e(e):h2e(e)}function m2e(e,t,r){r===void 0&&(r=zi);var s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=FJ(a,s),o=rN(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return u}function p2e(e){var t=PI("draggable"),r=e.descriptor,s=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Ln(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),u=Er(function(f){var x=a();return x||It(),m2e(r,x,f)},[r,a]),d=Ln(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),h=N.useRef(d),m=N.useRef(!0);dc(function(){return s.draggable.register(h.current),function(){return s.draggable.unregister(h.current)}},[s.draggable]),dc(function(){if(m.current){m.current=!1;return}var f=h.current;h.current=d,s.draggable.update(d,f)},[d,s.draggable])}function g2e(e){e.preventDefault()}function v2e(e){var t=N.useRef(null),r=Er(function(E){t.current=E},[]),s=Er(function(){return t.current},[]),a=lN(iS),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=lN(OI),u=c.type,d=c.droppableId,h=Ln(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),m=e.children,f=e.draggableId,x=e.isEnabled,v=e.shouldRespectForcePress,g=e.canDragInteractiveElements,y=e.isClone,j=e.mapped,b=e.dropAnimationFinished;if(!y){var _=Ln(function(){return{descriptor:h,registry:l,getDraggableRef:s,canDragInteractiveElements:g,shouldRespectForcePress:v,isEnabled:x}},[h,l,s,g,v,x]);p2e(_)}var S=Ln(function(){return x?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:g2e}:null},[i,o,f,x]),T=Er(function(E){j.type==="DRAGGING"&&j.dropping&&E.propertyName==="transform"&&b()},[b,j]),A=Ln(function(){var E=f2e(j),q=j.type==="DRAGGING"&&j.dropping?T:null,M={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:E,onTransitionEnd:q},dragHandleProps:S};return M},[i,S,f,j,T,r]),L=Ln(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return m(A,j.snapshot,L)}var OX=(function(e,t){return e===t}),IX=(function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null}),x2e=function(t){return t.combine?t.combine.draggableId:null},y2e=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function w2e(){var e=$i(function(a,i){return{x:a,y:i}}),t=$i(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=$i(function(a,i,o,l,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:a,dimension:o,forceShouldAnimate:d,snapshot:t(i,l,c,u,null)}}}),s=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],u=uc(i.impact),d=y2e(i.impact),h=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,o.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){var m=i.completed;if(m.result.draggableId!==o.draggableId)return null;var f=o.isClone,x=i.dimensions.draggables[o.draggableId],v=m.result,g=v.mode,y=IX(v),j=x2e(v),b=i.dropDuration,_={duration:b,curve:NI.drop,moveTo:i.newHomeClientOffset,opacity:j?Xw.opacity.drop:null,scale:j?Xw.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:x,dropping:_,draggingOver:y,combineWith:j,mode:g,forceShouldAnimate:null,snapshot:t(g,f,y,j,_)}}}return null};return s}function RX(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var b2e={mapped:{type:"SECONDARY",offset:zi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:RX(null)}};function j2e(){var e=$i(function(o,l){return{x:o,y:l}}),t=$i(RX),r=$i(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),s=function(l){return l?r(zi,l,!0):null},a=function(l,c,u,d){var h=u.displaced.visible[l],m=!!(d.inVirtualList&&d.effected[l]),f=rS(u),x=f&&f.draggableId===l?c:null;if(!h){if(!m)return s(x);if(u.displaced.invisible[l])return null;var v=zy(d.displacedBy.point),g=e(v.x,v.y);return r(g,x,!0)}if(m)return s(x);var y=u.displacedBy.point,j=e(y.x,y.y);return r(j,x,h.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:a(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var N2e=function(){var t=w2e(),r=j2e(),s=function(i,o){return t(i,o)||r(i,o)||b2e};return s},_2e={dropAnimationFinished:hX},S2e=DJ(N2e,_2e,null,{context:AI,pure:!0,areStatePropsEqual:OX})(v2e);function DX(e){var t=lN(OI),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:at.createElement(S2e,e)}function MX(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return at.createElement(DX,Dr({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:s}))}function k2e(e){var t=N.useContext(iS);t||It();var r=t.contextId,s=t.isMovementAllowed,a=N.useRef(null),i=N.useRef(null),o=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,h=e.ignoreContainerClipping,m=e.isDropDisabled,f=e.isCombineEnabled,x=e.snapshot,v=e.useClone,g=e.updateViewportMaxScroll,y=e.getContainerForClone,j=Er(function(){return a.current},[]),b=Er(function(M){a.current=M},[]);Er(function(){return i.current},[]);var _=Er(function(M){i.current=M},[]),S=Er(function(){s()&&g({maxScroll:vX()})},[s,g]);r2e({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:h,getDroppableRef:j});var T=at.createElement(o2e,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(M){var C=M.onClose,I=M.data,O=M.animate;return at.createElement(i2e,{placeholder:I,onClose:C,innerRef:_,animate:O,contextId:r,onTransitionEnd:S})}),A=Ln(function(){return{innerRef:b,placeholder:T,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,T,b]),L=v?v.dragging.draggableId:null,E=Ln(function(){return{droppableId:l,type:c,isUsingCloneFor:L}},[l,L,c]);function q(){if(!v)return null;var M=v.dragging,C=v.render,I=at.createElement(DX,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(O,H){return C(O,H,M)});return Y3.createPortal(I,y())}return at.createElement(OI.Provider,{value:E},o(A,x),q())}var cC=function(t,r){return t===r.droppable.type},CF=function(t,r){return r.draggables[t.draggable.id]},C2e=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=Dr({},t,{shouldAnimatePlaceholder:!1}),s=$i(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=$i(function(o,l,c,u,d,h){var m=d.descriptor.id,f=d.descriptor.droppableId===o;if(f){var x=h?{render:h,dragging:s(d.descriptor)}:null,v={isDraggingOver:c,draggingOverWith:c?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:x}}if(!l)return r;if(!u)return t;var g={isDraggingOver:c,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}}),i=function(l,c){var u=c.droppableId,d=c.type,h=!c.isDropDisabled,m=c.renderClone;if(l.isDragging){var f=l.critical;if(!cC(d,f))return r;var x=CF(f,l.dimensions),v=uc(l.impact)===u;return a(u,h,v,v,x,m)}if(l.phase==="DROP_ANIMATING"){var g=l.completed;if(!cC(d,g.critical))return r;var y=CF(g.critical,l.dimensions);return a(u,h,IX(g.result)===u,uc(g.impact)===u,y,m)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var j=l.completed;if(!cC(d,j.critical))return r;var b=uc(j.impact)===u,_=!!(j.impact.at&&j.impact.at.type==="COMBINE"),S=j.critical.droppable.id===u;return b?_?t:r:S?t:r}return r};return i},E2e={updateViewportMaxScroll:Fbe};function A2e(){return document.body||It(),document.body}var P2e={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:A2e},II=DJ(C2e,E2e,null,{context:AI,pure:!0,areStatePropsEqual:OX})(k2e);II.defaultProps=P2e;const T2e={Technical:Nb,"Soft Skills":qi,Languages:mce,"Industry-Specific":_ce},O2e={Beginner:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",Intermediate:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",Advanced:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",Expert:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},I2e=()=>{const{refreshProfile:e,profile:t}=un(),{updateProfileField:r}=Bb(),[s,a]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState(!1),[u,d]=N.useState(null),[h,m]=N.useState(!1),[f,x]=N.useState(""),[v,g]=N.useState("all"),[y,j]=N.useState({name:"",proficiency:"Intermediate",category:"Technical"});N.useEffect(()=>{b()},[]);const b=async()=>{o(!0);const O=(t==null?void 0:t.skills)||[];a(O),o(!1)},_=async O=>{if(O.preventDefault(),!y.name.trim()){xe.error("Please enter a skill name");return}if(s.find(re=>re.name.toLowerCase()===y.name.toLowerCase()&&re.id!==u)){xe.error("This skill already exists in your profile");return}m(!0);try{if(u){const re=s.map(U=>U.id===u?{...y,id:u}:U);a(re),await r("skills",re),xe.success("Skill updated successfully"),d(null)}else{const re={...y,id:crypto.randomUUID()},U=[...s,re];a(U),await r("skills",U),xe.success("Skill added successfully")}await e(),q()}catch{xe.error("An unexpected error occurred"),await b()}finally{m(!1)}},S=O=>{j({name:O.name,proficiency:O.proficiency,category:O.category}),d(O.id),c(!0)},T=async O=>{const H=s.filter(re=>re.id!==O);a(H),await r("skills",H),xe.success("Skill removed from your profile"),await e()},A=async(O,H)=>{const re=s.map(U=>U.id===O?{...U,category:H}:U);a(re),await r("skills",re),await e(),xe.success(`Skill moved to ${H}`)},L=async O=>{if(!O.destination)return;const H=O.source.droppableId,re=O.destination.droppableId;if(H!==re){const U=O.draggableId;await A(U,re)}},E=()=>{const O=`Category,Skill Name,Proficiency Level
`+s.map(K=>`${K.category},"${K.name}",${K.proficiency}`).join(`
`),H=new Blob([O],{type:"text/csv"}),re=window.URL.createObjectURL(H),U=document.createElement("a");U.href=re,U.download="my-skills.csv",U.click(),window.URL.revokeObjectURL(re),xe.success("Your skills have been exported to CSV")},q=()=>{j({name:"",proficiency:"Intermediate",category:"Technical"}),c(!1),d(null)},C=s.filter(O=>{const H=O.name.toLowerCase().includes(f.toLowerCase()),re=v==="all"||O.category===v;return H&&re}).reduce((O,H)=>(O[H.category]||(O[H.category]=[]),O[H.category].push(H),O),{}),I=Object.keys(C).sort();return i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search skills...",value:f,onChange:O=>x(O.target.value),className:"pl-10"})]}),n.jsxs("select",{value:v,onChange:O=>g(O.target.value),className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"Technical",children:"Technical"}),n.jsx("option",{value:"Soft Skills",children:"Soft Skills"}),n.jsx("option",{value:"Languages",children:"Languages"}),n.jsx("option",{value:"Industry-Specific",children:"Industry-Specific"})]}),n.jsxs(ve,{variant:"outline",onClick:E,disabled:s.length===0,children:[n.jsx(pc,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]}),l?n.jsx(ye,{className:"border-primary",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("form",{onSubmit:_,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Ee,{htmlFor:"skillName",children:"Skill Name *"}),n.jsx(Je,{id:"skillName",placeholder:"e.g., React, JavaScript, Project Management",value:y.name,onChange:O=>j({...y,name:O.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"proficiency",children:"Proficiency Level"}),n.jsxs("select",{id:"proficiency",value:y.proficiency,onChange:O=>j({...y,proficiency:O.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[n.jsx("option",{value:"Beginner",children:"Beginner"}),n.jsx("option",{value:"Intermediate",children:"Intermediate"}),n.jsx("option",{value:"Advanced",children:"Advanced"}),n.jsx("option",{value:"Expert",children:"Expert"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-3",children:[n.jsx(Ee,{htmlFor:"category",children:"Category"}),n.jsxs("select",{id:"category",value:y.category,onChange:O=>j({...y,category:O.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[n.jsx("option",{value:"Technical",children:"Technical"}),n.jsx("option",{value:"Soft Skills",children:"Soft Skills"}),n.jsx("option",{value:"Languages",children:"Languages"}),n.jsx("option",{value:"Industry-Specific",children:"Industry-Specific"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:q,disabled:h,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:h,children:h?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):u?"Update Skill":"Add Skill"})]})]})})}):n.jsxs(ve,{onClick:()=>c(!0),className:"w-full",children:[n.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Add Skill"]}),n.jsx(PX,{onDragEnd:L,children:I.length>0?n.jsx("div",{className:"space-y-6",children:I.map(O=>{const H=T2e[O],re=C[O];return n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(H,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"font-semibold text-lg",children:O}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",re.length,")"]})]}),n.jsx(II,{droppableId:O,children:(U,K)=>n.jsxs("div",{ref:U.innerRef,...U.droppableProps,className:`flex flex-wrap gap-2 min-h-[60px] p-2 rounded-lg transition-colors ${K.isDraggingOver?"bg-accent/50 border-2 border-dashed border-primary":""}`,children:[re.map((ee,X)=>n.jsx(MX,{draggableId:ee.id,index:X,children:(B,D)=>n.jsx("div",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,className:D.isDragging?"opacity-50":"",children:n.jsxs($e,{variant:"secondary",className:"px-3 py-1.5 text-sm cursor-pointer hover-scale group relative flex items-center gap-2",onClick:()=>S(ee),children:[n.jsx(dce,{className:"h-3 w-3 opacity-50"}),n.jsx("span",{className:"mr-2",children:ee.name}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${O2e[ee.proficiency]}`,children:ee.proficiency}),n.jsx(ve,{size:"icon",variant:"ghost",className:"ml-2 h-4 w-4 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:Q=>{Q.stopPropagation(),T(ee.id)},children:n.jsx(Rl,{className:"h-3 w-3"})})]})})},ee.id)),U.placeholder]})})]})},O)})}):!l&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Nb,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:f||v!=="all"?"No skills match your filters":"No skills added yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:f||v!=="all"?"Try adjusting your search or filter":"Add your skills to showcase your capabilities to employers"})]})})}),n.jsxs("div",{className:"text-sm text-muted-foreground p-4 bg-accent/50 rounded-lg",children:[n.jsx("p",{className:"font-medium mb-1",children:" Tip: Organize your skills"}),n.jsx("p",{children:"Drag and drop skills between categories to reorganize them. Click on a skill to edit it."})]})]})},R2e=["High School","Associate","Bachelor","Master","Doctorate","Certificate","Bootcamp","Other"],D2e=()=>{const{refreshProfile:e,profile:t}=un(),{updateProfileField:r}=Bb(),[s,a]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState(!1),[u,d]=N.useState(null),[h,m]=N.useState(null),[f,x]=N.useState(!1),[v,g]=N.useState({institution:"",degree:"",fieldOfStudy:"",graduationDate:"",currentlyEnrolled:!1,gpa:"",showGpa:!1,educationLevel:"",achievements:""}),[y,j]=N.useState({});N.useEffect(()=>{b()},[]);const b=async()=>{o(!0);const M=(t==null?void 0:t.education)||[];a(M),o(!1)},_=()=>{const M={};return v.institution.trim()||(M.institution="Institution name is required"),v.degree.trim()||(M.degree="Degree is required"),v.fieldOfStudy.trim()||(M.fieldOfStudy="Field of study is required"),!v.currentlyEnrolled&&!v.graduationDate&&(M.graduationDate="Graduation date is required for completed education"),j(M),Object.keys(M).length===0},S=async M=>{if(M.preventDefault(),!!_()){x(!0);try{if(u){const C=s.map(I=>I.id===u?{...v,id:u}:I);await r("education",C),a(C),await e(),xe.success("Education entry updated successfully"),d(null)}else{const C={...v,id:crypto.randomUUID()},I=[...s,C];await r("education",I),a(I),await e(),xe.success("Education entry added successfully")}L()}catch{xe.error("An unexpected error occurred")}finally{x(!1)}}},T=M=>{g({institution:M.institution,degree:M.degree,fieldOfStudy:M.fieldOfStudy,graduationDate:M.graduationDate,gpa:M.gpa,showGpa:M.showGpa,currentlyEnrolled:M.currentlyEnrolled,educationLevel:M.educationLevel,achievements:M.achievements}),d(M.id),c(!0)},A=async()=>{if(!h)return;const M=s.filter(C=>C.id!==h);await r("education",M),a(M),await e(),xe.success("Education entry removed from your profile"),m(null)},L=()=>{g({institution:"",degree:"",fieldOfStudy:"",graduationDate:"",gpa:"",showGpa:!0,currentlyEnrolled:!1,educationLevel:"Bachelor",achievements:""}),j({}),c(!1),d(null)},E=M=>{if(!M)return"";if(M.match(/^\d{4}-\d{2}$/)){const[I,O]=M.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(O)-1]} ${I}`}return new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short"})},q=[...s].sort((M,C)=>M.currentlyEnrolled&&!C.currentlyEnrolled?-1:!M.currentlyEnrolled&&C.currentlyEnrolled?1:new Date(C.graduationDate).getTime()-new Date(M.graduationDate).getTime());return i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"space-y-6",children:[l?n.jsx(ye,{className:"border-primary",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Ee,{htmlFor:"institution",children:"Institution Name *"}),n.jsx(Je,{id:"institution",placeholder:"e.g., Stanford University",value:v.institution,onChange:M=>g({...v,institution:M.target.value}),className:y.institution?"border-destructive":""}),y.institution&&n.jsx("p",{className:"text-sm text-destructive",children:y.institution})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"educationLevel",children:"Education Level *"}),n.jsx("select",{id:"educationLevel",value:v.educationLevel,onChange:M=>g({...v,educationLevel:M.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:R2e.map(M=>n.jsx("option",{value:M,children:M},M))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"degree",children:"Degree *"}),n.jsx(Je,{id:"degree",placeholder:"e.g., Bachelor of Science",value:v.degree,onChange:M=>g({...v,degree:M.target.value}),className:y.degree?"border-destructive":""}),y.degree&&n.jsx("p",{className:"text-sm text-destructive",children:y.degree})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"fieldOfStudy",children:"Field of Study *"}),n.jsx(Je,{id:"fieldOfStudy",placeholder:"e.g., Computer Science",value:v.fieldOfStudy,onChange:M=>g({...v,fieldOfStudy:M.target.value}),className:y.fieldOfStudy?"border-destructive":""}),y.fieldOfStudy&&n.jsx("p",{className:"text-sm text-destructive",children:y.fieldOfStudy})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"graduationDate",children:"Graduation Date"}),n.jsx(Je,{id:"graduationDate",type:"month",value:v.graduationDate,onChange:M=>g({...v,graduationDate:M.target.value}),disabled:v.currentlyEnrolled,className:y.graduationDate?"border-destructive":""}),y.graduationDate&&n.jsx("p",{className:"text-sm text-destructive",children:y.graduationDate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"gpa",children:"GPA (Optional)"}),n.jsx(Je,{id:"gpa",placeholder:"e.g., 3.8",value:v.gpa,onChange:M=>g({...v,gpa:M.target.value})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"currentlyEnrolled",checked:v.currentlyEnrolled,onCheckedChange:M=>g({...v,currentlyEnrolled:M,graduationDate:M?"":v.graduationDate})}),n.jsx(Ee,{htmlFor:"currentlyEnrolled",className:"cursor-pointer",children:"Currently enrolled"})]}),v.gpa&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"showGpa",checked:v.showGpa,onCheckedChange:M=>g({...v,showGpa:M})}),n.jsx(Ee,{htmlFor:"showGpa",className:"cursor-pointer",children:"Show GPA on profile"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"achievements",children:"Achievements / Honors (Optional)"}),n.jsx(dr,{id:"achievements",placeholder:"Honors, awards, relevant coursework, or achievements...",value:v.achievements,onChange:M=>g({...v,achievements:M.target.value}),rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:L,disabled:f,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:f,children:f?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):u?"Update Entry":"Add Entry"})]})]})})}):n.jsxs(ve,{onClick:()=>c(!0),className:"w-full",children:[n.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Add Education"]}),q.length>0?n.jsx("div",{className:"space-y-4",children:q.map(M=>n.jsx(ye,{className:"hover-scale",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-2 bg-primary/10 rounded-lg",children:n.jsx(Hx,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold",children:M.degree}),n.jsx("p",{className:"text-muted-foreground font-medium",children:M.institution}),n.jsx("p",{className:"text-sm text-muted-foreground",children:M.fieldOfStudy}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),M.currentlyEnrolled?"Expected ":"",E(M.graduationDate)||"In Progress",M.currentlyEnrolled&&n.jsx("span",{className:"ml-2 px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full",children:"Current"})]}),M.gpa&&M.showGpa&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Eo,{className:"h-3 w-3"}),"GPA: ",M.gpa]})]})]})]}),M.achievements&&n.jsxs("div",{className:"pl-12",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Achievements & Honors"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:M.achievements})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>T(M),children:n.jsx(xf,{className:"h-4 w-4"})}),n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>m(M.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]})})},M.id))}):!l&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Hx,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No education history added yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Add your educational background to showcase your qualifications"})]})}),n.jsx(Fb,{open:!!h,onOpenChange:()=>m(null),children:n.jsxs(My,{children:[n.jsxs(Ly,{children:[n.jsx(By,{children:"Are you sure?"}),n.jsx(Uy,{children:"This will permanently delete this education entry. This action cannot be undone."})]}),n.jsxs(Fy,{children:[n.jsx(qy,{children:"Cancel"}),n.jsx($y,{onClick:A,children:"Delete"})]})]})})]})};function LX(e){const t=wa();N.useEffect(()=>{if(!e)return;const r=se.channel("profile-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`user_id=eq.${e}`},s=>{console.log("Profile change detected:",s),t.invalidateQueries({queryKey:["profile",e]}),t.invalidateQueries({queryKey:["profileSkills",e]}),t.invalidateQueries({queryKey:["profileCertifications",e]}),t.invalidateQueries({queryKey:["profileProjects",e]})}).subscribe();return()=>{se.removeChannel(r)}},[e,t])}const M2e=()=>{const{refreshProfile:e,profile:t,user:r}=un(),{updateProfileField:s}=Bb(),a=wa(),[i,o]=N.useState([]),[l,c]=N.useState(!0),[u,d]=N.useState(!1),[h,m]=N.useState(null),[f,x]=N.useState(null),[v,g]=N.useState(!1);LX(r==null?void 0:r.id);const[y,j]=N.useState({name:"",issuingOrganization:"",dateEarned:"",expirationDate:"",doesNotExpire:!1,certificationNumber:"",documentUrl:""}),[b,_]=N.useState({});N.useEffect(()=>{S()},[]);const S=async()=>{c(!0);const H=(t==null?void 0:t.certifications)||[];o(H),c(!1)},T=()=>{const H={};return y.name.trim()||(H.name="Certification name is required"),y.issuingOrganization.trim()||(H.issuingOrganization="Issuing organization is required"),y.dateEarned||(H.dateEarned="Date earned is required"),!y.doesNotExpire&&!y.expirationDate&&(H.expirationDate="Expiration date is required for certifications that expire"),y.dateEarned&&y.expirationDate&&!y.doesNotExpire&&new Date(y.expirationDate)<new Date(y.dateEarned)&&(H.expirationDate="Expiration date must be after date earned"),_(H),Object.keys(H).length===0},A=async H=>{if(H.preventDefault(),!!T()){g(!0);try{if(h){const re=i.map(U=>U.id===h?{...y,id:h}:U);o(re),await s("certifications",re),await a.invalidateQueries({queryKey:["profile",r==null?void 0:r.id]}),await a.invalidateQueries({queryKey:["profileCertifications",r==null?void 0:r.id]}),xe.success("Certification updated successfully"),m(null)}else{const re={...y,id:crypto.randomUUID()},U=[...i,re];o(U),await s("certifications",U),await a.invalidateQueries({queryKey:["profile",r==null?void 0:r.id]}),await a.invalidateQueries({queryKey:["profileCertifications",r==null?void 0:r.id]}),xe.success("Certification added successfully")}await e(),q()}catch{xe.error("An unexpected error occurred"),await S()}finally{g(!1)}}},L=H=>{j({name:H.name,issuingOrganization:H.issuingOrganization,dateEarned:H.dateEarned,expirationDate:H.expirationDate,doesNotExpire:H.doesNotExpire,certificationNumber:H.certificationNumber,documentUrl:H.documentUrl}),m(H.id),d(!0)},E=async()=>{if(!f)return;const H=i.filter(re=>re.id!==f);o(H),await s("certifications",H),await a.invalidateQueries({queryKey:["profile",r==null?void 0:r.id]}),await a.invalidateQueries({queryKey:["profileCertifications",r==null?void 0:r.id]}),xe.success("Certification removed from your profile"),await e(),x(null)},q=()=>{j({name:"",issuingOrganization:"",dateEarned:"",expirationDate:"",doesNotExpire:!1,certificationNumber:"",documentUrl:""}),_({}),d(!1),m(null)},M=H=>H?new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"",C=H=>{if(!H)return!1;const re=new Date,U=new Date(H),K=Math.floor((U.getTime()-re.getTime())/(1e3*60*60*24));return K<=90&&K>0},I=H=>H?new Date(H)<new Date:!1,O=[...i].sort((H,re)=>new Date(re.dateEarned).getTime()-new Date(H.dateEarned).getTime());return l?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"space-y-6",children:[u?n.jsx(ye,{className:"border-primary",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("form",{onSubmit:A,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Ee,{htmlFor:"name",children:"Certification Name *"}),n.jsx(Je,{id:"name",placeholder:"e.g., AWS Certified Solutions Architect",value:y.name,onChange:H=>j({...y,name:H.target.value}),className:b.name?"border-destructive":""}),b.name&&n.jsx("p",{className:"text-sm text-destructive",children:b.name})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Ee,{htmlFor:"issuingOrganization",children:"Issuing Organization *"}),n.jsx(Je,{id:"issuingOrganization",placeholder:"e.g., Amazon Web Services",value:y.issuingOrganization,onChange:H=>j({...y,issuingOrganization:H.target.value}),className:b.issuingOrganization?"border-destructive":""}),b.issuingOrganization&&n.jsx("p",{className:"text-sm text-destructive",children:b.issuingOrganization})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"dateEarned",children:"Date Earned *"}),n.jsx(Je,{id:"dateEarned",type:"month",value:y.dateEarned,onChange:H=>j({...y,dateEarned:H.target.value}),className:b.dateEarned?"border-destructive":""}),b.dateEarned&&n.jsx("p",{className:"text-sm text-destructive",children:b.dateEarned})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"expirationDate",children:"Expiration Date"}),n.jsx(Je,{id:"expirationDate",type:"month",value:y.expirationDate,onChange:H=>j({...y,expirationDate:H.target.value}),disabled:y.doesNotExpire,className:b.expirationDate?"border-destructive":""}),b.expirationDate&&n.jsx("p",{className:"text-sm text-destructive",children:b.expirationDate})]}),n.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[n.jsx(ga,{id:"doesNotExpire",checked:y.doesNotExpire,onCheckedChange:H=>j({...y,doesNotExpire:H,expirationDate:H?"":y.expirationDate})}),n.jsx(Ee,{htmlFor:"doesNotExpire",className:"cursor-pointer",children:"This certification does not expire"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"certificationNumber",children:"Certification Number/ID (Optional)"}),n.jsx(Je,{id:"certificationNumber",placeholder:"e.g., AWS-SAA-12345",value:y.certificationNumber,onChange:H=>j({...y,certificationNumber:H.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"documentUrl",children:"Certificate URL (Optional)"}),n.jsx(Je,{id:"documentUrl",type:"url",placeholder:"https://...",value:y.documentUrl,onChange:H=>j({...y,documentUrl:H.target.value})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Link to your digital certificate or credential"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:q,disabled:v,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:v,children:v?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):h?"Update Certification":"Add Certification"})]})]})})}):n.jsxs(ve,{onClick:()=>d(!0),className:"w-full",children:[n.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Add Certification"]}),O.length>0?n.jsx("div",{className:"space-y-4",children:O.map(H=>{const re=!H.doesNotExpire&&C(H.expirationDate),U=!H.doesNotExpire&&I(H.expirationDate);return n.jsx(ye,{className:"hover-scale",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsx("div",{className:"flex-1 space-y-3",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-2 bg-primary/10 rounded-lg",children:n.jsx(Eo,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:H.name}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1 mt-1",children:[n.jsx(to,{className:"h-3 w-3"}),H.issuingOrganization]})]}),U&&n.jsx($e,{variant:"destructive",className:"text-xs",children:"Expired"}),re&&!U&&n.jsx($e,{variant:"outline",className:"text-xs border-orange-500 text-orange-700 dark:text-orange-400",children:"Expiring Soon"}),H.doesNotExpire&&n.jsx($e,{variant:"secondary",className:"text-xs",children:"No Expiration"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),"Earned ",M(H.dateEarned)]}),!H.doesNotExpire&&H.expirationDate&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),"Expires ",M(H.expirationDate)]}),H.certificationNumber&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(bs,{className:"h-3 w-3"}),"ID: ",H.certificationNumber]})]}),H.documentUrl&&n.jsxs("a",{href:H.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-primary hover:underline mt-2",children:[n.jsx(El,{className:"h-3 w-3"}),"View Certificate"]})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>L(H),children:n.jsx(xf,{className:"h-4 w-4"})}),n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>x(H.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]})})},H.id)})}):!u&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Eo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No certifications added yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Add your professional certifications to showcase your expertise"})]})}),n.jsx(Fb,{open:!!f,onOpenChange:()=>x(null),children:n.jsxs(My,{children:[n.jsxs(Ly,{children:[n.jsx(By,{children:"Are you sure?"}),n.jsx(Uy,{children:"This will permanently delete this certification. This action cannot be undone."})]}),n.jsxs(Fy,{children:[n.jsx(qy,{children:"Cancel"}),n.jsx($y,{onClick:E,children:"Delete"})]})]})})]})},L2e=()=>{const{refreshProfile:e,profile:t,user:r}=un(),{updateProfileField:s}=Bb(),a=wa(),[i,o]=N.useState([]),[l,c]=N.useState(!0),[u,d]=N.useState(!1),[h,m]=N.useState(null),[f,x]=N.useState(null),[v,g]=N.useState(!1),[y,j]=N.useState("list"),[b,_]=N.useState(""),[S,T]=N.useState(""),[A,L]=N.useState("date");LX(r==null?void 0:r.id);const[E,q]=N.useState({name:"",description:"",role:"",technologies:"",startDate:"",endDate:"",ongoing:!1,projectUrl:"",repositoryUrl:""}),[M,C]=N.useState({});N.useEffect(()=>{I()},[]);const I=async()=>{c(!0);const te=(t==null?void 0:t.projects)||[];o(te),c(!1)},O=()=>{const te={};return E.name.trim()||(te.name="Project name is required"),E.description.trim()||(te.description="Description is required"),E.description.length>500&&(te.description="Description must be less than 500 characters"),E.role.trim()||(te.role="Your role is required"),E.technologies.trim()||(te.technologies="Technologies are required"),E.startDate||(te.startDate="Start date is required"),!E.ongoing&&!E.endDate&&(te.endDate="End date is required for completed projects"),E.startDate&&E.endDate&&!E.ongoing&&new Date(E.endDate)<new Date(E.startDate)&&(te.endDate="End date must be after start date"),E.projectUrl&&!H(E.projectUrl)&&(te.projectUrl="Please enter a valid URL"),E.repositoryUrl&&!H(E.repositoryUrl)&&(te.repositoryUrl="Please enter a valid URL"),C(te),Object.keys(te).length===0},H=te=>{try{return new URL(te),!0}catch{return!1}},re=async te=>{if(te.preventDefault(),!!O()){g(!0);try{if(h){const he=i.map(W=>W.id===h?{...E,id:h}:W);o(he),await s("projects",he),await a.invalidateQueries({queryKey:["profile",r==null?void 0:r.id]}),await a.invalidateQueries({queryKey:["profileProjects",r==null?void 0:r.id]}),await e(),xe.success("Project updated successfully"),m(null)}else{const he={...E,id:crypto.randomUUID()},W=[...i,he];o(W),await s("projects",W),await a.invalidateQueries({queryKey:["profile",r==null?void 0:r.id]}),await a.invalidateQueries({queryKey:["profileProjects",r==null?void 0:r.id]}),await e(),xe.success("Project added successfully")}ee()}catch{xe.error("An unexpected error occurred"),await I()}finally{g(!1)}}},U=te=>{q({name:te.name,description:te.description,role:te.role,technologies:te.technologies,startDate:te.startDate,endDate:te.endDate,ongoing:te.ongoing,projectUrl:te.projectUrl,repositoryUrl:te.repositoryUrl}),m(te.id),d(!0)},K=async()=>{if(!f)return;const te=i.filter(he=>he.id!==f);o(te),await s("projects",te),await a.invalidateQueries({queryKey:["profile",r==null?void 0:r.id]}),await a.invalidateQueries({queryKey:["profileProjects",r==null?void 0:r.id]}),await e(),xe.success("Project removed from your profile"),x(null)},ee=()=>{q({name:"",description:"",role:"",technologies:"",startDate:"",endDate:"",ongoing:!1,projectUrl:"",repositoryUrl:""}),C({}),d(!1),m(null)},X=te=>te?new Date(te).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"",B=te=>{const he={title:te.name,text:`Check out my project: ${te.name}
${te.description}`,url:te.projectUrl||window.location.href};navigator.share?navigator.share(he).catch(()=>{D(te)}):D(te)},D=te=>{const he=`${te.name}
${te.description}
${te.projectUrl||window.location.href}`;navigator.clipboard.writeText(he),xe.success("Project details copied to clipboard")},Q=te=>{const he=window.open("","_blank");he&&(he.document.write(`
      <html>
        <head>
          <title>${te.name}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
            h1 { color: #333; }
            .meta { color: #666; margin: 20px 0; }
            .section { margin: 20px 0; }
            .label { font-weight: bold; }
          </style>
        </head>
        <body>
          <h1>${te.name}</h1>
          <div class="meta">
            <p><span class="label">Role:</span> ${te.role}</p>
            <p><span class="label">Duration:</span> ${X(te.startDate)} - ${te.ongoing?"Present":X(te.endDate)}</p>
            <p><span class="label">Technologies:</span> ${te.technologies}</p>
          </div>
          <div class="section">
            <p class="label">Description:</p>
            <p>${te.description}</p>
          </div>
          ${te.projectUrl?`<div class="section"><p class="label">Project URL:</p><p>${te.projectUrl}</p></div>`:""}
          ${te.repositoryUrl?`<div class="section"><p class="label">Repository:</p><p>${te.repositoryUrl}</p></div>`:""}
        </body>
      </html>
    `),he.document.close(),he.print())},ie=i.filter(te=>{const he=te.name.toLowerCase().includes(b.toLowerCase())||te.description.toLowerCase().includes(b.toLowerCase())||te.role.toLowerCase().includes(b.toLowerCase()),W=!S||te.technologies.toLowerCase().includes(S.toLowerCase());return he&&W}).sort((te,he)=>A==="name"?te.name.localeCompare(he.name):A==="date"?te.ongoing&&!he.ongoing?-1:!te.ongoing&&he.ongoing?1:new Date(he.startDate).getTime()-new Date(te.startDate).getTime():te.ongoing&&!he.ongoing?-1:!te.ongoing&&he.ongoing?1:new Date(he.startDate).getTime()-new Date(te.startDate).getTime());return l?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search projects...",value:b,onChange:te=>_(te.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:y==="grid"?"default":"outline",size:"icon",onClick:()=>j("grid"),children:n.jsx(GV,{className:"h-4 w-4"})}),n.jsx(ve,{variant:y==="list"?"default":"outline",size:"icon",onClick:()=>j("list"),children:n.jsx(XV,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(_b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Filter by technology...",value:S,onChange:te=>T(te.target.value),className:"pl-10"})]}),n.jsxs("select",{value:A,onChange:te=>L(te.target.value),className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[n.jsx("option",{value:"relevance",children:"Sort by: Relevance"}),n.jsx("option",{value:"date",children:"Sort by: Date"}),n.jsx("option",{value:"name",children:"Sort by: Name"})]})]})]}),u?n.jsx(ye,{className:"border-primary",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("form",{onSubmit:re,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Ee,{htmlFor:"name",children:"Project Name *"}),n.jsx(Je,{id:"name",placeholder:"e.g., E-commerce Platform",value:E.name,onChange:te=>q({...E,name:te.target.value}),className:M.name?"border-destructive":""}),M.name&&n.jsx("p",{className:"text-sm text-destructive",children:M.name})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Ee,{htmlFor:"description",children:"Description *"}),n.jsx(dr,{id:"description",placeholder:"Brief description of the project, its goals, and outcomes...",value:E.description,onChange:te=>q({...E,description:te.target.value}),rows:4,className:M.description?"border-destructive":""}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.description.length,"/500 characters"]}),M.description&&n.jsx("p",{className:"text-sm text-destructive",children:M.description})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"role",children:"Your Role *"}),n.jsx(Je,{id:"role",placeholder:"e.g., Lead Developer, Project Manager",value:E.role,onChange:te=>q({...E,role:te.target.value}),className:M.role?"border-destructive":""}),M.role&&n.jsx("p",{className:"text-sm text-destructive",children:M.role})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"technologies",children:"Technologies Used *"}),n.jsx(Je,{id:"technologies",placeholder:"e.g., React, Node.js, PostgreSQL",value:E.technologies,onChange:te=>q({...E,technologies:te.target.value}),className:M.technologies?"border-destructive":""}),M.technologies&&n.jsx("p",{className:"text-sm text-destructive",children:M.technologies})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"startDate",children:"Start Date *"}),n.jsx(Je,{id:"startDate",type:"month",value:E.startDate,onChange:te=>q({...E,startDate:te.target.value}),className:M.startDate?"border-destructive":""}),M.startDate&&n.jsx("p",{className:"text-sm text-destructive",children:M.startDate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"endDate",children:"End Date"}),n.jsx(Je,{id:"endDate",type:"month",value:E.endDate,onChange:te=>q({...E,endDate:te.target.value}),disabled:E.ongoing,className:M.endDate?"border-destructive":""}),M.endDate&&n.jsx("p",{className:"text-sm text-destructive",children:M.endDate})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"ongoing",checked:E.ongoing,onCheckedChange:te=>q({...E,ongoing:te,endDate:te?"":E.endDate})}),n.jsx(Ee,{htmlFor:"ongoing",className:"cursor-pointer",children:"Ongoing project"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"projectUrl",children:"Project URL (Optional)"}),n.jsx(Je,{id:"projectUrl",type:"url",placeholder:"https://example.com",value:E.projectUrl,onChange:te=>q({...E,projectUrl:te.target.value}),className:M.projectUrl?"border-destructive":""}),M.projectUrl&&n.jsx("p",{className:"text-sm text-destructive",children:M.projectUrl})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"repositoryUrl",children:"Repository URL (Optional)"}),n.jsx(Je,{id:"repositoryUrl",type:"url",placeholder:"https://github.com/username/repo",value:E.repositoryUrl,onChange:te=>q({...E,repositoryUrl:te.target.value}),className:M.repositoryUrl?"border-destructive":""}),M.repositoryUrl&&n.jsx("p",{className:"text-sm text-destructive",children:M.repositoryUrl})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:ee,disabled:v,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:v,children:v?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):h?"Update Project":"Add Project"})]})]})})}):n.jsxs(ve,{onClick:()=>d(!0),className:"w-full",children:[n.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Add Special Project"]}),ie.length>0?n.jsx("div",{className:y==="grid"?"grid md:grid-cols-2 gap-4":"space-y-4",children:ie.map(te=>n.jsx(ye,{className:"hover-scale",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsx("div",{className:"flex-1 space-y-3",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-2 bg-primary/10 rounded-lg",children:n.jsx(nL,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold",children:te.name}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:te.role}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),X(te.startDate)," - ",te.ongoing?"Present":X(te.endDate),te.ongoing&&n.jsx("span",{className:"ml-2 px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full",children:"Ongoing"})]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(b_,{className:"h-3 w-3"}),te.technologies]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2 leading-relaxed",children:te.description}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[te.projectUrl&&n.jsxs("a",{href:te.projectUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline",children:[n.jsx(JV,{className:"h-3 w-3"}),"View Project"]}),te.repositoryUrl&&n.jsxs("a",{href:te.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline",children:[n.jsx(iO,{className:"h-3 w-3"}),"View Repository"]})]})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>B(te),title:"Share project",children:n.jsx(Sb,{className:"h-4 w-4"})}),n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>Q(te),title:"Print project",children:n.jsx(pc,{className:"h-4 w-4"})}),n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>U(te),children:n.jsx(xf,{className:"h-4 w-4"})}),n.jsx(ve,{size:"icon",variant:"ghost",onClick:()=>x(te.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]})})},te.id))}):!u&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(nL,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:b||S?"No projects match your filters":"No projects added yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:b||S?"Try adjusting your search or filters":"Add special projects to showcase your work beyond regular employment"})]})}),n.jsx(Fb,{open:!!f,onOpenChange:()=>x(null),children:n.jsxs(My,{children:[n.jsxs(Ly,{children:[n.jsx(By,{children:"Are you sure?"}),n.jsx(Uy,{children:"This action cannot be undone. This will permanently delete the project from your profile."})]}),n.jsxs(Fy,{children:[n.jsx(qy,{children:"Cancel"}),n.jsx($y,{onClick:K,children:"Delete"})]})]})})]})};var RI="Progress",DI=100,[F2e]=di(RI),[B2e,U2e]=F2e(RI),FX=N.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=$2e,...o}=e;(a||a===0)&&!EF(a)&&console.error(q2e(`${a}`,"Progress"));const l=EF(a)?a:DI;s!==null&&!AF(s,l)&&console.error(z2e(`${s}`,"Progress"));const c=AF(s,l)?s:null,u=cN(c)?i(c,l):void 0;return n.jsx(B2e,{scope:r,value:c,max:l,children:n.jsx(zt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":cN(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":$X(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});FX.displayName=RI;var BX="ProgressIndicator",UX=N.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=U2e(BX,r);return n.jsx(zt.div,{"data-state":$X(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});UX.displayName=BX;function $2e(e,t){return`${Math.round(e/t*100)}%`}function $X(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function cN(e){return typeof e=="number"}function EF(e){return cN(e)&&!isNaN(e)&&e>0}function AF(e,t){return cN(e)&&!isNaN(e)&&e<=t&&e>=0}function q2e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DI}\`.`}function z2e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qX=FX,W2e=UX;const La=N.forwardRef(({className:e,value:t,...r},s)=>n.jsx(qX,{ref:s,className:Pt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(W2e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));La.displayName=qX.displayName;var V2e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function MI(e){if(typeof e!="string")return!1;var t=V2e;return t.includes(e)}var H2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function zX(e){if(typeof e!="string")return!1;var t=H2e;return t.includes(e)}function WX(e){return typeof e=="string"&&e.startsWith("data-")}function Qo(e){var t=Object.entries(e).filter(r=>{var[s]=r;return zX(s)||WX(s)});return Object.fromEntries(t)}function $g(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qo(t)}return typeof e=="object"&&!Array.isArray(e)?Qo(e):null}function Zo(e){var t=Object.entries(e).filter(r=>{var[s]=r;return zX(s)||WX(s)||MI(s)});return Object.fromEntries(t)}function VX(e){return e==null?null:N.isValidElement(e)?Zo(e.props):typeof e=="object"&&!Array.isArray(e)?Zo(e):null}var G2e=["children","width","height","viewBox","className","style","title","desc"];function mT(){return mT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mT.apply(null,arguments)}function K2e(e,t){if(e==null)return{};var r,s,a=Y2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Y2e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var LI=N.forwardRef((e,t)=>{var{children:r,width:s,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=K2e(e,G2e),h=i||{width:s,height:a,x:0,y:0},m=kn("recharts-surface",o);return N.createElement("svg",mT({},Zo(d),{className:m,width:s,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),N.createElement("title",null,c),N.createElement("desc",null,u),r)}),J2e=["children","className"];function pT(){return pT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},pT.apply(null,arguments)}function X2e(e,t){if(e==null)return{};var r,s,a=Q2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q2e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Ua=N.forwardRef((e,t)=>{var{children:r,className:s}=e,a=X2e(e,J2e),i=kn("recharts-layer",s);return N.createElement("g",pT({className:i},Zo(a),{ref:t}),r)}),HX=N.createContext(null),Z2e=()=>N.useContext(HX);function Os(e){return function(){return e}}const GX=Math.cos,uN=Math.sin,cd=Math.sqrt,dN=Math.PI,lS=2*dN,gT=Math.PI,vT=2*gT,tg=1e-6,eNe=vT-tg;function KX(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function tNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KX;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class rNe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KX:tNe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,u=a-r,d=o-t,h=l-r,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>tg)if(!(Math.abs(h*c-u*d)>tg)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=s-o,x=a-l,v=c*c+u*u,g=f*f+x*x,y=Math.sqrt(v),j=Math.sqrt(m),b=i*Math.tan((gT-Math.acos((v+m-g)/(2*y*j)))/2),_=b/j,S=b/y;Math.abs(_-1)>tg&&this._append`L${t+_*d},${r+_*h}`,this._append`A${i},${i},0,0,${+(h*f>d*x)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),u=t+l,d=r+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>tg||Math.abs(this._y1-d)>tg)&&this._append`L${u},${d}`,s&&(m<0&&(m=m%vT+vT),m>eNe?this._append`A${s},${s},0,1,${h},${t-l},${r-c}A${s},${s},0,1,${h},${this._x1=u},${this._y1=d}`:m>tg&&this._append`A${s},${s},0,${+(m>=gT)},${h},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function FI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new rNe(t)}function BI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YX(e){this._context=e}YX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cS(e){return new YX(e)}function JX(e){return e[0]}function XX(e){return e[1]}function QX(e,t){var r=Os(!0),s=null,a=cS,i=null,o=FI(l);e=typeof e=="function"?e:e===void 0?JX:Os(e),t=typeof t=="function"?t:t===void 0?XX:Os(t);function l(c){var u,d=(c=BI(c)).length,h,m=!1,f;for(s==null&&(i=a(f=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,u,c),+t(h,u,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Os(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Os(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Os(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function Cj(e,t,r){var s=null,a=Os(!0),i=null,o=cS,l=null,c=FI(u);e=typeof e=="function"?e:e===void 0?JX:Os(+e),t=typeof t=="function"?t:Os(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?XX:Os(+r);function u(h){var m,f,x,v=(h=BI(h)).length,g,y=!1,j,b=new Array(v),_=new Array(v);for(i==null&&(l=o(j=c())),m=0;m<=v;++m){if(!(m<v&&a(g=h[m],m,h))===y)if(y=!y)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=f;--x)l.point(b[x],_[x]);l.lineEnd(),l.areaEnd()}y&&(b[m]=+e(g,m,h),_[m]=+t(g,m,h),l.point(s?+s(g,m,h):b[m],r?+r(g,m,h):_[m]))}if(j)return l=null,j+""||null}function d(){return QX().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Os(+h),s=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Os(+h),u):e},u.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:Os(+h),u):s},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Os(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Os(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Os(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Os(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class ZX{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function nNe(e){return new ZX(e,!0)}function sNe(e){return new ZX(e,!1)}const UI={draw(e,t){const r=cd(t/dN);e.moveTo(r,0),e.arc(0,0,r,0,lS)}},aNe={draw(e,t){const r=cd(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eQ=cd(1/3),iNe=eQ*2,oNe={draw(e,t){const r=cd(t/iNe),s=r*eQ;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},lNe={draw(e,t){const r=cd(t),s=-r/2;e.rect(s,s,r,r)}},cNe=.8908130915292852,tQ=uN(dN/10)/uN(7*dN/10),uNe=uN(lS/10)*tQ,dNe=-GX(lS/10)*tQ,hNe={draw(e,t){const r=cd(t*cNe),s=uNe*r,a=dNe*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=lS*i/5,l=GX(o),c=uN(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},uC=cd(3),fNe={draw(e,t){const r=-cd(t/(uC*3));e.moveTo(0,r*2),e.lineTo(-uC*r,-r),e.lineTo(uC*r,-r),e.closePath()}},Vc=-.5,Hc=cd(3)/2,xT=1/cd(12),mNe=(xT/2+1)*3,pNe={draw(e,t){const r=cd(t/mNe),s=r/2,a=r*xT,i=s,o=r*xT+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Vc*s-Hc*a,Hc*s+Vc*a),e.lineTo(Vc*i-Hc*o,Hc*i+Vc*o),e.lineTo(Vc*l-Hc*c,Hc*l+Vc*c),e.lineTo(Vc*s+Hc*a,Vc*a-Hc*s),e.lineTo(Vc*i+Hc*o,Vc*o-Hc*i),e.lineTo(Vc*l+Hc*c,Vc*c-Hc*l),e.closePath()}};function gNe(e,t){let r=null,s=FI(a);e=typeof e=="function"?e:Os(e||UI),t=typeof t=="function"?t:Os(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Os(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Os(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function hN(){}function fN(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rQ(e){this._context=e}rQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vNe(e){return new rQ(e)}function nQ(e){this._context=e}nQ.prototype={areaStart:hN,areaEnd:hN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xNe(e){return new nQ(e)}function sQ(e){this._context=e}sQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:fN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yNe(e){return new sQ(e)}function aQ(e){this._context=e}aQ.prototype={areaStart:hN,areaEnd:hN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wNe(e){return new aQ(e)}function PF(e){return e<0?-1:1}function TF(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(PF(i)+PF(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function OF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dC(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function mN(e){this._context=e}mN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dC(this,this._t0,OF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dC(this,OF(this,r=TF(this,e,t)),r);break;default:dC(this,this._t0,r=TF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iQ(e){this._context=new oQ(e)}(iQ.prototype=Object.create(mN.prototype)).point=function(e,t){mN.prototype.point.call(this,t,e)};function oQ(e){this._context=e}oQ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function bNe(e){return new mN(e)}function jNe(e){return new iQ(e)}function lQ(e){this._context=e}lQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=IF(e),a=IF(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IF(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function NNe(e){return new lQ(e)}function uS(e,t){this._context=e,this._t=t}uS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _Ne(e){return new uS(e,.5)}function SNe(e){return new uS(e,0)}function kNe(e){return new uS(e,1)}function sy(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function yT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function CNe(e,t){return e[t]}function ENe(e){const t=[];return t.key=e,t}function ANe(){var e=Os([]),t=yT,r=sy,s=CNe;function a(i){var o=Array.from(e.apply(this,arguments),ENe),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(h,o[l].key,u,i)]).data=h;for(l=0,d=BI(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Os(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Os(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?yT:typeof i=="function"?i:Os(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??sy,a):r},a}function PNe(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}sy(e,t)}}function TNe(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}sy(e,t)}}function ONe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[s][1]||0,m=d[s-1][1]||0,f=(h-m)/2,x=0;x<l;++x){var v=e[t[x]],g=v[s][1]||0,y=v[s-1][1]||0;f+=g-y}c+=h,u+=f*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=u/c)}a[s-1][1]+=a[s-1][0]=r,sy(e,t)}}var hC={},fC={},RF;function INe(){return RF||(RF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(fC)),fC}var mC={},DF;function cQ(){return DF||(DF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(mC)),mC}var pC={},MF;function $I(){return MF||(MF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;return typeof r=="string"||typeof r=="symbol"?r:Object.is((s=r==null?void 0:r.valueOf)==null?void 0:s.call(r),-0)?"-0":String(r)}e.toKey=t})(pC)),pC}var gC={},vC={},LF;function RNe(){return LF||(LF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const s=String(r);return s==="0"&&Object.is(Number(r),-0)?"-0":s}e.toString=t})(vC)),vC}var FF;function qI(){return FF||(FF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RNe(),r=$I();function s(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const h=a[l];u?h==="\\"&&l+1<o?(l++,c+=a[l]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,i.push(c),c=""):c+=h:h==="["?(d=!0,c&&(i.push(c),c="")):h==="."?c&&(i.push(c),c=""):c+=h,l++}return c&&i.push(c),i}e.toPath=s})(gC)),gC}var BF;function zI(){return BF||(BF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=INe(),r=cQ(),s=$I(),a=qI();function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=s.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=i})(hC)),hC}var xC,UF;function DNe(){return UF||(UF=1,xC=zI().get),xC}var MNe=DNe();const qg=mu(MNe);var Ui=e=>e===0?0:e>0?1:-1,yc=e=>typeof e=="number"&&e!=+e,cf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ur=e=>(typeof e=="number"||e instanceof Number)&&!yc(e),Kd=e=>ur(e)||typeof e=="string",LNe=0,Qw=e=>{var t=++LNe;return"".concat(e||"").concat(t)},To=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ur(t)&&typeof t!="string")return s;var i;if(cf(t)){if(r==null)return s;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return yc(i)&&(i=s),a&&r!=null&&i>r&&(i=r),i},uQ=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},s=0;s<t;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1};function ys(e,t,r){return ur(e)&&ur(t)?e+r*(t-e):t}function dQ(e,t,r){if(!(!e||!e.length))return e.find(s=>s&&(typeof t=="function"?t(s):qg(s,t))===r)}var Vs=e=>e===null||typeof e>"u",qb=e=>Vs(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),FNe=["type","size","sizeType"];function wT(){return wT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wT.apply(null,arguments)}function $F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function qF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(r),!0).forEach(function(s){BNe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function BNe(e,t,r){return(t=UNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UNe(e){var t=$Ne(e,"string");return typeof t=="symbol"?t:t+""}function $Ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qNe(e,t){if(e==null)return{};var r,s,a=zNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zNe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var hQ={symbolCircle:UI,symbolCross:aNe,symbolDiamond:oNe,symbolSquare:lNe,symbolStar:hNe,symbolTriangle:fNe,symbolWye:pNe},WNe=Math.PI/180,VNe=e=>{var t="symbol".concat(qb(e));return hQ[t]||UI},HNe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*WNe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GNe=(e,t)=>{hQ["symbol".concat(qb(e))]=t},WI=e=>{var{type:t="circle",size:r=64,sizeType:s="area"}=e,a=qNe(e,FNe),i=qF(qF({},a),{},{type:t,size:r,sizeType:s}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=VNe(o),f=gNe().type(m).size(HNe(r,s,o)),x=f();if(x!==null)return x},{className:c,cx:u,cy:d}=i,h=Zo(i);return u===+u&&d===+d&&r===+r?N.createElement("path",wT({},h,{className:kn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};WI.registerSymbol=GNe;var VI=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(a=>{MI(a)&&(s[a]=(i=>r[a](r,i)))}),s},KNe=(e,t,r)=>s=>(e(t,r,s),null),zb=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(a=>{var i=e[a];MI(a)&&typeof i=="function"&&(s||(s={}),s[a]=KNe(i,t,r))}),s};function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bT.apply(null,arguments)}function zF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function YNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zF(Object(r),!0).forEach(function(s){HI(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function HI(e,t,r){return(t=JNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JNe(e){var t=XNe(e,"string");return typeof t=="symbol"?t:t+""}function XNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gc=32;class GI extends N.PureComponent{renderIcon(t,r){var{inactiveColor:s}=this.props,a=Gc/2,i=Gc/6,o=Gc/3,l=t.inactive?s:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Gc,y2:a,className:"recharts-legend-icon"});if(c==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Gc,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return N.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Gc/8,"h").concat(Gc,"v").concat(Gc*3/4,"h").concat(-Gc,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var u=YNe({},t);return delete u.legendIcon,N.cloneElement(t.legendIcon,u)}return N.createElement(WI,{fill:l,cx:a,cy:a,size:Gc,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:s,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:Gc,height:Gc},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,h)=>{var m=d.formatter||a,f=kn({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?i:d.color,v=m?m(d.value,d,h):d.value;return N.createElement("li",bT({className:f,style:c,key:"legend-item-".concat(h)},zb(this.props,d,h)),N.createElement(LI,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},this.renderIcon(d,o)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v))})}render(){var{payload:t,layout:r,align:s}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}HI(GI,"displayName","Legend");HI(GI,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var yC={},wC={},WF;function QNe(){return WF||(WF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=s(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(wC)),wC}var bC={},VF;function fQ(){return VF||(VF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(bC)),bC}var jC={},NC={},_C={},HF;function ZNe(){return HF||(HF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(_C)),_C}var GF;function KI(){return GF||(GF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZNe();function r(s){return s!=null&&typeof s!="function"&&t.isLength(s.length)}e.isArrayLike=r})(NC)),NC}var SC={},KF;function e_e(){return KF||(KF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(SC)),SC}var YF;function t_e(){return YF||(YF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KI(),r=e_e();function s(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=s})(jC)),jC}var kC={},CC={},JF;function r_e(){return JF||(JF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zI();function r(s){return function(a){return t.get(a,s)}}e.property=r})(CC)),CC}var EC={},AC={},PC={},TC={},XF;function mQ(){return XF||(XF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(TC)),TC}var OC={},QF;function pQ(){return QF||(QF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(OC)),OC}var IC={},ZF;function gQ(){return ZF||(ZF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){return r===s||Number.isNaN(r)&&Number.isNaN(s)}e.eq=t})(IC)),IC}var e7;function n_e(){return e7||(e7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mQ(),r=pQ(),s=gQ();function a(d,h,m){return typeof m!="function"?a(d,h,()=>{}):i(d,h,function f(x,v,g,y,j,b){const _=m(x,v,g,y,j,b);return _!==void 0?!!_:i(x,v,f,b)},new Map)}function i(d,h,m,f){if(h===d)return!0;switch(typeof h){case"object":return o(d,h,m,f);case"function":return Object.keys(h).length>0?i(d,{...h},m,f):s.eq(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:s.eq(d,h)}}function o(d,h,m,f){if(h==null)return!0;if(Array.isArray(h))return c(d,h,m,f);if(h instanceof Map)return l(d,h,m,f);if(h instanceof Set)return u(d,h,m,f);const x=Object.keys(h);if(d==null)return x.length===0;if(x.length===0)return!0;if(f!=null&&f.has(h))return f.get(h)===d;f==null||f.set(h,d);try{for(let v=0;v<x.length;v++){const g=x[v];if(!r.isPrimitive(d)&&!(g in d)||h[g]===void 0&&d[g]!==void 0||h[g]===null&&d[g]!==null||!m(d[g],h[g],g,d,h,f))return!1}return!0}finally{f==null||f.delete(h)}}function l(d,h,m,f){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,v]of h.entries()){const g=d.get(x);if(m(g,v,x,d,h,f)===!1)return!1}return!0}function c(d,h,m,f){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let v=0;v<h.length;v++){const g=h[v];let y=!1;for(let j=0;j<d.length;j++){if(x.has(j))continue;const b=d[j];let _=!1;if(m(b,g,v,d,h,f)&&(_=!0),_){x.add(j),y=!0;break}}if(!y)return!1}return!0}function u(d,h,m,f){return h.size===0?!0:d instanceof Set?c([...d],[...h],m,f):!1}e.isMatchWith=a,e.isSetMatch=u})(PC)),PC}var t7;function vQ(){return t7||(t7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n_e();function r(s,a){return t.isMatchWith(s,a,()=>{})}e.isMatch=r})(AC)),AC}var RC={},DC={},MC={},r7;function s_e(){return r7||(r7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(s=>Object.prototype.propertyIsEnumerable.call(r,s))}e.getSymbols=t})(MC)),MC}var LC={},n7;function xQ(){return n7||(n7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(LC)),LC}var FC={},s7;function yQ(){return s7||(s7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",s="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",m="[object ArrayBuffer]",f="[object Object]",x="[object Error]",v="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",j="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",L="[object BigInt64Array]",E="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=E,e.float64ArrayTag=q,e.functionTag=h,e.int16ArrayTag=T,e.int32ArrayTag=A,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=s,e.objectTag=f,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=j,e.uint32ArrayTag=b,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(FC)),FC}var BC={},a7;function a_e(){return a7||(a7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(BC)),BC}var i7;function wQ(){return i7||(i7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s_e(),r=xQ(),s=yQ(),a=pQ(),i=a_e();function o(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,m,f=new Map,x=void 0){const v=x==null?void 0:x(d,h,m,f);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(f.has(d))return f.get(d);if(Array.isArray(d)){const g=new Array(d.length);f.set(d,g);for(let y=0;y<d.length;y++)g[y]=l(d[y],y,m,f,x);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;f.set(d,g);for(const[y,j]of d)g.set(y,l(j,y,m,f,x));return g}if(d instanceof Set){const g=new Set;f.set(d,g);for(const y of d)g.add(l(y,void 0,m,f,x));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);f.set(d,g);for(let y=0;y<d.length;y++)g[y]=l(d[y],y,m,f,x);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return f.set(d,g),c(g,d,m,f,x),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return f.set(d,g),c(g,d,m,f,x),g}if(typeof Blob<"u"&&d instanceof Blob){const g=new Blob([d],{type:d.type});return f.set(d,g),c(g,d,m,f,x),g}if(d instanceof Error){const g=new d.constructor;return f.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,c(g,d,m,f,x),g}if(d instanceof Boolean){const g=new Boolean(d.valueOf());return f.set(d,g),c(g,d,m,f,x),g}if(d instanceof Number){const g=new Number(d.valueOf());return f.set(d,g),c(g,d,m,f,x),g}if(d instanceof String){const g=new String(d.valueOf());return f.set(d,g),c(g,d,m,f,x),g}if(typeof d=="object"&&u(d)){const g=Object.create(Object.getPrototypeOf(d));return f.set(d,g),c(g,d,m,f,x),g}return d}function c(d,h,m=d,f,x){const v=[...Object.keys(h),...t.getSymbols(h)];for(let g=0;g<v.length;g++){const y=v[g],j=Object.getOwnPropertyDescriptor(d,y);(j==null||j.writable)&&(d[y]=l(h[y],y,m,f,x))}}function u(d){switch(r.getTag(d)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(DC)),DC}var o7;function i_e(){return o7||(o7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wQ();function r(s){return t.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=r})(RC)),RC}var l7;function o_e(){return l7||(l7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vQ(),r=i_e();function s(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=s})(EC)),EC}var UC={},$C={},qC={},c7;function l_e(){return c7||(c7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wQ(),r=yQ();function s(a,i){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=s})(qC)),qC}var u7;function c_e(){return u7||(u7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l_e();function r(s){return t.cloneDeepWith(s)}e.cloneDeep=r})($C)),$C}var zC={},WC={},d7;function bQ(){return d7||(d7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(s,a=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<a;case"symbol":return!1;case"string":return t.test(s)}}e.isIndex=r})(WC)),WC}var VC={},h7;function u_e(){return h7||(h7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xQ();function r(s){return s!==null&&typeof s=="object"&&t.getTag(s)==="[object Arguments]"}e.isArguments=r})(VC)),VC}var f7;function d_e(){return f7||(f7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cQ(),r=bQ(),s=u_e(),a=qI();function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||s.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=i})(zC)),zC}var m7;function h_e(){return m7||(m7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vQ(),r=$I(),s=c_e(),a=zI(),i=d_e();function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=s.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(UC)),UC}var p7;function f_e(){return p7||(p7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fQ(),r=r_e(),s=o_e(),a=h_e();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(kC)),kC}var g7;function m_e(){return g7||(g7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QNe(),r=fQ(),s=t_e(),a=f_e();function i(o,l=r.identity){return s.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(yC)),yC}var HC,v7;function p_e(){return v7||(v7=1,HC=m_e().uniqBy),HC}var g_e=p_e();const x7=mu(g_e);function jQ(e,t,r){return t===!0?x7(e,r):typeof t=="function"?x7(e,t):e}var GC={exports:{}},KC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y7;function v_e(){if(y7)return KC;y7=1;var e=jy(),t=zY();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var s=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return KC.useSyncExternalStoreWithSelector=function(u,d,h,m,f){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function y(T){if(!j){if(j=!0,b=T,T=m(T),f!==void 0&&v.hasValue){var A=v.value;if(f(A,T))return _=A}return _=T}if(A=_,s(b,T))return A;var L=m(T);return f!==void 0&&f(A,L)?(b=T,A):(b=T,_=L)}var j=!1,b,_,S=h===void 0?null:h;return[function(){return y(d())},S===null?void 0:function(){return y(S())}]},[d,h,m,f]);var g=a(u,x[0],x[1]);return o(function(){v.hasValue=!0,v.value=g},[g]),c(g),g},KC}var w7;function x_e(){return w7||(w7=1,GC.exports=v_e()),GC.exports}var y_e=x_e(),YI=N.createContext(null),w_e=e=>e,ra=()=>{var e=N.useContext(YI);return e?e.store.dispatch:w_e},j2=()=>{},b_e=()=>j2,j_e=(e,t)=>e===t;function fr(e){var t=N.useContext(YI);return y_e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:b_e,t?t.store.getState:j2,t?t.store.getState:j2,t?e:j2,j_e)}function N_e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function __e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function S_e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${r}]`)}}var b7=e=>Array.isArray(e)?e:[e];function k_e(e){const t=Array.isArray(e[0])?e[0]:e;return S_e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function C_e(e,t){const r=[],{length:s}=e;for(let a=0;a<s;a++)r.push(e[a].apply(null,t));return r}var E_e=class{constructor(e){this.value=e}deref(){return this.value}},A_e=typeof WeakRef<"u"?WeakRef:E_e,P_e=0,j7=1;function Ej(){return{s:P_e,v:void 0,o:null,p:null}}function NQ(e,t={}){let r=Ej();const{resultEqualityCheck:s}=t;let a,i=0;function o(){var h;let l=r;const{length:c}=arguments;for(let m=0,f=c;m<f;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const g=v.get(x);g===void 0?(l=Ej(),v.set(x,l)):l=g}else{let v=l.p;v===null&&(l.p=v=new Map);const g=v.get(x);g===void 0?(l=Ej(),v.set(x,l)):l=g}}const u=l;let d;if(l.s===j7)d=l.v;else if(d=e.apply(null,arguments),i++,s){const m=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;m!=null&&s(m,d)&&(d=m,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new A_e(d):d}return u.s=j7,u.v=d,d}return o.clearCache=()=>{r=Ej(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function T_e(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),N_e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:f=NQ,argsMemoizeOptions:x=[]}=d,v=b7(m),g=b7(x),y=k_e(a),j=h(function(){return i++,u.apply(null,arguments)},...v),b=f(function(){o++;const S=C_e(y,arguments);return l=j.apply(null,S),l},...g);return Object.assign(b,{resultFunc:u,memoizedResultFunc:j,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:f})};return Object.assign(s,{withTypes:()=>s}),s}var rt=T_e(NQ),O_e=Object.assign((e,t=rt)=>{__e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),s=r.map(i=>e[i]);return t(s,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>O_e}),YC={},JC={},XC={},N7;function I_e(){return N7||(N7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const r=(s,a,i)=>{if(s!==a){const o=t(s),l=t(a);if(o===l&&o===0){if(s<a)return i==="desc"?1:-1;if(s>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(XC)),XC}var QC={},ZC={},_7;function _Q(){return _7||(_7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ZC)),ZC}var S7;function R_e(){return S7||(S7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Q(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(QC)),QC}var k7;function D_e(){return k7||(k7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I_e(),r=R_e(),s=qI();function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(f=>String(f));const u=(f,x)=>{let v=f;for(let g=0;g<x.length&&v!=null;++g)v=v[x[g]];return v},d=(f,x)=>x==null||f==null?x:typeof f=="object"&&"key"in f?Object.hasOwn(x,f.key)?x[f.key]:u(x,f.path):typeof f=="function"?f(x):Array.isArray(f)?u(x,f):typeof x=="object"?x[f]:x,h=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:s.toPath(f)}));return i.map(f=>({original:f,criteria:h.map(x=>d(x,f))})).slice().sort((f,x)=>{for(let v=0;v<h.length;v++){const g=t.compareValues(f.criteria[v],x.criteria[v],l[v]);if(g!==0)return g}return 0}).map(f=>f.original)}e.orderBy=a})(JC)),JC}var eE={},C7;function M_e(){return C7||(C7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s=1){const a=[],i=Math.floor(s),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(eE)),eE}var tE={},E7;function SQ(){return E7||(E7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bQ(),r=KI(),s=mQ(),a=gQ();function i(o,l,c){return s.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(tE)),tE}var A7;function L_e(){return A7||(A7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D_e(),r=M_e(),s=SQ();function a(i,...o){const l=o.length;return l>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(YC)),YC}var rE,P7;function F_e(){return P7||(P7=1,rE=L_e().sortBy),rE}var B_e=F_e();const dS=mu(B_e);var kQ=e=>e.legend.settings,U_e=e=>e.legend.size,$_e=e=>e.legend.payload,q_e=rt([$_e,kQ],(e,t)=>{var{itemSorter:r}=t,s=e.flat(1);return r?dS(s,r):s});function z_e(){return fr(q_e)}var Aj=1;function CQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),s=N.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Aj||Math.abs(o.left-t.left)>Aj||Math.abs(o.top-t.top)>Aj||Math.abs(o.width-t.width)>Aj)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}function Xi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var W_e=typeof Symbol=="function"&&Symbol.observable||"@@observable",T7=W_e,nE=()=>Math.random().toString(36).substring(7).split("").join("."),V_e={INIT:`@@redux/INIT${nE()}`,REPLACE:`@@redux/REPLACE${nE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nE()}`},pN=V_e;function JI(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EQ(e,t,r){if(typeof e!="function")throw new Error(Xi(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xi(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xi(1));return r(EQ)(e,t)}let s=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((g,y)=>{o.set(y,g)}))}function d(){if(c)throw new Error(Xi(3));return a}function h(g){if(typeof g!="function")throw new Error(Xi(4));if(c)throw new Error(Xi(5));let y=!0;u();const j=l++;return o.set(j,g),function(){if(y){if(c)throw new Error(Xi(6));y=!1,u(),o.delete(j),i=null}}}function m(g){if(!JI(g))throw new Error(Xi(7));if(typeof g.type>"u")throw new Error(Xi(8));if(typeof g.type!="string")throw new Error(Xi(17));if(c)throw new Error(Xi(9));try{c=!0,a=s(a,g)}finally{c=!1}return(i=o).forEach(j=>{j()}),g}function f(g){if(typeof g!="function")throw new Error(Xi(10));s=g,m({type:pN.REPLACE})}function x(){const g=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Xi(11));function j(){const _=y;_.next&&_.next(d())}return j(),{unsubscribe:g(j)}},[T7](){return this}}}return m({type:pN.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:f,[T7]:x}}function H_e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:pN.INIT})>"u")throw new Error(Xi(12));if(typeof r(void 0,{type:pN.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xi(13))})}function AQ(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const s=Object.keys(r);let a;try{H_e(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<s.length;d++){const h=s[d],m=r[h],f=o[h],x=m(f,l);if(typeof x>"u")throw l&&l.type,new Error(Xi(14));u[h]=x,c=c||x!==f}return c=c||s.length!==Object.keys(o).length,c?u:o}}function gN(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function G_e(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(Xi(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=gN(...l)(a.dispatch),{...a,dispatch:i}}}function PQ(e){return JI(e)&&"type"in e&&typeof e.type=="string"}var TQ=Symbol.for("immer-nothing"),O7=Symbol.for("immer-draftable"),wc=Symbol.for("immer-state");function Ku(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zw=Object.getPrototypeOf;function zg(e){return!!e&&!!e[wc]}function uf(e){var t;return e?OQ(e)||Array.isArray(e)||!!e[O7]||!!((t=e.constructor)!=null&&t[O7])||Wb(e)||fS(e):!1}var K_e=Object.prototype.constructor.toString(),I7=new WeakMap;function OQ(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let s=I7.get(r);return s===void 0&&(s=Function.toString.call(r),I7.set(r,s)),s===K_e}function vN(e,t,r=!0){hS(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((s,a)=>t(a,s,e))}function hS(e){const t=e[wc];return t?t.type_:Array.isArray(e)?1:Wb(e)?2:fS(e)?3:0}function jT(e,t){return hS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IQ(e,t,r){const s=hS(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function Y_e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Wb(e){return e instanceof Map}function fS(e){return e instanceof Set}function rg(e){return e.copy_||e.base_}function NT(e,t){if(Wb(e))return new Map(e);if(fS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=OQ(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[wc];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const o=a[i],l=s[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(s[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Zw(e),s)}else{const s=Zw(e);if(s!==null&&r)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function XI(e,t=!1){return mS(e)||zg(e)||!uf(e)||(hS(e)>1&&Object.defineProperties(e,{set:Pj,add:Pj,clear:Pj,delete:Pj}),Object.freeze(e),t&&Object.values(e).forEach(r=>XI(r,!0))),e}function J_e(){Ku(2)}var Pj={value:J_e};function mS(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var X_e={};function Wg(e){const t=X_e[e];return t||Ku(0,e),t}var eb;function RQ(){return eb}function Q_e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R7(e,t){t&&(Wg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _T(e){ST(e),e.drafts_.forEach(Z_e),e.drafts_=null}function ST(e){e===eb&&(eb=e.parent_)}function D7(e){return eb=Q_e(eb,e)}function Z_e(e){const t=e[wc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function M7(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[wc].modified_&&(_T(t),Ku(4)),uf(e)&&(e=xN(t,e),t.parent_||yN(t,e)),t.patches_&&Wg("Patches").generateReplacementPatches_(r[wc].base_,e,t.patches_,t.inversePatches_)):e=xN(t,r,[]),_T(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TQ?e:void 0}function xN(e,t,r){if(mS(t))return t;const s=e.immer_.shouldUseStrictIteration(),a=t[wc];if(!a)return vN(t,(i,o)=>L7(e,a,t,i,o,r),s),t;if(a.scope_!==e)return t;if(!a.modified_)return yN(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),vN(o,(c,u)=>L7(e,a,i,c,u,r,l),s),yN(e,i,!1),r&&e.patches_&&Wg("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function L7(e,t,r,s,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=mS(a);if(!(l&&!o)){if(zg(a)){const c=i&&t&&t.type_!==3&&!jT(t.assigned_,s)?i.concat(s):void 0,u=xN(e,a,c);if(IQ(r,s,u),zg(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(uf(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[s]===a&&l)return;xN(e,a),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(Wb(r)?r.has(s):Object.prototype.propertyIsEnumerable.call(r,s))&&yN(e,a)}}}function yN(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XI(t,r)}function eSe(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:RQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,i=QI;r&&(a=[s],i=tb);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return s.draft_=l,s.revoke_=o,l}var QI={get(e,t){if(t===wc)return e;const r=rg(e);if(!jT(r,t))return tSe(e,r,t);const s=r[t];return e.finalized_||!uf(s)?s:s===sE(e.base_,t)?(aE(e),e.copy_[t]=CT(s,e)):s},has(e,t){return t in rg(e)},ownKeys(e){return Reflect.ownKeys(rg(e))},set(e,t,r){const s=DQ(rg(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=sE(rg(e),t),i=a==null?void 0:a[wc];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Y_e(r,a)&&(r!==void 0||jT(e.base_,t)))return!0;aE(e),kT(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sE(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,aE(e),kT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=rg(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){Ku(11)},getPrototypeOf(e){return Zw(e.base_)},setPrototypeOf(){Ku(12)}},tb={};vN(QI,(e,t)=>{tb[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tb.deleteProperty=function(e,t){return tb.set.call(this,e,t,void 0)};tb.set=function(e,t,r){return QI.set.call(this,e[0],t,r,e[0])};function sE(e,t){const r=e[wc];return(r?rg(r):e)[t]}function tSe(e,t,r){var a;const s=DQ(t,r);return s?"value"in s?s.value:(a=s.get)==null?void 0:a.call(e.draft_):void 0}function DQ(e,t){if(!(t in e))return;let r=Zw(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=Zw(r)}}function kT(e){e.modified_||(e.modified_=!0,e.parent_&&kT(e.parent_))}function aE(e){e.copy_||(e.copy_=NT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rSe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Ku(6),s!==void 0&&typeof s!="function"&&Ku(7);let a;if(uf(t)){const i=D7(this),o=CT(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?_T(i):ST(i)}return R7(i,s),M7(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===TQ&&(a=void 0),this.autoFreeze_&&XI(a,!0),s){const i=[],o=[];Wg("Patches").generateReplacementPatches_(t,a,i,o),s(i,o)}return a}else Ku(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let s,a;return[this.produce(t,r,(o,l)=>{s=o,a=l}),s,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){uf(e)||Ku(8),zg(e)&&(e=ef(e));const t=D7(this),r=CT(e,void 0);return r[wc].isManual_=!0,ST(t),r}finishDraft(e,t){const r=e&&e[wc];(!r||!r.isManual_)&&Ku(9);const{scope_:s}=r;return R7(s,t),M7(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const s=Wg("Patches").applyPatches_;return zg(e)?s(e,t):this.produce(e,a=>s(a,t))}};function CT(e,t){const r=Wb(e)?Wg("MapSet").proxyMap_(e,t):fS(e)?Wg("MapSet").proxySet_(e,t):eSe(e,t);return(t?t.scope_:RQ()).drafts_.push(r),r}function ef(e){return zg(e)||Ku(10,e),MQ(e)}function MQ(e){if(!uf(e)||mS(e))return e;const t=e[wc];let r,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=NT(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else r=NT(e,!0);return vN(r,(a,i)=>{IQ(r,a,MQ(i))},s),t&&(t.finalized_=!1),r}var nSe=new rSe,LQ=nSe.produce;function FQ(e){return({dispatch:r,getState:s})=>a=>i=>typeof i=="function"?i(r,s,e):a(i)}var sSe=FQ(),aSe=FQ,iSe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gN:gN.apply(null,arguments)};function lu(e,t){function r(...s){if(t){let a=t(...s);if(!a)throw new Error(hc(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>PQ(s)&&s.type===e,r}var BQ=class hw extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,hw.prototype)}static get[Symbol.species](){return hw}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new hw(...t[0].concat(this)):new hw(...t.concat(this))}};function F7(e){return uf(e)?LQ(e,()=>{}):e}function Tj(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function oSe(e){return typeof e=="boolean"}var lSe=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new BQ;return r&&(oSe(r)?o.push(sSe):o.push(aSe(r.extraArgument))),o},UQ="RTK_autoBatch",Go=()=>e=>({payload:e,meta:{[UQ]:!0}}),B7=e=>t=>{setTimeout(t,e)},$Q=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:B7(10):e.type==="callback"?e.queueNotification:B7(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},s,{subscribe(d){const h=()=>a&&d(),m=s.subscribe(h);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var h;try{return a=!((h=d==null?void 0:d.meta)!=null&&h[UQ]),i=!a,i&&(o||(o=!0,c(u))),s.dispatch(d)}finally{a=!0}}})},cSe=e=>function(r){const{autoBatch:s=!0}=r??{};let a=new BQ(e);return s&&a.push($Q(typeof s=="object"?s:void 0)),a};function uSe(e){const t=lSe(),{reducer:r=void 0,middleware:s,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(JI(r))l=AQ(r);else throw new Error(hc(1));let c;typeof s=="function"?c=s(t):c=t();let u=gN;a&&(u=iSe({trace:!1,...typeof a=="object"&&a}));const d=G_e(...c),h=cSe(d);let m=typeof o=="function"?o(h):h();const f=u(...m);return EQ(l,i,f)}function qQ(e){const t={},r=[];let s;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(hc(28));if(l in t)throw new Error(hc(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return s=i,a}};return e(a),[t,r,s]}function dSe(e){return typeof e=="function"}function hSe(e,t){let[r,s,a]=qQ(t),i;if(dSe(e))i=()=>F7(e());else{const l=F7(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...s.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,h)=>{if(h)if(zg(d)){const f=h(d,c);return f===void 0?d:f}else{if(uf(d))return LQ(d,m=>h(m,c));{const m=h(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=i,o}var fSe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mSe=(e=21)=>{let t="",r=e;for(;r--;)t+=fSe[Math.random()*64|0];return t},pSe=Symbol.for("rtk-slice-createasyncthunk");function gSe(e,t){return`${e}/${t}`}function vSe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[pSe];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(hc(11));const l=(typeof a.reducers=="function"?a.reducers(ySe()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,S){const T=typeof _=="string"?_:_.type;if(!T)throw new Error(hc(12));if(T in u.sliceCaseReducersByType)throw new Error(hc(13));return u.sliceCaseReducersByType[T]=S,d},addMatcher(_,S){return u.sliceMatchers.push({matcher:_,reducer:S}),d},exposeAction(_,S){return u.actionCreators[_]=S,d},exposeCaseReducer(_,S){return u.sliceCaseReducersByName[_]=S,d}};c.forEach(_=>{const S=l[_],T={reducerName:_,type:gSe(i,_),createNotation:typeof a.reducers=="function"};bSe(S)?NSe(T,S,d,t):wSe(T,S,d)});function h(){const[_={},S=[],T=void 0]=typeof a.extraReducers=="function"?qQ(a.extraReducers):[a.extraReducers],A={..._,...u.sliceCaseReducersByType};return hSe(a.initialState,L=>{for(let E in A)L.addCase(E,A[E]);for(let E of u.sliceMatchers)L.addMatcher(E.matcher,E.reducer);for(let E of S)L.addMatcher(E.matcher,E.reducer);T&&L.addDefaultCase(T)})}const m=_=>_,f=new Map,x=new WeakMap;let v;function g(_,S){return v||(v=h()),v(_,S)}function y(){return v||(v=h()),v.getInitialState()}function j(_,S=!1){function T(L){let E=L[_];return typeof E>"u"&&S&&(E=Tj(x,T,y)),E}function A(L=m){const E=Tj(f,S,()=>new WeakMap);return Tj(E,L,()=>{const q={};for(const[M,C]of Object.entries(a.selectors??{}))q[M]=xSe(C,L,()=>Tj(x,L,y),S);return q})}return{reducerPath:_,getSelectors:A,get selectors(){return A(T)},selectSlice:T}}const b={name:i,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...j(o),injectInto(_,{reducerPath:S,...T}={}){const A=S??o;return _.inject({reducerPath:A,reducer:g},T),{...b,...j(A,!0)}}};return b}}function xSe(e,t,r,s){function a(i,...o){let l=t(i);return typeof l>"u"&&s&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Sc=vSe();function ySe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function wSe({type:e,reducerName:t,createNotation:r},s,a){let i,o;if("reducer"in s){if(r&&!jSe(s))throw new Error(hc(17));i=s.reducer,o=s.prepare}else i=s;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?lu(e,o):lu(e))}function bSe(e){return e._reducerDefinitionType==="asyncThunk"}function jSe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function NSe({type:e,reducerName:t},r,s,a){if(!a)throw new Error(hc(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,h=a(e,i,d);s.exposeAction(t,h),o&&s.addCase(h.fulfilled,o),l&&s.addCase(h.pending,l),c&&s.addCase(h.rejected,c),u&&s.addMatcher(h.settled,u),s.exposeCaseReducer(t,{fulfilled:o||Oj,pending:l||Oj,rejected:c||Oj,settled:u||Oj})}function Oj(){}var _Se="task",zQ="listener",WQ="completed",ZI="cancelled",SSe=`task-${ZI}`,kSe=`task-${WQ}`,ET=`${zQ}-${ZI}`,CSe=`${zQ}-${WQ}`,pS=class{constructor(e){Vn(this,"name","TaskAbortError");Vn(this,"message");this.code=e,this.message=`${_Se} ${ZI} (reason: ${e})`}},eR=(e,t)=>{if(typeof e!="function")throw new TypeError(hc(32))},wN=()=>{},VQ=(e,t=wN)=>(e.catch(t),e),HQ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Cg=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Eg=e=>{if(e.aborted){const{reason:t}=e;throw new pS(t)}};function GQ(e,t){let r=wN;return new Promise((s,a)=>{const i=()=>a(new pS(e.reason));if(e.aborted){i();return}r=HQ(e,i),t.finally(()=>r()).then(s,a)}).finally(()=>{r=wN})}var ESe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof pS?"cancelled":"rejected",error:r}}finally{t==null||t()}},bN=e=>t=>VQ(GQ(e,t).then(r=>(Eg(e),r))),KQ=e=>{const t=bN(e);return r=>t(new Promise(s=>setTimeout(s,r)))},{assign:Nx}=Object,U7={},gS="listenerMiddleware",ASe=(e,t)=>{const r=s=>HQ(e,()=>Cg(s,e.reason));return(s,a)=>{eR(s);const i=new AbortController;r(i);const o=ESe(async()=>{Eg(e),Eg(i.signal);const l=await s({pause:bN(i.signal),delay:KQ(i.signal),signal:i.signal});return Eg(i.signal),l},()=>Cg(i,kSe));return a!=null&&a.autoJoin&&t.push(o.catch(wN)),{result:bN(e)(o),cancel(){Cg(i,SSe)}}}},PSe=(e,t)=>{const r=async(s,a)=>{Eg(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:s,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await GQ(t,Promise.race(l));return Eg(t),c}finally{i()}};return(s,a)=>VQ(r(s,a))},YQ=e=>{let{type:t,actionCreator:r,matcher:s,predicate:a,effect:i}=e;if(t)a=lu(t).match;else if(r)t=r.type,a=r.match;else if(s)a=s;else if(!a)throw new Error(hc(21));return eR(i),{predicate:a,type:t,effect:i}},JQ=Nx(e=>{const{type:t,predicate:r,effect:s}=YQ(e);return{id:mSe(),effect:s,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(hc(22))}}},{withTypes:()=>JQ}),$7=(e,t)=>{const{type:r,effect:s,predicate:a}=YQ(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===s)},AT=e=>{e.pending.forEach(t=>{Cg(t,ET)})},TSe=(e,t)=>()=>{for(const r of t.keys())AT(r);e.clear()},q7=(e,t,r)=>{try{e(t,r)}catch(s){setTimeout(()=>{throw s},0)}},XQ=Nx(lu(`${gS}/add`),{withTypes:()=>XQ}),OSe=lu(`${gS}/removeAll`),QQ=Nx(lu(`${gS}/remove`),{withTypes:()=>QQ}),ISe=(...e)=>{console.error(`${gS}/error`,...e)},Vb=(e={})=>{const t=new Map,r=new Map,s=f=>{const x=r.get(f)??0;r.set(f,x+1)},a=f=>{const x=r.get(f)??1;x===1?r.delete(f):r.set(f,x-1)},{extra:i,onError:o=ISe}=e;eR(o);const l=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),x=>{f.unsubscribe(),x!=null&&x.cancelActive&&AT(f)}),c=f=>{const x=$7(t,f)??JQ(f);return l(x)};Nx(c,{withTypes:()=>c});const u=f=>{const x=$7(t,f);return x&&(x.unsubscribe(),f.cancelActive&&AT(x)),!!x};Nx(u,{withTypes:()=>u});const d=async(f,x,v,g)=>{const y=new AbortController,j=PSe(c,y.signal),b=[];try{f.pending.add(y),s(f),await Promise.resolve(f.effect(x,Nx({},v,{getOriginalState:g,condition:(_,S)=>j(_,S).then(Boolean),take:j,delay:KQ(y.signal),pause:bN(y.signal),extra:i,signal:y.signal,fork:ASe(y.signal,b),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((_,S,T)=>{_!==y&&(Cg(_,ET),T.delete(_))})},cancel:()=>{Cg(y,ET),f.pending.delete(y)},throwIfCancelled:()=>{Eg(y.signal)}})))}catch(_){_ instanceof pS||q7(o,_,{raisedBy:"effect"})}finally{await Promise.all(b),Cg(y,CSe),a(f),f.pending.delete(y)}},h=TSe(t,r);return{middleware:f=>x=>v=>{if(!PQ(v))return x(v);if(XQ.match(v))return c(v.payload);if(OSe.match(v)){h();return}if(QQ.match(v))return u(v.payload);let g=f.getState();const y=()=>{if(g===U7)throw new Error(hc(23));return g};let j;try{if(j=x(v),t.size>0){const b=f.getState(),_=Array.from(t.values());for(const S of _){let T=!1;try{T=S.predicate(v,b,g)}catch(A){T=!1,q7(o,A,{raisedBy:"predicate"})}T&&d(S,v,f,y)}}}finally{g=U7}return j},startListening:c,stopListening:u,clearListeners:h}};function hc(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RSe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ZQ=Sc({name:"chartLayout",initialState:RSe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,s,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(s=t.payload.right)!==null&&s!==void 0?s:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:DSe,setLayout:MSe,setChartSize:LSe,setScale:FSe}=ZQ.actions,BSe=ZQ.reducer;function z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function W7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(r),!0).forEach(function(s){USe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function USe(e,t,r){return(t=$Se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Se(e){var t=qSe(e,"string");return typeof t=="symbol"?t:t+""}function qSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jN=Math.PI/180,zSe=e=>e*180/Math.PI,li=(e,t,r,s)=>({x:e+Math.cos(-jN*s)*r,y:t+Math.sin(-jN*s)*r}),eZ=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},WSe=(e,t)=>{var{x:r,y:s}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(s-i)**2)},VSe=(e,t)=>{var{x:r,y:s}=e,{cx:a,cy:i}=t,o=WSe({x:r,y:s},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return s>i&&(c=2*Math.PI-c),{radius:o,angle:zSe(c),angleInRadian:c}},HSe=e=>{var{startAngle:t,endAngle:r}=e,s=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(s,a);return{startAngle:t-i*360,endAngle:r-i*360}},GSe=(e,t)=>{var{startAngle:r,endAngle:s}=t,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return e+o*360},KSe=(e,t)=>{var{x:r,y:s}=e,{radius:a,angle:i}=VSe({x:r,y:s},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=HSe(t),d=i,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?W7(W7({},t),{},{radius:a,angle:GSe(d,t)}):null};function tZ(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function V7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V7(Object(r),!0).forEach(function(s){YSe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function YSe(e,t,r){return(t=JSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JSe(e){var t=XSe(e,"string");return typeof t=="symbol"?t:t+""}function XSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ws(e,t,r){return Vs(e)||Vs(t)?r:Kd(t)?qg(e,t,r):typeof t=="function"?t(e):r}var QSe=(e,t,r,s,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(s==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,h=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Ui(d-u)!==Ui(h-d)){var f=[];if(Ui(h-d)===Ui(a[1]-a[0])){m=h;var x=d+a[1]-a[0];f[0]=Math.min(x,(x+u)/2),f[1]=Math.max(x,(x+u)/2)}else{m=u;var v=h+a[1]-a[0];f[0]=Math.min(d,(v+d)/2),f[1]=Math.max(d,(v+d)/2)}var g=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=r[c]);break}}else{var y=Math.min(u,h),j=Math.max(u,h);if(e>(y+d)/2&&e<=(j+d)/2){({index:o}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o},ZSe=(e,t,r)=>{if(t&&r){var{width:s,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ur(e[i]))return Qc(Qc({},e),{},{[i]:e[i]+(s||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ur(e[o]))return Qc(Qc({},e),{},{[o]:e[o]+(a||0)})}return e},th=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rZ=(e,t,r,s)=>{if(s)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},nZ=(e,t,r)=>{if(!e)return null;var{duplicateDomain:s,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:m,axisType:f}=e;if(!o)return null;var x=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/x:0;if(v=f==="angleAxis"&&i&&i.length>=2?Ui(i[0]-i[1])*2*v:v,h||m){var g=(h||m||[]).map((y,j)=>{var b=s?s.indexOf(y):y;return{coordinate:o(b)+v,value:y,offset:v,index:j}});return g.filter(y=>!yc(y.coordinate))}return c&&u?u.map((y,j)=>({coordinate:o(y)+v,value:y,index:j,offset:v})):o.ticks&&d!=null?o.ticks(d).map((y,j)=>({coordinate:o(y)+v,value:y,offset:v,index:j})):o.domain().map((y,j)=>({coordinate:o(y)+v,value:s?s[y]:y,index:j,offset:v}))},H7=1e-4,e5e=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,s=e.range(),a=Math.min(s[0],s[1])-H7,i=Math.max(s[0],s[1])+H7,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},t5e=(e,t)=>{if(!t||t.length!==2||!ur(t[0])||!ur(t[1]))return e;var r=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ur(e[0])||e[0]<r)&&(a[0]=r),(!ur(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},r5e=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0,o=0;o<t;++o){var l=yc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},n5e=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0;i<t;++i){var o=yc(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},s5e={sign:r5e,expand:PNe,none:sy,silhouette:TNe,wiggle:ONe,positive:n5e},a5e=(e,t,r)=>{var s=s5e[r],a=ANe().keys(t).value((i,o)=>+ws(i,o,0)).order(yT).offset(s);return a(e)};function sZ(e){return e==null?void 0:String(e)}function NN(e){var{axis:t,ticks:r,bandSize:s,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vs(a[t.dataKey])){var l=dQ(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=ws(a,Vs(o)?t.dataKey:o);return Vs(c)?null:t.scale(c)}var G7=e=>{var{axis:t,ticks:r,offset:s,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+s:null;var l=ws(i,t.dataKey,t.scale.domain()[o]);return Vs(l)?null:t.scale(l)-a/2+s},i5e=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},o5e=e=>{var t=e.flat(2).filter(ur);return[Math.min(...t),Math.max(...t)]},l5e=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],c5e=(e,t,r)=>{if(e!=null)return l5e(Object.keys(e).reduce((s,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=tZ(u,t,r),h=o5e(d);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]))},K7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vg=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&t&&t.length>=2){for(var a=dS(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function J7(e){var{tooltipEntrySettings:t,dataKey:r,payload:s,value:a,name:i}=e;return Qc(Qc({},t),{},{dataKey:r,payload:s,value:a,name:i})}function cp(e,t){if(e)return String(e);if(typeof t=="string")return t}function u5e(e,t,r,s,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return s?KSe({x:e,y:t},s):null}var d5e=(e,t,r,s)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=s;return Qc(Qc(Qc({},s),li(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=s;return Qc(Qc(Qc({},s),li(s.cx,s.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},h5e=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,bf=e=>e.layout.width,jf=e=>e.layout.height,f5e=e=>e.layout.scale,aZ=e=>e.layout.margin,vS=rt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),xS=rt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),iZ="data-recharts-item-index",oZ="data-recharts-item-data-key",Hb=60;function X7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X7(Object(r),!0).forEach(function(s){m5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X7(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function m5e(e,t,r){return(t=p5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p5e(e){var t=g5e(e,"string");return typeof t=="symbol"?t:t+""}function g5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v5e=e=>e.brush.height;function x5e(e){var t=xS(e);return t.reduce((r,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:Hb;return r+a}return r},0)}function y5e(e){var t=xS(e);return t.reduce((r,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var a=typeof s.width=="number"?s.width:Hb;return r+a}return r},0)}function w5e(e){var t=vS(e);return t.reduce((r,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?r+s.height:r,0)}function b5e(e){var t=vS(e);return t.reduce((r,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?r+s.height:r,0)}var wi=rt([bf,jf,aZ,v5e,x5e,y5e,w5e,b5e,kQ,U_e],(e,t,r,s,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=Ij(Ij({},h),d),f=m.bottom;m.bottom+=s,m=ZSe(m,c,u);var x=e-m.left-m.right,v=t-m.top-m.bottom;return Ij(Ij({brushBottom:f},m),{},{width:Math.max(x,0),height:Math.max(v,0)})}),j5e=rt(wi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),tR=rt(bf,jf,(e,t)=>({x:0,y:0,width:e,height:t})),N5e=N.createContext(null),so=()=>N.useContext(N5e)!=null,yS=e=>e.brush,wS=rt([yS,wi,aZ],(e,t,r)=>({height:e.height,x:ur(e.x)?e.x:t.left,y:ur(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ur(e.width)?e.width:t.width})),iE={},oE={},lE={},Q7;function _5e(){return Q7||(Q7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{u&&d(),v()};let m=null;const f=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},s)},x=()=>{m!==null&&(clearTimeout(m),m=null)},v=()=>{x(),o=void 0,l=null},g=()=>{d()},y=function(...j){if(a!=null&&a.aborted)return;o=this,l=j;const b=m==null;f(),c&&b&&d()};return y.schedule=f,y.cancel=v,y.flush=g,a==null||a.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(lE)),lE}var Z7;function S5e(){return Z7||(Z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_5e();function r(s,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const m=t.debounce(function(...v){d=s.apply(this,v),h=null},a,{edges:u}),f=function(...v){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=s.apply(this,v),h=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,v),d)},x=()=>(m.flush(),d);return f.cancel=m.cancel,f.flush=x,f}e.debounce=r})(oE)),oE}var eB;function k5e(){return eB||(eB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S5e();function r(s,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(s,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(iE)),iE}var cE,tB;function C5e(){return tB||(tB=1,cE=k5e().throttle),cE}var E5e=C5e();const A5e=mu(E5e);var _N=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},lZ=(e,t,r)=>{var{width:s="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=cf(s)?e:Number(s),c=cf(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),o&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},P5e={width:0,height:0,overflow:"visible"},T5e={width:0,overflowX:"visible"},O5e={height:0,overflowY:"visible"},I5e={},R5e=e=>{var{width:t,height:r}=e,s=cf(t),a=cf(r);return s&&a?P5e:s?T5e:a?O5e:I5e};function D5e(e){var{width:t,height:r,aspect:s}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=s&&s>0?void 0:"100%":i===void 0&&(i=s&&s>0?void 0:"100%"),{width:a,height:i}}function ui(e){return Number.isFinite(e)}function ay(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},PT.apply(null,arguments)}function rB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function nB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rB(Object(r),!0).forEach(function(s){M5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function M5e(e,t,r){return(t=L5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L5e(e){var t=F5e(e,"string");return typeof t=="symbol"?t:t+""}function F5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cZ=N.createContext({width:-1,height:-1});function uZ(e){var{children:t,width:r,height:s}=e,a=N.useMemo(()=>({width:r,height:s}),[r,s]);return r<=0||s<=0?null:N.createElement(cZ.Provider,{value:a},t)}var rR=()=>N.useContext(cZ),B5e=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:s={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:m,onResize:f,style:x={}}=e,v=N.useRef(null),g=N.useRef();g.current=f,N.useImperativeHandle(t,()=>v.current);var[y,j]=N.useState({containerWidth:s.width,containerHeight:s.height}),b=N.useCallback((L,E)=>{j(q=>{var M=Math.round(L),C=Math.round(E);return q.containerWidth===M&&q.containerHeight===C?q:{containerWidth:M,containerHeight:C}})},[]);N.useEffect(()=>{var L=C=>{var I,{width:O,height:H}=C[0].contentRect;b(O,H),(I=g.current)===null||I===void 0||I.call(g,O,H)};d>0&&(L=A5e(L,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(L),{width:q,height:M}=v.current.getBoundingClientRect();return b(q,M),E.observe(v.current),()=>{E.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:S}=y;_N(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:A}=lZ(_,S,{width:a,height:i,aspect:r,maxHeight:c});return _N(T>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,A,a,i,o,l,r),N.createElement("div",{id:h?"".concat(h):void 0,className:kn("recharts-responsive-container",m),style:nB(nB({},x),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:v},N.createElement("div",{style:R5e({width:a,height:i})},N.createElement(uZ,{width:T,height:A},u)))}),es=N.forwardRef((e,t)=>{var r=rR();if(ay(r.width)&&ay(r.height))return e.children;var{width:s,height:a}=D5e({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=lZ(void 0,void 0,{width:s,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ur(i)&&ur(o)?N.createElement(uZ,{width:i,height:o},e.children):N.createElement(B5e,PT({},e,{width:s,height:a,ref:t}))}),bS=()=>{var e,t=so(),r=fr(j5e),s=fr(wS),a=(e=fr(yS))===null||e===void 0?void 0:e.padding;return!t||!s||!a?r:{width:s.width-a.left-a.right,height:s.height-a.top-a.bottom,x:a.left,y:a.top}},U5e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dZ=()=>{var e;return(e=fr(wi))!==null&&e!==void 0?e:U5e},nR=()=>fr(bf),sR=()=>fr(jf),$5e=()=>fr(e=>e.layout.margin),_n=e=>e.layout.layoutType,Gb=()=>fr(_n),jS=e=>{var t=ra(),r=so(),{width:s,height:a}=e,i=rR(),o=s,l=a;return i&&(o=i.width>0?i.width:s,l=i.height>0?i.height:a),N.useEffect(()=>{!r&&ay(o)&&ay(l)&&t(LSe({width:o,height:l}))},[t,r,o,l]),null},q5e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hZ=Sc({name:"legend",initialState:q5e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Go()},removeLegendPayload:{reducer(e,t){var r=ef(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Go()}}}),{setLegendSize:sB,setLegendSettings:z5e,addLegendPayload:fZ,removeLegendPayload:mZ}=hZ.actions,W5e=hZ.reducer,V5e=["contextPayload"];function TT(){return TT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},TT.apply(null,arguments)}function aB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function iy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aB(Object(r),!0).forEach(function(s){aR(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aR(e,t,r){return(t=H5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5e(e){var t=G5e(e,"string");return typeof t=="symbol"?t:t+""}function G5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K5e(e,t){if(e==null)return{};var r,s,a=Y5e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Y5e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function J5e(e){return e.value}function X5e(e){var{contextPayload:t}=e,r=K5e(e,V5e),s=jQ(t,e.payloadUniqBy,J5e),a=iy(iy({},r),{},{payload:s});return N.isValidElement(e.content)?N.cloneElement(e.content,a):typeof e.content=="function"?N.createElement(e.content,a):N.createElement(GI,a)}function Q5e(e,t,r,s,a,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((s||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),iy(iy({},u),d)}function Z5e(e){var t=ra();return N.useEffect(()=>{t(z5e(e))},[t,e]),null}function eke(e){var t=ra();return N.useEffect(()=>(t(sB(e)),()=>{t(sB({width:0,height:0}))}),[t,e]),null}function tke(e){var t=z_e(),r=Z2e(),s=$5e(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,u]=CQ([t]),d=nR(),h=sR();if(d==null||h==null)return null;var m=d-(s.left||0)-(s.right||0),f=cu.getWidthOrHeight(e.layout,i,a,m),x=l?o:iy(iy({position:"absolute",width:(f==null?void 0:f.width)||a||"auto",height:(f==null?void 0:f.height)||i||"auto"},Q5e(o,e,s,d,h,c)),o),v=l??r;if(v==null)return null;var g=N.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:u},N.createElement(Z5e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(eke,{width:c.width,height:c.height}),N.createElement(X5e,TT({},e,f,{margin:s,chartWidth:d,chartHeight:h,contextPayload:t})));return vf.createPortal(g,v)}class cu extends N.PureComponent{static getWidthOrHeight(t,r,s,a){return t==="vertical"&&ur(r)?{height:r}:t==="horizontal"?{width:s||a}:null}render(){return N.createElement(tke,this.props)}}aR(cu,"displayName","Legend");aR(cu,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},OT.apply(null,arguments)}function iB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(r),!0).forEach(function(s){rke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function rke(e,t,r){return(t=nke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nke(e){var t=ske(e,"string");return typeof t=="symbol"?t:t+""}function ske(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ake(e){return Array.isArray(e)&&Kd(e[0])&&Kd(e[1])?e.join(" ~ "):e}var ike=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:s={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:m=!1}=e,f=()=>{if(i&&i.length){var S={padding:0,margin:0},T=(l?dS(i,l):i).map((A,L)=>{if(A.type==="none")return null;var E=A.formatter||o||ake,{value:q,name:M}=A,C=q,I=M;if(E){var O=E(q,M,A,L,i);if(Array.isArray(O))[C,I]=O;else if(O!=null)C=O;else return null}var H=uE({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},s);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:H},Kd(I)?N.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Kd(I)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},C),N.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:S},T)}return null},x=uE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=uE({margin:0},a),g=!Vs(d),y=g?d:"",j=kn("recharts-default-tooltip",c),b=kn("recharts-tooltip-label",u);g&&h&&i!==void 0&&i!==null&&(y=h(d,i));var _=m?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",OT({className:j,style:x},_),N.createElement("p",{className:b,style:v},N.isValidElement(y)?y:"".concat(y)),f())},q0="recharts-tooltip-wrapper",oke={visibility:"hidden"};function lke(e){var{coordinate:t,translateX:r,translateY:s}=e;return kn(q0,{["".concat(q0,"-right")]:ur(r)&&t&&ur(t.x)&&r>=t.x,["".concat(q0,"-left")]:ur(r)&&t&&ur(t.x)&&r<t.x,["".concat(q0,"-bottom")]:ur(s)&&t&&ur(t.y)&&s>=t.y,["".concat(q0,"-top")]:ur(s)&&t&&ur(t.y)&&s<t.y})}function oB(e){var{allowEscapeViewBox:t,coordinate:r,key:s,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ur(i[s]))return i[s];var d=r[s]-l-(a>0?a:0),h=r[s]+a;if(t[s])return o[s]?d:h;var m=c[s];if(m==null)return 0;if(o[s]){var f=d,x=m;return f<x?Math.max(h,m):Math.max(d,m)}if(u==null)return 0;var v=h+l,g=m+u;return v>g?Math.max(d,m):Math.max(h,m)}function cke(e){var{translateX:t,translateY:r,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function uke(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:s,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,h;return o.height>0&&o.width>0&&r?(d=oB({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=oB({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=cke({translateX:d,translateY:h,useTranslate3d:l})):u=oke,{cssProperties:u,cssClasses:lke({translateX:d,translateY:h,coordinate:r})}}function lB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lB(Object(r),!0).forEach(function(s){IT(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function IT(e,t,r){return(t=dke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dke(e){var t=hke(e,"string");return typeof t=="symbol"?t:t+""}function hke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fke extends N.PureComponent{constructor(){super(...arguments),IT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),IT(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,s,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:s,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:m,viewBox:f,wrapperStyle:x,lastBoundingBox:v,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:j,cssProperties:b}=uke({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:m,viewBox:f}),_=y?{}:Rj(Rj({transition:c&&t?"transform ".concat(s,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Rj(Rj({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:S,ref:g},i)}}var mke=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nf={devToolsEnabled:!1,isSsr:mke()},pZ=()=>fr(e=>e.rootProps.accessibilityLayer);function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},RT.apply(null,arguments)}function cB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function uB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cB(Object(r),!0).forEach(function(s){pke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pke(e,t,r){return(t=gke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gke(e){var t=vke(e,"string");return typeof t=="symbol"?t:t+""}function vke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dB={curveBasisClosed:xNe,curveBasisOpen:yNe,curveBasis:vNe,curveBumpX:nNe,curveBumpY:sNe,curveLinearClosed:wNe,curveLinear:cS,curveMonotoneX:bNe,curveMonotoneY:jNe,curveNatural:NNe,curveStep:_Ne,curveStepAfter:kNe,curveStepBefore:SNe},Dj=e=>ui(e.x)&&ui(e.y),z0=e=>e.x,W0=e=>e.y,xke=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(qb(e));return(r==="curveMonotone"||r==="curveBump")&&t?dB["".concat(r).concat(t==="vertical"?"Y":"X")]:dB[r]||cS},yke=e=>{var{type:t="linear",points:r=[],baseLine:s,layout:a,connectNulls:i=!1}=e,o=xke(t,a),l=i?r.filter(Dj):r,c;if(Array.isArray(s)){var u=i?s.filter(h=>Dj(h)):s,d=l.map((h,m)=>uB(uB({},h),{},{base:u[m]}));return a==="vertical"?c=Cj().y(W0).x1(z0).x0(h=>h.base.x):c=Cj().x(z0).y1(W0).y0(h=>h.base.y),c.defined(Dj).curve(o),c(d)}return a==="vertical"&&ur(s)?c=Cj().y(W0).x1(z0).x0(s):ur(s)?c=Cj().x(z0).y1(W0).y0(s):c=QX().x(z0).y(W0),c.defined(Dj).curve(o),c(l)},_x=e=>{var{className:t,points:r,path:s,pathRef:a}=e;if((!r||!r.length)&&!s)return null;var i=r&&r.length?yke(e):s;return N.createElement("path",RT({},Qo(e),VI(e),{className:kn("recharts-curve",t),d:i===null?void 0:i,ref:a}))},wke=["x","y","top","left","width","height","className"];function DT(){return DT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},DT.apply(null,arguments)}function hB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(r),!0).forEach(function(s){jke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jke(e,t,r){return(t=Nke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nke(e){var t=_ke(e,"string");return typeof t=="symbol"?t:t+""}function _ke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ske(e,t){if(e==null)return{};var r,s,a=kke(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kke(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Cke=(e,t,r,s,a,i)=>"M".concat(e,",").concat(a,"v").concat(s,"M").concat(i,",").concat(t,"h").concat(r),Eke=e=>{var{x:t=0,y:r=0,top:s=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=Ske(e,wke),u=bke({x:t,y:r,top:s,left:a,width:i,height:o},c);return!ur(t)||!ur(r)||!ur(i)||!ur(o)||!ur(s)||!ur(a)?null:N.createElement("path",DT({},Zo(u),{className:kn("recharts-cross",l),d:Cke(t,r,i,o,s,a)}))};function Ake(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function fB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Pke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fB(Object(r),!0).forEach(function(s){Tke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Tke(e,t,r){return(t=Oke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oke(e){var t=Ike(e,"string");return typeof t=="symbol"?t:t+""}function Ike(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(e,t){var r=Pke({},e),s=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&s[l]!==void 0&&(o[l]=s[l]),o),r);return i}function Rke(){}function Dke(e){return e!=null}function mB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function pB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mB(Object(r),!0).forEach(function(s){Mke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Mke(e,t,r){return(t=Lke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lke(e){var t=Fke(e,"string");return typeof t=="symbol"?t:t+""}function Fke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bke=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),gZ=(e,t,r)=>e.map(s=>"".concat(Bke(s)," ").concat(t,"ms ").concat(r)).join(","),Uke=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,s)=>r.filter(a=>s.includes(a))),rb=(e,t)=>Object.keys(t).reduce((r,s)=>pB(pB({},r),{},{[s]:e(s,t[s])}),{});function gB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gB(Object(r),!0).forEach(function(s){$ke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function $ke(e,t,r){return(t=qke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qke(e){var t=zke(e,"string");return typeof t=="symbol"?t:t+""}function zke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SN=(e,t,r)=>e+(t-e)*r,MT=e=>{var{from:t,to:r}=e;return t!==r},vZ=(e,t,r)=>{var s=rb((a,i)=>{if(MT(i)){var[o,l]=e(i.from,i.to,i.velocity);return Zi(Zi({},i),{},{from:o,velocity:l})}return i},t);return r<1?rb((a,i)=>MT(i)?Zi(Zi({},i),{},{velocity:SN(i.velocity,s[a].velocity,r),from:SN(i.from,s[a].from,r)}):i,t):vZ(e,s,r-1)};function Wke(e,t,r,s,a,i){var o,l=s.reduce((m,f)=>Zi(Zi({},m),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>rb((m,f)=>f.from,l),u=()=>!Object.values(l).filter(MT).length,d=null,h=m=>{o||(o=m);var f=m-o,x=f/r.dt;l=vZ(r,l,x),a(Zi(Zi(Zi({},e),t),c())),o=m,u()||(d=i.setTimeout(h))};return()=>(d=i.setTimeout(h),()=>{d()})}function Vke(e,t,r,s,a,i,o){var l=null,c=a.reduce((h,m)=>Zi(Zi({},h),{},{[m]:[e[m],t[m]]}),{}),u,d=h=>{u||(u=h);var m=(h-u)/s,f=rb((v,g)=>SN(...g,r(m)),c);if(i(Zi(Zi(Zi({},e),t),f)),m<1)l=o.setTimeout(d);else{var x=rb((v,g)=>SN(...g,r(1)),c);i(Zi(Zi(Zi({},e),t),x))}};return()=>(l=o.setTimeout(d),()=>{l()})}const Hke=(e,t,r,s,a,i)=>{var o=Uke(e,t);return r.isStepper===!0?Wke(e,t,r,o,a,i):Vke(e,t,r,s,o,a,i)};var kN=1e-4,xZ=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],yZ=(e,t)=>e.map((r,s)=>r*t**s).reduce((r,s)=>r+s),vB=(e,t)=>r=>{var s=xZ(e,t);return yZ(s,r)},Gke=(e,t)=>r=>{var s=xZ(e,t),a=[...s.map((i,o)=>i*o).slice(1),0];return yZ(a,r)},xB=function(){for(var t,r,s,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,s,r,a]=[0,0,1,1];break;case"ease":[t,s,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,s,r,a]=[.42,0,1,1];break;case"ease-out":[t,s,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,s,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,s,r,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([t,s,r,a]=o);var u=vB(t,r),d=vB(s,a),h=Gke(t,r),m=x=>x>1?1:x<0?0:x,f=x=>{for(var v=x>1?1:x,g=v,y=0;y<8;++y){var j=u(g)-v,b=h(g);if(Math.abs(j-v)<kN||b<kN)return d(g);g=m(g-j/b)}return d(g)};return f.isStepper=!1,f},Kke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:s=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*s,h=c+(u-d)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<kN&&Math.abs(h)<kN?[l,0]:[m,h]};return i.isStepper=!0,i.dt=a,i},Yke=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xB(e);case"spring":return Kke();default:if(e.split("(")[0]==="cubic-bezier")return xB(e)}return typeof e=="function"?e:null};function Jke(e){var t,r=()=>null,s=!1,a=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Xke{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),a=null,i=o=>{o-s>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function Qke(){return Jke(new Xke)}var Zke=N.createContext(Qke);function eCe(e,t){var r=N.useContext(Zke);return N.useMemo(()=>t??r(e),[e,t,r])}var tCe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yB={t:0},dE={t:1};function Hy(e){var t=bi(e,tCe),{isActive:r,canBegin:s,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=eCe(t.animationId,t.animationManager),[h,m]=N.useState(r?yB:dE),f=N.useRef(null);return N.useEffect(()=>{r||m(dE)},[r]),N.useEffect(()=>{if(!r||!s)return Rke;var x=Hke(yB,dE,Yke(i),a,m,d.getTimeoutController()),v=()=>{f.current=x()};return d.start([c,o,v,a,l]),()=>{d.stop(),f.current&&f.current(),l()}},[r,s,a,i,o,c,l,d]),u(h.t)}function Gy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(Qw(t)),s=N.useRef(e);return s.current!==e&&(r.current=Qw(t),s.current=e),r.current}var rCe=["radius"],nCe=["radius"];function wB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wB(Object(r),!0).forEach(function(s){sCe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function sCe(e,t,r){return(t=aCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aCe(e){var t=iCe(e,"string");return typeof t=="symbol"?t:t+""}function iCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},CN.apply(null,arguments)}function jB(e,t){if(e==null)return{};var r,s,a=oCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oCe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var NB=(e,t,r,s,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(s)/2),o=s>=0?1:-1,l=r>=0?1:-1,c=s>=0&&r>=0||s<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=a[h]>i?i:a[h];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+s-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+s)),u+="L ".concat(e+l*d[3],",").concat(t+s),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+s-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var f=Math.min(i,a);u="M ".concat(e,",").concat(t+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,`
            L `).concat(e+r-l*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*f,`
            L `).concat(e+r,",").concat(t+s-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+s,`
            L `).concat(e+l*f,",").concat(t+s,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+s-o*f," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return u},lCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wZ=e=>{var t=bi(e,lCe),r=N.useRef(null),[s,a]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&a(U)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:f,isAnimationActive:x,isUpdateAnimationActive:v}=t,g=N.useRef(l),y=N.useRef(c),j=N.useRef(i),b=N.useRef(o),_=N.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),S=Gy(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var T=kn("recharts-rectangle",d);if(!v){var A=Zo(t),{radius:L}=A,E=jB(A,rCe);return N.createElement("path",CN({},E,{radius:typeof u=="number"?u:void 0,className:T,d:NB(i,o,l,c,u)}))}var q=g.current,M=y.current,C=j.current,I=b.current,O="0px ".concat(s===-1?1:s,"px"),H="".concat(s,"px 0px"),re=gZ(["strokeDasharray"],m,typeof h=="string"?h:void 0);return N.createElement(Hy,{animationId:S,key:S,canBegin:s>0,duration:m,easing:h,isActive:v,begin:f},U=>{var K=ys(q,l,U),ee=ys(M,c,U),X=ys(C,i,U),B=ys(I,o,U);r.current&&(g.current=K,y.current=ee,j.current=X,b.current=B);var D;x?U>0?D={transition:re,strokeDasharray:H}:D={strokeDasharray:O}:D={strokeDasharray:H};var Q=Zo(t),{radius:ie}=Q,te=jB(Q,nCe);return N.createElement("path",CN({},te,{radius:typeof u=="number"?u:void 0,className:T,d:NB(X,B,K,ee,u),ref:r,style:bB(bB({},D),t.style)}))})};function bZ(e){var{cx:t,cy:r,radius:s,startAngle:a,endAngle:i}=e,o=li(t,r,s,a),l=li(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function LT(){return LT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LT.apply(null,arguments)}var cCe=(e,t)=>{var r=Ui(t-e),s=Math.min(Math.abs(t-e),359.999);return r*s},Mj=e=>{var{cx:t,cy:r,radius:s,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+s,d=Math.asin(l/u)/jN,h=c?a:a+i*d,m=li(t,r,u,h),f=li(t,r,s,h),x=c?a-i*d:a,v=li(t,r,u*Math.cos(d*jN),x);return{center:m,circleTangency:f,lineTangency:v,theta:d}},jZ=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:i,endAngle:o}=e,l=cCe(i,o),c=i+l,u=li(t,r,a,i),d=li(t,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var m=li(t,r,s,i),f=li(t,r,s,c);h+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},uCe=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Ui(u-c),{circleTangency:h,lineTangency:m,theta:f}=Mj({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:x,lineTangency:v,theta:g}=Mj({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-f-g;if(y<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):jZ({cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:c,endAngle:u});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var{circleTangency:b,lineTangency:_,theta:S}=Mj({cx:t,cy:r,radius:s,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:T,lineTangency:A,theta:L}=Mj({cx:t,cy:r,radius:s,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-S-L;if(E<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+="L".concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else j+="L".concat(t,",").concat(r,"Z");return j},dCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NZ=e=>{var t=bi(e,dCe),{cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(i<a||u===d)return null;var m=kn("recharts-sector",h),f=i-a,x=To(o,f,0,!0),v;return x>0&&Math.abs(u-d)<360?v=uCe({cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=jZ({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),N.createElement("path",LT({},Zo(t),{className:m,d:v}))};function hCe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:h}=t,m=li(l,c,u,h),f=li(l,c,d,h);s=m.x,a=m.y,i=f.x,o=f.y}else return bZ(t);return[{x:s,y:a},{x:i,y:o}]}var hE={},fE={},mE={},_B;function fCe(){return _B||(_B=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Q();function r(s){return t.isSymbol(s)?NaN:Number(s)}e.toNumber=r})(mE)),mE}var SB;function mCe(){return SB||(SB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fCe();function r(s){return s?(s=t.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=r})(fE)),fE}var kB;function pCe(){return kB||(kB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SQ(),r=mCe();function s(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=s})(hE)),hE}var pE,CB;function gCe(){return CB||(CB=1,pE=pCe().range),pE}var vCe=gCe();const _Z=mu(vCe);function Bm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iR(e){let t,r,s;e.length!==2?(t=Bm,r=(l,c)=>Bm(e(l),c),s=(l,c)=>e(l)-c):(t=e===Bm||e===xCe?e:yCe,r=e,s=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function yCe(){return 0}function SZ(e){return e===null?NaN:+e}function*wCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const bCe=iR(Bm),Kb=bCe.right;iR(SZ).center;class EB extends Map{constructor(t,r=_Ce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(AB(this,t))}has(t){return super.has(AB(this,t))}set(t,r){return super.set(jCe(this,t),r)}delete(t){return super.delete(NCe(this,t))}}function AB({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function jCe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function NCe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function _Ce(e){return e!==null&&typeof e=="object"?e.valueOf():e}function SCe(e=Bm){if(e===Bm)return kZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function kZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kCe=Math.sqrt(50),CCe=Math.sqrt(10),ECe=Math.sqrt(2);function EN(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=kCe?10:i>=CCe?5:i>=ECe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?EN(e,t,r*2):[l,c,u]}function FT(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?EN(t,e,r):EN(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function BT(e,t,r){return t=+t,e=+e,r=+r,EN(e,t,r)[2]}function UT(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?BT(t,e,r):BT(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function PB(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function TB(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function CZ(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?kZ:SCe(a);s>r;){if(s-r>600){const c=s-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(t-u*h/c+m)),x=Math.min(s,Math.floor(t+(c-u)*h/c+m));CZ(e,t,f,x,a)}const i=e[t];let o=r,l=s;for(V0(e,r,t),a(e[s],i)>0&&V0(e,r,s);o<l;){for(V0(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?V0(e,r,l):(++l,V0(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function V0(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function ACe(e,t,r){if(e=Float64Array.from(wCe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return TB(e);if(t>=1)return PB(e);var s,a=(s-1)*t,i=Math.floor(a),o=PB(CZ(e,i).subarray(0,i+1)),l=TB(e.subarray(i+1));return o+(l-o)*(a-i)}}function PCe(e,t,r=SZ){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function TCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function gu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _f(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $T=Symbol("implicit");function oR(){var e=new EB,t=[],r=[],s=$T;function a(i){let o=e.get(i);if(o===void 0){if(s!==$T)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new EB;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return oR(t,r).unknown(s)},gu.apply(a,arguments),a}function lR(){var e=oR().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,f=a<s,x=f?a:s,v=f?s:a;i=(v-x)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),x+=(v-x-i*(m-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=TCe(m).map(function(y){return x+i*y});return r(f?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,h()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return lR(t(),[s,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},gu.apply(h(),arguments)}function EZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EZ(t())},e}function OCe(){return EZ(lR.apply(null,arguments).paddingInner(1))}function cR(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function AZ(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function Yb(){}var nb=.7,AN=1/nb,Sx="\\s*([+-]?\\d+)\\s*",sb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ICe=/^#([0-9a-f]{3,8})$/,RCe=new RegExp(`^rgb\\(${Sx},${Sx},${Sx}\\)$`),DCe=new RegExp(`^rgb\\(${zd},${zd},${zd}\\)$`),MCe=new RegExp(`^rgba\\(${Sx},${Sx},${Sx},${sb}\\)$`),LCe=new RegExp(`^rgba\\(${zd},${zd},${zd},${sb}\\)$`),FCe=new RegExp(`^hsl\\(${sb},${zd},${zd}\\)$`),BCe=new RegExp(`^hsla\\(${sb},${zd},${zd},${sb}\\)$`),OB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cR(Yb,ab,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IB,formatHex:IB,formatHex8:UCe,formatHsl:$Ce,formatRgb:RB,toString:RB});function IB(){return this.rgb().formatHex()}function UCe(){return this.rgb().formatHex8()}function $Ce(){return PZ(this).formatHsl()}function RB(){return this.rgb().formatRgb()}function ab(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ICe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?DB(t):r===3?new Al(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RCe.exec(e))?new Al(t[1],t[2],t[3],1):(t=DCe.exec(e))?new Al(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MCe.exec(e))?Lj(t[1],t[2],t[3],t[4]):(t=LCe.exec(e))?Lj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FCe.exec(e))?FB(t[1],t[2]/100,t[3]/100,1):(t=BCe.exec(e))?FB(t[1],t[2]/100,t[3]/100,t[4]):OB.hasOwnProperty(e)?DB(OB[e]):e==="transparent"?new Al(NaN,NaN,NaN,0):null}function DB(e){return new Al(e>>16&255,e>>8&255,e&255,1)}function Lj(e,t,r,s){return s<=0&&(e=t=r=NaN),new Al(e,t,r,s)}function qCe(e){return e instanceof Yb||(e=ab(e)),e?(e=e.rgb(),new Al(e.r,e.g,e.b,e.opacity)):new Al}function qT(e,t,r,s){return arguments.length===1?qCe(e):new Al(e,t,r,s??1)}function Al(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}cR(Al,qT,AZ(Yb,{brighter(e){return e=e==null?AN:Math.pow(AN,e),new Al(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nb:Math.pow(nb,e),new Al(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Al(Ag(this.r),Ag(this.g),Ag(this.b),PN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MB,formatHex:MB,formatHex8:zCe,formatRgb:LB,toString:LB}));function MB(){return`#${dg(this.r)}${dg(this.g)}${dg(this.b)}`}function zCe(){return`#${dg(this.r)}${dg(this.g)}${dg(this.b)}${dg((isNaN(this.opacity)?1:this.opacity)*255)}`}function LB(){const e=PN(this.opacity);return`${e===1?"rgb(":"rgba("}${Ag(this.r)}, ${Ag(this.g)}, ${Ag(this.b)}${e===1?")":`, ${e})`}`}function PN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ag(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dg(e){return e=Ag(e),(e<16?"0":"")+e.toString(16)}function FB(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yu(e,t,r,s)}function PZ(e){if(e instanceof Yu)return new Yu(e.h,e.s,e.l,e.opacity);if(e instanceof Yb||(e=ab(e)),!e)return new Yu;if(e instanceof Yu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Yu(o,l,c,e.opacity)}function WCe(e,t,r,s){return arguments.length===1?PZ(e):new Yu(e,t,r,s??1)}function Yu(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}cR(Yu,WCe,AZ(Yb,{brighter(e){return e=e==null?AN:Math.pow(AN,e),new Yu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nb:Math.pow(nb,e),new Yu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Al(gE(e>=240?e-240:e+120,a,s),gE(e,a,s),gE(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Yu(BB(this.h),Fj(this.s),Fj(this.l),PN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=PN(this.opacity);return`${e===1?"hsl(":"hsla("}${BB(this.h)}, ${Fj(this.s)*100}%, ${Fj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BB(e){return e=(e||0)%360,e<0?e+360:e}function Fj(e){return Math.max(0,Math.min(1,e||0))}function gE(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const uR=e=>()=>e;function VCe(e,t){return function(r){return e+r*t}}function HCe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function GCe(e){return(e=+e)==1?TZ:function(t,r){return r-t?HCe(t,r,e):uR(isNaN(t)?r:t)}}function TZ(e,t){var r=t-e;return r?VCe(e,r):uR(isNaN(e)?t:e)}const UB=(function e(t){var r=GCe(t);function s(a,i){var o=r((a=qT(a)).r,(i=qT(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=TZ(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return s.gamma=e,s})(1);function KCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function YCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JCe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Ky(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function XCe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function TN(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function QCe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ky(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var zT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vE=new RegExp(zT.source,"g");function ZCe(e){return function(){return e}}function eEe(e){return function(t){return e(t)+""}}function tEe(e,t){var r=zT.lastIndex=vE.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=zT.exec(e))&&(a=vE.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:TN(s,a)})),r=vE.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?eEe(c[0].x):ZCe(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Ky(e,t){var r=typeof t,s;return t==null||r==="boolean"?uR(t):(r==="number"?TN:r==="string"?(s=ab(t))?(t=s,UB):tEe:t instanceof ab?UB:t instanceof Date?XCe:YCe(t)?KCe:Array.isArray(t)?JCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QCe:TN)(e,t)}function dR(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rEe(e,t){t===void 0&&(t=e,e=Ky);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function nEe(e){return function(){return e}}function ON(e){return+e}var $B=[0,1];function Jo(e){return e}function WT(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nEe(isNaN(t)?NaN:.5)}function sEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function aEe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=WT(a,s),i=r(o,i)):(s=WT(s,a),i=r(i,o)),function(l){return i(s(l))}}function iEe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=WT(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Kb(e,l,1,s)-1;return i[c](a[c](l))}}function Jb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function NS(){var e=$B,t=$B,r=Ky,s,a,i,o=Jo,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Jo&&(o=sEe(e[0],e[m-1])),l=m>2?iEe:aEe,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(s),t,r)))(s(o(m)))}return h.invert=function(m){return o(a((u||(u=l(t,e.map(s),TN)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,ON),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=dR,d()},h.clamp=function(m){return arguments.length?(o=m?!0:Jo,d()):o!==Jo},h.interpolate=function(m){return arguments.length?(r=m,d()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return s=m,a=f,d()}}function hR(){return NS()(Jo,Jo)}function oEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function IN(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function oy(e){return e=IN(Math.abs(e)),e?e[1]:NaN}function lEe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function cEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ib(e){if(!(t=uEe.exec(e)))throw new Error("invalid format: "+e);var t;return new fR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ib.prototype=fR.prototype;function fR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dEe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var OZ;function hEe(e,t){var r=IN(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(OZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+IN(e,Math.max(0,t+i-1))[0]}function qB(e,t){var r=IN(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const zB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qB(e*100,t),r:qB,s:hEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WB(e){return e}var VB=Array.prototype.map,HB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fEe(e){var t=e.grouping===void 0||e.thousands===void 0?WB:lEe(VB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?WB:cEe(VB.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ib(h);var m=h.fill,f=h.align,x=h.sign,v=h.symbol,g=h.zero,y=h.width,j=h.comma,b=h.precision,_=h.trim,S=h.type;S==="n"?(j=!0,S="g"):zB[S]||(b===void 0&&(b=12),_=!0,S="g"),(g||m==="0"&&f==="=")&&(g=!0,m="0",f="=");var T=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=v==="$"?s:/[%p]/.test(S)?o:"",L=zB[S],E=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function q(M){var C=T,I=A,O,H,re;if(S==="c")I=L(M)+I,M="";else{M=+M;var U=M<0||1/M<0;if(M=isNaN(M)?c:L(Math.abs(M),b),_&&(M=dEe(M)),U&&+M==0&&x!=="+"&&(U=!1),C=(U?x==="("?x:l:x==="-"||x==="("?"":x)+C,I=(S==="s"?HB[8+OZ/3]:"")+I+(U&&x==="("?")":""),E){for(O=-1,H=M.length;++O<H;)if(re=M.charCodeAt(O),48>re||re>57){I=(re===46?a+M.slice(O+1):M.slice(O))+I,M=M.slice(0,O);break}}}j&&!g&&(M=t(M,1/0));var K=C.length+M.length+I.length,ee=K<y?new Array(y-K+1).join(m):"";switch(j&&g&&(M=t(ee+M,ee.length?y-I.length:1/0),ee=""),f){case"<":M=C+M+I+ee;break;case"=":M=C+ee+M+I;break;case"^":M=ee.slice(0,K=ee.length>>1)+C+M+I+ee.slice(K);break;default:M=ee+C+M+I;break}return i(M)}return q.toString=function(){return h+""},q}function d(h,m){var f=u((h=ib(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(oy(m)/3)))*3,v=Math.pow(10,-x),g=HB[8+x/3];return function(y){return f(v*y)+g}}return{format:u,formatPrefix:d}}var Bj,mR,IZ;mEe({thousands:",",grouping:[3],currency:["$",""]});function mEe(e){return Bj=fEe(e),mR=Bj.format,IZ=Bj.formatPrefix,Bj}function pEe(e){return Math.max(0,-oy(Math.abs(e)))}function gEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oy(t)/3)))*3-oy(Math.abs(e)))}function vEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,oy(t)-oy(e))+1}function RZ(e,t,r,s){var a=UT(e,t,r),i;switch(s=ib(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=gEe(a,o))&&(s.precision=i),IZ(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=vEe(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=pEe(a))&&(s.precision=i-(s.type==="%")*2);break}}return mR(s)}function up(e){var t=e.domain;return e.ticks=function(r){var s=t();return FT(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return RZ(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=BT(o,l,r),u===c)return s[a]=o,s[i]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function DZ(){var e=hR();return e.copy=function(){return Jb(e,DZ())},gu.apply(e,arguments),up(e)}function MZ(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,ON),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return MZ(e).unknown(t)},e=arguments.length?Array.from(e,ON):[0,1],up(r)}function LZ(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function GB(e){return Math.log(e)}function KB(e){return Math.exp(e)}function xEe(e){return-Math.log(-e)}function yEe(e){return-Math.exp(-e)}function wEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bEe(e){return e===10?wEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YB(e){return(t,r)=>-e(-t,r)}function pR(e){const t=e(GB,KB),r=t.domain;let s=10,a,i;function o(){return a=jEe(s),i=bEe(s),r()[0]<0?(a=YB(a),i=YB(i),e(xEe,yEe)):e(GB,KB),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=a(u),f=a(d),x,v;const g=l==null?10:+l;let y=[];if(!(s%1)&&f-m<g){if(m=Math.floor(m),f=Math.ceil(f),u>0){for(;m<=f;++m)for(x=1;x<s;++x)if(v=m<0?x/i(-m):x*i(m),!(v<u)){if(v>d)break;y.push(v)}}else for(;m<=f;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/i(-m):x*i(m),!(v<u)){if(v>d)break;y.push(v)}y.length*2<g&&(y=FT(u,d,g))}else y=FT(m,f,Math.min(f-m,g)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=ib(c)).precision==null&&(c.trim=!0),c=mR(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*s<s-.5&&(h*=s),h<=u?c(d):""}},t.nice=()=>r(LZ(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function FZ(){const e=pR(NS()).domain([1,10]);return e.copy=()=>Jb(e,FZ()).base(e.base()),gu.apply(e,arguments),e}function JB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gR(e){var t=1,r=e(JB(t),XB(t));return r.constant=function(s){return arguments.length?e(JB(t=+s),XB(t)):t},up(r)}function BZ(){var e=gR(NS());return e.copy=function(){return Jb(e,BZ()).constant(e.constant())},gu.apply(e,arguments)}function QB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _Ee(e){return e<0?-e*e:e*e}function vR(e){var t=e(Jo,Jo),r=1;function s(){return r===1?e(Jo,Jo):r===.5?e(NEe,_Ee):e(QB(r),QB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},up(t)}function xR(){var e=vR(NS());return e.copy=function(){return Jb(e,xR()).exponent(e.exponent())},gu.apply(e,arguments),e}function SEe(){return xR.apply(null,arguments).exponent(.5)}function ZB(e){return Math.sign(e)*e*e}function kEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UZ(){var e=hR(),t=[0,1],r=!1,s;function a(i){var o=kEe(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(ZB(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ON)).map(ZB)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return UZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},gu.apply(a,arguments),up(a)}function $Z(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=PCe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Kb(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Bm),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return $Z().domain(e).range(t).unknown(s)},gu.apply(i,arguments)}function qZ(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Kb(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=r?[s[r-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return qZ().domain([e,t]).range(a).unknown(i)},gu.apply(up(o),arguments)}function zZ(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[Kb(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return zZ().domain(e).range(t).unknown(r)},gu.apply(a,arguments)}const xE=new Date,yE=new Date;function ji(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ji(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(xE.setTime(+i),yE.setTime(+o),e(xE),e(yE),Math.floor(r(xE,yE))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const RN=ji(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);RN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ji(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):RN);RN.range;const Jh=1e3,tu=Jh*60,Xh=tu*60,df=Xh*24,yR=df*7,e9=df*30,wE=df*365,hg=ji(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jh)},(e,t)=>(t-e)/Jh,e=>e.getUTCSeconds());hg.range;const wR=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jh)},(e,t)=>{e.setTime(+e+t*tu)},(e,t)=>(t-e)/tu,e=>e.getMinutes());wR.range;const bR=ji(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*tu)},(e,t)=>(t-e)/tu,e=>e.getUTCMinutes());bR.range;const jR=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jh-e.getMinutes()*tu)},(e,t)=>{e.setTime(+e+t*Xh)},(e,t)=>(t-e)/Xh,e=>e.getHours());jR.range;const NR=ji(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xh)},(e,t)=>(t-e)/Xh,e=>e.getUTCHours());NR.range;const Xb=ji(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tu)/df,e=>e.getDate()-1);Xb.range;const _S=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/df,e=>e.getUTCDate()-1);_S.range;const WZ=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/df,e=>Math.floor(e/df));WZ.range;function sv(e){return ji(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*tu)/yR)}const SS=sv(0),DN=sv(1),CEe=sv(2),EEe=sv(3),ly=sv(4),AEe=sv(5),PEe=sv(6);SS.range;DN.range;CEe.range;EEe.range;ly.range;AEe.range;PEe.range;function av(e){return ji(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/yR)}const kS=av(0),MN=av(1),TEe=av(2),OEe=av(3),cy=av(4),IEe=av(5),REe=av(6);kS.range;MN.range;TEe.range;OEe.range;cy.range;IEe.range;REe.range;const _R=ji(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_R.range;const SR=ji(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SR.range;const hf=ji(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hf.range;const ff=ji(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ff.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ff.range;function VZ(e,t,r,s,a,i){const o=[[hg,1,Jh],[hg,5,5*Jh],[hg,15,15*Jh],[hg,30,30*Jh],[i,1,tu],[i,5,5*tu],[i,15,15*tu],[i,30,30*tu],[a,1,Xh],[a,3,3*Xh],[a,6,6*Xh],[a,12,12*Xh],[s,1,df],[s,2,2*df],[r,1,yR],[t,1,e9],[t,3,3*e9],[e,1,wE]];function l(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const f=h&&typeof h.range=="function"?h:c(u,d,h),x=f?f.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,h){const m=Math.abs(d-u)/h,f=iR(([,,g])=>g).right(o,m);if(f===o.length)return e.every(UT(u/wE,d/wE,h));if(f===0)return RN.every(Math.max(UT(u,d,h),1));const[x,v]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return x.every(v)}return[l,c]}const[DEe,MEe]=VZ(ff,SR,kS,WZ,NR,bR),[LEe,FEe]=VZ(hf,_R,SS,Xb,jR,wR);function bE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function H0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function BEe(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=G0(a),d=K0(a),h=G0(i),m=K0(i),f=G0(o),x=K0(o),v=G0(l),g=K0(l),y=G0(c),j=K0(c),b={a:U,A:K,b:ee,B:X,c:null,d:i9,e:i9,f:lAe,g:xAe,G:wAe,H:aAe,I:iAe,j:oAe,L:HZ,m:cAe,M:uAe,p:B,q:D,Q:c9,s:u9,S:dAe,u:hAe,U:fAe,V:mAe,w:pAe,W:gAe,x:null,X:null,y:vAe,Y:yAe,Z:bAe,"%":l9},_={a:Q,A:ie,b:te,B:he,c:null,d:o9,e:o9,f:SAe,g:DAe,G:LAe,H:jAe,I:NAe,j:_Ae,L:KZ,m:kAe,M:CAe,p:W,q:V,Q:c9,s:u9,S:EAe,u:AAe,U:PAe,V:TAe,w:OAe,W:IAe,x:null,X:null,y:RAe,Y:MAe,Z:FAe,"%":l9},S={a:q,A:M,b:C,B:I,c:O,d:s9,e:s9,f:tAe,g:n9,G:r9,H:a9,I:a9,j:XEe,L:eAe,m:JEe,M:QEe,p:E,q:YEe,Q:nAe,s:sAe,S:ZEe,u:WEe,U:VEe,V:HEe,w:zEe,W:GEe,x:H,X:re,y:n9,Y:r9,Z:KEe,"%":rAe};b.x=T(r,b),b.X=T(s,b),b.c=T(t,b),_.x=T(r,_),_.X=T(s,_),_.c=T(t,_);function T(oe,me){return function(de){var ue=[],Pe=-1,G=0,pe=oe.length,ce,$,z;for(de instanceof Date||(de=new Date(+de));++Pe<pe;)oe.charCodeAt(Pe)===37&&(ue.push(oe.slice(G,Pe)),($=t9[ce=oe.charAt(++Pe)])!=null?ce=oe.charAt(++Pe):$=ce==="e"?" ":"0",(z=me[ce])&&(ce=z(de,$)),ue.push(ce),G=Pe+1);return ue.push(oe.slice(G,Pe)),ue.join("")}}function A(oe,me){return function(de){var ue=H0(1900,void 0,1),Pe=L(ue,oe,de+="",0),G,pe;if(Pe!=de.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(me&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(G=jE(H0(ue.y,0,1)),pe=G.getUTCDay(),G=pe>4||pe===0?MN.ceil(G):MN(G),G=_S.offset(G,(ue.V-1)*7),ue.y=G.getUTCFullYear(),ue.m=G.getUTCMonth(),ue.d=G.getUTCDate()+(ue.w+6)%7):(G=bE(H0(ue.y,0,1)),pe=G.getDay(),G=pe>4||pe===0?DN.ceil(G):DN(G),G=Xb.offset(G,(ue.V-1)*7),ue.y=G.getFullYear(),ue.m=G.getMonth(),ue.d=G.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),pe="Z"in ue?jE(H0(ue.y,0,1)).getUTCDay():bE(H0(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(pe+5)%7:ue.w+ue.U*7-(pe+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,jE(ue)):bE(ue)}}function L(oe,me,de,ue){for(var Pe=0,G=me.length,pe=de.length,ce,$;Pe<G;){if(ue>=pe)return-1;if(ce=me.charCodeAt(Pe++),ce===37){if(ce=me.charAt(Pe++),$=S[ce in t9?me.charAt(Pe++):ce],!$||(ue=$(oe,de,ue))<0)return-1}else if(ce!=de.charCodeAt(ue++))return-1}return ue}function E(oe,me,de){var ue=u.exec(me.slice(de));return ue?(oe.p=d.get(ue[0].toLowerCase()),de+ue[0].length):-1}function q(oe,me,de){var ue=f.exec(me.slice(de));return ue?(oe.w=x.get(ue[0].toLowerCase()),de+ue[0].length):-1}function M(oe,me,de){var ue=h.exec(me.slice(de));return ue?(oe.w=m.get(ue[0].toLowerCase()),de+ue[0].length):-1}function C(oe,me,de){var ue=y.exec(me.slice(de));return ue?(oe.m=j.get(ue[0].toLowerCase()),de+ue[0].length):-1}function I(oe,me,de){var ue=v.exec(me.slice(de));return ue?(oe.m=g.get(ue[0].toLowerCase()),de+ue[0].length):-1}function O(oe,me,de){return L(oe,t,me,de)}function H(oe,me,de){return L(oe,r,me,de)}function re(oe,me,de){return L(oe,s,me,de)}function U(oe){return o[oe.getDay()]}function K(oe){return i[oe.getDay()]}function ee(oe){return c[oe.getMonth()]}function X(oe){return l[oe.getMonth()]}function B(oe){return a[+(oe.getHours()>=12)]}function D(oe){return 1+~~(oe.getMonth()/3)}function Q(oe){return o[oe.getUTCDay()]}function ie(oe){return i[oe.getUTCDay()]}function te(oe){return c[oe.getUTCMonth()]}function he(oe){return l[oe.getUTCMonth()]}function W(oe){return a[+(oe.getUTCHours()>=12)]}function V(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var me=T(oe+="",b);return me.toString=function(){return oe},me},parse:function(oe){var me=A(oe+="",!1);return me.toString=function(){return oe},me},utcFormat:function(oe){var me=T(oe+="",_);return me.toString=function(){return oe},me},utcParse:function(oe){var me=A(oe+="",!0);return me.toString=function(){return oe},me}}}var t9={"-":"",_:" ",0:"0"},Wi=/^\s*\d+/,UEe=/^%/,$Ee=/[\\^$*+?|[\]().{}]/g;function qn(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function qEe(e){return e.replace($Ee,"\\$&")}function G0(e){return new RegExp("^(?:"+e.map(qEe).join("|")+")","i")}function K0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zEe(e,t,r){var s=Wi.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function WEe(e,t,r){var s=Wi.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function VEe(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function HEe(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function GEe(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function r9(e,t,r){var s=Wi.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function n9(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function KEe(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function YEe(e,t,r){var s=Wi.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function JEe(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function s9(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function XEe(e,t,r){var s=Wi.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function a9(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function QEe(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function ZEe(e,t,r){var s=Wi.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function eAe(e,t,r){var s=Wi.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function tAe(e,t,r){var s=Wi.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function rAe(e,t,r){var s=UEe.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function nAe(e,t,r){var s=Wi.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function sAe(e,t,r){var s=Wi.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function i9(e,t){return qn(e.getDate(),t,2)}function aAe(e,t){return qn(e.getHours(),t,2)}function iAe(e,t){return qn(e.getHours()%12||12,t,2)}function oAe(e,t){return qn(1+Xb.count(hf(e),e),t,3)}function HZ(e,t){return qn(e.getMilliseconds(),t,3)}function lAe(e,t){return HZ(e,t)+"000"}function cAe(e,t){return qn(e.getMonth()+1,t,2)}function uAe(e,t){return qn(e.getMinutes(),t,2)}function dAe(e,t){return qn(e.getSeconds(),t,2)}function hAe(e){var t=e.getDay();return t===0?7:t}function fAe(e,t){return qn(SS.count(hf(e)-1,e),t,2)}function GZ(e){var t=e.getDay();return t>=4||t===0?ly(e):ly.ceil(e)}function mAe(e,t){return e=GZ(e),qn(ly.count(hf(e),e)+(hf(e).getDay()===4),t,2)}function pAe(e){return e.getDay()}function gAe(e,t){return qn(DN.count(hf(e)-1,e),t,2)}function vAe(e,t){return qn(e.getFullYear()%100,t,2)}function xAe(e,t){return e=GZ(e),qn(e.getFullYear()%100,t,2)}function yAe(e,t){return qn(e.getFullYear()%1e4,t,4)}function wAe(e,t){var r=e.getDay();return e=r>=4||r===0?ly(e):ly.ceil(e),qn(e.getFullYear()%1e4,t,4)}function bAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qn(t/60|0,"0",2)+qn(t%60,"0",2)}function o9(e,t){return qn(e.getUTCDate(),t,2)}function jAe(e,t){return qn(e.getUTCHours(),t,2)}function NAe(e,t){return qn(e.getUTCHours()%12||12,t,2)}function _Ae(e,t){return qn(1+_S.count(ff(e),e),t,3)}function KZ(e,t){return qn(e.getUTCMilliseconds(),t,3)}function SAe(e,t){return KZ(e,t)+"000"}function kAe(e,t){return qn(e.getUTCMonth()+1,t,2)}function CAe(e,t){return qn(e.getUTCMinutes(),t,2)}function EAe(e,t){return qn(e.getUTCSeconds(),t,2)}function AAe(e){var t=e.getUTCDay();return t===0?7:t}function PAe(e,t){return qn(kS.count(ff(e)-1,e),t,2)}function YZ(e){var t=e.getUTCDay();return t>=4||t===0?cy(e):cy.ceil(e)}function TAe(e,t){return e=YZ(e),qn(cy.count(ff(e),e)+(ff(e).getUTCDay()===4),t,2)}function OAe(e){return e.getUTCDay()}function IAe(e,t){return qn(MN.count(ff(e)-1,e),t,2)}function RAe(e,t){return qn(e.getUTCFullYear()%100,t,2)}function DAe(e,t){return e=YZ(e),qn(e.getUTCFullYear()%100,t,2)}function MAe(e,t){return qn(e.getUTCFullYear()%1e4,t,4)}function LAe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?cy(e):cy.ceil(e),qn(e.getUTCFullYear()%1e4,t,4)}function FAe(){return"+0000"}function l9(){return"%"}function c9(e){return+e}function u9(e){return Math.floor(+e/1e3)}var ex,JZ,XZ;BAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BAe(e){return ex=BEe(e),JZ=ex.format,ex.parse,XZ=ex.utcFormat,ex.utcParse,ex}function UAe(e){return new Date(e)}function $Ae(e){return e instanceof Date?+e:+new Date(+e)}function kR(e,t,r,s,a,i,o,l,c,u){var d=hR(),h=d.invert,m=d.domain,f=u(".%L"),x=u(":%S"),v=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),j=u("%b %d"),b=u("%B"),_=u("%Y");function S(T){return(c(T)<T?f:l(T)<T?x:o(T)<T?v:i(T)<T?g:s(T)<T?a(T)<T?y:j:r(T)<T?b:_)(T)}return d.invert=function(T){return new Date(h(T))},d.domain=function(T){return arguments.length?m(Array.from(T,$Ae)):m().map(UAe)},d.ticks=function(T){var A=m();return e(A[0],A[A.length-1],T??10)},d.tickFormat=function(T,A){return A==null?S:u(A)},d.nice=function(T){var A=m();return(!T||typeof T.range!="function")&&(T=t(A[0],A[A.length-1],T??10)),T?m(LZ(A,T)):d},d.copy=function(){return Jb(d,kR(e,t,r,s,a,i,o,l,c,u))},d}function qAe(){return gu.apply(kR(LEe,FEe,hf,_R,SS,Xb,jR,wR,hg,JZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zAe(){return gu.apply(kR(DEe,MEe,ff,SR,kS,_S,NR,bR,hg,XZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function CS(){var e=0,t=1,r,s,a,i,o=Jo,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(m){var f,x;return arguments.length?([f,x]=m,o=h(f,x),u):[o(0),o(1)]}}return u.range=d(Ky),u.rangeRound=d(dR),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(e),s=h(t),a=r===s?0:1/(s-r),u}}function dp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QZ(){var e=up(CS()(Jo));return e.copy=function(){return dp(e,QZ())},_f.apply(e,arguments)}function ZZ(){var e=pR(CS()).domain([1,10]);return e.copy=function(){return dp(e,ZZ()).base(e.base())},_f.apply(e,arguments)}function eee(){var e=gR(CS());return e.copy=function(){return dp(e,eee()).constant(e.constant())},_f.apply(e,arguments)}function CR(){var e=vR(CS());return e.copy=function(){return dp(e,CR()).exponent(e.exponent())},_f.apply(e,arguments)}function WAe(){return CR.apply(null,arguments).exponent(.5)}function tee(){var e=[],t=Jo;function r(s){if(s!=null&&!isNaN(s=+s))return t((Kb(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Bm),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>ACe(e,i/s))},r.copy=function(){return tee(t).domain(e)},_f.apply(r,arguments)}function ES(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,u=Jo,d,h=!1,m;function f(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-i)*(s*v<s*i?l:c),u(h?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[e,t,r]},f.clamp=function(v){return arguments.length?(h=!!v,f):h},f.interpolator=function(v){return arguments.length?(u=v,f):u};function x(v){return function(g){var y,j,b;return arguments.length?([y,j,b]=g,u=rEe(v,[y,j,b]),f):[u(0),u(.5),u(1)]}}return f.range=x(Ky),f.rangeRound=x(dR),f.unknown=function(v){return arguments.length?(m=v,f):m},function(v){return d=v,a=v(e),i=v(t),o=v(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function ree(){var e=up(ES()(Jo));return e.copy=function(){return dp(e,ree())},_f.apply(e,arguments)}function nee(){var e=pR(ES()).domain([.1,1,10]);return e.copy=function(){return dp(e,nee()).base(e.base())},_f.apply(e,arguments)}function see(){var e=gR(ES());return e.copy=function(){return dp(e,see()).constant(e.constant())},_f.apply(e,arguments)}function ER(){var e=vR(ES());return e.copy=function(){return dp(e,ER()).exponent(e.exponent())},_f.apply(e,arguments)}function VAe(){return ER.apply(null,arguments).exponent(.5)}const fw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lR,scaleDiverging:ree,scaleDivergingLog:nee,scaleDivergingPow:ER,scaleDivergingSqrt:VAe,scaleDivergingSymlog:see,scaleIdentity:MZ,scaleImplicit:$T,scaleLinear:DZ,scaleLog:FZ,scaleOrdinal:oR,scalePoint:OCe,scalePow:xR,scaleQuantile:$Z,scaleQuantize:qZ,scaleRadial:UZ,scaleSequential:QZ,scaleSequentialLog:ZZ,scaleSequentialPow:CR,scaleSequentialQuantile:tee,scaleSequentialSqrt:WAe,scaleSequentialSymlog:eee,scaleSqrt:SEe,scaleSymlog:BZ,scaleThreshold:zZ,scaleTime:qAe,scaleUtc:zAe,tickFormat:RZ},Symbol.toStringTag,{value:"Module"}));var hp=e=>e.chartData,AR=rt([hp],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Qb=(e,t,r,s)=>s?AR(e):hp(e);function Hg(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ui(t)&&ui(r))return!0}return!1}function d9(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function aee(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,s]=e,a,i;if(ui(r))a=r;else if(typeof r=="function")return;if(ui(s))i=s;else if(typeof s=="function")return;var o=[a,i];if(Hg(o))return o}}function HAe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var s=e(t,r);if(Hg(s))return d9(s,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ur(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&K7.test(a)){var c=K7.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ur(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Y7.test(i)){var d=Y7.exec(i);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[1]+h}}else l=t==null?void 0:t[1];var m=[o,l];if(Hg(m))return t==null?m:d9(m,t,r)}}}var Yy=1e9,GAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TR,ta=!0,uu="[DecimalError] ",Pg=uu+"Invalid argument: ",PR=uu+"Exponent out of range: ",Jy=Math.floor,ng=Math.pow,KAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ac,Li=1e7,qs=7,iee=9007199254740991,LN=Jy(iee/qs),rr={};rr.absoluteValue=rr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rr.comparedTo=rr.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};rr.decimalPlaces=rr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qs;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};rr.dividedBy=rr.div=function(e){return tf(this,new this.constructor(e))};rr.dividedToIntegerBy=rr.idiv=function(e){var t=this,r=t.constructor;return ks(tf(t,new r(e),0,1),r.precision)};rr.equals=rr.eq=function(e){return!this.cmp(e)};rr.exponent=function(){return ci(this)};rr.greaterThan=rr.gt=function(e){return this.cmp(e)>0};rr.greaterThanOrEqualTo=rr.gte=function(e){return this.cmp(e)>=0};rr.isInteger=rr.isint=function(){return this.e>this.d.length-2};rr.isNegative=rr.isneg=function(){return this.s<0};rr.isPositive=rr.ispos=function(){return this.s>0};rr.isZero=function(){return this.s===0};rr.lessThan=rr.lt=function(e){return this.cmp(e)<0};rr.lessThanOrEqualTo=rr.lte=function(e){return this.cmp(e)<1};rr.logarithm=rr.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(ac))throw Error(uu+"NaN");if(r.s<1)throw Error(uu+(r.s?"NaN":"-Infinity"));return r.eq(ac)?new s(0):(ta=!1,t=tf(ob(r,i),ob(e,i),i),ta=!0,ks(t,a))};rr.minus=rr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cee(t,e):oee(t,(e.s=-e.s,e))};rr.modulo=rr.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(uu+"NaN");return r.s?(ta=!1,t=tf(r,e,0,1).times(e),ta=!0,r.minus(t)):ks(new s(r),a)};rr.naturalExponential=rr.exp=function(){return lee(this)};rr.naturalLogarithm=rr.ln=function(){return ob(this)};rr.negated=rr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rr.plus=rr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oee(t,e):cee(t,(e.s=-e.s,e))};rr.precision=rr.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pg+e);if(t=ci(a)+1,s=a.d.length-1,r=s*qs+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};rr.squareRoot=rr.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(uu+"NaN")}for(e=ci(l),ta=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Fd(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Jy((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(tf(l,i,o+2)).times(.5),Fd(i.d).slice(0,o)===(t=Fd(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ks(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return ta=!0,ks(s,r)};rr.times=rr.mul=function(e){var t,r,s,a,i,o,l,c,u,d=this,h=d.constructor,m=d.d,f=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=f.length,c<u&&(i=m,m=f,f=i,o=c,c=u,u=o),i=[],o=c+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+f[s]*m[a-s-1]+t,i[a--]=l%Li|0,t=l/Li|0;i[a]=(i[a]+t)%Li|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ta?ks(e,h.precision):e};rr.toDecimalPlaces=rr.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Yd(e,0,Yy),t===void 0?t=s.rounding:Yd(t,0,8),ks(r,e+ci(r)+1,t))};rr.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Gg(s,!0):(Yd(e,0,Yy),t===void 0?t=a.rounding:Yd(t,0,8),s=ks(new a(s),e+1,t),r=Gg(s,!0,e+1)),r};rr.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Gg(a):(Yd(e,0,Yy),t===void 0?t=i.rounding:Yd(t,0,8),s=ks(new i(a),e+ci(a)+1,t),r=Gg(s.abs(),!1,e+ci(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};rr.toInteger=rr.toint=function(){var e=this,t=e.constructor;return ks(new t(e),ci(e)+1,t.rounding)};rr.toNumber=function(){return+this};rr.toPower=rr.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ac);if(l=new c(l),!l.s){if(e.s<1)throw Error(uu+"Infinity");return l}if(l.eq(ac))return l;if(s=c.precision,e.eq(ac))return ks(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=iee){for(a=new c(ac),t=Math.ceil(s/qs+4),ta=!1;r%2&&(a=a.times(l),f9(a.d,t)),r=Jy(r/2),r!==0;)l=l.times(l),f9(l.d,t);return ta=!0,e.s<0?new c(ac).div(a):ks(a,s)}}else if(i<0)throw Error(uu+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ta=!1,a=e.times(ob(l,s+u)),ta=!0,a=lee(a),a.s=i,a};rr.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=ci(a),s=Gg(a,r<=i.toExpNeg||r>=i.toExpPos)):(Yd(e,1,Yy),t===void 0?t=i.rounding:Yd(t,0,8),a=ks(new i(a),e,t),r=ci(a),s=Gg(a,e<=r||r<=i.toExpNeg,e)),s};rr.toSignificantDigits=rr.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Yd(e,1,Yy),t===void 0?t=s.rounding:Yd(t,0,8)),ks(new s(r),e,t)};rr.toString=rr.valueOf=rr.val=rr.toJSON=rr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ci(e),r=e.constructor;return Gg(e,t<=r.toExpNeg||t>=r.toExpPos)};function oee(e,t){var r,s,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ta?ks(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=u.length):(s=u,a=o,l=c.length),o=Math.ceil(h/qs),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,s=u,u=c,c=s),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Li|0,c[i]%=Li;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ta?ks(t,h):t}function Yd(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Pg+e)}function Fd(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=qs-s.length,r&&(i+=fm(r)),i+=s;o=e[t],s=o+"",r=qs-s.length,r&&(i+=fm(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var tf=(function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Li|0,o=i/Li|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Li+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,u,d,h,m,f,x,v,g,y,j,b,_,S,T,A,L,E=s.constructor,q=s.s==a.s?1:-1,M=s.d,C=a.d;if(!s.s)return new E(s);if(!a.s)throw Error(uu+"Division by zero");for(c=s.e-a.e,A=C.length,S=M.length,f=new E(q),x=f.d=[],u=0;C[u]==(M[u]||0);)++u;if(C[u]>(M[u]||0)&&--c,i==null?j=i=E.precision:o?j=i+(ci(s)-ci(a))+1:j=i,j<0)return new E(0);if(j=j/qs+2|0,u=0,A==1)for(d=0,C=C[0],j++;(u<S||d)&&j--;u++)b=d*Li+(M[u]||0),x[u]=b/C|0,d=b%C|0;else{for(d=Li/(C[0]+1)|0,d>1&&(C=e(C,d),M=e(M,d),A=C.length,S=M.length),_=A,v=M.slice(0,A),g=v.length;g<A;)v[g++]=0;L=C.slice(),L.unshift(0),T=C[0],C[1]>=Li/2&&++T;do d=0,l=t(C,v,A,g),l<0?(y=v[0],A!=g&&(y=y*Li+(v[1]||0)),d=y/T|0,d>1?(d>=Li&&(d=Li-1),h=e(C,d),m=h.length,g=v.length,l=t(h,v,m,g),l==1&&(d--,r(h,A<m?L:C,m))):(d==0&&(l=d=1),h=C.slice()),m=h.length,m<g&&h.unshift(0),r(v,h,g),l==-1&&(g=v.length,l=t(C,v,A,g),l<1&&(d++,r(v,A<g?L:C,g))),g=v.length):l===0&&(d++,v=[0]),x[u++]=d,l&&v[0]?v[g++]=M[_]||0:(v=[M[_]],g=1);while((_++<S||v[0]!==void 0)&&j--)}return x[0]||x.shift(),f.e=c,ks(f,o?i+ci(f)+1:i)}})();function lee(e,t){var r,s,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(ci(e)>16)throw Error(PR+ci(e));if(!e.s)return new d(ac);for(ta=!1,l=h,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(ng(2,u))/Math.LN10*2+5|0,l+=s,r=a=i=new d(ac),d.precision=l;;){if(a=ks(a.times(e),l),r=r.times(++c),o=i.plus(tf(a,r,l)),Fd(o.d).slice(0,l)===Fd(i.d).slice(0,l)){for(;u--;)i=ks(i.times(i),l);return d.precision=h,t==null?(ta=!0,ks(i,h)):i}i=o}}function ci(e){for(var t=e.e*qs,r=e.d[0];r>=10;r/=10)t++;return t}function NE(e,t,r){if(t>e.LN10.sd())throw ta=!0,r&&(e.precision=r),Error(uu+"LN10 precision limit exceeded");return ks(new e(e.LN10),t)}function fm(e){for(var t="";e--;)t+="0";return t}function ob(e,t){var r,s,a,i,o,l,c,u,d,h=1,m=10,f=e,x=f.d,v=f.constructor,g=v.precision;if(f.s<1)throw Error(uu+(f.s?"NaN":"-Infinity"));if(f.eq(ac))return new v(0);if(t==null?(ta=!1,u=g):u=t,f.eq(10))return t==null&&(ta=!0),NE(v,u);if(u+=m,v.precision=u,r=Fd(x),s=r.charAt(0),i=ci(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)f=f.times(e),r=Fd(f.d),s=r.charAt(0),h++;i=ci(f),s>1?(f=new v("0."+r),i++):f=new v(s+"."+r.slice(1))}else return c=NE(v,u+2,g).times(i+""),f=ob(new v(s+"."+r.slice(1)),u-m).plus(c),v.precision=g,t==null?(ta=!0,ks(f,g)):f;for(l=o=f=tf(f.minus(ac),f.plus(ac),u),d=ks(f.times(f),u),a=3;;){if(o=ks(o.times(d),u),c=l.plus(tf(o,new v(a),u)),Fd(c.d).slice(0,u)===Fd(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(NE(v,u+2,g).times(i+""))),l=tf(l,new v(h),u),v.precision=g,t==null?(ta=!0,ks(l,g)):l;l=c,a+=2}}function h9(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=Jy(r/qs),e.d=[],s=(r+1)%qs,r<0&&(s+=qs),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=qs;s<a;)e.d.push(+t.slice(s,s+=qs));t=t.slice(s),s=qs-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),ta&&(e.e>LN||e.e<-LN))throw Error(PR+r)}else e.s=0,e.e=0,e.d=[0];return e}function ks(e,t,r){var s,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=qs,a=t,u=h[d=0];else{if(d=Math.ceil((s+1)/qs),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;s%=qs,a=s-qs+o}if(r!==void 0&&(i=ng(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?u/ng(10,o-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=ci(e),h.length=1,t=t-i-1,h[0]=ng(10,(qs-t%qs)%qs),e.e=Jy(-t/qs)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(s==0?(h.length=d,i=1,d--):(h.length=d+1,i=ng(10,qs-s),h[d]=a>0?(u/ng(10,o-a)%ng(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Li&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Li)break;h[d--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(ta&&(e.e>LN||e.e<-LN))throw Error(PR+ci(e));return e}function cee(e,t){var r,s,a,i,o,l,c,u,d,h,m=e.constructor,f=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),ta?ks(t,f):t;if(c=e.d,h=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,s=u,l=c.length),a=Math.max(Math.ceil(f/qs),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Li-1;--c[i],c[a]+=Li}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,ta?ks(t,f):t):new m(0)}function Gg(e,t,r){var s,a=ci(e),i=Fd(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+fm(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+fm(-a-1)+i,r&&(s=r-o)>0&&(i+=fm(s))):a>=o?(i+=fm(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+fm(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=fm(s))),e.s<0?"-"+i:i}function f9(e,t){if(e.length>t)return e.length=t,!0}function uee(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Pg+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return h9(o,i.toString())}else if(typeof i!="string")throw Error(Pg+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,KAe.test(i))h9(o,i);else throw Error(Pg+i)}if(a.prototype=rr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=uee,a.config=a.set=YAe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function YAe(e){if(!e||typeof e!="object")throw Error(uu+"Object expected");var t,r,s,a=["precision",1,Yy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(Jy(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(Pg+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(Pg+r+": "+s);return this}var TR=uee(GAe);ac=new TR(1);const us=TR;var JAe=e=>e,dee={},hee=e=>e===dee,m9=e=>function t(){return arguments.length===0||arguments.length===1&&hee(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},fee=(e,t)=>e===1?t:m9(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var i=s.filter(o=>o!==dee).length;return i>=e?t(...s):fee(e-i,m9(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=s.map(d=>hee(d)?l.shift():d);return t(...u,...l)}))}),AS=e=>fee(e.length,e),VT=(e,t)=>{for(var r=[],s=e;s<t;++s)r[s-e]=s;return r},XAe=AS((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QAe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return JAe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},HT=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),mee=e=>{var t=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function pee(e){var t;return e===0?t=1:t=Math.floor(new us(e).abs().log(10).toNumber())+1,t}function gee(e,t,r){for(var s=new us(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}AS((e,t,r)=>{var s=+e,a=+t;return s+r*(a-s)});AS((e,t,r)=>{var s=t-+e;return s=s||1/0,(r-e)/s});AS((e,t,r)=>{var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});var vee=e=>{var[t,r]=e,[s,a]=[t,r];return t>r&&([s,a]=[r,t]),[s,a]},xee=(e,t,r)=>{if(e.lte(0))return new us(0);var s=pee(e.toNumber()),a=new us(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new us(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new us(c.toNumber()):new us(Math.ceil(c.toNumber()))},ZAe=(e,t,r)=>{var s=new us(1),a=new us(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new us(10).pow(pee(e)-1),a=new us(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new us(Math.floor(e)))}else e===0?a=new us(Math.floor((t-1)/2)):r||(a=new us(Math.floor(e)));var o=Math.floor((t-1)/2),l=QAe(XAe(c=>a.add(new us(c-o).mul(s)).toNumber()),VT);return l(0,t)},yee=function(t,r,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(s-1)))return{step:new us(0),tickMin:new us(0),tickMax:new us(0)};var o=xee(new us(r).sub(t).div(s-1),a,i),l;t<=0&&r>=0?l=new us(0):(l=new us(t).add(r).div(2),l=l.sub(new us(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new us(r).sub(l).div(o).toNumber()),d=c+u+1;return d>s?yee(t,r,s,a,i+1):(d<s&&(u=r>0?u+(s-d):u,c=r>0?c:c+(s-d)),{step:o,tickMin:l.sub(new us(c).mul(o)),tickMax:l.add(new us(u).mul(o))})};function e4e(e){var[t,r]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[o,l]=vee([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...VT(0,s-1).map(()=>1/0)]:[...VT(0,s-1).map(()=>-1/0),l];return t>r?HT(c):c}if(o===l)return ZAe(o,s,a);var{step:u,tickMin:d,tickMax:h}=yee(o,l,i,a,0),m=gee(d,h.add(new us(.1).mul(u)),u);return t>r?HT(m):m}function t4e(e,t){var[r,s]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=vee([r,s]);if(i===-1/0||o===1/0)return[r,s];if(i===o)return[i];var l=Math.max(t,2),c=xee(new us(o).sub(i).div(l-1),a,0),u=[...gee(new us(i),new us(o),c),o];return a===!1&&(u=u.map(d=>Math.round(d))),r>s?HT(u):u}var r4e=mee(e4e),n4e=mee(t4e),wee=e=>e.rootProps.maxBarSize,s4e=e=>e.rootProps.barGap,bee=e=>e.rootProps.barCategoryGap,a4e=e=>e.rootProps.barSize,Zb=e=>e.rootProps.stackOffset,OR=e=>e.options.chartName,IR=e=>e.rootProps.syncId,jee=e=>e.rootProps.syncMethod,RR=e=>e.options.eventEmitter,Gh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},PS=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},i4e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gh.angleAxisId,includeHidden:!1,name:void 0,reversed:Gh.reversed,scale:Gh.scale,tick:Gh.tick,tickCount:void 0,ticks:void 0,type:Gh.type,unit:void 0},o4e={allowDataOverflow:Zl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zl.scale,tick:Zl.tick,tickCount:Zl.tickCount,ticks:void 0,type:Zl.type,unit:void 0},l4e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gh.scale,tick:Gh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},c4e={allowDataOverflow:Zl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zl.scale,tick:Zl.tick,tickCount:Zl.tickCount,ticks:void 0,type:"category",unit:void 0},DR=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?l4e:i4e,MR=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?c4e:o4e,TS=e=>e.polarOptions,LR=rt([bf,jf,wi],eZ),Nee=rt([TS,LR],(e,t)=>{if(e!=null)return To(e.innerRadius,t,0)}),_ee=rt([TS,LR],(e,t)=>{if(e!=null)return To(e.outerRadius,t,t*.8)}),u4e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},See=rt([TS],u4e);rt([DR,See],PS);var kee=rt([LR,Nee,_ee],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});rt([MR,kee],PS);var Cee=rt([_n,TS,Nee,_ee,bf,jf],(e,t,r,s,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||s==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:To(o,a,a/2),cy:To(l,i,i/2),innerRadius:r,outerRadius:s,startAngle:c,endAngle:u,clockWise:!1}}}),na=(e,t)=>t,e1=(e,t,r)=>r;function OS(e){return e==null?void 0:e.id}var Ni=e=>{var t=_n(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Xy=e=>e.tooltip.settings.axisId,_i=e=>{var t=Ni(e),r=Xy(e);return t1(e,t,r)},Eee=rt([_i],e=>e==null?void 0:e.dataKey);function Aee(e,t,r){var{chartData:s=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:s;if(!(u==null||u.length===0)){var d=OS(l);u.forEach((h,m)=>{var f=i==null||a?m:String(ws(h,i,null)),x=ws(h,l.dataKey,0),v;o.has(f)?v=o.get(f):v={},Object.assign(v,{[d]:x}),o.set(f,v)})}}),Array.from(o.values())}function IS(e){return e.stackId!=null&&e.dataKey!=null}var RS=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function DS(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function p9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function FN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p9(Object(r),!0).forEach(function(s){d4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function d4e(e,t,r){return(t=h4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4e(e){var t=f4e(e,"string");return typeof t=="symbol"?t:t+""}function f4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GT=[0,"auto"],Jl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Pee=(e,t)=>e.cartesianAxis.xAxis[t],Sf=(e,t)=>{var r=Pee(e,t);return r??Jl},Xl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:GT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hb},Tee=(e,t)=>e.cartesianAxis.yAxis[t],kf=(e,t)=>{var r=Tee(e,t);return r??Xl},m4e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FR=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??m4e},ba=(e,t,r)=>{switch(t){case"xAxis":return Sf(e,r);case"yAxis":return kf(e,r);case"zAxis":return FR(e,r);case"angleAxis":return DR(e,r);case"radiusAxis":return MR(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},p4e=(e,t,r)=>{switch(t){case"xAxis":return Sf(e,r);case"yAxis":return kf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},t1=(e,t,r)=>{switch(t){case"xAxis":return Sf(e,r);case"yAxis":return kf(e,r);case"angleAxis":return DR(e,r);case"radiusAxis":return MR(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Oee=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function BR(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var r1=e=>e.graphicalItems.cartesianItems,g4e=rt([na,e1],BR),UR=(e,t,r)=>e.filter(r).filter(s=>(t==null?void 0:t.includeHidden)===!0?!0:!s.hide),n1=rt([r1,ba,g4e],UR,{memoizeOptions:{resultEqualityCheck:DS}}),Iee=rt([n1],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(IS)),Ree=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),v4e=rt([n1],Ree),$R=e=>e.map(t=>t.data).filter(Boolean).flat(1),x4e=rt([n1],$R,{memoizeOptions:{resultEqualityCheck:DS}}),qR=(e,t)=>{var{chartData:r=[],dataStartIndex:s,dataEndIndex:a}=t;return e.length>0?e:r.slice(s,a+1)},zR=rt([x4e,Qb],qR),WR=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:ws(s,t.dataKey)})):r.length>0?r.map(s=>s.dataKey).flatMap(s=>e.map(a=>({value:ws(a,s)}))):e.map(s=>({value:s})),MS=rt([zR,ba,n1],WR);function Dee(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function N2(e){if(Kd(e)||e instanceof Date){var t=Number(e);if(ui(t))return t}}function g9(e){if(Array.isArray(e)){var t=[N2(e[0]),N2(e[1])];return Hg(t)?t:void 0}var r=N2(e);if(r!=null)return[r,r]}function Qy(e){return e.map(N2).filter(Dke)}function y4e(e,t,r){return!r||typeof t!="number"||yc(t)?[]:r.length?Qy(r.flatMap(s=>{var a=ws(e,s.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!ui(i)||!ui(o)))return[t-i,t+o]})):[]}var w4e=rt([Iee,Qb,_i],Aee),Mee=(e,t,r)=>{var s={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),s);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(OS);return[o,{stackedData:a5e(e,c,r),graphicalItems:l}]}))},lb=rt([w4e,Iee,Zb],Mee),Lee=(e,t,r,s)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(s==null&&r!=="zAxis"){var o=c5e(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},b4e=rt([ba],e=>e.allowDataOverflow),VR=e=>{var t;if(e==null||!("domain"in e))return GT;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Qy(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:GT},HR=rt([ba],VR),GR=rt([HR,b4e],aee),j4e=rt([lb,hp,na,GR],Lee,{memoizeOptions:{resultEqualityCheck:RS}}),LS=e=>e.errorBars,N4e=(e,t,r)=>e.flatMap(s=>t[s.id]).filter(Boolean).filter(s=>Dee(r,s)),BN=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},KR=(e,t,r,s,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,h=(u=s[c.id])===null||u===void 0?void 0:u.filter(y=>Dee(a,y)),m=ws(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),f=y4e(l,m,h);if(f.length>=2){var x=Math.min(...f),v=Math.max(...f);(i==null||x<i)&&(i=x),(o==null||v>o)&&(o=v)}var g=g9(m);g!=null&&(i=i==null?g[0]:Math.min(i,g[0]),o=o==null?g[1]:Math.max(o,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=g9(ws(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),ui(i)&&ui(o))return[i,o]},_4e=rt([zR,ba,v4e,LS,na],KR,{memoizeOptions:{resultEqualityCheck:RS}});function S4e(e){var{value:t}=e;if(Kd(t)||t instanceof Date)return t}var k4e=(e,t,r)=>{var s=e.map(S4e).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&uQ(s))?_Z(0,e.length):t.allowDuplicatedCategory?s:Array.from(new Set(s))},Fee=e=>e.referenceElements.dots,Zy=(e,t,r)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>t==="xAxis"?s.xAxisId===r:s.yAxisId===r),C4e=rt([Fee,na,e1],Zy),Bee=e=>e.referenceElements.areas,E4e=rt([Bee,na,e1],Zy),Uee=e=>e.referenceElements.lines,A4e=rt([Uee,na,e1],Zy),$ee=(e,t)=>{var r=Qy(e.map(s=>t==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},P4e=rt(C4e,na,$ee),qee=(e,t)=>{var r=Qy(e.flatMap(s=>[t==="xAxis"?s.x1:s.y1,t==="xAxis"?s.x2:s.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},T4e=rt([E4e,na],qee),zee=(e,t)=>{var r=Qy(e.map(s=>t==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},O4e=rt(A4e,na,zee),I4e=rt(P4e,O4e,T4e,(e,t,r)=>BN(e,r,t)),YR=(e,t,r,s,a,i,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?BN(s,i,a):BN(i,a);return HAe(t,u,e.allowDataOverflow)},R4e=rt([ba,HR,GR,j4e,_4e,I4e,_n,na],YR,{memoizeOptions:{resultEqualityCheck:RS}}),D4e=[0,1],JR=(e,t,r,s,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=th(t,i);return u&&l==null?_Z(0,r.length):c==="category"?k4e(s,e,u):a==="expand"?D4e:o}},XR=rt([ba,_n,zR,MS,Zb,na,R4e],JR),Wee=(e,t,r,s,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(qb(i));return l in fw?l:"point"}}},e0=rt([ba,_n,Oee,OR,na],Wee);function M4e(e){if(e!=null){if(e in fw)return fw[e]();var t="scale".concat(qb(e));if(t in fw)return fw[t]()}}function QR(e,t,r,s){if(!(r==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(s);var a=M4e(t);if(a!=null){var i=a.domain(r).range(s);return e5e(i),i}}}var ZR=(e,t,r)=>{var s=VR(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Hg(e))return r4e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hg(e))return n4e(e,t.tickCount,t.allowDecimals)}},eD=rt([XR,t1,e0],ZR),tD=(e,t,r,s)=>{if(s!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Hg(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},L4e=rt([ba,XR,eD,na],tD),F4e=rt(MS,ba,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,s=Array.from(Qy(e.map(l=>l.value))).sort((l,c)=>l-c);if(s.length<2)return 1/0;var a=s[s.length-1]-s[0];if(a===0)return 1/0;for(var i=0;i<s.length-1;i++){var o=s[i+1]-s[i];r=Math.min(r,o)}return r/a}}),Vee=rt(F4e,_n,bee,wi,(e,t,r,s)=>s,(e,t,r,s,a)=>{if(!ui(e))return 0;var i=t==="vertical"?s.height:s.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=To(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),B4e=(e,t)=>{var r=Sf(e,t);return r==null||typeof r.padding!="string"?0:Vee(e,"xAxis",t,r.padding)},U4e=(e,t)=>{var r=kf(e,t);return r==null||typeof r.padding!="string"?0:Vee(e,"yAxis",t,r.padding)},$4e=rt(Sf,B4e,(e,t)=>{var r,s;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((s=a.right)!==null&&s!==void 0?s:0)+t}}),q4e=rt(kf,U4e,(e,t)=>{var r,s;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((s=a.bottom)!==null&&s!==void 0?s:0)+t}}),z4e=rt([wi,$4e,wS,yS,(e,t,r)=>r],(e,t,r,s,a)=>{var{padding:i}=s;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),W4e=rt([wi,_n,q4e,wS,yS,(e,t,r)=>r],(e,t,r,s,a,i)=>{var{padding:o}=a;return i?[s.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),s1=(e,t,r,s)=>{var a;switch(t){case"xAxis":return z4e(e,r,s);case"yAxis":return W4e(e,r,s);case"zAxis":return(a=FR(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return See(e);case"radiusAxis":return kee(e,r);default:return}},Hee=rt([ba,s1],PS),t0=rt([ba,e0,L4e,Hee],QR);rt([n1,LS,na],N4e);function Gee(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var FS=(e,t)=>t,BS=(e,t,r)=>r,V4e=rt(vS,FS,BS,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(Gee)),H4e=rt(xS,FS,BS,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(Gee)),Kee=(e,t)=>({width:e.width,height:t.height}),G4e=(e,t)=>{var r=typeof t.width=="number"?t.width:Hb;return{width:r,height:e.height}},Yee=rt(wi,Sf,Kee),K4e=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Y4e=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},J4e=rt(jf,wi,V4e,FS,BS,(e,t,r,s,a)=>{var i={},o;return r.forEach(l=>{var c=Kee(t,l);o==null&&(o=K4e(t,s,e));var u=s==="top"&&!a||s==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),X4e=rt(bf,wi,H4e,FS,BS,(e,t,r,s,a)=>{var i={},o;return r.forEach(l=>{var c=G4e(t,l);o==null&&(o=Y4e(t,s,e));var u=s==="left"&&!a||s==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),Q4e=(e,t)=>{var r=Sf(e,t);if(r!=null)return J4e(e,r.orientation,r.mirror)},Z4e=rt([wi,Sf,Q4e,(e,t)=>t],(e,t,r,s)=>{if(t!=null){var a=r==null?void 0:r[s];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ePe=(e,t)=>{var r=kf(e,t);if(r!=null)return X4e(e,r.orientation,r.mirror)},tPe=rt([wi,kf,ePe,(e,t)=>t],(e,t,r,s)=>{if(t!=null){var a=r==null?void 0:r[s];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Jee=rt(wi,kf,(e,t)=>{var r=typeof t.width=="number"?t.width:Hb;return{width:r,height:e.height}}),v9=(e,t,r)=>{switch(t){case"xAxis":return Yee(e,r).width;case"yAxis":return Jee(e,r).height;default:return}},Xee=(e,t,r,s)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=th(e,s),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&uQ(c))return c}},rD=rt([_n,MS,ba,na],Xee),Qee=(e,t,r,s)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=th(e,s);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},nD=rt([_n,MS,t1,na],Qee),x9=rt([_n,p4e,e0,t0,rD,nD,s1,eD,na],(e,t,r,s,a,i,o,l,c)=>{if(t==null)return null;var u=th(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:s}}),rPe=(e,t,r,s,a,i,o,l,c)=>{if(!(t==null||s==null)){var u=th(e,c),{type:d,ticks:h,tickCount:m}=t,f=r==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,x=d==="category"&&s.bandwidth?s.bandwidth()/f:0;x=c==="angleAxis"&&i!=null&&i.length>=2?Ui(i[0]-i[1])*2*x:x;var v=h||a;if(v){var g=v.map((y,j)=>{var b=o?o.indexOf(y):y;return{index:j,coordinate:s(b)+x,value:y,offset:x}});return g.filter(y=>!yc(y.coordinate))}return u&&l?l.map((y,j)=>({coordinate:s(y)+x,value:y,index:j,offset:x})):s.ticks?s.ticks(m).map(y=>({coordinate:s(y)+x,value:y,offset:x})):s.domain().map((y,j)=>({coordinate:s(y)+x,value:o?o[y]:y,index:j,offset:x}))}},Zee=rt([_n,t1,e0,t0,eD,s1,rD,nD,na],rPe),nPe=(e,t,r,s,a,i,o)=>{if(!(t==null||r==null||s==null||s[0]===s[1])){var l=th(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(s==null?void 0:s.length)>=2?Ui(s[0]-s[1])*2*u:u,l&&i?i.map((d,h)=>({coordinate:r(d)+u,value:d,index:h,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,h)=>({coordinate:r(d)+u,value:a?a[d]:d,index:h,offset:u}))}},Jd=rt([_n,t1,t0,s1,rD,nD,na],nPe),Xd=rt(ba,t0,(e,t)=>{if(!(e==null||t==null))return FN(FN({},e),{},{scale:t})}),sPe=rt([ba,e0,XR,Hee],QR);rt((e,t,r)=>FR(e,r),sPe,(e,t)=>{if(!(e==null||t==null))return FN(FN({},e),{},{scale:t})});var aPe=rt([_n,vS,xS],(e,t,r)=>{switch(e){case"horizontal":return t.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ete=e=>e.options.defaultTooltipEventType,tte=e=>e.options.validateTooltipEventTypes;function rte(e,t,r){if(e==null)return t;var s=e?"axis":"item";return r==null?t:r.includes(s)?s:t}function sD(e,t){var r=ete(e),s=tte(e);return rte(t,r,s)}function iPe(e){return fr(t=>sD(t,e))}var nte=(e,t)=>{var r,s=Number(t);if(!(yc(s)||t==null))return s>=0?e==null||(r=e[s])===null||r===void 0?void 0:r.value:void 0},oPe=e=>e.tooltip.settings,vm={active:!1,index:null,dataKey:void 0,coordinate:void 0},lPe={itemInteraction:{click:vm,hover:vm},axisInteraction:{click:vm,hover:vm},keyboardInteraction:vm,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ste=Sc({name:"tooltip",initialState:lPe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Go()},removeTooltipEntrySettings:{reducer(e,t){var r=ef(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Go()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:cPe,removeTooltipEntrySettings:uPe,setTooltipSettingsState:dPe,setActiveMouseOverItemIndex:ate,mouseLeaveItem:hPe,mouseLeaveChart:ite,setActiveClickItemIndex:fPe,setMouseOverAxisIndex:ote,setMouseClickAxisIndex:mPe,setSyncInteraction:KT,setKeyboardInteraction:YT}=ste.actions,pPe=ste.reducer;function y9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y9(Object(r),!0).forEach(function(s){gPe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function gPe(e,t,r){return(t=vPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vPe(e){var t=xPe(e,"string");return typeof t=="symbol"?t:t+""}function xPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yPe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wPe(e){return e.index!=null}var lte=(e,t,r,s)=>{if(t==null)return vm;var a=yPe(e,t,r);if(a==null)return vm;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(wPe(a)){if(i)return Uj(Uj({},a),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return Uj(Uj({},vm),{},{coordinate:a.coordinate})},aD=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var s=Number(r);if(!ui(s))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(s,i)))},cte=(e,t,r,s,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(s.top+t)/2};default:return{x:(s.left+e)/2,y:d.coordinate}}}},ute=(e,t,r,s)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},a1=e=>e.options.tooltipPayloadSearcher,r0=e=>e.tooltip;function w9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function b9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w9(Object(r),!0).forEach(function(s){bPe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function bPe(e,t,r){return(t=jPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jPe(e){var t=NPe(e,"string");return typeof t=="symbol"?t:t+""}function NPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Pe(e,t){return e??t}var dte=(e,t,r,s,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return e.reduce((m,f)=>{var x,{dataDefinedOnItem:v,settings:g}=f,y=_Pe(v,l),j=Array.isArray(y)?tZ(y,u,d):y,b=(x=g==null?void 0:g.dataKey)!==null&&x!==void 0?x:s,_=g==null?void 0:g.nameKey,S;if(s&&Array.isArray(j)&&!Array.isArray(j[0])&&o==="axis"?S=dQ(j,s,a):S=i(j,t,c,_),Array.isArray(S))S.forEach(A=>{var L=b9(b9({},g),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});m.push(J7({tooltipEntrySettings:L,dataKey:A.dataKey,payload:A.payload,value:ws(A.payload,A.dataKey),name:A.name}))});else{var T;m.push(J7({tooltipEntrySettings:g,dataKey:b,payload:S,value:ws(S,b),name:(T=ws(S,_))!==null&&T!==void 0?T:g==null?void 0:g.name}))}return m},h)}},iD=rt([_i,_n,Oee,OR,Ni],Wee),SPe=rt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kPe=rt([Ni,Xy],BR),i1=rt([SPe,_i,kPe],UR,{memoizeOptions:{resultEqualityCheck:DS}}),CPe=rt([i1],e=>e.filter(IS)),EPe=rt([i1],$R,{memoizeOptions:{resultEqualityCheck:DS}}),n0=rt([EPe,hp],qR),APe=rt([CPe,hp,_i],Aee),oD=rt([n0,_i,i1],WR),hte=rt([_i],VR),PPe=rt([_i],e=>e.allowDataOverflow),fte=rt([hte,PPe],aee),TPe=rt([i1],e=>e.filter(IS)),OPe=rt([APe,TPe,Zb],Mee),IPe=rt([OPe,hp,Ni,fte],Lee),RPe=rt([i1],Ree),DPe=rt([n0,_i,RPe,LS,Ni],KR,{memoizeOptions:{resultEqualityCheck:RS}}),MPe=rt([Fee,Ni,Xy],Zy),LPe=rt([MPe,Ni],$ee),FPe=rt([Bee,Ni,Xy],Zy),BPe=rt([FPe,Ni],qee),UPe=rt([Uee,Ni,Xy],Zy),$Pe=rt([UPe,Ni],zee),qPe=rt([LPe,$Pe,BPe],BN),zPe=rt([_i,hte,fte,IPe,DPe,qPe,_n,Ni],YR),mte=rt([_i,_n,n0,oD,Zb,Ni,zPe],JR),WPe=rt([mte,_i,iD],ZR),VPe=rt([_i,mte,WPe,Ni],tD),pte=e=>{var t=Ni(e),r=Xy(e),s=!1;return s1(e,t,r,s)},gte=rt([_i,pte],PS),vte=rt([_i,iD,VPe,gte],QR),HPe=rt([_n,oD,_i,Ni],Xee),GPe=rt([_n,oD,_i,Ni],Qee),KPe=(e,t,r,s,a,i,o,l)=>{if(t){var{type:c}=t,u=th(e,l);if(s){var d=r==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,h=c==="category"&&s.bandwidth?s.bandwidth()/d:0;return h=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ui(a[0]-a[1])*2*h:h,u&&o?o.map((m,f)=>({coordinate:s(m)+h,value:m,index:f,offset:h})):s.domain().map((m,f)=>({coordinate:s(m)+h,value:i?i[m]:m,index:f,offset:h}))}}},Cf=rt([_n,_i,iD,vte,pte,HPe,GPe,Ni],KPe),lD=rt([ete,tte,oPe],(e,t,r)=>rte(r.shared,e,t)),xte=e=>e.tooltip.settings.trigger,cD=e=>e.tooltip.settings.defaultIndex,US=rt([r0,lD,xte,cD],lte),Gm=rt([US,n0],aD),yte=rt([Cf,Gm],nte),wte=rt([US],e=>{if(e)return e.dataKey}),bte=rt([r0,lD,xte,cD],ute),YPe=rt([bf,jf,_n,wi,Cf,cD,bte,a1],cte),JPe=rt([US,YPe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),XPe=rt([US],e=>e.active),QPe=rt([bte,Gm,hp,Eee,yte,a1,lD],dte),ZPe=rt([QPe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function j9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function N9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j9(Object(r),!0).forEach(function(s){eTe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function eTe(e,t,r){return(t=tTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tTe(e){var t=rTe(e,"string");return typeof t=="symbol"?t:t+""}function rTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nTe=()=>fr(_i),sTe=()=>{var e=nTe(),t=fr(Cf),r=fr(vte);return Vg(N9(N9({},e),{},{scale:r}),t)},jte=()=>fr(OR),uD=(e,t)=>t,Nte=(e,t,r)=>r,dD=(e,t,r,s)=>s,aTe=rt(Cf,e=>dS(e,t=>t.coordinate)),hD=rt([r0,uD,Nte,dD],lte),_te=rt([hD,n0],aD),iTe=(e,t,r)=>{if(t!=null){var s=r0(e);return t==="axis"?r==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:r==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},Ste=rt([r0,uD,Nte,dD],ute),UN=rt([bf,jf,_n,wi,Cf,dD,Ste,a1],cte),oTe=rt([hD,UN],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),kte=rt(Cf,_te,nte),lTe=rt([Ste,_te,hp,Eee,kte,a1,uD],dte),cTe=rt([hD],e=>({isActive:e.active,activeIndex:e.index})),uTe=(e,t,r,s,a,i,o,l)=>{if(!(!e||!t||!s||!a||!i)){var c=u5e(e.chartX,e.chartY,t,r,l);if(c){var u=h5e(c,t),d=QSe(u,o,i,s,a),h=d5e(t,i,d,c);return{activeIndex:String(d),activeCoordinate:h}}}};function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},JT.apply(null,arguments)}function _9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_9(Object(r),!0).forEach(function(s){dTe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dTe(e,t,r){return(t=hTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hTe(e){var t=fTe(e,"string");return typeof t=="symbol"?t:t+""}function fTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mTe(e){var{coordinate:t,payload:r,index:s,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,h=r,m=s;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var f,x;if(u==="ScatterChart")f=d,x=Eke;else if(u==="BarChart")f=Ake(o,d,a,i),x=wZ;else if(o==="radial"){var{cx:v,cy:g,radius:y,startAngle:j,endAngle:b}=bZ(d);f={cx:v,cy:g,startAngle:j,endAngle:b,innerRadius:y,outerRadius:y},x=NZ}else f={points:hCe(o,d,a)},x=_x;var _=typeof l=="object"&&"className"in l?l.className:void 0,S=$j($j($j($j({stroke:"#ccc",pointerEvents:"none"},a),f),$g(l)),{},{payload:h,payloadIndex:m,className:kn("recharts-tooltip-cursor",_)});return N.isValidElement(l)?N.cloneElement(l,S):N.createElement(x,S)}function pTe(e){var t=sTe(),r=dZ(),s=Gb(),a=jte();return N.createElement(mTe,JT({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:s,tooltipAxisBandSize:t,chartName:a}))}var Cte=N.createContext(null),gTe=()=>N.useContext(Cte),_E={exports:{}},S9;function vTe(){return S9||(S9=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new a(d,h||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],f]:c._events[x].push(f):(c._events[x]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,x=new Array(f);m<f;m++)x[m]=h[m].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,m,f,x){var v=r?r+u:u;if(!this._events[v])return!1;var g=this._events[v],y=arguments.length,j,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,m),!0;case 5:return g.fn.call(g.context,d,h,m,f),!0;case 6:return g.fn.call(g.context,d,h,m,f,x),!0}for(b=1,j=new Array(y-1);b<y;b++)j[b-1]=arguments[b];g.fn.apply(g.context,j)}else{var _=g.length,S;for(b=0;b<_;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),y){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,d);break;case 3:g[b].fn.call(g[b].context,d,h);break;case 4:g[b].fn.call(g[b].context,d,h,m);break;default:if(!j)for(S=1,j=new Array(y-1);S<y;S++)j[S-1]=arguments[S];g[b].fn.apply(g[b].context,j)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,m){var f=r?r+u:u;if(!this._events[f])return this;if(!d)return o(this,f),this;var x=this._events[f];if(x.fn)x.fn===d&&(!m||x.once)&&(!h||x.context===h)&&o(this,f);else{for(var v=0,g=[],y=x.length;v<y;v++)(x[v].fn!==d||m&&!x[v].once||h&&x[v].context!==h)&&g.push(x[v]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(_E)),_E.exports}var xTe=vTe();const yTe=mu(xTe);var cb=new yTe,XT="recharts.syncEvent.tooltip",k9="recharts.syncEvent.brush";function $S(e,t){if(t){var r=Number.parseInt(t,10);if(!yc(r))return e==null?void 0:e[r]}}var wTe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ete=Sc({name:"options",initialState:wTe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bTe=Ete.reducer,{createEventEmitter:jTe}=Ete.actions;function NTe(e){return e.tooltip.syncInteraction}var _Te={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Ate=Sc({name:"chartData",initialState:_Te,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:s}=t.payload;r!=null&&(e.dataStartIndex=r),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:C9,setDataStartEndIndexes:STe,setComputedData:lQe}=Ate.actions,kTe=Ate.reducer,CTe=["x","y"];function E9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E9(Object(r),!0).forEach(function(s){ETe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ETe(e,t,r){return(t=ATe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ATe(e){var t=PTe(e,"string");return typeof t=="symbol"?t:t+""}function PTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TTe(e,t){if(e==null)return{};var r,s,a=OTe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OTe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Pte=()=>{};function ITe(){var e=fr(IR),t=fr(RR),r=ra(),s=fr(jee),a=fr(Cf),i=Gb(),o=bS(),l=fr(c=>c.rootProps.className);N.useEffect(()=>{if(e==null)return Pte;var c=(u,d,h)=>{if(t!==h&&e===u){if(s==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var f=d.payload.coordinate,{x,y:v}=f,g=TTe(f,CTe),{x:y,y:j,width:b,height:_}=d.payload.sourceViewBox,S=tx(tx({},g),{},{x:o.x+(b?(x-y)/b:0)*o.width,y:o.y+(_?(v-j)/_:0)*o.height});r(tx(tx({},d),{},{payload:tx(tx({},d.payload),{},{coordinate:S})}))}else r(d);return}if(a!=null){var T;if(typeof s=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},L=s(a,A);T=a[L]}else s==="value"&&(T=a.find(re=>String(re.value)===d.payload.label));var{coordinate:E}=d.payload;if(T==null||d.payload.active===!1||E==null||o==null){r(KT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:q,y:M}=E,C=Math.min(q,o.x+o.width),I=Math.min(M,o.y+o.height),O={x:i==="horizontal"?T.coordinate:C,y:i==="horizontal"?I:T.coordinate},H=KT({active:d.payload.active,coordinate:O,dataKey:d.payload.dataKey,index:String(T.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(H)}}};return cb.on(XT,c),()=>{cb.off(XT,c)}},[l,r,t,e,s,a,i,o])}function RTe(){var e=fr(IR),t=fr(RR),r=ra();N.useEffect(()=>{if(e==null)return Pte;var s=(a,i,o)=>{t!==o&&e===a&&r(STe(i))};return cb.on(k9,s),()=>{cb.off(k9,s)}},[r,t,e])}function DTe(){var e=ra();N.useEffect(()=>{e(jTe())},[e]),ITe(),RTe()}function MTe(e,t,r,s,a,i){var o=fr(f=>iTe(f,e,t)),l=fr(RR),c=fr(IR),u=fr(jee),d=fr(NTe),h=d==null?void 0:d.active,m=bS();N.useEffect(()=>{if(!h&&c!=null&&l!=null){var f=KT({active:i,coordinate:r,dataKey:o,index:a,label:typeof s=="number"?String(s):s,sourceViewBox:m});cb.emit(XT,c,f,l)}},[h,r,o,a,s,l,c,u,i,m])}function A9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function P9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A9(Object(r),!0).forEach(function(s){LTe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function LTe(e,t,r){return(t=FTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FTe(e){var t=BTe(e,"string");return typeof t=="symbol"?t:t+""}function BTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UTe(e){return e.dataKey}function $Te(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(ike,t)}var T9=[],qTe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Nf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ts(e){var t=bi(e,qTe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:m,useTranslate3d:f,wrapperStyle:x,cursor:v,shared:g,trigger:y,defaultIndex:j,portal:b,axisId:_}=t,S=ra(),T=typeof j=="number"?String(j):j;N.useEffect(()=>{S(dPe({shared:g,trigger:y,axisId:_,active:r,defaultIndex:T}))},[S,g,y,_,r,T]);var A=bS(),L=pZ(),E=iPe(g),{activeIndex:q,isActive:M}=fr(te=>cTe(te,E,y,T)),C=fr(te=>lTe(te,E,y,T)),I=fr(te=>kte(te,E,y,T)),O=fr(te=>oTe(te,E,y,T)),H=C,re=gTe(),U=r??M,[K,ee]=CQ([H,U]),X=E==="axis"?I:void 0;MTe(E,y,O,X,q,U);var B=b??re;if(B==null)return null;var D=H??T9;U||(D=T9),l&&D.length&&(D=jQ(H.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),d,UTe));var Q=D.length>0,ie=N.createElement(fke,{allowEscapeViewBox:s,animationDuration:a,animationEasing:i,isAnimationActive:c,active:U,coordinate:O,hasPayload:Q,offset:u,position:h,reverseDirection:m,useTranslate3d:f,viewBox:A,wrapperStyle:x,lastBoundingBox:K,innerRef:ee,hasPortalFromProps:!!b},$Te(o,P9(P9({},t),{},{payload:D,label:X,active:U,coordinate:O,accessibilityLayer:L})));return N.createElement(N.Fragment,null,vf.createPortal(ie,B),U&&N.createElement(pTe,{cursor:v,tooltipEventType:E,coordinate:O,payload:H,index:q}))}var bc=e=>null;bc.displayName="Cell";function zTe(e,t,r){return(t=WTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WTe(e){var t=VTe(e,"string");return typeof t=="symbol"?t:t+""}function VTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class HTe{constructor(t){zTe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function O9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function GTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O9(Object(r),!0).forEach(function(s){KTe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KTe(e,t,r){return(t=YTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YTe(e){var t=JTe(e,"string");return typeof t=="symbol"?t:t+""}function JTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XTe={cacheSize:2e3,enableCache:!0},Tte=GTe({},XTe),I9=new HTe(Tte.cacheSize),QTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R9="recharts_measurement_span";function ZTe(e,t){var r=t.fontSize||"",s=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var D9=(e,t)=>{try{var r=document.getElementById(R9);r||(r=document.createElement("span"),r.setAttribute("id",R9),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,QTe,t),r.textContent="".concat(e);var s=r.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},_w=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Nf.isSsr)return{width:0,height:0};if(!Tte.enableCache)return D9(t,r);var s=ZTe(t,r),a=I9.get(s);if(a)return a;var i=D9(t,r);return I9.set(s,i),i},M9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,t3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ote={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},r3e=Object.keys(Ote),px="NaN";function n3e(e,t){return e*Ote[t]}class Cl{static parse(t){var r,[,s,a]=(r=t3e.exec(t))!==null&&r!==void 0?r:[];return new Cl(parseFloat(s),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yc(t)&&(this.unit=""),r!==""&&!e3e.test(r)&&(this.num=NaN,this.unit=""),r3e.includes(r)&&(this.num=n3e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cl(NaN,""):new Cl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yc(this.num)}}function Ite(e){if(e.includes(px))return px;for(var t=e;t.includes("*")||t.includes("/");){var r,[,s,a,i]=(r=M9.exec(t))!==null&&r!==void 0?r:[],o=Cl.parse(s??""),l=Cl.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return px;t=t.replace(M9,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,m]=(u=L9.exec(t))!==null&&u!==void 0?u:[],f=Cl.parse(d??""),x=Cl.parse(m??""),v=h==="+"?f.add(x):f.subtract(x);if(v.isNaN())return px;t=t.replace(L9,v.toString())}return t}var F9=/\(([^()]*)\)/;function s3e(e){for(var t=e,r;(r=F9.exec(t))!=null;){var[,s]=r;t=t.replace(F9,Ite(s))}return t}function a3e(e){var t=e.replace(/\s+/g,"");return t=s3e(t),t=Ite(t),t}function i3e(e){try{return a3e(e)}catch{return px}}function SE(e){var t=i3e(e.slice(5,-1));return t===px?"":t}var o3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],l3e=["dx","dy","angle","className","breakAll"];function QT(){return QT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},QT.apply(null,arguments)}function B9(e,t){if(e==null)return{};var r,s,a=c3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c3e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Rte=/[ \f\n\r\t\v\u2028\u2029]+/,Dte=e=>{var{children:t,breakAll:r,style:s}=e;try{var a=[];Vs(t)||(r?a=t.toString().split(""):a=t.toString().split(Rte));var i=a.map(l=>({word:l,width:_w(l,s).width})),o=r?0:_w("",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},u3e=(e,t,r,s,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=ur(i),d=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((C,I)=>{var{word:O,width:H}=I,re=C[C.length-1];if(re&&(s==null||a||re.width+H+r<Number(s)))re.words.push(O),re.width+=H+r;else{var U={words:[O],width:H};C.push(U)}return C},[])},m=h(t),f=q=>q.reduce((M,C)=>M.width>C.width?M:C);if(!u||a)return m;var x=m.length>i||f(m).width>Number(s);if(!x)return m;for(var v="",g=q=>{var M=d.slice(0,q),C=Dte({breakAll:c,style:l,children:M+v}).wordsWithComputedWidth,I=h(C),O=I.length>i||f(I).width>Number(s);return[O,I]},y=0,j=d.length-1,b=0,_;y<=j&&b<=d.length-1;){var S=Math.floor((y+j)/2),T=S-1,[A,L]=g(T),[E]=g(S);if(!A&&!E&&(y=S+1),A&&E&&(j=S-1),!A&&E){_=L;break}b++}return _||m},U9=e=>{var t=Vs(e)?[]:e.toString().split(Rte);return[{words:t}]},d3e=e=>{var{width:t,scaleToFit:r,children:s,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Nf.isSsr){var l,c,u=Dte({breakAll:i,children:s,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return U9(s);return u3e({breakAll:i,children:s,maxLines:o,style:a},l,c,t,r)}return U9(s)},$9="#808080",qS=N.forwardRef((e,t)=>{var{x:r=0,y:s=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=$9}=e,d=B9(e,o3e),h=N.useMemo(()=>d3e({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:m,dy:f,angle:x,className:v,breakAll:g}=d,y=B9(d,l3e);if(!Kd(r)||!Kd(s)||h.length===0)return null;var j=r+(ur(m)?m:0),b=s+(ur(f)?f:0),_;switch(c){case"start":_=SE("calc(".concat(i,")"));break;case"middle":_=SE("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:_=SE("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(o){var T=h[0].width,{width:A}=d;S.push("scale(".concat(ur(A)?A/T:1,")"))}return x&&S.push("rotate(".concat(x,", ").concat(j,", ").concat(b,")")),S.length&&(y.transform=S.join(" ")),N.createElement("text",QT({},Zo(y),{ref:t,x:j,y:b,className:kn("recharts-text",v),textAnchor:l,fill:u.includes("url")?$9:u}),h.map((L,E)=>{var q=L.words.join(g?"":" ");return N.createElement("tspan",{x:j,dy:E===0?_:a,key:"".concat(q,"-").concat(E)},q)}))});qS.displayName="Text";var h3e=["labelRef"];function f3e(e,t){if(e==null)return{};var r,s,a=m3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m3e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function q9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q9(Object(r),!0).forEach(function(s){p3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function p3e(e,t,r){return(t=g3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3e(e){var t=v3e(e,"string");return typeof t=="symbol"?t:t+""}function v3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Kh.apply(null,arguments)}var Mte=N.createContext(null),x3e=e=>{var{x:t,y:r,width:s,height:a,children:i}=e,o=N.useMemo(()=>({x:t,y:r,width:s,height:a}),[t,r,s,a]);return N.createElement(Mte.Provider,{value:o},i)},Lte=()=>{var e=N.useContext(Mte),t=bS();return e||t},y3e=N.createContext(null),w3e=()=>{var e=N.useContext(y3e),t=fr(Cee);return e||t},b3e=e=>{var{value:t,formatter:r}=e,s=Vs(e.children)?t:e.children;return typeof r=="function"?r(s):s},fD=e=>e!=null&&typeof e=="function",j3e=(e,t)=>{var r=Ui(t-e),s=Math.min(Math.abs(t-e),360);return r*s},N3e=(e,t,r,s,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:m,clockWise:f}=a,x=(u+d)/2,v=j3e(h,m),g=v>=0?1:-1,y,j;switch(t){case"insideStart":y=h+g*i,j=f;break;case"insideEnd":y=m-g*i,j=!f;break;case"end":y=m+g*i,j=f;break;default:throw new Error("Unsupported position ".concat(t))}j=v<=0?j:!j;var b=li(l,c,x,y),_=li(l,c,x,y+(j?1:-1)*359),S="M".concat(b.x,",").concat(b.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Vs(e.id)?Qw("recharts-radial-line-"):e.id;return N.createElement("text",Kh({},s,{dominantBaseline:"central",className:kn("recharts-radial-bar-label",o)}),N.createElement("defs",null,N.createElement("path",{id:T,d:S})),N.createElement("textPath",{xlinkHref:"#".concat(T)},r))},_3e=(e,t,r)=>{var{cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:h}=li(s,a,o+t,u);return{x:d,y:h,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:f,y:x}=li(s,a,m,u);return{x:f,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Fte=e=>"cx"in e&&ur(e.cx),S3e=(e,t)=>{var{parentViewBox:r,offset:s,position:a}=e,i;r!=null&&!Fte(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,h=d*s,m=d>0?"end":"start",f=d>0?"start":"end",x=c>=0?1:-1,v=x*s,g=x>0?"end":"start",y=x>0?"start":"end";if(a==="top"){var j={x:o+c/2,y:l-d*s,textAnchor:"middle",verticalAnchor:m};return Va(Va({},j),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var b={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:f};return Va(Va({},b),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var _={x:o-v,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return Va(Va({},_),i?{width:Math.max(_.x-i.x,0),height:u}:{})}if(a==="right"){var S={x:o+c+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Va(Va({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:u}:{})}var T=i?{width:c,height:u}:{};return a==="insideLeft"?Va({x:o+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):a==="insideRight"?Va({x:o+c-v,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},T):a==="insideTop"?Va({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:f},T):a==="insideBottom"?Va({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:m},T):a==="insideTopLeft"?Va({x:o+v,y:l+h,textAnchor:y,verticalAnchor:f},T):a==="insideTopRight"?Va({x:o+c-v,y:l+h,textAnchor:g,verticalAnchor:f},T):a==="insideBottomLeft"?Va({x:o+v,y:l+u-h,textAnchor:y,verticalAnchor:m},T):a==="insideBottomRight"?Va({x:o+c-v,y:l+u-h,textAnchor:g,verticalAnchor:m},T):a&&typeof a=="object"&&(ur(a.x)||cf(a.x))&&(ur(a.y)||cf(a.y))?Va({x:o+To(a.x,c),y:l+To(a.y,u),textAnchor:"end",verticalAnchor:"end"},T):Va({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},k3e={offset:5};function mm(e){var t=bi(e,k3e),{viewBox:r,position:s,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=w3e(),h=Lte(),m=s==="center"?h:d??h,f=r||m;if(!f||Vs(a)&&Vs(i)&&!N.isValidElement(o)&&typeof o!="function")return null;var x=Va(Va({},t),{},{viewBox:f});if(N.isValidElement(o)){var{labelRef:v}=x,g=f3e(x,h3e);return N.cloneElement(o,g)}var y;if(typeof o=="function"){if(y=N.createElement(o,x),N.isValidElement(y))return y}else y=b3e(t);var j=Fte(f),b=Zo(t);if(j&&(s==="insideStart"||s==="insideEnd"||s==="end"))return N3e(t,s,y,b,f);var _=j?_3e(f,t.offset,t.position):S3e(t,f);return N.createElement(qS,Kh({ref:u,className:kn("recharts-label",l)},b,_,{breakAll:c}),y)}mm.displayName="Label";var C3e=(e,t,r)=>{if(!e)return null;var s={viewBox:t,labelRef:r};return e===!0?N.createElement(mm,Kh({key:"label-implicit"},s)):Kd(e)?N.createElement(mm,Kh({key:"label-implicit",value:e},s)):N.isValidElement(e)?e.type===mm?N.cloneElement(e,Va({key:"label-implicit"},s)):N.createElement(mm,Kh({key:"label-implicit",content:e},s)):fD(e)?N.createElement(mm,Kh({key:"label-implicit",content:e},s)):e&&typeof e=="object"?N.createElement(mm,Kh({},e,{key:"label-implicit"},s)):null};function E3e(e){var{label:t,labelRef:r}=e,s=Lte();return C3e(t,s,r)||null}var kE={},CE={},z9;function A3e(){return z9||(z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(CE)),CE}var EE={},W9;function P3e(){return W9||(W9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(EE)),EE}var V9;function T3e(){return V9||(V9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A3e(),r=P3e(),s=KI();function a(i){if(s.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(kE)),kE}var AE,H9;function O3e(){return H9||(H9=1,AE=T3e().last),AE}var I3e=O3e();const R3e=mu(I3e);var D3e=["valueAccessor"],M3e=["dataKey","clockWise","id","textBreakAll"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$N.apply(null,arguments)}function G9(e,t){if(e==null)return{};var r,s,a=L3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L3e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var F3e=e=>Array.isArray(e.value)?R3e(e.value):e.value,Bte=N.createContext(void 0),mD=Bte.Provider,Ute=N.createContext(void 0),B3e=Ute.Provider;function U3e(){return N.useContext(Bte)}function $3e(){return N.useContext(Ute)}function _2(e){var{valueAccessor:t=F3e}=e,r=G9(e,D3e),{dataKey:s,clockWise:a,id:i,textBreakAll:o}=r,l=G9(r,M3e),c=U3e(),u=$3e(),d=c||u;return!d||!d.length?null:N.createElement(Ua,{className:"recharts-label-list"},d.map((h,m)=>{var f,x=Vs(s)?t(h,m):ws(h&&h.payload,s),v=Vs(i)?{}:{id:"".concat(i,"-").concat(m)};return N.createElement(mm,$N({key:"label-".concat(m)},Zo(h),l,v,{fill:(f=r.fill)!==null&&f!==void 0?f:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:o,viewBox:h.viewBox,index:m}))}))}_2.displayName="LabelList";function zS(e){var{label:t}=e;return t?t===!0?N.createElement(_2,{key:"labelList-implicit"}):N.isValidElement(t)||fD(t)?N.createElement(_2,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(_2,$N({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ZT(){return ZT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ZT.apply(null,arguments)}var pD=e=>{var{cx:t,cy:r,r:s,className:a}=e,i=kn("recharts-dot",a);return t===+t&&r===+r&&s===+s?N.createElement("circle",ZT({},Qo(e),VI(e),{className:i,cx:t,cy:r,r:s})):null},$te=e=>e.graphicalItems.polarItems,q3e=rt([na,e1],BR),WS=rt([$te,ba,q3e],UR),z3e=rt([WS],$R),VS=rt([z3e,AR],qR),W3e=rt([VS,ba,WS],WR);rt([VS,ba,WS],(e,t,r)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var i,o=ws(s,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:ws(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})));var K9=()=>{},V3e=rt([VS,ba,WS,LS,na],KR),H3e=rt([ba,HR,GR,K9,V3e,K9,_n,na],YR),qte=rt([ba,_n,VS,W3e,Zb,na,H3e],JR),G3e=rt([qte,ba,e0],ZR);rt([ba,qte,G3e,na],tD);var K3e={radiusAxis:{},angleAxis:{}},zte=Sc({name:"polarAxis",initialState:K3e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:cQe,removeRadiusAxis:uQe,addAngleAxis:dQe,removeAngleAxis:hQe}=zte.actions,Y3e=zte.reducer;function Y9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function J9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y9(Object(r),!0).forEach(function(s){J3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function J3e(e,t,r){return(t=X3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X3e(e){var t=Q3e(e,"string");return typeof t=="symbol"?t:t+""}function Q3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z3e=(e,t)=>t,gD=rt([$te,Z3e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),eOe=[],vD=(e,t,r)=>(r==null?void 0:r.length)===0?eOe:r,Wte=rt([AR,gD,vD],(e,t,r)=>{var{chartData:s}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=s,(!a||!a.length)&&r!=null&&(a=r.map(i=>J9(J9({},t.presentationProps),i.props))),a!=null)return a}}),tOe=rt([Wte,gD,vD],(e,t,r)=>{if(!(e==null||t==null))return e.map((s,a)=>{var i,o=ws(s,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof s=="object"&&s!=null&&"fill"in s?l=s.fill:l=t.fill,{value:cp(o,t.dataKey),color:l,payload:s,type:t.legendType}})}),rOe=rt([Wte,gD,vD,wi],(e,t,r,s)=>{if(!(t==null||e==null))return ZOe({offset:s,pieSettings:t,displayedData:e,cells:r})}),X9=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Q9=null,PE=null,Vte=e=>{if(e===Q9&&Array.isArray(PE))return PE;var t=[];return N.Children.forEach(e,r=>{Vs(r)||(IJ.isFragment(r)?t=t.concat(Vte(r.props.children)):t.push(r))}),PE=t,Q9=e,t};function xD(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(a=>X9(a)):s=[X9(t)],Vte(e).forEach(a=>{var i=qg(a,"type.displayName")||qg(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}var HS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,TE={},Z9;function nOe(){return Z9||(Z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}e.isPlainObject=t})(TE)),TE}var OE,eU;function sOe(){return eU||(eU=1,OE=nOe().isPlainObject),OE}var aOe=sOe();const iOe=mu(aOe);function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(s){oOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oOe(e,t,r){return(t=lOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lOe(e){var t=cOe(e,"string");return typeof t=="symbol"?t:t+""}function cOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qN.apply(null,arguments)}var nU=(e,t,r,s,a)=>{var i=r-s,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-s,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},uOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dOe=e=>{var t=bi(e,uOe),{x:r,y:s,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,m=N.useRef(null),[f,x]=N.useState(-1),v=N.useRef(a),g=N.useRef(i),y=N.useRef(o),j=N.useRef(r),b=N.useRef(s),_=Gy(e,"trapezoid-");if(N.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var O=m.current.getTotalLength();O&&x(O)}catch{}},[]),r!==+r||s!==+s||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var S=kn("recharts-trapezoid",l);if(!h)return N.createElement("g",null,N.createElement("path",qN({},Zo(t),{className:S,d:nU(r,s,a,i,o)})));var T=v.current,A=g.current,L=y.current,E=j.current,q=b.current,M="0px ".concat(f===-1?1:f,"px"),C="".concat(f,"px 0px"),I=gZ(["strokeDasharray"],u,c);return N.createElement(Hy,{animationId:_,key:_,canBegin:f>0,duration:u,easing:c,isActive:h,begin:d},O=>{var H=ys(T,a,O),re=ys(A,i,O),U=ys(L,o,O),K=ys(E,r,O),ee=ys(q,s,O);m.current&&(v.current=H,g.current=re,y.current=U,j.current=K,b.current=ee);var X=O>0?{transition:I,strokeDasharray:C}:{strokeDasharray:M};return N.createElement("path",qN({},Zo(t),{className:S,d:nU(K,ee,H,re,U),ref:m,style:rU(rU({},X),t.style)}))})},hOe=["option","shapeType","propTransformer","activeClassName","isActive"];function fOe(e,t){if(e==null)return{};var r,s,a=mOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mOe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function sU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(r),!0).forEach(function(s){pOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pOe(e,t,r){return(t=gOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gOe(e){var t=vOe(e,"string");return typeof t=="symbol"?t:t+""}function vOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xOe(e,t){return zN(zN({},t),e)}function yOe(e,t){return e==="symbols"}function aU(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(wZ,r);case"trapezoid":return N.createElement(dOe,r);case"sector":return N.createElement(NZ,r);case"symbols":if(yOe(t))return N.createElement(WI,r);break;default:return null}}function wOe(e){return N.isValidElement(e)?e.props:e}function Hte(e){var{option:t,shapeType:r,propTransformer:s=xOe,activeClassName:a="recharts-active-shape",isActive:i}=e,o=fOe(e,hOe),l;if(N.isValidElement(t))l=N.cloneElement(t,zN(zN({},o),wOe(t)));else if(typeof t=="function")l=t(o);else if(iOe(t)&&typeof t!="boolean"){var c=s(t,o);l=N.createElement(aU,{shapeType:r,elementProps:c})}else{var u=o;l=N.createElement(aU,{shapeType:r,elementProps:u})}return i?N.createElement(Ua,{className:a},l):l}var yD=(e,t)=>{var r=ra();return(s,a)=>i=>{e==null||e(s,a,i),r(ate({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}},wD=e=>{var t=ra();return(r,s)=>a=>{e==null||e(r,s,a),t(hPe())}},bD=(e,t)=>{var r=ra();return(s,a)=>i=>{e==null||e(s,a,i),r(fPe({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}};function GS(e){var{fn:t,args:r}=e,s=ra(),a=so();return N.useLayoutEffect(()=>{if(!a){var i=t(r);return s(cPe(i)),()=>{s(uPe(i))}}},[t,r,s,a]),null}var Gte=()=>{};function jD(e){var{legendPayload:t}=e,r=ra(),s=so();return N.useLayoutEffect(()=>s?Gte:(r(fZ(t)),()=>{r(mZ(t))}),[r,s,t]),null}function bOe(e){var{legendPayload:t}=e,r=ra(),s=fr(_n);return N.useLayoutEffect(()=>s!=="centric"&&s!=="radial"?Gte:(r(fZ(t)),()=>{r(mZ(t))}),[r,s,t]),null}var IE,jOe=()=>{var[e]=N.useState(()=>Qw("uid-"));return e},NOe=(IE=g_.useId)!==null&&IE!==void 0?IE:jOe;function _Oe(e,t){var r=NOe();return t||(e?"".concat(e,"-").concat(r):r)}var SOe=N.createContext(void 0),KS=e=>{var{id:t,type:r,children:s}=e,a=_Oe("recharts-".concat(r),t);return N.createElement(SOe.Provider,{value:a},s(a))},kOe={cartesianItems:[],polarItems:[]},Kte=Sc({name:"graphicalItems",initialState:kOe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Go()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:s}=t.payload,a=ef(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=s)},prepare:Go()},removeCartesianGraphicalItem:{reducer(e,t){var r=ef(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Go()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Go()},removePolarGraphicalItem:{reducer(e,t){var r=ef(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Go()}}}),{addCartesianGraphicalItem:COe,replaceCartesianGraphicalItem:EOe,removeCartesianGraphicalItem:AOe,addPolarGraphicalItem:POe,removePolarGraphicalItem:TOe}=Kte.actions,OOe=Kte.reducer;function ND(e){var t=ra(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(COe(e)):r.current!==e&&t(EOe({prev:r.current,next:e})),r.current=e},[t,e]),N.useLayoutEffect(()=>()=>{r.current&&(t(AOe(r.current)),r.current=null)},[t]),null}function IOe(e){var t=ra();return N.useLayoutEffect(()=>(t(POe(e)),()=>{t(TOe(e))}),[t,e]),null}var ROe=["onMouseEnter","onClick","onMouseLeave"],DOe=["id"],MOe=["id"];function _D(e,t){if(e==null)return{};var r,s,a=LOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LOe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function iU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(r),!0).forEach(function(s){FOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function FOe(e,t,r){return(t=BOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BOe(e){var t=UOe(e,"string");return typeof t=="symbol"?t:t+""}function UOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Km.apply(null,arguments)}function $Oe(e){var t=N.useMemo(()=>xD(e.children,bc),[e.children]),r=fr(s=>tOe(s,e.id,t));return r==null?null:N.createElement(bOe,{legendPayload:r})}function qOe(e){var{dataKey:t,nameKey:r,sectors:s,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:s.map(d=>d.tooltipPayload),positions:s.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:cp(l,t),hide:c,type:u,color:o,unit:""}}}var zOe=(e,t)=>e>t?"start":e<t?"end":"middle",WOe=(e,t,r)=>To(typeof t=="function"?t(e):t,r,r*.8),VOe=(e,t,r)=>{var{top:s,left:a,width:i,height:o}=t,l=eZ(i,o),c=a+To(e.cx,i,i/2),u=s+To(e.cy,o,o/2),d=To(e.innerRadius,l,0),h=WOe(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:m}},HOe=(e,t)=>{var r=Ui(t-e),s=Math.min(Math.abs(t-e),360);return r*s};function GOe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var KOe=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=kn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return N.createElement(_x,Km({},t,{type:"linear",className:r}))},YOe=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var s=r;if(typeof e=="function"&&(s=e(t),N.isValidElement(s)))return s;var a=kn("recharts-pie-label-text",GOe(e));return N.createElement(qS,Km({},t,{alignmentBaseline:"middle",className:a}),s)};function JOe(e){var{sectors:t,props:r,showLabels:s}=e,{label:a,labelLine:i,dataKey:o}=r;if(!s||!a||!t)return null;var l=Qo(r),c=$g(a),u=$g(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=t.map((m,f)=>{var x=(m.startAngle+m.endAngle)/2,v=li(m.cx,m.cy,m.outerRadius+d,x),g=ea(ea(ea(ea({},l),m),{},{stroke:"none"},c),{},{index:f,textAnchor:zOe(v.x,m.cx)},v),y=ea(ea(ea(ea({},l),m),{},{fill:"none",stroke:m.fill},u),{},{index:f,points:[li(m.cx,m.cy,m.outerRadius,x),v],key:"line"});return N.createElement(Ua,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(f)},i&&KOe(i,y),YOe(a,g,ws(m,o)))});return N.createElement(Ua,{className:"recharts-pie-labels"},h)}function XOe(e){var{sectors:t,props:r,showLabels:s}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?N.createElement(zS,{label:a}):N.createElement(JOe,{sectors:t,props:r,showLabels:s})}function QOe(e){var{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:a}=e,i=fr(Gm),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=_D(a,ROe),d=yD(o,a.dataKey),h=wD(c),m=bD(l,a.dataKey);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((f,x)=>{if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&t.length!==1)return null;var v=r&&String(x)===i,g=i?s:null,y=v?r:g,j=ea(ea({},f),{},{stroke:f.stroke,tabIndex:-1,[iZ]:x,[oZ]:a.dataKey});return N.createElement(Ua,Km({key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},zb(u,f,x),{onMouseEnter:d(f,x),onMouseLeave:h(f,x),onClick:m(f,x)}),N.createElement(Hte,Km({option:y,isActive:v,shapeType:"sector"},j)))}))}function ZOe(e){var t,{pieSettings:r,displayedData:s,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,m=Math.abs(r.minAngle),f=HOe(l,c),x=Math.abs(f),v=s.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=s.filter(T=>ws(T,u,0)!==0).length,y=(x>=360?g:g-1)*v,j=x-g*m-y,b=s.reduce((T,A)=>{var L=ws(A,u,0);return T+(ur(L)?L:0)},0),_;if(b>0){var S;_=s.map((T,A)=>{var L=ws(T,u,0),E=ws(T,d,A),q=VOe(r,i,T),M=(ur(L)?L:0)/b,C,I=ea(ea({},T),a&&a[A]&&a[A].props);A?C=S.endAngle+Ui(f)*v*(L!==0?1:0):C=l;var O=C+Ui(f)*((L!==0?m:0)+M*j),H=(C+O)/2,re=(q.innerRadius+q.outerRadius)/2,U=[{name:E,value:L,payload:I,dataKey:u,type:h}],K=li(q.cx,q.cy,re,H);return S=ea(ea(ea(ea({},r.presentationProps),{},{percent:M,cornerRadius:o,name:E,tooltipPayload:U,midAngle:H,middleRadius:re,tooltipPosition:K},I),q),{},{value:L,startAngle:C,endAngle:O,payload:I,paddingAngle:Ui(f)*v}),S})}return _}function eIe(e){var{showLabels:t,sectors:r,children:s}=e,a=N.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return N.createElement(B3e,{value:t?a:void 0},s)}function tIe(e){var{props:t,previousSectorsRef:r}=e,{sectors:s,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=t,m=Gy(t,"recharts-pie-"),f=r.current,[x,v]=N.useState(!1),g=N.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),y=N.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return N.createElement(eIe,{showLabels:!x,sectors:s},N.createElement(Hy,{animationId:m,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:g,key:m},j=>{var b=[],_=s&&s[0],S=_==null?void 0:_.startAngle;return s==null||s.forEach((T,A)=>{var L=f&&f[A],E=A>0?qg(T,"paddingAngle",0):0;if(L){var q=ys(L.endAngle-L.startAngle,T.endAngle-T.startAngle,j),M=ea(ea({},T),{},{startAngle:S+E,endAngle:S+q+E});b.push(M),S=M.endAngle}else{var{endAngle:C,startAngle:I}=T,O=ys(0,C-I,j),H=ea(ea({},T),{},{startAngle:S+E,endAngle:S+O+E});b.push(H),S=H.endAngle}}),r.current=b,N.createElement(Ua,null,N.createElement(QOe,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),N.createElement(XOe,{showLabels:!x,sectors:s,props:t}),t.children)}var rIe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Nf.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function nIe(e){var{id:t}=e,r=_D(e,DOe),{hide:s,className:a,rootTabIndex:i}=e,o=N.useMemo(()=>xD(e.children,bc),[e.children]),l=fr(d=>rOe(d,t,o)),c=N.useRef(null),u=kn("recharts-pie",a);return s||l==null?(c.current=null,N.createElement(Ua,{tabIndex:i,className:u})):N.createElement(N.Fragment,null,N.createElement(GS,{fn:qOe,args:ea(ea({},e),{},{sectors:l})}),N.createElement(Ua,{tabIndex:i,className:u},N.createElement(tIe,{props:ea(ea({},r),{},{sectors:l}),previousSectorsRef:c})))}function mf(e){var t=bi(e,rIe),{id:r}=t,s=_D(t,MOe),a=Qo(s);return N.createElement(KS,{id:r,type:"pie"},i=>N.createElement(N.Fragment,null,N.createElement(IOe,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),N.createElement($Oe,Km({},s,{id:i})),N.createElement(nIe,Km({},s,{id:i}))))}mf.displayName="Pie";function oU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function lU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oU(Object(r),!0).forEach(function(s){sIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function sIe(e,t,r){return(t=aIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aIe(e){var t=iIe(e,"string");return typeof t=="symbol"?t:t+""}function iIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oIe={xAxis:{},yAxis:{},zAxis:{}},Yte=Sc({name:"cartesianAxis",initialState:oIe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Go()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Go()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Go()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Go()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Go()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Go()},updateYAxisWidth(e,t){var{id:r,width:s}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&s===i[1]&&s!==a.width&&Math.abs(s-i[0])<=1)return;var o=[...i,s].slice(-3);e.yAxis[r]=lU(lU({},e.yAxis[r]),{},{width:s,widthHistory:o})}}}}),{addXAxis:lIe,removeXAxis:cIe,addYAxis:uIe,removeYAxis:dIe,addZAxis:fQe,removeZAxis:mQe,updateYAxisWidth:hIe}=Yte.actions,fIe=Yte.reducer,mIe=rt([wi],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),pIe=rt([mIe,bf,jf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),YS=()=>fr(pIe),gIe=()=>fr(ZPe);function cU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function uU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(r),!0).forEach(function(s){vIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vIe(e,t,r){return(t=xIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xIe(e){var t=yIe(e,"string");return typeof t=="symbol"?t:t+""}function yIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wIe=e=>{var{point:t,childIndex:r,mainColor:s,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=uU(uU({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},$g(a)),VI(a)),l;return N.isValidElement(a)?l=N.cloneElement(a,o):typeof a=="function"?l=a(o):l=N.createElement(pD,o),N.createElement(Ua,{className:"recharts-active-dot"},l)};function e3(e){var{points:t,mainColor:r,activeDot:s,itemDataKey:a}=e,i=fr(Gm),o=gIe();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Vs(l)?null:wIe({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:s})}var bIe=["x","y"];function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},t3.apply(null,arguments)}function dU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(r),!0).forEach(function(s){jIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jIe(e,t,r){return(t=NIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NIe(e){var t=_Ie(e,"string");return typeof t=="symbol"?t:t+""}function _Ie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SIe(e,t){if(e==null)return{};var r,s,a=kIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kIe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function CIe(e,t){var{x:r,y:s}=e,a=SIe(e,bIe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),m=parseInt(h,10);return Y0(Y0(Y0(Y0(Y0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function SD(e){return N.createElement(Hte,t3({shapeType:"rectangle",propTransformer:CIe,activeClassName:"recharts-active-bar"},e))}var EIe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,a)=>{if(ur(t))return t;var i=ur(s)||Vs(s);return i?t(s,a):(i||LJ(),r)}},AIe={},Jte=Sc({name:"errorBars",initialState:AIe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]||(e[r]=[]),e[r].push(s)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:s,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===s.dataKey&&i.direction===s.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==s.dataKey||a.direction!==s.direction))}}}),{addErrorBar:pQe,replaceErrorBar:gQe,removeErrorBar:vQe}=Jte.actions,PIe=Jte.reducer,TIe=["children"];function OIe(e,t){if(e==null)return{};var r,s,a=IIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IIe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var RIe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DIe=N.createContext(RIe);function Xte(e){var{children:t}=e,r=OIe(e,TIe);return N.createElement(DIe.Provider,{value:r},t)}function JS(e,t){var r,s,a=fr(u=>Sf(u,e)),i=fr(u=>kf(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Jl.allowDataOverflow,l=(s=i==null?void 0:i.allowDataOverflow)!==null&&s!==void 0?s:Xl.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function kD(e){var{xAxisId:t,yAxisId:r,clipPathId:s}=e,a=YS(),{needClipX:i,needClipY:o,needClip:l}=JS(t,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return N.createElement("clipPath",{id:"clipPath-".concat(s)},N.createElement("rect",{x:i?c:c-d/2,y:o?u:u-h/2,width:i?d:d*2,height:o?h:h*2}))}var MIe=["onMouseEnter","onMouseLeave","onClick"],LIe=["value","background","tooltipPosition"],FIe=["id"],BIe=["onMouseEnter","onClick","onMouseLeave"];function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ym.apply(null,arguments)}function hU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(r),!0).forEach(function(s){UIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function UIe(e,t,r){return(t=$Ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ie(e){var t=qIe(e,"string");return typeof t=="symbol"?t:t+""}function qIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WN(e,t){if(e==null)return{};var r,s,a=zIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zIe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var WIe=e=>{var{dataKey:t,name:r,fill:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:cp(r,t),payload:e}]};function VIe(e){var{dataKey:t,stroke:r,strokeWidth:s,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:a,dataKey:t,nameKey:void 0,name:cp(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function HIe(e){var t=fr(Gm),{data:r,dataKey:s,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=WN(i,MIe),d=yD(o,s),h=wD(l),m=bD(c,s);if(!a||r==null)return null;var f=$g(a);return N.createElement(N.Fragment,null,r.map((x,v)=>{var{value:g,background:y,tooltipPosition:j}=x,b=WN(x,LIe);if(!y)return null;var _=d(x,v),S=h(x,v),T=m(x,v),A=Ko(Ko(Ko(Ko(Ko({option:a,isActive:String(v)===t},b),{},{fill:"#eee"},y),f),zb(u,x,v)),{},{onMouseEnter:_,onMouseLeave:S,onClick:T,dataKey:s,index:v,className:"recharts-bar-background-rectangle"});return N.createElement(SD,Ym({key:"background-bar-".concat(v)},A))}))}function GIe(e){var{showLabels:t,children:r,rects:s}=e,a=s==null?void 0:s.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Ko(Ko({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return N.createElement(mD,{value:t?a:void 0},r)}function KIe(e){var{shape:t,activeBar:r,baseProps:s,entry:a,index:i,dataKey:o}=e,l=fr(Gm),c=fr(wte),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return N.createElement(SD,Ym({},s,{name:String(s.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function YIe(e){var{shape:t,baseProps:r,entry:s,index:a,dataKey:i}=e;return N.createElement(SD,Ym({},r,{name:String(r.name)},s,{isActive:!1,option:t,index:a,dataKey:i}))}function JIe(e){var{data:t,props:r}=e,s=Qo(r),{id:a}=s,i=WN(s,FIe),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:h}=r,m=WN(r,BIe),f=yD(u,l),x=wD(h),v=bD(d,l);return t?N.createElement(N.Fragment,null,t.map((g,y)=>N.createElement(Ua,Ym({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y),className:"recharts-bar-rectangle"},zb(m,g,y),{onMouseEnter:f(g,y),onMouseLeave:x(g,y),onClick:v(g,y)}),c?N.createElement(KIe,{shape:o,activeBar:c,baseProps:i,entry:g,index:y,dataKey:l}):N.createElement(YIe,{shape:o,baseProps:i,entry:g,index:y,dataKey:l})))):null}function XIe(e){var{props:t,previousRectanglesRef:r}=e,{data:s,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=r.current,m=Gy(t,"recharts-bar-"),[f,x]=N.useState(!1),v=!f,g=N.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),y=N.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return N.createElement(GIe,{showLabels:v,rects:s},N.createElement(Hy,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:y,key:m},j=>{var b=j===1?s:s==null?void 0:s.map((_,S)=>{var T=h&&h[S];if(T)return Ko(Ko({},_),{},{x:ys(T.x,_.x,j),y:ys(T.y,_.y,j),width:ys(T.width,_.width,j),height:ys(T.height,_.height,j)});if(a==="horizontal"){var A=ys(0,_.height,j);return Ko(Ko({},_),{},{y:_.y+_.height-A,height:A})}var L=ys(0,_.width,j);return Ko(Ko({},_),{},{width:L})});return j>0&&(r.current=b??null),b==null?null:N.createElement(Ua,null,N.createElement(JIe,{props:t,data:b}))}),N.createElement(zS,{label:t.label}),t.children)}function QIe(e){var t=N.useRef(null);return N.createElement(XIe,{previousRectanglesRef:t,props:e})}var Qte=0,ZIe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ws(e,t)}};class eRe extends N.PureComponent{render(){var{hide:t,data:r,dataKey:s,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=kn("recharts-bar",a),h=u;return N.createElement(Ua,{className:d,id:u},l&&N.createElement("defs",null,N.createElement(kD,{clipPathId:h,xAxisId:i,yAxisId:o})),N.createElement(Ua,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},N.createElement(HIe,{data:r,dataKey:s,background:c,allOtherBarProps:this.props}),N.createElement(QIe,this.props)))}}var tRe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Nf.isSsr,legendType:"rect",minPointSize:Qte,xAxisId:0,yAxisId:0};function rRe(e){var{xAxisId:t,yAxisId:r,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=JS(t,r),m=Gb(),f=so(),x=xD(e.children,bc),v=fr(j=>PRe(j,t,r,f,e.id,x));if(m!=="vertical"&&m!=="horizontal")return null;var g,y=v==null?void 0:v[0];return y==null||y.height==null||y.width==null?g=0:g=m==="vertical"?y.height/2:y.width/2,N.createElement(Xte,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:ZIe,errorBarOffset:g},N.createElement(eRe,Ym({},e,{layout:m,needClip:h,data:v,xAxisId:t,yAxisId:r,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function nRe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:s},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:m,cells:f,parentViewBox:x}=e,v=t==="horizontal"?l:o,g=d?v.scale.domain():null,y=i5e({numericAxis:v});return h.map((j,b)=>{var _,S,T,A,L,E;d?_=t5e(d[b],g):(_=ws(j,r),Array.isArray(_)||(_=[y,_]));var q=EIe(s,Qte)(_[1],b);if(t==="horizontal"){var M,[C,I]=[l.scale(_[0]),l.scale(_[1])];S=G7({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:j,index:b}),T=(M=I??C)!==null&&M!==void 0?M:void 0,A=a.size;var O=C-I;if(L=yc(O)?0:O,E={x:S,y:m.top,width:A,height:m.height},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var H=Ui(L||q)*(Math.abs(q)-Math.abs(L));T-=H,L+=H}}else{var[re,U]=[o.scale(_[0]),o.scale(_[1])];if(S=re,T=G7({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:j,index:b}),A=U-re,L=a.size,E={x:m.left,y:T,width:m.width,height:L},Math.abs(q)>0&&Math.abs(A)<Math.abs(q)){var K=Ui(A||q)*(Math.abs(q)-Math.abs(A));A+=K}}if(S==null||T==null||A==null||L==null)return null;var ee=Ko(Ko({},j),{},{x:S,y:T,width:A,height:L,value:d?_:_[1],payload:j,background:E,tooltipPosition:{x:S+A/2,y:T+L/2},parentViewBox:x},f&&f[b]&&f[b].props);return ee}).filter(Boolean)}function sRe(e){var t=bi(e,tRe),r=so();return N.createElement(KS,{id:t.id,type:"bar"},s=>N.createElement(N.Fragment,null,N.createElement(jD,{legendPayload:WIe(t)}),N.createElement(GS,{fn:VIe,args:t}),N.createElement(ND,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:sZ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),N.createElement(rRe,Ym({},t,{id:s}))))}var Ja=N.memo(sRe);Ja.displayName="Bar";function fU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(r),!0).forEach(function(s){aRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aRe(e,t,r){return(t=iRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iRe(e){var t=oRe(e,"string");return typeof t=="symbol"?t:t+""}function oRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lRe=(e,t)=>t,cRe=(e,t,r)=>r,uRe=(e,t,r,s)=>s,dRe=(e,t,r,s,a)=>a,o1=rt([r1,dRe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),hRe=rt([o1],e=>e==null?void 0:e.maxBarSize),fRe=(e,t,r,s,a,i)=>i,mU=(e,t,r)=>{var s=r??e;if(!Vs(s))return To(s,t,0)},mRe=rt([_n,r1,lRe,cRe,uRe],(e,t,r,s,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===s).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),pRe=(e,t,r,s)=>{var a=_n(e);return a==="horizontal"?lb(e,"yAxis",r,s):lb(e,"xAxis",t,s)},gRe=(e,t,r)=>{var s=_n(e);return s==="horizontal"?v9(e,"xAxis",t):v9(e,"yAxis",r)},vRe=(e,t,r)=>{var s={},a=e.filter(IS),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),s),l=Object.entries(o).map(u=>{var[d,h]=u,m=h.map(x=>x.dataKey),f=mU(t,r,h[0].barSize);return{stackId:d,dataKeys:m,barSize:f}}),c=i.map(u=>{var d=[u.dataKey].filter(m=>m!=null),h=mU(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]},xRe=rt([mRe,a4e,gRe],vRe),yRe=(e,t,r,s,a)=>{var i,o,l=o1(e,t,r,s,a);if(l!=null){var c=_n(e),u=wee(e),{maxBarSize:d}=l,h=Vs(d)?u:d,m,f;return c==="horizontal"?(m=Xd(e,"xAxis",t,s),f=Jd(e,"xAxis",t,s)):(m=Xd(e,"yAxis",r,s),f=Jd(e,"yAxis",r,s)),(i=(o=Vg(m,f,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},Zte=(e,t,r,s)=>{var a=_n(e),i,o;return a==="horizontal"?(i=Xd(e,"xAxis",t,s),o=Jd(e,"xAxis",t,s)):(i=Xd(e,"yAxis",r,s),o=Jd(e,"yAxis",r,s)),Vg(i,o)};function wRe(e,t,r,s,a){var i=s.length;if(!(i<1)){var o=To(e,r,0,!0),l,c=[];if(ui(s[0].barSize)){var u=!1,d=r/i,h=s.reduce((y,j)=>y+(j.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&d>0&&(u=!0,d*=.9,h=i*d);var m=(r-h)/2>>0,f={offset:m-o,size:0};l=s.reduce((y,j)=>{var b,_={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:f.offset+f.size+o,size:u?d:(b=j.barSize)!==null&&b!==void 0?b:0}},S=[...y,_];return f=S[S.length-1].position,S},c)}else{var x=To(t,r,0,!0);r-2*x-(i-1)*o<=0&&(o=0);var v=(r-2*x-(i-1)*o)/i;v>1&&(v>>=0);var g=ui(a)?Math.min(v,a):v;l=s.reduce((y,j,b)=>[...y,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:x+(v+o)*b+(v-g)/2,size:g}}],c)}return l}}var bRe=(e,t,r,s,a,i,o)=>{var l=Vs(o)?t:o,c=wRe(r,s,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>qj(qj({},u),{},{position:qj(qj({},u.position),{},{offset:u.position.offset-a/2})}))),c},jRe=rt([xRe,wee,s4e,bee,yRe,Zte,hRe],bRe),NRe=(e,t,r,s)=>Xd(e,"xAxis",t,s),_Re=(e,t,r,s)=>Xd(e,"yAxis",r,s),SRe=(e,t,r,s)=>Jd(e,"xAxis",t,s),kRe=(e,t,r,s)=>Jd(e,"yAxis",r,s),CRe=rt([jRe,o1],(e,t)=>{if(!(e==null||t==null)){var r=e.find(s=>s.stackId===t.stackId&&t.dataKey!=null&&s.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ERe=(e,t)=>{var r=OS(t);if(!(!e||r==null||t==null)){var{stackId:s}=t;if(s!=null){var a=e[s];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},ARe=rt([pRe,o1],ERe),PRe=rt([wi,tR,NRe,_Re,SRe,kRe,CRe,_n,Qb,Zte,ARe,o1,fRe],(e,t,r,s,a,i,o,l,c,u,d,h,m)=>{var{chartData:f,dataStartIndex:x,dataEndIndex:v}=c;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||s==null||a==null||i==null||u==null)){var{data:g}=h,y;if(g!=null&&g.length>0?y=g:y=f==null?void 0:f.slice(x,v+1),y!=null)return nRe({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:m})}}),ere=e=>{var{chartData:t}=e,r=ra(),s=so();return N.useEffect(()=>s?()=>{}:(r(C9(t)),()=>{r(C9(void 0))}),[t,r,s]),null},pU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tre=Sc({name:"brush",initialState:pU,reducers:{setBrushSettings(e,t){return t.payload==null?pU:t.payload}}}),{setBrushSettings:xQe}=tre.actions,TRe=tre.reducer;function ORe(e,t,r){return(t=IRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IRe(e){var t=RRe(e,"string");return typeof t=="symbol"?t:t+""}function RRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CD{static create(t){return new CD(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?t>=s&&t<=a:t>=a&&t<=s}}ORe(CD,"EPS",1e-4);function DRe(e){return(e%180+180)%180}var MRe=function(t){var{width:r,height:s}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=DRe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},LRe={dots:[],areas:[],lines:[]},rre=Sc({name:"referenceElements",initialState:LRe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ef(e).dots.findIndex(s=>s===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ef(e).areas.findIndex(s=>s===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ef(e).lines.findIndex(s=>s===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:yQe,removeDot:wQe,addArea:bQe,removeArea:jQe,addLine:NQe,removeLine:_Qe}=rre.actions,FRe=rre.reducer,BRe=N.createContext(void 0),URe=e=>{var{children:t}=e,[r]=N.useState("".concat(Qw("recharts"),"-clip")),s=YS();if(s==null)return null;var{x:a,y:i,width:o,height:l}=s;return N.createElement(BRe.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function uy(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function nre(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function $Re(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return MRe(s,r)}function qRe(e,t,r){var s=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function VN(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function zRe(e,t){return nre(e,t+1)}function WRe(e,t,r,s,a){for(var i=(s||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:nre(s,u)};var v=c,g,y=()=>(g===void 0&&(g=r(x,v)),g),j=x.coordinate,b=c===0||VN(e,j,y,d,l);b||(c=0,d=o,u+=1),b&&(d=j+e*(y()/2+a),c+=u)},m;u<=i.length;)if(m=h(),m)return m.v;return[]}function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(s){VRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function VRe(e,t,r){return(t=HRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HRe(e){var t=GRe(e,"string");return typeof t=="symbol"?t:t+""}function GRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KRe(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(m){var f=i[m],x,v=()=>(x===void 0&&(x=r(f,m)),x);if(m===o-1){var g=e*(f.coordinate+e*v()/2-c);i[m]=f=So(So({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate})}else i[m]=f=So(So({},f),{},{tickCoord:f.coordinate});var y=VN(e,f.tickCoord,v,l,c);y&&(c=f.tickCoord-e*(v()/2+a),i[m]=So(So({},f),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function YRe(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=s[l-1],h=r(d,l-1),m=e*(d.coordinate+e*h/2-u);o[l-1]=d=So(So({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var f=VN(e,d.tickCoord,()=>h,c,u);f&&(u=d.tickCoord-e*(h/2+a),o[l-1]=So(So({},d),{},{isShow:!0}))}for(var x=i?l-1:l,v=function(j){var b=o[j],_,S=()=>(_===void 0&&(_=r(b,j)),_);if(j===0){var T=e*(b.coordinate-e*S()/2-c);o[j]=b=So(So({},b),{},{tickCoord:T<0?b.coordinate-T*e:b.coordinate})}else o[j]=b=So(So({},b),{},{tickCoord:b.coordinate});var A=VN(e,b.tickCoord,S,c,u);A&&(c=b.tickCoord+e*(S()/2+a),o[j]=So(So({},b),{},{isShow:!0}))},g=0;g<x;g++)v(g);return o}function ED(e,t,r){var{tick:s,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!s)return[];if(ur(c)||Nf.isSsr){var m;return(m=zRe(a,ur(c)?c:0))!==null&&m!==void 0?m:[]}var f=[],x=l==="top"||l==="bottom"?"width":"height",v=d&&x==="width"?_w(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(b,_)=>{var S=typeof u=="function"?u(b.value,_):b.value;return x==="width"?$Re(_w(S,{fontSize:t,letterSpacing:r}),v,h):_w(S,{fontSize:t,letterSpacing:r})[x]},y=a.length>=2?Ui(a[1].coordinate-a[0].coordinate):1,j=qRe(i,y,x);return c==="equidistantPreserveStart"?WRe(y,j,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=YRe(y,j,g,a,o,c==="preserveStartEnd"):f=KRe(y,j,g,a,o),f.filter(b=>b.isShow))}var JRe=e=>{var{ticks:t,label:r,labelGapWithTick:s=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?s:0);return Math.round(u)}return 0},XRe=["axisLine","width","height","className","hide","ticks"],QRe=["viewBox"],ZRe=["viewBox"];function r3(e,t){if(e==null)return{};var r,s,a=eDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eDe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Kg.apply(null,arguments)}function vU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(r),!0).forEach(function(s){tDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tDe(e,t,r){return(t=rDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rDe(e){var t=nDe(e,"string");return typeof t=="symbol"?t:t+""}function nDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AD={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function sDe(e){var{x:t,y:r,width:s,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=vi(vi(vi({},c),Qo(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=vi(vi({},u),{},{x1:t,y1:r+d*a,x2:t+s,y2:r+d*a})}else{var h=+(i==="left"&&!o||i==="right"&&o);u=vi(vi({},u),{},{x1:t+h*s,y1:r,x2:t+h*s,y2:r+a})}return N.createElement("line",Kg({},u,{className:kn("recharts-cartesian-axis-line",qg(l,"className"))}))}function aDe(e,t,r,s,a,i,o,l,c){var u,d,h,m,f,x,v=l?-1:1,g=e.tickSize||o,y=ur(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,m=r+ +!l*a,h=m-v*g,x=h-v*c,f=y;break;case"left":h=m=e.coordinate,d=t+ +!l*s,u=d-v*g,f=u-v*c,x=y;break;case"right":h=m=e.coordinate,d=t+ +l*s,u=d+v*g,f=u+v*c,x=y;break;default:u=d=e.coordinate,m=r+ +l*a,h=m+v*g,x=h+v*c,f=y;break}return{line:{x1:u,y1:h,x2:d,y2:m},tick:{x:f,y:x}}}function iDe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function oDe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function lDe(e){var{option:t,tickProps:r,value:s}=e,a,i=kn(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))a=N.cloneElement(t,vi(vi({},r),{},{className:i}));else if(typeof t=="function")a=t(vi(vi({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=kn(o,t==null?void 0:t.className)),a=N.createElement(qS,Kg({},r,{className:o}),s)}return a}function cDe(e){var{ticks:t=[],tick:r,tickLine:s,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:m,width:f,height:x,tickSize:v,tickMargin:g,fontSize:y,letterSpacing:j,getTicksConfig:b,events:_}=e,S=ED(vi(vi({},b),{},{ticks:t}),y,j),T=iDe(u,d),A=oDe(u,d),L=Qo(b),E=$g(r),q={};typeof s=="object"&&(q=s);var M=vi(vi({},L),{},{fill:"none"},q),C=S.map((I,O)=>{var{line:H,tick:re}=aDe(I,h,m,f,x,u,v,d,g),U=vi(vi(vi(vi({textAnchor:T,verticalAnchor:A},L),{},{stroke:"none",fill:a},E),re),{},{index:O,payload:I,visibleTicksCount:S.length,tickFormatter:i,padding:l},c);return N.createElement(Ua,Kg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},zb(_,I,O)),s&&N.createElement("line",Kg({},M,H,{className:kn("recharts-cartesian-axis-tick-line",qg(s,"className"))})),r&&N.createElement(lDe,{option:r,tickProps:U,value:"".concat(typeof i=="function"?i(I.value,O):I.value).concat(o||"")}))});return C.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var uDe=N.forwardRef((e,t)=>{var{axisLine:r,width:s,height:a,className:i,hide:o,ticks:l}=e,c=r3(e,XRe),[u,d]=N.useState(""),[h,m]=N.useState(""),f=N.useRef(null);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return JRe({ticks:f.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=N.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");f.current=g;var y=g[0];if(y){var j=window.getComputedStyle(y),b=j.fontSize,_=j.letterSpacing;(b!==u||_!==h)&&(d(b),m(_))}}},[u,h]);return o||s!=null&&s<=0||a!=null&&a<=0?null:N.createElement(Ua,{className:kn("recharts-cartesian-axis",i),ref:x},N.createElement(sDe,{x:e.x,y:e.y,width:s,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qo(e)}),N.createElement(cDe,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:e,events:c}),N.createElement(x3e,{x:e.x,y:e.y,width:e.width,height:e.height},N.createElement(E3e,{label:e.label,labelRef:e.labelRef}),e.children))}),dDe=N.memo(uDe,(e,t)=>{var{viewBox:r}=e,s=r3(e,QRe),{viewBox:a}=t,i=r3(t,ZRe);return uy(r,a)&&uy(s,i)}),PD=N.forwardRef((e,t)=>{var r=bi(e,AD);return N.createElement(dDe,Kg({},r,{ref:t}))});PD.displayName="CartesianAxis";var hDe=["x1","y1","x2","y2","key"],fDe=["offset"],mDe=["xAxisId","yAxisId"],pDe=["xAxisId","yAxisId"];function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(s){gDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function gDe(e,t,r){return(t=vDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vDe(e){var t=xDe(e,"string");return typeof t=="symbol"?t:t+""}function xDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fg.apply(null,arguments)}function HN(e,t){if(e==null)return{};var r,s,a=yDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yDe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var wDe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:s,y:a,width:i,height:o,ry:l}=e;return N.createElement("rect",{x:s,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function sre(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:s,y1:a,x2:i,y2:o,key:l}=t,c=HN(t,hDe),u=Qo(c),{offset:d}=u,h=HN(u,fDe);r=N.createElement("line",fg({},h,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function bDe(e){var{x:t,width:r,horizontal:s=!0,horizontalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=HN(e,mDe),c=a.map((u,d)=>{var h=ko(ko({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return sre(s,h)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function jDe(e){var{y:t,height:r,vertical:s=!0,verticalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=HN(e,pDe),c=a.map((u,d)=>{var h=ko(ko({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return sre(s,h)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function NDe(e){var{horizontalFill:t,fillOpacity:r,x:s,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(h=>Math.round(h+a-a)).sort((h,m)=>h-m);a!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var f=!u[m+1],x=f?a+o-h:u[m+1]-h;if(x<=0)return null;var v=m%t.length;return N.createElement("rect",{key:"react-".concat(m),y:h,x:s,height:x,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _De(e){var{vertical:t=!0,verticalFill:r,fillOpacity:s,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(h=>Math.round(h+a-a)).sort((h,m)=>h-m);a!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var f=!u[m+1],x=f?a+o-h:u[m+1]-h;if(x<=0)return null;var v=m%r.length;return N.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:x,height:l,stroke:"none",fill:r[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var SDe=(e,t)=>{var{xAxis:r,width:s,height:a,offset:i}=e;return rZ(ED(ko(ko(ko({},AD),r),{},{ticks:nZ(r),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,t)},kDe=(e,t)=>{var{yAxis:r,width:s,height:a,offset:i}=e;return rZ(ED(ko(ko(ko({},AD),r),{},{ticks:nZ(r),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,t)},CDe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function va(e){var t=nR(),r=sR(),s=dZ(),a=ko(ko({},bi(e,CDe)),{},{x:ur(e.x)?e.x:s.left,y:ur(e.y)?e.y:s.top,width:ur(e.width)?e.width:s.width,height:ur(e.height)?e.height:s.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:m,verticalValues:f}=a,x=so(),v=fr(E=>x9(E,"xAxis",i,x)),g=fr(E=>x9(E,"yAxis",o,x));if(!ur(u)||u<=0||!ur(d)||d<=0||!ur(l)||l!==+l||!ur(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||SDe,j=a.horizontalCoordinatesGenerator||kDe,{horizontalPoints:b,verticalPoints:_}=a;if((!b||!b.length)&&typeof j=="function"){var S=m&&m.length,T=j({yAxis:g?ko(ko({},g),{},{ticks:S?m:g.ticks}):void 0,width:t,height:r,offset:s},S?!0:h);_N(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(b=T)}if((!_||!_.length)&&typeof y=="function"){var A=f&&f.length,L=y({xAxis:v?ko(ko({},v),{},{ticks:A?f:v.ticks}):void 0,width:t,height:r,offset:s},A?!0:h);_N(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(_=L)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(wDe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),N.createElement(NDe,fg({},a,{horizontalPoints:b})),N.createElement(_De,fg({},a,{verticalPoints:_})),N.createElement(bDe,fg({},a,{offset:s,horizontalPoints:b,xAxis:v,yAxis:g})),N.createElement(jDe,fg({},a,{offset:s,verticalPoints:_,xAxis:v,yAxis:g})))}va.displayName="CartesianGrid";var are=(e,t,r,s)=>Xd(e,"xAxis",t,s),ire=(e,t,r,s)=>Jd(e,"xAxis",t,s),ore=(e,t,r,s)=>Xd(e,"yAxis",r,s),lre=(e,t,r,s)=>Jd(e,"yAxis",r,s),EDe=rt([_n,are,ore,ire,lre],(e,t,r,s,a)=>th(e,"xAxis")?Vg(t,s,!1):Vg(r,a,!1)),ADe=(e,t,r,s,a)=>a;function PDe(e){return e.type==="line"}var TDe=rt([r1,ADe],(e,t)=>e.filter(PDe).find(r=>r.id===t)),ODe=rt([_n,are,ore,ire,lre,TDe,EDe,Qb],(e,t,r,s,a,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||s==null||a==null||s.length===0||a.length===0||o==null)){var{dataKey:h,data:m}=i,f;if(m!=null&&m.length>0?f=m:f=c==null?void 0:c.slice(u,d+1),f!=null)return e6e({layout:e,xAxis:t,yAxis:r,xAxisTicks:s,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:f})}});function cre(e){var t=$g(e),r=3,s=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=s),{r:o,strokeWidth:l}}return{r,strokeWidth:s}}var IDe=["id"],RDe=["type","layout","connectNulls","needClip"],DDe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function yU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(r),!0).forEach(function(s){MDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function MDe(e,t,r){return(t=LDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LDe(e){var t=FDe(e,"string");return typeof t=="symbol"?t:t+""}function FDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TD(e,t){if(e==null)return{};var r,s,a=BDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BDe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yg.apply(null,arguments)}var UDe=e=>{var{dataKey:t,name:r,stroke:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:cp(r,t),payload:e}]};function $De(e){var{dataKey:t,data:r,stroke:s,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:cp(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var ure=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qDe(e,t){for(var r=e.length%2!==0?[...e,0]:e,s=[],a=0;a<t;++a)s=[...s,...r];return s}var zDe=(e,t,r)=>{var s=r.reduce((h,m)=>h+m);if(!s)return ure(t,e);for(var a=Math.floor(e/s),i=e%s,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...qDe(r,a),...l,...d].map(h=>"".concat(h,"px")).join(", ")};function WDe(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var s=kn("recharts-line-dot",typeof e!="boolean"?e.className:"");r=N.createElement(pD,Yg({},t,{className:s}))}return r}function VDe(e,t){return e==null?!1:t?!0:e.length===1}function HDe(e){var{clipPathId:t,points:r,props:s}=e,{dot:a,dataKey:i,needClip:o}=s;if(!VDe(r,a))return null;var{id:l}=s,c=TD(s,IDe),u=HS(a),d=Qo(c),h=VX(a),m=r.map((x,v)=>{var g=rc(rc(rc({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:x.x,cy:x.y,dataKey:i,value:x.value,payload:x.payload,points:r});return WDe(a,g)}),f={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return N.createElement(Ua,Yg({className:"recharts-line-dots",key:"dots"},f),m)}function GDe(e){var{showLabels:t,children:r,points:s}=e,a=N.useMemo(()=>s==null?void 0:s.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return rc(rc({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[s]);return N.createElement(mD,{value:t?a:null},r)}function wU(e){var{clipPathId:t,pathRef:r,points:s,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=TD(i,RDe),h=rc(rc({},Zo(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:s,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return N.createElement(N.Fragment,null,(s==null?void 0:s.length)>1&&N.createElement(_x,Yg({},h,{pathRef:r})),N.createElement(HDe,{points:s,clipPathId:t,props:i}))}function KDe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function YDe(e){var{clipPathId:t,props:r,pathRef:s,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:m,width:f,height:x,onAnimationEnd:v,onAnimationStart:g}=r,y=a.current,j=Gy(r,"recharts-line-"),[b,_]=N.useState(!1),S=!b,T=N.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),A=N.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]),L=KDe(s.current),E=i.current;return N.createElement(GDe,{points:o,showLabels:S},r.children,N.createElement(Hy,{animationId:j,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:T,onAnimationStart:A,key:j},q=>{var M=ys(E,L+E,q),C=Math.min(M,L),I;if(c)if(l){var O="".concat(l).split(/[,\s]+/gim).map(U=>parseFloat(U));I=zDe(C,L,O)}else I=ure(L,C);else I=l==null?void 0:String(l);if(y){var H=y.length/o.length,re=q===1?o:o.map((U,K)=>{var ee=Math.floor(K*H);if(y[ee]){var X=y[ee];return rc(rc({},U),{},{x:ys(X.x,U.x,q),y:ys(X.y,U.y,q)})}return m?rc(rc({},U),{},{x:ys(f*2,U.x,q),y:ys(x/2,U.y,q)}):rc(rc({},U),{},{x:U.x,y:U.y})});return a.current=re,N.createElement(wU,{props:r,points:re,clipPathId:t,pathRef:s,strokeDasharray:I})}return q>0&&L>0&&(a.current=o,i.current=C),N.createElement(wU,{props:r,points:o,clipPathId:t,pathRef:s,strokeDasharray:I})}),N.createElement(zS,{label:r.label}))}function JDe(e){var{clipPathId:t,props:r}=e,s=N.useRef(null),a=N.useRef(0),i=N.useRef(null);return N.createElement(YDe,{props:r,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:i})}var XDe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ws(e.payload,t)});class QDe extends N.Component{render(){var{hide:t,dot:r,points:s,className:a,xAxisId:i,yAxisId:o,top:l,left:c,width:u,height:d,id:h,needClip:m}=this.props;if(t)return null;var f=kn("recharts-line",a),x=h,{r:v,strokeWidth:g}=cre(r),y=HS(r),j=v*2+g;return N.createElement(N.Fragment,null,N.createElement(Ua,{className:f},m&&N.createElement("defs",null,N.createElement(kD,{clipPathId:x,xAxisId:i,yAxisId:o}),!y&&N.createElement("clipPath",{id:"clipPath-dots-".concat(x)},N.createElement("rect",{x:c-j/2,y:l-j/2,width:u+j,height:d+j}))),N.createElement(Xte,{xAxisId:i,yAxisId:o,data:s,dataPointFormatter:XDe,errorBarOffset:0},N.createElement(JDe,{props:this.props,clipPathId:x}))),N.createElement(e3,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var dre={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Nf.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function ZDe(e){var t=bi(e,dre),{activeDot:r,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:m,xAxisId:f,yAxisId:x,id:v}=t,g=TD(t,DDe),{needClip:y}=JS(f,x),j=YS(),b=Gb(),_=so(),S=fr(q=>ODe(q,f,x,_,v));if(b!=="horizontal"&&b!=="vertical"||S==null||j==null)return null;var{height:T,width:A,x:L,y:E}=j;return N.createElement(QDe,Yg({},g,{id:v,connectNulls:l,dot:c,activeDot:r,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:m,xAxisId:f,yAxisId:x,points:S,layout:b,height:T,width:A,left:L,top:E,needClip:y}))}function e6e(e){var{layout:t,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var h=ws(u,o);if(t==="horizontal"){var m=NN({axis:r,ticks:a,bandSize:l,entry:u,index:d}),f=Vs(h)?null:s.scale(h);return{x:m,y:f,value:h,payload:u}}var x=Vs(h)?null:r.scale(h),v=NN({axis:s,ticks:i,bandSize:l,entry:u,index:d});return x==null||v==null?null:{x,y:v,value:h,payload:u}}).filter(Boolean)}function t6e(e){var t=bi(e,dre),r=so();return N.createElement(KS,{id:t.id,type:"line"},s=>N.createElement(N.Fragment,null,N.createElement(jD,{legendPayload:UDe(t)}),N.createElement(GS,{fn:$De,args:t}),N.createElement(ND,{type:"line",id:s,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),N.createElement(ZDe,Yg({},t,{id:s}))))}var du=N.memo(t6e);du.displayName="Line";var hre=(e,t,r,s)=>Xd(e,"xAxis",t,s),fre=(e,t,r,s)=>Jd(e,"xAxis",t,s),mre=(e,t,r,s)=>Xd(e,"yAxis",r,s),pre=(e,t,r,s)=>Jd(e,"yAxis",r,s),r6e=rt([_n,hre,mre,fre,pre],(e,t,r,s,a)=>th(e,"xAxis")?Vg(t,s,!1):Vg(r,a,!1)),n6e=(e,t,r,s,a)=>a,gre=rt([r1,n6e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),s6e=(e,t,r,s,a)=>{var i,o=gre(e,t,r,s,a);if(o!=null){var l=_n(e),c=th(l,"xAxis"),u;if(c?u=lb(e,"yAxis",r,s):u=lb(e,"xAxis",t,s),u!=null){var{stackId:d}=o,h=OS(o);if(!(d==null||h==null)){var m=(i=u[d])===null||i===void 0?void 0:i.stackedData;return m==null?void 0:m.find(f=>f.key===h)}}}},a6e=rt([_n,hre,mre,fre,pre,s6e,Qb,r6e,gre],(e,t,r,s,a,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||s==null||a==null||s.length===0||a.length===0||l==null)){var{data:m}=c,f;if(m&&m.length>0?f=m:f=u==null?void 0:u.slice(d,h+1),f!=null){var x=void 0;return k6e({layout:e,xAxis:t,yAxis:r,xAxisTicks:s,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:f,chartBaseValue:x,bandSize:l})}}}),i6e=["id"],o6e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function vre(e,t){if(e==null)return{};var r,s,a=l6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l6e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function bU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(r),!0).forEach(function(s){c6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function c6e(e,t,r){return(t=u6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6e(e){var t=d6e(e,"string");return typeof t=="symbol"?t:t+""}function d6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rf.apply(null,arguments)}function GN(e,t){return e&&e!=="none"?e:t}var h6e=e=>{var{dataKey:t,name:r,stroke:s,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:GN(s,a),value:cp(r,t),payload:e}]};function f6e(e){var{dataKey:t,data:r,stroke:s,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:cp(o,t),hide:l,type:e.tooltipType,color:GN(s,i),unit:c}}}var m6e=(e,t)=>{var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var s=kn("recharts-area-dot",typeof e!="boolean"?e.className:"");r=N.createElement(pD,rf({},t,{className:s}))}return r};function p6e(e,t){return e==null?!1:t?!0:e.length===1}function g6e(e){var{clipPathId:t,points:r,props:s}=e,{needClip:a,dot:i,dataKey:o}=s;if(!p6e(r,i))return null;var l=HS(i),c=Qo(s),u=VX(i),d=r.map((m,f)=>{var x=Qh(Qh(Qh({key:"dot-".concat(f),r:3},c),u),{},{index:f,cx:m.x,cy:m.y,dataKey:o,value:m.value,payload:m.payload,points:r});return m6e(i,x)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return N.createElement(Ua,rf({className:"recharts-area-dots"},h),d)}function v6e(e){var{showLabels:t,children:r,points:s}=e,a=s.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Qh(Qh({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return N.createElement(mD,{value:t?a:null},r)}function jU(e){var{points:t,baseLine:r,needClip:s,clipPathId:a,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:h}=i,m=vre(i,i6e),f=Qo(m);return N.createElement(N.Fragment,null,(t==null?void 0:t.length)>1&&N.createElement(Ua,{clipPath:s?"url(#clipPath-".concat(a,")"):void 0},N.createElement(_x,rf({},f,{id:h,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&N.createElement(_x,rf({},f,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&N.createElement(_x,rf({},f,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),N.createElement(g6e,{points:t,props:m,clipPathId:a}))}function x6e(e){var{alpha:t,baseLine:r,points:s,strokeWidth:a}=e,i=s[0].y,o=s[s.length-1].y;if(!ui(i)||!ui(o))return null;var l=t*Math.abs(i-o),c=Math.max(...s.map(u=>u.x||0));return ur(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),ur(c)?N.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function y6e(e){var{alpha:t,baseLine:r,points:s,strokeWidth:a}=e,i=s[0].x,o=s[s.length-1].x;if(!ui(i)||!ui(o))return null;var l=t*Math.abs(i-o),c=Math.max(...s.map(u=>u.y||0));return ur(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),ur(c)?N.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function w6e(e){var{alpha:t,layout:r,points:s,baseLine:a,strokeWidth:i}=e;return r==="vertical"?N.createElement(x6e,{alpha:t,points:s,baseLine:a,strokeWidth:i}):N.createElement(y6e,{alpha:t,points:s,baseLine:a,strokeWidth:i})}function b6e(e){var{needClip:t,clipPathId:r,props:s,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:m,onAnimationEnd:f}=s,x=Gy(s,"recharts-area-"),[v,g]=N.useState(!1),y=!v,j=N.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),b=N.useCallback(()=>{typeof m=="function"&&m(),g(!0)},[m]),_=a.current,S=i.current;return N.createElement(v6e,{showLabels:y,points:o},s.children,N.createElement(Hy,{animationId:x,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:j,onAnimationStart:b,key:x},T=>{if(_){var A=_.length/o.length,L=T===1?o:o.map((q,M)=>{var C=Math.floor(M*A);if(_[C]){var I=_[C];return Qh(Qh({},q),{},{x:ys(I.x,q.x,T),y:ys(I.y,q.y,T)})}return q}),E;return ur(l)?E=ys(S,l,T):Vs(l)||yc(l)?E=ys(S,0,T):E=l.map((q,M)=>{var C=Math.floor(M*A);if(Array.isArray(S)&&S[C]){var I=S[C];return Qh(Qh({},q),{},{x:ys(I.x,q.x,T),y:ys(I.y,q.y,T)})}return q}),T>0&&(a.current=L,i.current=E),N.createElement(jU,{points:L,baseLine:E,needClip:t,clipPathId:r,props:s})}return T>0&&(a.current=o,i.current=l),N.createElement(Ua,null,c&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(r)},N.createElement(w6e,{alpha:T,points:o,baseLine:l,layout:s.layout,strokeWidth:s.strokeWidth}))),N.createElement(Ua,{clipPath:"url(#animationClipPath-".concat(r,")")},N.createElement(jU,{points:o,baseLine:l,needClip:t,clipPathId:r,props:s})))}),N.createElement(zS,{label:s.label}))}function j6e(e){var{needClip:t,clipPathId:r,props:s}=e,a=N.useRef(null),i=N.useRef();return N.createElement(b6e,{needClip:t,clipPathId:r,props:s,previousPointsRef:a,previousBaselineRef:i})}class N6e extends N.PureComponent{render(){var{hide:t,dot:r,points:s,className:a,top:i,left:o,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:m,baseLine:f}=this.props;if(t)return null;var x=kn("recharts-area",a),v=m,{r:g,strokeWidth:y}=cre(r),j=HS(r),b=g*2+y;return N.createElement(N.Fragment,null,N.createElement(Ua,{className:x},l&&N.createElement("defs",null,N.createElement(kD,{clipPathId:v,xAxisId:c,yAxisId:u}),!j&&N.createElement("clipPath",{id:"clipPath-dots-".concat(v)},N.createElement("rect",{x:o-b/2,y:i-b/2,width:d+b,height:h+b}))),N.createElement(j6e,{needClip:l,clipPathId:v,props:this.props})),N.createElement(e3,{points:s,mainColor:GN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(f)&&N.createElement(e3,{points:f,mainColor:GN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var xre={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Nf.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function _6e(e){var t,r=bi(e,xre),{activeDot:s,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:m,legendType:f,stroke:x,xAxisId:v,yAxisId:g}=r,y=vre(r,o6e),j=Gb(),b=jte(),{needClip:_}=JS(v,g),S=so(),{points:T,isRange:A,baseLine:L}=(t=fr(O=>a6e(O,v,g,S,e.id)))!==null&&t!==void 0?t:{},E=YS();if(j!=="horizontal"&&j!=="vertical"||E==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:q,width:M,x:C,y:I}=E;return!T||!T.length?null:N.createElement(N6e,rf({},y,{activeDot:s,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:L,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:q,hide:h,layout:j,isAnimationActive:m,isRange:A,legendType:f,needClip:_,points:T,stroke:x,width:M,left:C,top:I,xAxisId:v,yAxisId:g}))}var S6e=(e,t,r,s,a)=>{var i=r??t;if(ur(i))return i;var o=e==="horizontal"?a:s,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function k6e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:s},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:m,bandSize:f}=e,x=a&&a.length,v=S6e(i,o,r,l,c),g=i==="horizontal",y=!1,j=u.map((_,S)=>{var T;x?T=a[d+S]:(T=ws(_,s),Array.isArray(T)?y=!0:T=[v,T]);var A=T[1]==null||x&&!t&&ws(_,s)==null;return g?{x:NN({axis:l,ticks:h,bandSize:f,entry:_,index:S}),y:A?null:c.scale(T[1]),value:T,payload:_}:{x:A?null:l.scale(T[1]),y:NN({axis:c,ticks:m,bandSize:f,entry:_,index:S}),value:T,payload:_}}),b;return x||y?b=j.map(_=>{var S=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:S!=null&&_.y!=null?c.scale(S):null,payload:_.payload}:{x:S!=null?l.scale(S):null,y:_.y,payload:_.payload}}):b=g?c.scale(v):l.scale(v),{points:j,baseLine:b,isRange:y}}function C6e(e){var t=bi(e,xre),r=so();return N.createElement(KS,{id:t.id,type:"area"},s=>N.createElement(N.Fragment,null,N.createElement(jD,{legendPayload:h6e(t)}),N.createElement(GS,{fn:f6e,args:t}),N.createElement(ND,{type:"area",id:s,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:sZ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),N.createElement(_6e,rf({},t,{id:s}))))}var S2=N.memo(C6e);S2.displayName="Area";var E6e=["dangerouslySetInnerHTML","ticks"],A6e=["id"],P6e=["domain"],T6e=["domain"];function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},n3.apply(null,arguments)}function KN(e,t){if(e==null)return{};var r,s,a=O6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O6e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function I6e(e){var t=ra();return N.useLayoutEffect(()=>(t(lIe(e)),()=>{t(cIe(e))}),[e,t]),null}var R6e=e=>{var{xAxisId:t,className:r}=e,s=fr(tR),a=so(),i="xAxis",o=fr(g=>t0(g,i,t,a)),l=fr(g=>Zee(g,i,t,a)),c=fr(g=>Yee(g,t)),u=fr(g=>Z4e(g,t)),d=fr(g=>Pee(g,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m}=e,f=KN(e,E6e),{id:x}=d,v=KN(d,A6e);return N.createElement(PD,n3({},f,v,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:kn("recharts-".concat(i," ").concat(i),r),viewBox:s,ticks:l}))},D6e={allowDataOverflow:Jl.allowDataOverflow,allowDecimals:Jl.allowDecimals,allowDuplicatedCategory:Jl.allowDuplicatedCategory,height:Jl.height,hide:!1,mirror:Jl.mirror,orientation:Jl.orientation,padding:Jl.padding,reversed:Jl.reversed,scale:Jl.scale,tickCount:Jl.tickCount,type:Jl.type,xAxisId:0},M6e=e=>{var t,r,s,a,i,o=bi(e,D6e);return N.createElement(N.Fragment,null,N.createElement(I6e,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(s=o.angle)!==null&&s!==void 0?s:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),N.createElement(R6e,o))},L6e=(e,t)=>{var{domain:r}=e,s=KN(e,P6e),{domain:a}=t,i=KN(t,T6e);return uy(s,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:uy({domain:r},{domain:a}):!1},xa=N.memo(M6e,L6e);xa.displayName="XAxis";var F6e=["dangerouslySetInnerHTML","ticks"],B6e=["id"],U6e=["domain"],$6e=["domain"];function s3(){return s3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},s3.apply(null,arguments)}function YN(e,t){if(e==null)return{};var r,s,a=q6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function q6e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function z6e(e){var t=ra();return N.useLayoutEffect(()=>(t(uIe(e)),()=>{t(dIe(e))}),[e,t]),null}var W6e=e=>{var{yAxisId:t,className:r,width:s,label:a}=e,i=N.useRef(null),o=N.useRef(null),l=fr(tR),c=so(),u=ra(),d="yAxis",h=fr(S=>t0(S,d,t,c)),m=fr(S=>Jee(S,t)),f=fr(S=>tPe(S,t)),x=fr(S=>Zee(S,d,t,c)),v=fr(S=>Tee(S,t));if(N.useLayoutEffect(()=>{if(!(s!=="auto"||!m||fD(a)||N.isValidElement(a)||v==null)){var S=i.current;if(S){var T=S.getCalculatedWidth();Math.round(m.width)!==Math.round(T)&&u(hIe({id:t,width:T}))}}},[x,m,u,a,t,s,v]),m==null||f==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,j=YN(e,F6e),{id:b}=v,_=YN(v,B6e);return N.createElement(PD,s3({},j,_,{ref:i,labelRef:o,scale:h,x:f.x,y:f.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:m.width,height:m.height,className:kn("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:x}))},V6e={allowDataOverflow:Xl.allowDataOverflow,allowDecimals:Xl.allowDecimals,allowDuplicatedCategory:Xl.allowDuplicatedCategory,hide:!1,mirror:Xl.mirror,orientation:Xl.orientation,padding:Xl.padding,reversed:Xl.reversed,scale:Xl.scale,tickCount:Xl.tickCount,type:Xl.type,width:Xl.width,yAxisId:0},H6e=e=>{var t,r,s,a,i,o=bi(e,V6e);return N.createElement(N.Fragment,null,N.createElement(z6e,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(s=o.angle)!==null&&s!==void 0?s:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),N.createElement(W6e,o))},G6e=(e,t)=>{var{domain:r}=e,s=YN(e,U6e),{domain:a}=t,i=YN(t,$6e);return uy(s,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:uy({domain:r},{domain:a}):!1},ya=N.memo(H6e,G6e);ya.displayName="YAxis";var RE={exports:{}},DE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NU;function K6e(){if(NU)return DE;NU=1;var e=jy();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return DE.useSyncExternalStoreWithSelector=function(c,u,d,h,m){var f=a(null);if(f.current===null){var x={hasValue:!1,value:null};f.current=x}else x=f.current;f=o(function(){function g(S){if(!y){if(y=!0,j=S,S=h(S),m!==void 0&&x.hasValue){var T=x.value;if(m(T,S))return b=T}return b=S}if(T=b,r(j,S))return T;var A=h(S);return m!==void 0&&m(T,A)?(j=S,T):(j=S,b=A)}var y=!1,j,b,_=d===void 0?null:d;return[function(){return g(u())},_===null?void 0:function(){return g(_())}]},[u,d,h,m]);var v=s(c,f[0],f[1]);return i(function(){x.hasValue=!0,x.value=v},[v]),l(v),v},DE}var _U;function Y6e(){return _U||(_U=1,RE.exports=K6e()),RE.exports}Y6e();function J6e(e){e()}function X6e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){J6e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var SU={notify(){},get:()=>[]};function Q6e(e,t){let r,s=SU,a=0,i=!1;function o(v){d();const g=s.subscribe(v);let y=!1;return()=>{y||(y=!0,g(),h())}}function l(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),s=X6e())}function h(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=SU)}function m(){i||(i=!0,d())}function f(){i&&(i=!1,h())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>s};return x}var Z6e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eMe=Z6e(),tMe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rMe=tMe(),nMe=()=>eMe||rMe?N.useLayoutEffect:N.useEffect,sMe=nMe(),ME=Symbol.for("react-redux-context"),LE=typeof globalThis<"u"?globalThis:{};function aMe(){if(!N.createContext)return{};const e=LE[ME]??(LE[ME]=new Map);let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var iMe=aMe();function oMe(e){const{children:t,context:r,serverState:s,store:a}=e,i=N.useMemo(()=>{const c=Q6e(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),o=N.useMemo(()=>a.getState(),[a]);sMe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||iMe;return N.createElement(l.Provider,{value:i},t)}var lMe=oMe,cMe=(e,t)=>t,OD=rt([cMe,_n,Cee,Ni,gte,Cf,aTe,wi],uTe),ID=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/s)}},yre=lu("mouseClick"),wre=Vb();wre.startListening({actionCreator:yre,effect:(e,t)=>{var r=e.payload,s=OD(t.getState(),ID(r));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(mPe({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var a3=lu("mouseMove"),bre=Vb();bre.startListening({actionCreator:a3,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=sD(s,s.tooltip.settings.shared),i=OD(s,ID(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(ote({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(ite()))}});var kU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},jre=Sc({name:"rootProps",initialState:kU,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:kU.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),uMe=jre.reducer,{updateOptions:dMe}=jre.actions,Nre=Sc({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hMe}=Nre.actions,fMe=Nre.reducer,_re=lu("keyDown"),Sre=lu("focus"),RD=Vb();RD.startListening({actionCreator:_re,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(aD(a,n0(r))),l=Cf(r);if(i==="Enter"){var c=UN(r,"axis","hover",String(a.index));t.dispatch(YT({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=aPe(r),d=u==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=o+h*d;if(!(l==null||m>=l.length||m<0)){var f=UN(r,"axis","hover",String(m));t.dispatch(YT({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});RD.startListening({actionCreator:Sre,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=UN(r,"axis","hover",String(i));t.dispatch(YT({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Yc=lu("externalEvent"),kre=Vb();kre.startListening({actionCreator:Yc,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),s={activeCoordinate:JPe(r),activeDataKey:wte(r),activeIndex:Gm(r),activeLabel:yte(r),activeTooltipIndex:Gm(r),isTooltipActive:XPe(r)};e.payload.handler(s,e.payload.reactEvent)}}});var mMe=rt([r0],e=>e.tooltipItemPayloads),pMe=rt([mMe,a1,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,s)=>{var a=e.find(l=>l.settings.dataKey===s);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),Cre=lu("touchMove"),Ere=Vb();Ere.startListening({actionCreator:Cre,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=sD(s,s.tooltip.settings.shared);if(a==="axis"){var i=OD(s,ID({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(ote({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(iZ),d=(o=c.getAttribute(oZ))!==null&&o!==void 0?o:void 0,h=pMe(t.getState(),u,d);t.dispatch(ate({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}});var gMe=AQ({brush:TRe,cartesianAxis:fIe,chartData:kTe,errorBars:PIe,graphicalItems:OOe,layout:BSe,legend:W5e,options:bTe,polarAxis:Y3e,polarOptions:fMe,referenceElements:FRe,rootProps:uMe,tooltip:pPe}),vMe=function(t){return uSe({reducer:gMe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([wre.middleware,bre.middleware,RD.middleware,kre.middleware,Ere.middleware]),enhancers:r=>{var s=r;return typeof r=="function"&&(s=r()),s.concat($Q({type:"raf"}))},devTools:Nf.devToolsEnabled})};function Are(e){var{preloadedState:t,children:r,reduxStoreName:s}=e,a=so(),i=N.useRef(null);if(a)return r;i.current==null&&(i.current=vMe(t));var o=YI;return N.createElement(lMe,{context:o,store:i.current},r)}function Pre(e){var{layout:t,margin:r}=e,s=ra(),a=so();return N.useEffect(()=>{a||(s(MSe(t)),s(DSe(r)))},[s,a,t,r]),null}function Tre(e){var t=ra();return N.useEffect(()=>{t(dMe(e))},[t,e]),null}var xMe=["children"];function yMe(e,t){if(e==null)return{};var r,s,a=wMe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wMe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},JN.apply(null,arguments)}var bMe={width:"100%",height:"100%",display:"block"},jMe=N.forwardRef((e,t)=>{var r=nR(),s=sR(),a=pZ();if(!ay(r)||!ay(s))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,N.createElement(LI,JN({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:s,style:bMe,ref:t}),i)}),NMe=e=>{var{children:t}=e,r=fr(wS);if(!r)return null;var{width:s,height:a,y:i,x:o}=r;return N.createElement(LI,{width:s,height:a,x:o,y:i},t)},CU=N.forwardRef((e,t)=>{var{children:r}=e,s=yMe(e,xMe),a=so();return a?N.createElement(NMe,null,r):N.createElement(jMe,JN({ref:t},s),r)});function _Me(){var e=ra(),[t,r]=N.useState(null),s=fr(f5e);return N.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ui(i)&&i!==s&&e(FSe(i))}},[t,e,s]),r}function EU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function SMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(r),!0).forEach(function(s){kMe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function kMe(e,t,r){return(t=CMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CMe(e){var t=EMe(e,"string");return typeof t=="symbol"?t:t+""}function EMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jg.apply(null,arguments)}var AMe=()=>(DTe(),null);function XN(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var PMe=N.forwardRef((e,t)=>{var r,s,a=N.useRef(null),[i,o]=N.useState({containerWidth:XN((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:XN((s=e.style)===null||s===void 0?void 0:s.height)}),l=N.useCallback((u,d)=>{o(h=>{var m=Math.round(u),f=Math.round(d);return h.containerWidth===m&&h.containerHeight===f?h:{containerWidth:m,containerHeight:f}})},[]),c=N.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();l(d,h);var m=x=>{var{width:v,height:g}=x[0].contentRect;l(v,g)},f=new ResizeObserver(m);f.observe(u),a.current=f}},[t,l]);return N.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),N.createElement(N.Fragment,null,N.createElement(jS,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",Jg({ref:c},e)))}),TMe=N.forwardRef((e,t)=>{var{width:r,height:s}=e,[a,i]=N.useState({containerWidth:XN(r),containerHeight:XN(s)}),o=N.useCallback((c,u)=>{i(d=>{var h=Math.round(c),m=Math.round(u);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=N.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return N.createElement(N.Fragment,null,N.createElement(jS,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",Jg({ref:l},e)))}),OMe=N.forwardRef((e,t)=>{var{width:r,height:s}=e;return N.createElement(N.Fragment,null,N.createElement(jS,{width:r,height:s}),N.createElement("div",Jg({ref:t},e)))}),IMe=N.forwardRef((e,t)=>{var{width:r,height:s}=e;return cf(r)||cf(s)?N.createElement(TMe,Jg({},e,{ref:t})):N.createElement(OMe,Jg({},e,{ref:t}))});function RMe(e){return e===!0?PMe:IMe}var DMe=N.forwardRef((e,t)=>{var{children:r,className:s,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:m,onTouchEnd:f,onTouchMove:x,onTouchStart:v,style:g,width:y,responsive:j,dispatchTouchEvents:b=!0}=e,_=N.useRef(null),S=ra(),[T,A]=N.useState(null),[L,E]=N.useState(null),q=_Me(),M=rR(),C=(M==null?void 0:M.width)>0?M.width:y,I=(M==null?void 0:M.height)>0?M.height:a,O=N.useCallback(oe=>{q(oe),typeof t=="function"&&t(oe),A(oe),E(oe),oe!=null&&(_.current=oe)},[q,t,A,E]),H=N.useCallback(oe=>{S(yre(oe)),S(Yc({handler:i,reactEvent:oe}))},[S,i]),re=N.useCallback(oe=>{S(a3(oe)),S(Yc({handler:u,reactEvent:oe}))},[S,u]),U=N.useCallback(oe=>{S(ite()),S(Yc({handler:d,reactEvent:oe}))},[S,d]),K=N.useCallback(oe=>{S(a3(oe)),S(Yc({handler:h,reactEvent:oe}))},[S,h]),ee=N.useCallback(()=>{S(Sre())},[S]),X=N.useCallback(oe=>{S(_re(oe.key))},[S]),B=N.useCallback(oe=>{S(Yc({handler:o,reactEvent:oe}))},[S,o]),D=N.useCallback(oe=>{S(Yc({handler:l,reactEvent:oe}))},[S,l]),Q=N.useCallback(oe=>{S(Yc({handler:c,reactEvent:oe}))},[S,c]),ie=N.useCallback(oe=>{S(Yc({handler:m,reactEvent:oe}))},[S,m]),te=N.useCallback(oe=>{S(Yc({handler:v,reactEvent:oe}))},[S,v]),he=N.useCallback(oe=>{b&&S(Cre(oe)),S(Yc({handler:x,reactEvent:oe}))},[S,b,x]),W=N.useCallback(oe=>{S(Yc({handler:f,reactEvent:oe}))},[S,f]),V=RMe(j);return N.createElement(Cte.Provider,{value:T},N.createElement(HX.Provider,{value:L},N.createElement(V,{width:C??(g==null?void 0:g.width),height:I??(g==null?void 0:g.height),className:kn("recharts-wrapper",s),style:SMe({position:"relative",cursor:"default",width:C,height:I},g),onClick:H,onContextMenu:B,onDoubleClick:D,onFocus:ee,onKeyDown:X,onMouseDown:Q,onMouseEnter:re,onMouseLeave:U,onMouseMove:K,onMouseUp:ie,onTouchEnd:W,onTouchMove:he,onTouchStart:te,ref:O},N.createElement(AMe,null),r)))}),MMe=["width","height","responsive","children","className","style","compact","title","desc"];function LMe(e,t){if(e==null)return{};var r,s,a=FMe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FMe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Ore=N.forwardRef((e,t)=>{var{width:r,height:s,responsive:a,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,h=LMe(e,MMe),m=Qo(h);return c?N.createElement(N.Fragment,null,N.createElement(jS,{width:r,height:s}),N.createElement(CU,{otherAttributes:m,title:u,desc:d},i)):N.createElement(DMe,{className:o,style:l,width:r,height:s,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(CU,{otherAttributes:m,title:u,desc:d,ref:t},N.createElement(URe,null,i)))});function i3(){return i3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},i3.apply(null,arguments)}var BMe={top:5,right:5,bottom:5,left:5},UMe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:BMe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},DD=N.forwardRef(function(t,r){var s,a=bi(t.categoricalChartProps,UMe),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return N.createElement(Are,{preloadedState:{options:d},reduxStoreName:(s=u.id)!==null&&s!==void 0?s:i},N.createElement(ere,{chartData:u.data}),N.createElement(Pre,{layout:a.layout,margin:a.margin}),N.createElement(Tre,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),N.createElement(Ore,i3({},a,{ref:r})))}),$Me=["axis"],iv=N.forwardRef((e,t)=>N.createElement(DD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$Me,tooltipPayloadSearcher:$S,categoricalChartProps:e,ref:t})),qMe=["axis","item"],Tl=N.forwardRef((e,t)=>N.createElement(DD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qMe,tooltipPayloadSearcher:$S,categoricalChartProps:e,ref:t}));function zMe(e){var t=ra();return N.useEffect(()=>{t(hMe(e))},[t,e]),null}var WMe=["layout"];function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},o3.apply(null,arguments)}function VMe(e,t){if(e==null)return{};var r,s,a=HMe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HMe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var GMe={top:5,right:5,bottom:5,left:5},KMe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GMe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},YMe=N.forwardRef(function(t,r){var s,a=bi(t.categoricalChartProps,KMe),{layout:i}=a,o=VMe(a,WMe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return N.createElement(Are,{preloadedState:{options:h},reduxStoreName:(s=a.id)!==null&&s!==void 0?s:l},N.createElement(ere,{chartData:a.data}),N.createElement(Pre,{layout:i,margin:a.margin}),N.createElement(Tre,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),N.createElement(zMe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),N.createElement(Ore,o3({},o,{ref:r})))}),JMe=["item"],XMe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Jm=N.forwardRef((e,t)=>{var r=bi(e,XMe);return N.createElement(YMe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:JMe,tooltipPayloadSearcher:$S,categoricalChartProps:r,ref:t})}),QMe=["axis"],ZMe=N.forwardRef((e,t)=>N.createElement(DD,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QMe,tooltipPayloadSearcher:$S,categoricalChartProps:e,ref:t}));const eLe=()=>{var j,b,_,S,T,A,L,E,q,M,C,I,O,H,re;const{user:e,profile:t}=un(),[,r]=Eb(),s=U=>{r({section:U})},a=()=>{const U=["Name","Phone","Location","Headline","Bio"],K=[t==null?void 0:t.name,t==null?void 0:t.phone_number,t==null?void 0:t.location,t==null?void 0:t.professional_headline,t==null?void 0:t.bio].filter(Boolean),ee=(t==null?void 0:t.employment_history)&&t.employment_history.length>0,X=(t==null?void 0:t.skills)&&t.skills.length>0,B=(t==null?void 0:t.education)&&t.education.length>0,D=(t==null?void 0:t.certifications)&&t.certifications.length>0,Q=(t==null?void 0:t.projects)&&t.projects.length>0;return[{id:"basic",name:"Basic Information",isComplete:K.length===U.length,completionPercentage:Math.round(K.length/U.length*100),requiredFields:U,completedFields:K.map((ie,te)=>U[te]).filter((ie,te)=>K[te])},{id:"employment",name:"Employment History",isComplete:ee,completionPercentage:ee?100:0,requiredFields:["At least one employment entry"],completedFields:ee?["Employment entries added"]:[]},{id:"skills",name:"Skills",isComplete:X,completionPercentage:X?100:0,requiredFields:["At least one skill"],completedFields:X?["Skills added"]:[]},{id:"education",name:"Education",isComplete:B,completionPercentage:B?100:0,requiredFields:["At least one education entry"],completedFields:B?["Education entries added"]:[]},{id:"certifications",name:"Certifications",isComplete:D,completionPercentage:D?100:0,requiredFields:["At least one certification (optional)"],completedFields:D?["Certifications added"]:[]},{id:"projects",name:"Special Projects",isComplete:Q,completionPercentage:Q?100:0,requiredFields:["At least one project (optional)"],completedFields:Q?["Projects added"]:[]}]},i=()=>{var B,D,Q,ie,te;const U=`
PROFESSIONAL PROFILE SUMMARY
============================

Name: ${t==null?void 0:t.name}
Email: ${t==null?void 0:t.email}
Phone: ${(t==null?void 0:t.phone_number)||"N/A"}
Location: ${(t==null?void 0:t.location)||"N/A"}
Headline: ${(t==null?void 0:t.professional_headline)||"N/A"}

SKILLS: ${((B=t==null?void 0:t.skills)==null?void 0:B.length)||0} total
EMPLOYMENT: ${((D=t==null?void 0:t.employment_history)==null?void 0:D.length)||0} positions
EDUCATION: ${((Q=t==null?void 0:t.education)==null?void 0:Q.length)||0} degrees
CERTIFICATIONS: ${((ie=t==null?void 0:t.certifications)==null?void 0:ie.length)||0} certifications
PROJECTS: ${((te=t==null?void 0:t.projects)==null?void 0:te.length)||0} projects

Generated on ${new Date().toLocaleDateString()}
    `,K=new Blob([U],{type:"text/plain"}),ee=window.URL.createObjectURL(K),X=document.createElement("a");X.href=ee,X.download="profile-summary.txt",X.click(),window.URL.revokeObjectURL(ee)},o=a(),l=Math.round(o.reduce((U,K)=>U+K.completionPercentage,0)/o.length),c=o.filter(U=>U.isComplete).length,u=o.length,d=[{name:"Technical",value:((j=t==null?void 0:t.skills)==null?void 0:j.filter(U=>U.category==="Technical").length)||0},{name:"Soft Skills",value:((b=t==null?void 0:t.skills)==null?void 0:b.filter(U=>U.category==="Soft Skills").length)||0},{name:"Languages",value:((_=t==null?void 0:t.skills)==null?void 0:_.filter(U=>U.category==="Languages").length)||0},{name:"Industry",value:((S=t==null?void 0:t.skills)==null?void 0:S.filter(U=>U.category==="Industry-Specific").length)||0}].filter(U=>U.value>0),h=["#8b5cf6","#3b82f6","#10b981","#f59e0b"],m=[{id:"bronze",name:"Bronze Profile",description:"Complete basic information",unlocked:l>=25,icon:jk,color:"text-amber-700"},{id:"silver",name:"Silver Profile",description:"Complete 50% of your profile",unlocked:l>=50,icon:jk,color:"text-gray-400"},{id:"gold",name:"Gold Profile",description:"Complete 75% of your profile",unlocked:l>=75,icon:jk,color:"text-yellow-500"},{id:"platinum",name:"Platinum Profile",description:"100% profile completion",unlocked:l===100,icon:Eo,color:"text-blue-400"},{id:"skilled",name:"Skilled Professional",description:"Add 10+ skills",unlocked:(((T=t==null?void 0:t.skills)==null?void 0:T.length)||0)>=10,icon:xn,color:"text-purple-500"},{id:"experienced",name:"Experienced Professional",description:"Add 3+ employment entries",unlocked:(((A=t==null?void 0:t.employment_history)==null?void 0:A.length)||0)>=3,icon:Fa,color:"text-green-500"}],f={skills:{average:8,excellent:15},employment:{average:2,excellent:4},education:{average:1,excellent:2},projects:{average:2,excellent:5},certifications:{average:1,excellent:3}},x={skills:((L=t==null?void 0:t.skills)==null?void 0:L.length)||0,employment:((E=t==null?void 0:t.employment_history)==null?void 0:E.length)||0,education:((q=t==null?void 0:t.education)==null?void 0:q.length)||0,projects:((M=t==null?void 0:t.projects)==null?void 0:M.length)||0,certifications:((C=t==null?void 0:t.certifications)==null?void 0:C.length)||0},v=[{category:"Skills",you:x.skills,average:f.skills.average,excellent:f.skills.excellent},{category:"Experience",you:x.employment,average:f.employment.average,excellent:f.employment.excellent},{category:"Education",you:x.education,average:f.education.average,excellent:f.education.excellent},{category:"Projects",you:x.projects,average:f.projects.average,excellent:f.projects.excellent},{category:"Certifications",you:x.certifications,average:f.certifications.average,excellent:f.certifications.excellent}],g=[...((I=t==null?void 0:t.employment_history)==null?void 0:I.slice(0,2).map(U=>({type:"employment",icon:Fa,title:`Added ${U.jobTitle} at ${U.company}`,date:new Date(U.startDate)})))||[],...((O=t==null?void 0:t.education)==null?void 0:O.slice(0,2).map(U=>({type:"education",icon:Hx,title:`Added ${U.degree} from ${U.institution}`,date:new Date(U.graduationDate||U.startDate)})))||[],...((H=t==null?void 0:t.skills)==null?void 0:H.slice(0,3).map(()=>({type:"skills",icon:Nb,title:"Added new skills",date:new Date})))||[],...((re=t==null?void 0:t.projects)==null?void 0:re.slice(0,2).map(U=>({type:"project",icon:cce,title:`Added project: ${U.name}`,date:new Date(U.startDate)})))||[]].sort((U,K)=>K.date.getTime()-U.date.getTime()).slice(0,5),y=[...(t==null?void 0:t.employment_history)||[]].sort((U,K)=>new Date(K.startDate).getTime()-new Date(U.startDate).getTime()).slice(0,5);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Profile Strength"]}),n.jsxs($e,{variant:l===100?"default":"secondary",className:"text-lg px-4 py-1",children:[l,"%"]})]})}),n.jsxs(_e,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Overall Progress"}),n.jsxs("span",{children:[c," of ",u," sections complete"]})]}),n.jsx(La,{value:l,className:"h-3"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(ve,{onClick:i,variant:"outline",className:"flex-1",children:[n.jsx(pc,{className:"mr-2 h-4 w-4"}),"Export Summary"]})}),l===100&&n.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg flex items-start gap-3",children:[n.jsx(Eo,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:" Outstanding! Your profile is 100% complete."}),n.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"You are now maximizing your visibility to employers and recruiters."})]})]})]})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(U=>n.jsx(ye,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>s(U.id),children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[U.isComplete?n.jsx(pa,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}):U.completionPercentage>0?n.jsx(Nn,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}):n.jsx(nO,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:U.name}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[U.completionPercentage,"%"]})]}),U.completionPercentage>0&&U.completionPercentage<100&&n.jsx(La,{value:U.completionPercentage,className:"h-1.5"}),!U.isComplete&&n.jsxs(ve,{size:"sm",variant:"ghost",className:"h-7 text-xs",children:[n.jsx(Jr,{className:"h-3 w-3 mr-1"}),"Complete Section"]})]})]})})},U.id))}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-5 w-5"}),"Achievement Badges"]})}),n.jsx(_e,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:m.map(U=>n.jsxs("div",{className:`p-4 border rounded-lg text-center space-y-2 transition-all ${U.unlocked?"bg-primary/5 border-primary/20":"bg-muted/50 border-muted opacity-50"}`,children:[n.jsx(U.icon,{className:`h-8 w-8 mx-auto ${U.unlocked?U.color:"text-muted-foreground"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:U.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:U.description})]}),U.unlocked&&n.jsx($e,{variant:"default",className:"text-xs",children:"Unlocked"})]},U.id))})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-5 w-5"}),"Industry Standards Comparison"]})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"See how your profile compares to industry averages and excellent benchmarks."}),n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:v,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"category"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(cu,{}),n.jsx(Ja,{dataKey:"you",fill:"#8b5cf6",name:"You"}),n.jsx(Ja,{dataKey:"average",fill:"#3b82f6",name:"Industry Average"}),n.jsx(Ja,{dataKey:"excellent",fill:"#10b981",name:"Excellent"})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded mx-auto mb-1"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Profile"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded mx-auto mb-1"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Industry Average"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-4 h-4 bg-green-600 rounded mx-auto mb-1"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Excellent"})]})]})]})})]}),g.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5"}),"Recent Activity"]})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-4",children:g.map((U,K)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 p-2 bg-primary/10 rounded-lg",children:n.jsx(U.icon,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:U.title}),n.jsx("p",{className:"text-xs text-muted-foreground",children:U.date.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]},K))})})]}),y.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Fa,{className:"h-5 w-5"}),"Career Timeline"]})}),n.jsx(_e,{children:n.jsx("div",{className:"relative space-y-6 pl-6 border-l-2 border-primary/20",children:y.map((U,K)=>n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[29px] mt-1.5 h-4 w-4 rounded-full bg-primary border-4 border-background"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-semibold",children:U.title}),U.currentlyWorking&&n.jsx($e,{variant:"default",className:"text-xs",children:"Current"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:U.company}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(U.startDate).toLocaleDateString("en-US",{year:"numeric",month:"short"})," ","-"," ",U.currentlyWorking?"Present":new Date(U.endDate).toLocaleDateString("en-US",{year:"numeric",month:"short"})]}),U.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:U.description})]})]},K))})})]}),d.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Skills Distribution"})}),n.jsx(_e,{children:n.jsx(es,{width:"100%",height:300,children:n.jsxs(Jm,{children:[n.jsx(mf,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:U=>`${U.name}: ${U.value}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((U,K)=>n.jsx(bc,{fill:h[K%h.length]},`cell-${K}`))}),n.jsx(ts,{}),n.jsx(cu,{})]})})})]}),l<100&&n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:" Pro Tips:"})," Complete all profile sections to stand out. Profiles with 100% completion receive 3x more views from employers!"]})})})]})},tLe=()=>{var U,K;const{user:e,profile:t,refreshProfile:r,deleteAccount:s}=un(),[a,i]=Eb(),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(null),[m,f]=N.useState(null),[x,v]=N.useState(0),[g,y]=N.useState(!1),[j,b]=N.useState(""),[_,S]=N.useState(!1),[T,A]=N.useState(!1),L=a.get("section")||"overview",E=ee=>{i({section:ee})},[q,M]=N.useState({id:"",name:"",email:(e==null?void 0:e.email)||"",phoneNumber:"",location:"",professionalHeadline:"",bio:"",industry:"",experienceLevel:"",linkedinUrl:"",githubUrl:"",portfolioUrl:""});N.useEffect(()=>{(async()=>{e&&t&&(M({id:(t==null?void 0:t.id)||"",name:(t==null?void 0:t.name)||e.email||"",email:e.email||"",phoneNumber:(t==null?void 0:t.phone_number)||"",location:(t==null?void 0:t.location)||"",professionalHeadline:(t==null?void 0:t.professional_headline)||"",bio:(t==null?void 0:t.bio)||"",industry:(t==null?void 0:t.industry)||"",experienceLevel:(t==null?void 0:t.experience_level)||"",linkedinUrl:(t==null?void 0:t.linkedin_url)||"",githubUrl:(t==null?void 0:t.github_url)||"",portfolioUrl:(t==null?void 0:t.portfolio_url)||""}),h((t==null?void 0:t.avatar_url)||null))})()},[e,t]);const C=ee=>{var ie;const X=(ie=ee.target.files)==null?void 0:ie[0];if(!X)return;if(!["image/jpeg","image/png","image/gif"].includes(X.type)){bl({title:"Invalid file type",description:"Please upload a JPG, PNG, or GIF image",variant:"destructive"});return}const D=5*1024*1024;if(X.size>D){bl({title:"File too large",description:"Image must be less than 5MB",variant:"destructive"});return}f(X);const Q=new FileReader;Q.onloadend=()=>{h(Q.result)},Q.readAsDataURL(X)},I=async()=>{if(!(!m||!e)){v(10);try{const ee=m.name.split(".").pop(),X=`${e.id}/${Date.now()}.${ee}`;v(30);const{data:B,error:D}=await se.storage.from("profile-pictures").upload(X,m,{upsert:!0});if(D)throw D;v(60);const{data:Q}=se.storage.from("profile-pictures").getPublicUrl(X);v(80),await Hn.profile.update({avatar_url:Q.publicUrl}),await r(),v(100),f(null),bl({title:"Success",description:"Profile picture uploaded successfully"}),setTimeout(()=>v(0),500)}catch(ee){console.error("Upload error:",ee),bl({title:"Error",description:"Failed to upload profile picture",variant:"destructive"}),v(0)}}},O=async()=>{try{await Hn.profile.update({avatar_url:null}),await r(),h(null),f(null),bl({title:"Picture removed",description:"Profile picture has been removed"})}catch{bl({title:"Error",description:"Failed to remove profile picture",variant:"destructive"})}},H=async()=>{if(T){if(j.trim()!=="DELETE MY ACCOUNT"){bl({title:"Confirmation required",description:'Please type "DELETE MY ACCOUNT" exactly to confirm.',variant:"destructive"});return}}else if(!j.trim()){bl({title:"Password required",description:"Please enter your password to confirm account deletion.",variant:"destructive"});return}S(!0);try{const ee=await s(T?"DELETE MY ACCOUNT":j,T);ee.success?bl({title:"Account deleted",description:"Your account has been permanently deleted."}):bl({title:"Deletion failed",description:ee.error||(T?"Failed to delete account.":"Failed to delete account. Please check your password."),variant:"destructive"})}catch{bl({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{S(!1),y(!1),b("")}},re=async ee=>{var X,B,D,Q,ie,te,he,W,V,oe;ee.preventDefault(),u(!0);try{const me={name:((X=q.name)==null?void 0:X.trim())||(t==null?void 0:t.name),phone_number:(B=q.phoneNumber)==null?void 0:B.trim(),location:(D=q.location)==null?void 0:D.trim(),professional_headline:(Q=q.professionalHeadline)==null?void 0:Q.trim(),bio:(ie=q.bio)==null?void 0:ie.trim(),industry:(te=q.industry)==null?void 0:te.trim(),experience_level:(he=q.experienceLevel)==null?void 0:he.trim(),linkedin_url:(W=q.linkedinUrl)==null?void 0:W.trim(),github_url:(V=q.githubUrl)==null?void 0:V.trim(),portfolio_url:(oe=q.portfolioUrl)==null?void 0:oe.trim()};await Hn.profile.update(me),await r(),bl({title:"Profile updated",description:"Your basic information has been saved successfully."})}catch(me){console.error(" Exception during profile update:",me),bl({title:"Error",description:me instanceof Error?me.message:"An unexpected error occurred",variant:"destructive"})}finally{u(!1)}};return o?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Your Profile"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Manage your professional information"})]}),n.jsxs(ss,{value:L,onValueChange:E,className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-7",children:[n.jsxs(vt,{value:"overview",className:"flex items-center gap-2",children:[n.jsx(su,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),n.jsxs(vt,{value:"basic",className:"flex items-center gap-2",children:[n.jsx(su,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Basic"})]}),n.jsxs(vt,{value:"employment",className:"flex items-center gap-2",children:[n.jsx(Fa,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Work"})]}),n.jsxs(vt,{value:"skills",className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Skills"})]}),n.jsxs(vt,{value:"education",className:"flex items-center gap-2",children:[n.jsx(Hx,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Education"})]}),n.jsxs(vt,{value:"certifications",className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Certs"})]}),n.jsxs(vt,{value:"projects",className:"flex items-center gap-2",children:[n.jsx(uce,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Projects"})]})]}),n.jsx(xt,{value:"overview",className:"space-y-6 animate-fade-in",children:n.jsx(eLe,{})}),n.jsxs(xt,{value:"basic",className:"space-y-6 animate-fade-in",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Profile Picture"}),n.jsx(_t,{children:"Upload a professional photo (JPG, PNG, or GIF, max 5MB)"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Vw,{className:"h-32 w-32",children:[n.jsx(ZY,{src:d||void 0}),n.jsx(Hw,{children:((U=t==null?void 0:t.name)==null?void 0:U.charAt(0).toUpperCase())||((K=e==null?void 0:e.email)==null?void 0:K.charAt(0).toUpperCase())||"U"})]}),d&&n.jsx(ve,{size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-8 w-8 rounded-full",onClick:O,children:n.jsx(Rl,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",id:"profile-picture",accept:"image/jpeg,image/png,image/gif",onChange:C,className:"hidden"}),n.jsx(Ee,{htmlFor:"profile-picture",children:n.jsx(ve,{type:"button",variant:"outline",asChild:!0,children:n.jsxs("span",{className:"cursor-pointer",children:[n.jsx(rce,{className:"mr-2 h-4 w-4"}),d?"Change Picture":"Upload Picture"]})})})]}),m&&n.jsx(ve,{onClick:I,disabled:x>0,children:x>0?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading... ",x,"%"]}):"Save Picture"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Your profile picture helps employers recognize you. Choose a professional headshot for best results."})]})]})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Basic Information"}),n.jsx(_t,{children:"Update your personal and professional details"})]}),n.jsx(_e,{children:n.jsxs("form",{onSubmit:re,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"name",children:"Full Name *"}),n.jsx(Je,{id:"name",value:q.name,onChange:ee=>M({...q,name:ee.target.value}),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"email",children:"Email *"}),n.jsx(Je,{id:"email",type:"email",value:q.email,disabled:!0,className:"bg-muted"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"phone",children:"Phone"}),n.jsx(Je,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:q.phoneNumber,onChange:ee=>M({...q,phoneNumber:ee.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"location",children:"Location"}),n.jsx(Je,{id:"location",placeholder:"City, State",value:q.location,onChange:ee=>M({...q,location:ee.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"headline",children:"Professional Headline"}),n.jsx(Je,{id:"headline",placeholder:"e.g., Full Stack Developer | React & Node.js Specialist",value:q.professionalHeadline,onChange:ee=>M({...q,professionalHeadline:ee.target.value}),maxLength:120}),n.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[q.professionalHeadline.length,"/120 characters"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"bio",children:"Bio / Summary"}),n.jsx(dr,{id:"bio",placeholder:"Tell us about yourself and your professional background...",value:q.bio,onChange:ee=>M({...q,bio:ee.target.value}),rows:5,maxLength:1e3}),n.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[q.bio.length,"/1000 characters"]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"industry",children:"Industry"}),n.jsx(Je,{id:"industry",placeholder:"e.g., Technology, Healthcare",value:q.industry,onChange:ee=>M({...q,industry:ee.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"experienceLevel",children:"Experience Level"}),n.jsxs("select",{id:"experienceLevel",value:q.experienceLevel,onChange:ee=>M({...q,experienceLevel:ee.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[n.jsx("option",{value:"",children:"Select level"}),n.jsx("option",{value:"Entry Level",children:"Entry Level"}),n.jsx("option",{value:"Mid Level",children:"Mid Level"}),n.jsx("option",{value:"Senior",children:"Senior"}),n.jsx("option",{value:"Executive",children:"Executive"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ee,{className:"text-base font-semibold",children:"Professional Links"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"linkedinUrl",children:"LinkedIn Profile"}),n.jsx(Je,{id:"linkedinUrl",type:"url",placeholder:"https://linkedin.com/in/username",value:q.linkedinUrl,onChange:ee=>M({...q,linkedinUrl:ee.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"githubUrl",children:"GitHub Profile"}),n.jsx(Je,{id:"githubUrl",type:"url",placeholder:"https://github.com/username",value:q.githubUrl,onChange:ee=>M({...q,githubUrl:ee.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"portfolioUrl",children:"Portfolio / Website"}),n.jsx(Je,{id:"portfolioUrl",type:"url",placeholder:"https://yourwebsite.com",value:q.portfolioUrl,onChange:ee=>M({...q,portfolioUrl:ee.target.value})})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ve,{type:"submit",disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tp,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})})]})})]}),n.jsxs(ye,{className:"border-destructive/50",children:[n.jsxs(Ie,{children:[n.jsx(De,{className:"text-destructive",children:"Danger Zone"}),n.jsx(_t,{children:"Permanently delete your account and all associated data"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsx(ve,{variant:"destructive",onClick:()=>y(!0),children:"Delete Account"})]})})]})]}),n.jsx(xt,{value:"employment",className:"animate-fade-in",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Employment History"}),n.jsx(_t,{children:"Document your work experience in reverse chronological order"})]}),n.jsx(_e,{children:n.jsx(y0e,{})})]})}),n.jsx(xt,{value:"skills",className:"animate-fade-in",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Skills"}),n.jsx(_t,{children:"Add and organize your skills by category and proficiency level"})]}),n.jsx(_e,{children:n.jsx(I2e,{})})]})}),n.jsx(xt,{value:"education",className:"animate-fade-in",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Education"}),n.jsx(_t,{children:"Document your academic achievements and qualifications"})]}),n.jsx(_e,{children:n.jsx(D2e,{})})]})}),n.jsx(xt,{value:"certifications",className:"animate-fade-in",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Certifications"}),n.jsx(_t,{children:"Track your professional certifications and credentials"})]}),n.jsx(_e,{children:n.jsx(M2e,{})})]})}),n.jsx(xt,{value:"projects",className:"animate-fade-in",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Special Projects"}),n.jsx(_t,{children:"Showcase your notable projects, side work, and achievements"})]}),n.jsx(_e,{children:n.jsx(L2e,{})})]})})]})]})}),n.jsx(Fb,{open:g,onOpenChange:y,children:n.jsxs(My,{children:[n.jsxs(Ly,{children:[n.jsx(By,{children:"Delete Account?"}),n.jsx(Uy,{children:"This action cannot be undone. All your data including profile, employment history, skills, education, certifications, and projects will be permanently deleted."})]}),n.jsx("div",{className:"py-4",children:T?n.jsxs(n.Fragment,{children:[n.jsx(Ee,{htmlFor:"delete-confirmation",children:'Type "DELETE MY ACCOUNT" to confirm'}),n.jsx(Je,{id:"delete-confirmation",type:"text",placeholder:"DELETE MY ACCOUNT",value:j,onChange:ee=>b(ee.target.value),className:"mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ee,{htmlFor:"delete-password",children:"Confirm your password"}),n.jsx(Je,{id:"delete-password",type:"password",placeholder:"Enter your password",value:j,onChange:ee=>b(ee.target.value),className:"mt-2"})]})}),n.jsxs(Fy,{children:[n.jsx(qy,{onClick:()=>{b(""),y(!1)},children:"Cancel"}),n.jsx($y,{onClick:H,disabled:_,className:"bg-destructive hover:bg-destructive/90",children:_?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})})]})},Wr=rI,rl=nI,rLe=sI,Ire=N.forwardRef(({className:e,...t},r)=>n.jsx(Ib,{ref:r,className:Pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ire.displayName=Ib.displayName;const Br=N.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(rLe,{children:[n.jsx(Ire,{}),n.jsxs(Rb,{ref:s,className:Pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(G_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[n.jsx(Rl,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Br.displayName=Rb.displayName;const Xr=({className:e,...t})=>n.jsx("div",{className:Pt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xr.displayName="DialogHeader";const XS=({className:e,...t})=>n.jsx("div",{className:Pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});XS.displayName="DialogFooter";const Qr=N.forwardRef(({className:e,...t},r)=>n.jsx(Db,{ref:r,className:Pt("text-lg font-semibold leading-none tracking-tight",e),...t}));Qr.displayName=Db.displayName;const no=N.forwardRef(({className:e,...t},r)=>n.jsx(Mb,{ref:r,className:Pt("text-sm text-muted-foreground",e),...t}));no.displayName=Mb.displayName;var l1=e=>e.type==="checkbox",mg=e=>e instanceof Date,Ho=e=>e==null;const Rre=e=>typeof e=="object";var Xa=e=>!Ho(e)&&!Array.isArray(e)&&Rre(e)&&!mg(e),nLe=e=>Xa(e)&&e.target?l1(e.target)?e.target.checked:e.target.value:e,sLe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,aLe=(e,t)=>e.has(sLe(t)),iLe=e=>{const t=e.constructor&&e.constructor.prototype;return Xa(t)&&t.hasOwnProperty("isPrototypeOf")},MD=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mi(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(MD&&(e instanceof Blob||s))&&(r||Xa(e)))if(t=r?[]:{},!r&&!iLe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Mi(e[a]));else return e;return t}var QS=e=>/^\w*$/.test(e),oi=e=>e===void 0,LD=e=>Array.isArray(e)?e.filter(Boolean):[],FD=e=>LD(e.replace(/["|']|\]/g,"").split(/\.|\[/)),lr=(e,t,r)=>{if(!t||!Xa(e))return r;const s=(QS(t)?[t]:FD(t)).reduce((a,i)=>Ho(a)?a:a[i],e);return oi(s)||s===e?oi(e[t])?r:e[t]:s},Td=e=>typeof e=="boolean",_s=(e,t,r)=>{let s=-1;const a=QS(t)?[t]:FD(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const u=e[l];c=Xa(u)||Array.isArray(u)?u:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const AU={BLUR:"blur",FOCUS_OUT:"focusout"},Ju={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dh={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oLe=at.createContext(null);oLe.displayName="HookFormContext";var lLe=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ju.all&&(t._proxyFormState[o]=!s||Ju.all),e[o]}});return a};const cLe=typeof window<"u"?at.useLayoutEffect:at.useEffect;var Bd=e=>typeof e=="string",uLe=(e,t,r,s,a)=>Bd(e)?(s&&t.watch.add(e),lr(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),lr(r,i))):(s&&(t.watchAll=!0),r),l3=e=>Ho(e)||!Rre(e);function xm(e,t,r=new WeakSet){if(l3(e)||l3(t))return e===t;if(mg(e)&&mg(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(mg(o)&&mg(l)||Xa(o)&&Xa(l)||Array.isArray(o)&&Array.isArray(l)?!xm(o,l,r):o!==l)return!1}}return!0}var Dre=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},Sw=e=>Array.isArray(e)?e:[e],PU=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Sl=e=>Xa(e)&&!Object.keys(e).length,BD=e=>e.type==="file",Xu=e=>typeof e=="function",QN=e=>{if(!MD)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Mre=e=>e.type==="select-multiple",UD=e=>e.type==="radio",dLe=e=>UD(e)||l1(e),FE=e=>QN(e)&&e.isConnected;function hLe(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=oi(e)?s++:e[t[s++]];return e}function fLe(e){for(const t in e)if(e.hasOwnProperty(t)&&!oi(e[t]))return!1;return!0}function si(e,t){const r=Array.isArray(t)?t:QS(t)?[t]:FD(t),s=r.length===1?e:hLe(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Xa(s)&&Sl(s)||Array.isArray(s)&&fLe(s))&&si(e,r.slice(0,-1)),e}var Lre=e=>{for(const t in e)if(Xu(e[t]))return!0;return!1};function ZN(e,t={}){const r=Array.isArray(e);if(Xa(e)||r)for(const s in e)Array.isArray(e[s])||Xa(e[s])&&!Lre(e[s])?(t[s]=Array.isArray(e[s])?[]:{},ZN(e[s],t[s])):Ho(e[s])||(t[s]=!0);return t}function Fre(e,t,r){const s=Array.isArray(e);if(Xa(e)||s)for(const a in e)Array.isArray(e[a])||Xa(e[a])&&!Lre(e[a])?oi(t)||l3(r[a])?r[a]=Array.isArray(e[a])?ZN(e[a],[]):{...ZN(e[a])}:Fre(e[a],Ho(t)?{}:t[a],r[a]):r[a]=!xm(e[a],t[a]);return r}var J0=(e,t)=>Fre(e,t,ZN(t));const TU={value:!1,isValid:!1},OU={value:!0,isValid:!0};var Bre=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!oi(e[0].attributes.value)?oi(e[0].value)||e[0].value===""?OU:{value:e[0].value,isValid:!0}:OU:TU}return TU},Ure=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>oi(e)?e:t?e===""?NaN:e&&+e:r&&Bd(e)?new Date(e):s?s(e):e;const IU={isValid:!1,value:null};var $re=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,IU):IU;function RU(e){const t=e.ref;return BD(t)?t.files:UD(t)?$re(e.refs).value:Mre(t)?[...t.selectedOptions].map(({value:r})=>r):l1(t)?Bre(e.refs).value:Ure(oi(t.value)?e.ref.value:t.value,e)}var mLe=(e,t,r,s)=>{const a={};for(const i of e){const o=lr(t,i);o&&_s(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},e_=e=>e instanceof RegExp,X0=e=>oi(e)?e:e_(e)?e.source:Xa(e)?e_(e.value)?e.value.source:e.value:e,DU=e=>({isOnSubmit:!e||e===Ju.onSubmit,isOnBlur:e===Ju.onBlur,isOnChange:e===Ju.onChange,isOnAll:e===Ju.all,isOnTouch:e===Ju.onTouched});const MU="AsyncFunction";var pLe=e=>!!e&&!!e.validate&&!!(Xu(e.validate)&&e.validate.constructor.name===MU||Xa(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===MU)),gLe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),LU=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const kw=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=lr(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(kw(l,t))break}else if(Xa(l)&&kw(l,t))break}}};function FU(e,t,r){const s=lr(e,r);if(s||QS(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=lr(t,i),l=lr(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var vLe=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Sl(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Ju.all))},xLe=(e,t,r)=>!e||!t||e===t||Sw(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),yLe=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,wLe=(e,t)=>!LD(lr(e,t)).length&&si(e,t),bLe=(e,t,r)=>{const s=Sw(lr(e,r));return _s(s,"root",t[r]),_s(e,r,s),e},k2=e=>Bd(e);function BU(e,t,r="validate"){if(k2(e)||Array.isArray(e)&&e.every(k2)||Td(e)&&!e)return{type:r,message:k2(e)?e:"",ref:t}}var rx=e=>Xa(e)&&!e_(e)?e:{value:e,message:""},UU=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:m,pattern:f,validate:x,name:v,valueAsNumber:g,mount:y}=e._f,j=lr(r,v);if(!y||t.has(v))return{};const b=l?l[0]:o,_=C=>{a&&b.reportValidity&&(b.setCustomValidity(Td(C)?"":C||""),b.reportValidity())},S={},T=UD(o),A=l1(o),L=T||A,E=(g||BD(o))&&oi(o.value)&&oi(j)||QN(o)&&o.value===""||j===""||Array.isArray(j)&&!j.length,q=Dre.bind(null,v,s,S),M=(C,I,O,H=Dh.maxLength,re=Dh.minLength)=>{const U=C?I:O;S[v]={type:C?H:re,message:U,ref:o,...q(C?H:re,U)}};if(i?!Array.isArray(j)||!j.length:c&&(!L&&(E||Ho(j))||Td(j)&&!j||A&&!Bre(l).isValid||T&&!$re(l).isValid)){const{value:C,message:I}=k2(c)?{value:!!c,message:c}:rx(c);if(C&&(S[v]={type:Dh.required,message:I,ref:b,...q(Dh.required,I)},!s))return _(I),S}if(!E&&(!Ho(h)||!Ho(m))){let C,I;const O=rx(m),H=rx(h);if(!Ho(j)&&!isNaN(j)){const re=o.valueAsNumber||j&&+j;Ho(O.value)||(C=re>O.value),Ho(H.value)||(I=re<H.value)}else{const re=o.valueAsDate||new Date(j),U=X=>new Date(new Date().toDateString()+" "+X),K=o.type=="time",ee=o.type=="week";Bd(O.value)&&j&&(C=K?U(j)>U(O.value):ee?j>O.value:re>new Date(O.value)),Bd(H.value)&&j&&(I=K?U(j)<U(H.value):ee?j<H.value:re<new Date(H.value))}if((C||I)&&(M(!!C,O.message,H.message,Dh.max,Dh.min),!s))return _(S[v].message),S}if((u||d)&&!E&&(Bd(j)||i&&Array.isArray(j))){const C=rx(u),I=rx(d),O=!Ho(C.value)&&j.length>+C.value,H=!Ho(I.value)&&j.length<+I.value;if((O||H)&&(M(O,C.message,I.message),!s))return _(S[v].message),S}if(f&&!E&&Bd(j)){const{value:C,message:I}=rx(f);if(e_(C)&&!j.match(C)&&(S[v]={type:Dh.pattern,message:I,ref:o,...q(Dh.pattern,I)},!s))return _(I),S}if(x){if(Xu(x)){const C=await x(j,r),I=BU(C,b);if(I&&(S[v]={...I,...q(Dh.validate,I.message)},!s))return _(I.message),S}else if(Xa(x)){let C={};for(const I in x){if(!Sl(C)&&!s)break;const O=BU(await x[I](j,r),b,I);O&&(C={...O,...q(I,O.message)},_(O.message),s&&(S[v]=C))}if(!Sl(C)&&(S[v]={ref:b,...C},!s))return S}}return _(!0),S};const jLe={mode:Ju.onSubmit,reValidateMode:Ju.onChange,shouldFocusError:!0};function NLe(e={}){let t={...jLe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xu(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Xa(t.defaultValues)||Xa(t.values)?Mi(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Mi(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:PU(),state:PU()},f=t.criteriaMode===Ju.all,x=le=>ge=>{clearTimeout(u),u=setTimeout(le,ge)},v=async le=>{if(!t.disabled&&(d.isValid||h.isValid||le)){const ge=t.resolver?Sl((await A()).errors):await E(s,!0);ge!==r.isValid&&m.state.next({isValid:ge})}},g=(le,ge)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((le||Array.from(l.mount)).forEach(we=>{we&&(ge?_s(r.validatingFields,we,ge):si(r.validatingFields,we))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Sl(r.validatingFields)}))},y=(le,ge=[],we,Me,Be=!0,Le=!0)=>{if(Me&&we&&!t.disabled){if(o.action=!0,Le&&Array.isArray(lr(s,le))){const Ge=we(lr(s,le),Me.argA,Me.argB);Be&&_s(s,le,Ge)}if(Le&&Array.isArray(lr(r.errors,le))){const Ge=we(lr(r.errors,le),Me.argA,Me.argB);Be&&_s(r.errors,le,Ge),wLe(r.errors,le)}if((d.touchedFields||h.touchedFields)&&Le&&Array.isArray(lr(r.touchedFields,le))){const Ge=we(lr(r.touchedFields,le),Me.argA,Me.argB);Be&&_s(r.touchedFields,le,Ge)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=J0(a,i)),m.state.next({name:le,isDirty:M(le,ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _s(i,le,ge)},j=(le,ge)=>{_s(r.errors,le,ge),m.state.next({errors:r.errors})},b=le=>{r.errors=le,m.state.next({errors:r.errors,isValid:!1})},_=(le,ge,we,Me)=>{const Be=lr(s,le);if(Be){const Le=lr(i,le,oi(we)?lr(a,le):we);oi(Le)||Me&&Me.defaultChecked||ge?_s(i,le,ge?Le:RU(Be._f)):O(le,Le),o.mount&&v()}},S=(le,ge,we,Me,Be)=>{let Le=!1,Ge=!1;const it={name:le};if(!t.disabled){if(!we||Me){(d.isDirty||h.isDirty)&&(Ge=r.isDirty,r.isDirty=it.isDirty=M(),Le=Ge!==it.isDirty);const ut=xm(lr(a,le),ge);Ge=!!lr(r.dirtyFields,le),ut?si(r.dirtyFields,le):_s(r.dirtyFields,le,!0),it.dirtyFields=r.dirtyFields,Le=Le||(d.dirtyFields||h.dirtyFields)&&Ge!==!ut}if(we){const ut=lr(r.touchedFields,le);ut||(_s(r.touchedFields,le,we),it.touchedFields=r.touchedFields,Le=Le||(d.touchedFields||h.touchedFields)&&ut!==we)}Le&&Be&&m.state.next(it)}return Le?it:{}},T=(le,ge,we,Me)=>{const Be=lr(r.errors,le),Le=(d.isValid||h.isValid)&&Td(ge)&&r.isValid!==ge;if(t.delayError&&we?(c=x(()=>j(le,we)),c(t.delayError)):(clearTimeout(u),c=null,we?_s(r.errors,le,we):si(r.errors,le)),(we?!xm(Be,we):Be)||!Sl(Me)||Le){const Ge={...Me,...Le&&Td(ge)?{isValid:ge}:{},errors:r.errors,name:le};r={...r,...Ge},m.state.next(Ge)}},A=async le=>{g(le,!0);const ge=await t.resolver(i,t.context,mLe(le||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return g(le),ge},L=async le=>{const{errors:ge}=await A(le);if(le)for(const we of le){const Me=lr(ge,we);Me?_s(r.errors,we,Me):si(r.errors,we)}else r.errors=ge;return ge},E=async(le,ge,we={valid:!0})=>{for(const Me in le){const Be=le[Me];if(Be){const{_f:Le,...Ge}=Be;if(Le){const it=l.array.has(Le.name),ut=Be._f&&pLe(Be._f);ut&&d.validatingFields&&g([Me],!0);const Ct=await UU(Be,l.disabled,i,f,t.shouldUseNativeValidation&&!ge,it);if(ut&&d.validatingFields&&g([Me]),Ct[Le.name]&&(we.valid=!1,ge))break;!ge&&(lr(Ct,Le.name)?it?bLe(r.errors,Ct,Le.name):_s(r.errors,Le.name,Ct[Le.name]):si(r.errors,Le.name))}!Sl(Ge)&&await E(Ge,ge,we)}}return we.valid},q=()=>{for(const le of l.unMount){const ge=lr(s,le);ge&&(ge._f.refs?ge._f.refs.every(we=>!FE(we)):!FE(ge._f.ref))&&W(le)}l.unMount=new Set},M=(le,ge)=>!t.disabled&&(le&&ge&&_s(i,le,ge),!xm(X(),a)),C=(le,ge,we)=>uLe(le,l,{...o.mount?i:oi(ge)?a:Bd(le)?{[le]:ge}:ge},we,ge),I=le=>LD(lr(o.mount?i:a,le,t.shouldUnregister?lr(a,le,[]):[])),O=(le,ge,we={})=>{const Me=lr(s,le);let Be=ge;if(Me){const Le=Me._f;Le&&(!Le.disabled&&_s(i,le,Ure(ge,Le)),Be=QN(Le.ref)&&Ho(ge)?"":ge,Mre(Le.ref)?[...Le.ref.options].forEach(Ge=>Ge.selected=Be.includes(Ge.value)):Le.refs?l1(Le.ref)?Le.refs.forEach(Ge=>{(!Ge.defaultChecked||!Ge.disabled)&&(Array.isArray(Be)?Ge.checked=!!Be.find(it=>it===Ge.value):Ge.checked=Be===Ge.value||!!Be)}):Le.refs.forEach(Ge=>Ge.checked=Ge.value===Be):BD(Le.ref)?Le.ref.value="":(Le.ref.value=Be,Le.ref.type||m.state.next({name:le,values:Mi(i)})))}(we.shouldDirty||we.shouldTouch)&&S(le,Be,we.shouldTouch,we.shouldDirty,!0),we.shouldValidate&&ee(le)},H=(le,ge,we)=>{for(const Me in ge){if(!ge.hasOwnProperty(Me))return;const Be=ge[Me],Le=le+"."+Me,Ge=lr(s,Le);(l.array.has(le)||Xa(Be)||Ge&&!Ge._f)&&!mg(Be)?H(Le,Be,we):O(Le,Be,we)}},re=(le,ge,we={})=>{const Me=lr(s,le),Be=l.array.has(le),Le=Mi(ge);_s(i,le,Le),Be?(m.array.next({name:le,values:Mi(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&we.shouldDirty&&m.state.next({name:le,dirtyFields:J0(a,i),isDirty:M(le,Le)})):Me&&!Me._f&&!Ho(Le)?H(le,Le,we):O(le,Le,we),LU(le,l)&&m.state.next({...r,name:le}),m.state.next({name:o.mount?le:void 0,values:Mi(i)})},U=async le=>{o.mount=!0;const ge=le.target;let we=ge.name,Me=!0;const Be=lr(s,we),Le=ut=>{Me=Number.isNaN(ut)||mg(ut)&&isNaN(ut.getTime())||xm(ut,lr(i,we,ut))},Ge=DU(t.mode),it=DU(t.reValidateMode);if(Be){let ut,Ct;const Mt=ge.type?RU(Be._f):nLe(le),Et=le.type===AU.BLUR||le.type===AU.FOCUS_OUT,rn=!gLe(Be._f)&&!t.resolver&&!lr(r.errors,we)&&!Be._f.deps||yLe(Et,lr(r.touchedFields,we),r.isSubmitted,it,Ge),Wt=LU(we,l,Et);_s(i,we,Mt),Et?(Be._f.onBlur&&Be._f.onBlur(le),c&&c(0)):Be._f.onChange&&Be._f.onChange(le);const Dt=S(we,Mt,Et),ir=!Sl(Dt)||Wt;if(!Et&&m.state.next({name:we,type:le.type,values:Mi(i)}),rn)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Et&&v():Et||v()),ir&&m.state.next({name:we,...Wt?{}:Dt});if(!Et&&Wt&&m.state.next({...r}),t.resolver){const{errors:_r}=await A([we]);if(Le(Mt),Me){const nr=FU(r.errors,s,we),Lr=FU(_r,s,nr.name||we);ut=Lr.error,we=Lr.name,Ct=Sl(_r)}}else g([we],!0),ut=(await UU(Be,l.disabled,i,f,t.shouldUseNativeValidation))[we],g([we]),Le(Mt),Me&&(ut?Ct=!1:(d.isValid||h.isValid)&&(Ct=await E(s,!0)));Me&&(Be._f.deps&&ee(Be._f.deps),T(we,Ct,ut,Dt))}},K=(le,ge)=>{if(lr(r.errors,ge)&&le.focus)return le.focus(),1},ee=async(le,ge={})=>{let we,Me;const Be=Sw(le);if(t.resolver){const Le=await L(oi(le)?le:Be);we=Sl(Le),Me=le?!Be.some(Ge=>lr(Le,Ge)):we}else le?(Me=(await Promise.all(Be.map(async Le=>{const Ge=lr(s,Le);return await E(Ge&&Ge._f?{[Le]:Ge}:Ge)}))).every(Boolean),!(!Me&&!r.isValid)&&v()):Me=we=await E(s);return m.state.next({...!Bd(le)||(d.isValid||h.isValid)&&we!==r.isValid?{}:{name:le},...t.resolver||!le?{isValid:we}:{},errors:r.errors}),ge.shouldFocus&&!Me&&kw(s,K,le?Be:l.mount),Me},X=le=>{const ge={...o.mount?i:a};return oi(le)?ge:Bd(le)?lr(ge,le):le.map(we=>lr(ge,we))},B=(le,ge)=>({invalid:!!lr((ge||r).errors,le),isDirty:!!lr((ge||r).dirtyFields,le),error:lr((ge||r).errors,le),isValidating:!!lr(r.validatingFields,le),isTouched:!!lr((ge||r).touchedFields,le)}),D=le=>{le&&Sw(le).forEach(ge=>si(r.errors,ge)),m.state.next({errors:le?r.errors:{}})},Q=(le,ge,we)=>{const Me=(lr(s,le,{_f:{}})._f||{}).ref,Be=lr(r.errors,le)||{},{ref:Le,message:Ge,type:it,...ut}=Be;_s(r.errors,le,{...ut,...ge,ref:Me}),m.state.next({name:le,errors:r.errors,isValid:!1}),we&&we.shouldFocus&&Me&&Me.focus&&Me.focus()},ie=(le,ge)=>Xu(le)?m.state.subscribe({next:we=>"values"in we&&le(C(void 0,ge),we)}):C(le,ge,!0),te=le=>m.state.subscribe({next:ge=>{xLe(le.name,ge.name,le.exact)&&vLe(ge,le.formState||d,$,le.reRenderRoot)&&le.callback({values:{...i},...r,...ge,defaultValues:a})}}).unsubscribe,he=le=>(o.mount=!0,h={...h,...le.formState},te({...le,formState:h})),W=(le,ge={})=>{for(const we of le?Sw(le):l.mount)l.mount.delete(we),l.array.delete(we),ge.keepValue||(si(s,we),si(i,we)),!ge.keepError&&si(r.errors,we),!ge.keepDirty&&si(r.dirtyFields,we),!ge.keepTouched&&si(r.touchedFields,we),!ge.keepIsValidating&&si(r.validatingFields,we),!t.shouldUnregister&&!ge.keepDefaultValue&&si(a,we);m.state.next({values:Mi(i)}),m.state.next({...r,...ge.keepDirty?{isDirty:M()}:{}}),!ge.keepIsValid&&v()},V=({disabled:le,name:ge})=>{(Td(le)&&o.mount||le||l.disabled.has(ge))&&(le?l.disabled.add(ge):l.disabled.delete(ge))},oe=(le,ge={})=>{let we=lr(s,le);const Me=Td(ge.disabled)||Td(t.disabled);return _s(s,le,{...we||{},_f:{...we&&we._f?we._f:{ref:{name:le}},name:le,mount:!0,...ge}}),l.mount.add(le),we?V({disabled:Td(ge.disabled)?ge.disabled:t.disabled,name:le}):_(le,!0,ge.value),{...Me?{disabled:ge.disabled||t.disabled}:{},...t.progressive?{required:!!ge.required,min:X0(ge.min),max:X0(ge.max),minLength:X0(ge.minLength),maxLength:X0(ge.maxLength),pattern:X0(ge.pattern)}:{},name:le,onChange:U,onBlur:U,ref:Be=>{if(Be){oe(le,ge),we=lr(s,le);const Le=oi(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,Ge=dLe(Le),it=we._f.refs||[];if(Ge?it.find(ut=>ut===Le):Le===we._f.ref)return;_s(s,le,{_f:{...we._f,...Ge?{refs:[...it.filter(FE),Le,...Array.isArray(lr(a,le))?[{}]:[]],ref:{type:Le.type,name:le}}:{ref:Le}}}),_(le,!1,void 0,Le)}else we=lr(s,le,{}),we._f&&(we._f.mount=!1),(t.shouldUnregister||ge.shouldUnregister)&&!(aLe(l.array,le)&&o.action)&&l.unMount.add(le)}}},me=()=>t.shouldFocusError&&kw(s,K,l.mount),de=le=>{Td(le)&&(m.state.next({disabled:le}),kw(s,(ge,we)=>{const Me=lr(s,we);Me&&(ge.disabled=Me._f.disabled||le,Array.isArray(Me._f.refs)&&Me._f.refs.forEach(Be=>{Be.disabled=Me._f.disabled||le}))},0,!1))},ue=(le,ge)=>async we=>{let Me;we&&(we.preventDefault&&we.preventDefault(),we.persist&&we.persist());let Be=Mi(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Le,values:Ge}=await A();r.errors=Le,Be=Mi(Ge)}else await E(s);if(l.disabled.size)for(const Le of l.disabled)si(Be,Le);if(si(r.errors,"root"),Sl(r.errors)){m.state.next({errors:{}});try{await le(Be,we)}catch(Le){Me=Le}}else ge&&await ge({...r.errors},we),me(),setTimeout(me);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sl(r.errors)&&!Me,submitCount:r.submitCount+1,errors:r.errors}),Me)throw Me},Pe=(le,ge={})=>{lr(s,le)&&(oi(ge.defaultValue)?re(le,Mi(lr(a,le))):(re(le,ge.defaultValue),_s(a,le,Mi(ge.defaultValue))),ge.keepTouched||si(r.touchedFields,le),ge.keepDirty||(si(r.dirtyFields,le),r.isDirty=ge.defaultValue?M(le,Mi(lr(a,le))):M()),ge.keepError||(si(r.errors,le),d.isValid&&v()),m.state.next({...r}))},G=(le,ge={})=>{const we=le?Mi(le):a,Me=Mi(we),Be=Sl(le),Le=Be?a:Me;if(ge.keepDefaultValues||(a=we),!ge.keepValues){if(ge.keepDirtyValues){const Ge=new Set([...l.mount,...Object.keys(J0(a,i))]);for(const it of Array.from(Ge))lr(r.dirtyFields,it)?_s(Le,it,lr(i,it)):re(it,lr(Le,it))}else{if(MD&&oi(le))for(const Ge of l.mount){const it=lr(s,Ge);if(it&&it._f){const ut=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(QN(ut)){const Ct=ut.closest("form");if(Ct){Ct.reset();break}}}}if(ge.keepFieldsRef)for(const Ge of l.mount)re(Ge,lr(Le,Ge));else s={}}i=t.shouldUnregister?ge.keepDefaultValues?Mi(a):{}:Mi(Le),m.array.next({values:{...Le}}),m.state.next({values:{...Le}})}l={mount:ge.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:ge.keepSubmitCount?r.submitCount:0,isDirty:Be?!1:ge.keepDirty?r.isDirty:!!(ge.keepDefaultValues&&!xm(le,a)),isSubmitted:ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Be?{}:ge.keepDirtyValues?ge.keepDefaultValues&&i?J0(a,i):r.dirtyFields:ge.keepDefaultValues&&le?J0(a,le):ge.keepDirty?r.dirtyFields:{},touchedFields:ge.keepTouched?r.touchedFields:{},errors:ge.keepErrors?r.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},pe=(le,ge)=>G(Xu(le)?le(i):le,ge),ce=(le,ge={})=>{const we=lr(s,le),Me=we&&we._f;if(Me){const Be=Me.refs?Me.refs[0]:Me.ref;Be.focus&&(Be.focus(),ge.shouldSelect&&Xu(Be.select)&&Be.select())}},$=le=>{r={...r,...le}},Z={control:{register:oe,unregister:W,getFieldState:B,handleSubmit:ue,setError:Q,_subscribe:te,_runSchema:A,_focusError:me,_getWatch:C,_getDirty:M,_setValid:v,_setFieldArray:y,_setDisabledField:V,_setErrors:b,_getFieldArray:I,_reset:G,_resetDefaultValues:()=>Xu(t.defaultValues)&&t.defaultValues().then(le=>{pe(le,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:de,_subjects:m,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(le){o=le},get _defaultValues(){return a},get _names(){return l},set _names(le){l=le},get _formState(){return r},get _options(){return t},set _options(le){t={...t,...le}}},subscribe:he,trigger:ee,register:oe,handleSubmit:ue,watch:ie,setValue:re,getValues:X,reset:pe,resetField:Pe,clearErrors:D,unregister:W,setError:Q,setFocus:ce,getFieldState:B};return{...Z,formControl:Z}}function _Le(e={}){const t=at.useRef(void 0),r=at.useRef(void 0),[s,a]=at.useState({isDirty:!1,isValidating:!1,isLoading:Xu(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xu(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Xu(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=NLe(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,cLe(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),at.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),at.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),at.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),at.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),at.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),at.useEffect(()=>{e.values&&!xm(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),at.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=lLe(s,i),t.current}const $U=(e,t,r)=>{if(e&&"reportValidity"in e){const s=lr(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},qre=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?$U(s.ref,r,e):s.refs&&s.refs.forEach(a=>$U(a,r,e))}},SLe=(e,t)=>{t.shouldUseNativeValidation&&qre(e,t);const r={};for(const s in e){const a=lr(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(kLe(t.names||Object.keys(e),s)){const o=Object.assign({},lr(r,s));_s(o,"root",i),_s(r,s,o)}else _s(r,s,i)}return r},kLe=(e,t)=>e.some(r=>r.startsWith(t+"."));var CLe=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,u=c&&c[s.code];r[o]=Dre(o,t,r,a,u?[].concat(u,s.message):s.message)}e.shift()}return r},ELe=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(u){return i.shouldUseNativeValidation&&qre({},i),{errors:{},values:r.raw?s:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(o))return{values:{},errors:SLe(CLe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},$n;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})($n||($n={}));var qU;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(qU||(qU={}));const gr=$n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pm=e=>{switch(typeof e){case"undefined":return gr.undefined;case"string":return gr.string;case"number":return Number.isNaN(e)?gr.nan:gr.number;case"boolean":return gr.boolean;case"function":return gr.function;case"bigint":return gr.bigint;case"symbol":return gr.symbol;case"object":return Array.isArray(e)?gr.array:e===null?gr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gr.promise:typeof Map<"u"&&e instanceof Map?gr.map:typeof Set<"u"&&e instanceof Set?gr.set:typeof Date<"u"&&e instanceof Date?gr.date:gr.object;default:return gr.unknown}},Ot=$n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class pf extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),s}static assert(t){if(!(t instanceof pf))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$n.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}pf.create=e=>new pf(e);const c3=(e,t)=>{let r;switch(e.code){case Ot.invalid_type:e.received===gr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ot.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,$n.jsonStringifyReplacer)}`;break;case Ot.unrecognized_keys:r=`Unrecognized key(s) in object: ${$n.joinValues(e.keys,", ")}`;break;case Ot.invalid_union:r="Invalid input";break;case Ot.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$n.joinValues(e.options)}`;break;case Ot.invalid_enum_value:r=`Invalid enum value. Expected ${$n.joinValues(e.options)}, received '${e.received}'`;break;case Ot.invalid_arguments:r="Invalid function arguments";break;case Ot.invalid_return_type:r="Invalid function return type";break;case Ot.invalid_date:r="Invalid date";break;case Ot.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:$n.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ot.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ot.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ot.custom:r="Invalid input";break;case Ot.invalid_intersection_types:r="Intersection results could not be merged";break;case Ot.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ot.not_finite:r="Number must be finite";break;default:r=t.defaultError,$n.assertNever(e)}return{message:r}};let ALe=c3;function PLe(){return ALe}const TLe=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Kt(e,t){const r=PLe(),s=TLe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===c3?void 0:c3].filter(a=>!!a)});e.common.issues.push(s)}class jc{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return ln;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return jc.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ln;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const ln=Object.freeze({status:"aborted"}),mw=e=>({status:"dirty",value:e}),vu=e=>({status:"valid",value:e}),zU=e=>e.status==="aborted",WU=e=>e.status==="dirty",dy=e=>e.status==="valid",t_=e=>typeof Promise<"u"&&e instanceof Promise;var jr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(jr||(jr={}));class Xm{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const VU=(e,t)=>{if(dy(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pf(e.common.issues);return this._error=r,this._error}}};function yn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Fn{get description(){return this._def.description}_getType(t){return pm(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:pm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jc,ctx:{common:t.parent.common,data:t.data,parsedType:pm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(t_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pm(t)},a=this._parseSync({data:t,path:s.path,parent:s});return VU(s,a)}"~validate"(t){var s,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pm(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return dy(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>dy(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pm(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(t_(a)?a:Promise.resolve(a));return VU(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ot.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new my({schema:this,typeName:cn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Um.create(this,this._def)}nullable(){return py.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wd.create(this)}promise(){return s_.create(this,this._def)}or(t){return r_.create([this,t],this._def)}and(t){return n_.create(this,t,this._def)}transform(t){return new my({...yn(this._def),schema:this,typeName:cn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new h3({...yn(this._def),innerType:this,defaultValue:r,typeName:cn.ZodDefault})}brand(){return new e8e({typeName:cn.ZodBranded,type:this,...yn(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new f3({...yn(this._def),innerType:this,catchValue:r,typeName:cn.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return $D.create(this,t)}readonly(){return m3.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const OLe=/^c[^\s-]{8,}$/i,ILe=/^[0-9a-z]+$/,RLe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DLe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MLe=/^[a-z0-9_-]{21}$/i,LLe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FLe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BLe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ULe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let BE;const $Le=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qLe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zLe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,WLe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VLe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HLe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zre="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",GLe=new RegExp(`^${zre}$`);function Wre(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function KLe(e){return new RegExp(`^${Wre(e)}$`)}function YLe(e){let t=`${zre}T${Wre(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function JLe(e,t){return!!((t==="v4"||!t)&&$Le.test(e)||(t==="v6"||!t)&&zLe.test(e))}function XLe(e,t){if(!LLe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function QLe(e,t){return!!((t==="v4"||!t)&&qLe.test(e)||(t==="v6"||!t)&&WLe.test(e))}class Tm extends Fn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gr.string){const i=this._getOrReturnCtx(t);return Kt(i,{code:Ot.invalid_type,expected:gr.string,received:i.parsedType}),ln}const s=new jc;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Kt(a,{code:Ot.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Kt(a,{code:Ot.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")BLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"email",code:Ot.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")BE||(BE=new RegExp(ULe,"u")),BE.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"emoji",code:Ot.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")DLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"uuid",code:Ot.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")MLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"nanoid",code:Ot.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")OLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"cuid",code:Ot.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")ILe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"cuid2",code:Ot.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")RLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"ulid",code:Ot.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Kt(a,{validation:"url",code:Ot.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"regex",code:Ot.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?YLe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?GLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?KLe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?FLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"duration",code:Ot.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?JLe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"ip",code:Ot.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?XLe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"jwt",code:Ot.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?QLe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"cidr",code:Ot.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?VLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"base64",code:Ot.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?HLe.test(t.data)||(a=this._getOrReturnCtx(t,a),Kt(a,{validation:"base64url",code:Ot.invalid_string,message:i.message}),s.dirty()):$n.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Ot.invalid_string,...jr.errToObj(s)})}_addCheck(t){return new Tm({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...jr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...jr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...jr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...jr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...jr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...jr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...jr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...jr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...jr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...jr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...jr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...jr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...jr.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...jr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...jr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...jr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...jr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...jr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...jr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...jr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...jr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...jr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...jr.errToObj(r)})}nonempty(t){return this.min(1,jr.errToObj(t))}trim(){return new Tm({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tm({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tm({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Tm.create=e=>new Tm({checks:[],typeName:cn.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...yn(e)});function ZLe(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class hy extends Fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gr.number){const i=this._getOrReturnCtx(t);return Kt(i,{code:Ot.invalid_type,expected:gr.number,received:i.parsedType}),ln}let s;const a=new jc;for(const i of this._def.checks)i.kind==="int"?$n.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?ZLe(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.not_finite,message:i.message}),a.dirty()):$n.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,jr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jr.toString(r))}setLimit(t,r,s,a){return new hy({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:jr.toString(a)}]})}_addCheck(t){return new hy({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:jr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:jr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:jr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:jr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:jr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:jr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:jr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:jr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&$n.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}hy.create=e=>new hy({checks:[],typeName:cn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...yn(e)});class ub extends Fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==gr.bigint)return this._getInvalidInput(t);let s;const a=new jc;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Kt(s,{code:Ot.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):$n.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Kt(r,{code:Ot.invalid_type,expected:gr.bigint,received:r.parsedType}),ln}gte(t,r){return this.setLimit("min",t,!0,jr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jr.toString(r))}setLimit(t,r,s,a){return new ub({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:jr.toString(a)}]})}_addCheck(t){return new ub({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:jr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:jr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:jr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:jr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ub.create=e=>new ub({checks:[],typeName:cn.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...yn(e)});class HU extends Fn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gr.boolean){const s=this._getOrReturnCtx(t);return Kt(s,{code:Ot.invalid_type,expected:gr.boolean,received:s.parsedType}),ln}return vu(t.data)}}HU.create=e=>new HU({typeName:cn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...yn(e)});class db extends Fn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gr.date){const i=this._getOrReturnCtx(t);return Kt(i,{code:Ot.invalid_type,expected:gr.date,received:i.parsedType}),ln}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Kt(i,{code:Ot.invalid_date}),ln}const s=new jc;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Kt(a,{code:Ot.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):$n.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new db({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:jr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:jr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}db.create=e=>new db({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:cn.ZodDate,...yn(e)});class GU extends Fn{_parse(t){if(this._getType(t)!==gr.symbol){const s=this._getOrReturnCtx(t);return Kt(s,{code:Ot.invalid_type,expected:gr.symbol,received:s.parsedType}),ln}return vu(t.data)}}GU.create=e=>new GU({typeName:cn.ZodSymbol,...yn(e)});class KU extends Fn{_parse(t){if(this._getType(t)!==gr.undefined){const s=this._getOrReturnCtx(t);return Kt(s,{code:Ot.invalid_type,expected:gr.undefined,received:s.parsedType}),ln}return vu(t.data)}}KU.create=e=>new KU({typeName:cn.ZodUndefined,...yn(e)});class YU extends Fn{_parse(t){if(this._getType(t)!==gr.null){const s=this._getOrReturnCtx(t);return Kt(s,{code:Ot.invalid_type,expected:gr.null,received:s.parsedType}),ln}return vu(t.data)}}YU.create=e=>new YU({typeName:cn.ZodNull,...yn(e)});class JU extends Fn{constructor(){super(...arguments),this._any=!0}_parse(t){return vu(t.data)}}JU.create=e=>new JU({typeName:cn.ZodAny,...yn(e)});class XU extends Fn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vu(t.data)}}XU.create=e=>new XU({typeName:cn.ZodUnknown,...yn(e)});class Qm extends Fn{_parse(t){const r=this._getOrReturnCtx(t);return Kt(r,{code:Ot.invalid_type,expected:gr.never,received:r.parsedType}),ln}}Qm.create=e=>new Qm({typeName:cn.ZodNever,...yn(e)});class QU extends Fn{_parse(t){if(this._getType(t)!==gr.undefined){const s=this._getOrReturnCtx(t);return Kt(s,{code:Ot.invalid_type,expected:gr.void,received:s.parsedType}),ln}return vu(t.data)}}QU.create=e=>new QU({typeName:cn.ZodVoid,...yn(e)});class Wd extends Fn{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==gr.array)return Kt(r,{code:Ot.invalid_type,expected:gr.array,received:r.parsedType}),ln;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Kt(r,{code:o?Ot.too_big:Ot.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Kt(r,{code:Ot.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Kt(r,{code:Ot.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Xm(r,o,r.path,l)))).then(o=>jc.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Xm(r,o,r.path,l)));return jc.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Wd({...this._def,minLength:{value:t,message:jr.toString(r)}})}max(t,r){return new Wd({...this._def,maxLength:{value:t,message:jr.toString(r)}})}length(t,r){return new Wd({...this._def,exactLength:{value:t,message:jr.toString(r)}})}nonempty(t){return this.min(1,t)}}Wd.create=(e,t)=>new Wd({type:e,minLength:null,maxLength:null,exactLength:null,typeName:cn.ZodArray,...yn(t)});function dx(e){if(e instanceof ii){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Um.create(dx(s))}return new ii({...e._def,shape:()=>t})}else return e instanceof Wd?new Wd({...e._def,type:dx(e.element)}):e instanceof Um?Um.create(dx(e.unwrap())):e instanceof py?py.create(dx(e.unwrap())):e instanceof Xg?Xg.create(e.items.map(t=>dx(t))):e}class ii extends Fn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=$n.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==gr.object){const u=this._getOrReturnCtx(t);return Kt(u,{code:Ot.invalid_type,expected:gr.object,received:u.parsedType}),ln}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Qm&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Xm(a,h,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Qm){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Kt(a,{code:Ot.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Xm(a,h,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,m=await d.value;u.push({key:h,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>jc.mergeObjectSync(s,u)):jc.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return jr.errToObj,new ii({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:jr.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new ii({...this._def,unknownKeys:"strip"})}passthrough(){return new ii({...this._def,unknownKeys:"passthrough"})}extend(t){return new ii({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ii({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:cn.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ii({...this._def,catchall:t})}pick(t){const r={};for(const s of $n.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new ii({...this._def,shape:()=>r})}omit(t){const r={};for(const s of $n.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new ii({...this._def,shape:()=>r})}deepPartial(){return dx(this)}partial(t){const r={};for(const s of $n.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}return new ii({...this._def,shape:()=>r})}required(t){const r={};for(const s of $n.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Um;)i=i._def.innerType;r[s]=i}return new ii({...this._def,shape:()=>r})}keyof(){return Vre($n.objectKeys(this.shape))}}ii.create=(e,t)=>new ii({shape:()=>e,unknownKeys:"strip",catchall:Qm.create(),typeName:cn.ZodObject,...yn(t)});ii.strictCreate=(e,t)=>new ii({shape:()=>e,unknownKeys:"strict",catchall:Qm.create(),typeName:cn.ZodObject,...yn(t)});ii.lazycreate=(e,t)=>new ii({shape:e,unknownKeys:"strip",catchall:Qm.create(),typeName:cn.ZodObject,...yn(t)});class r_ extends Fn{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new pf(l.ctx.common.issues));return Kt(r,{code:Ot.invalid_union,unionErrors:o}),ln}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new pf(c));return Kt(r,{code:Ot.invalid_union,unionErrors:l}),ln}}get options(){return this._def.options}}r_.create=(e,t)=>new r_({options:e,typeName:cn.ZodUnion,...yn(t)});function u3(e,t){const r=pm(e),s=pm(t);if(e===t)return{valid:!0,data:e};if(r===gr.object&&s===gr.object){const a=$n.objectKeys(t),i=$n.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=u3(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===gr.array&&s===gr.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=u3(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===gr.date&&s===gr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class n_ extends Fn{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(zU(i)||zU(o))return ln;const l=u3(i.value,o.value);return l.valid?((WU(i)||WU(o))&&r.dirty(),{status:r.value,value:l.data}):(Kt(s,{code:Ot.invalid_intersection_types}),ln)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}n_.create=(e,t,r)=>new n_({left:e,right:t,typeName:cn.ZodIntersection,...yn(r)});class Xg extends Fn{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==gr.array)return Kt(s,{code:Ot.invalid_type,expected:gr.array,received:s.parsedType}),ln;if(s.data.length<this._def.items.length)return Kt(s,{code:Ot.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ln;!this._def.rest&&s.data.length>this._def.items.length&&(Kt(s,{code:Ot.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Xm(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>jc.mergeArray(r,o)):jc.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Xg({...this._def,rest:t})}}Xg.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xg({items:e,typeName:cn.ZodTuple,rest:null,...yn(t)})};class ZU extends Fn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==gr.map)return Kt(s,{code:Ot.invalid_type,expected:gr.map,received:s.parsedType}),ln;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],u)=>({key:a._parse(new Xm(s,l,s.path,[u,"key"])),value:i._parse(new Xm(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ln;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ln;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}ZU.create=(e,t,r)=>new ZU({valueType:t,keyType:e,typeName:cn.ZodMap,...yn(r)});class hb extends Fn{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==gr.set)return Kt(s,{code:Ot.invalid_type,expected:gr.set,received:s.parsedType}),ln;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(Kt(s,{code:Ot.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(Kt(s,{code:Ot.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ln;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...s.data.values()].map((c,u)=>i._parse(new Xm(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new hb({...this._def,minSize:{value:t,message:jr.toString(r)}})}max(t,r){return new hb({...this._def,maxSize:{value:t,message:jr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}hb.create=(e,t)=>new hb({valueType:e,minSize:null,maxSize:null,typeName:cn.ZodSet,...yn(t)});class e$ extends Fn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}e$.create=(e,t)=>new e$({getter:e,typeName:cn.ZodLazy,...yn(t)});class d3 extends Fn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Kt(r,{received:r.data,code:Ot.invalid_literal,expected:this._def.value}),ln}return{status:"valid",value:t.data}}get value(){return this._def.value}}d3.create=(e,t)=>new d3({value:e,typeName:cn.ZodLiteral,...yn(t)});function Vre(e,t){return new fy({values:e,typeName:cn.ZodEnum,...yn(t)})}class fy extends Fn{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return Kt(r,{expected:$n.joinValues(s),received:r.parsedType,code:Ot.invalid_type}),ln}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return Kt(r,{received:r.data,code:Ot.invalid_enum_value,options:s}),ln}return vu(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return fy.create(t,{...this._def,...r})}exclude(t,r=this._def){return fy.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}fy.create=Vre;class t$ extends Fn{_parse(t){const r=$n.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==gr.string&&s.parsedType!==gr.number){const a=$n.objectValues(r);return Kt(s,{expected:$n.joinValues(a),received:s.parsedType,code:Ot.invalid_type}),ln}if(this._cache||(this._cache=new Set($n.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=$n.objectValues(r);return Kt(s,{received:s.data,code:Ot.invalid_enum_value,options:a}),ln}return vu(t.data)}get enum(){return this._def.values}}t$.create=(e,t)=>new t$({values:e,typeName:cn.ZodNativeEnum,...yn(t)});class s_ extends Fn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gr.promise&&r.common.async===!1)return Kt(r,{code:Ot.invalid_type,expected:gr.promise,received:r.parsedType}),ln;const s=r.parsedType===gr.promise?r.data:Promise.resolve(r.data);return vu(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}s_.create=(e,t)=>new s_({type:e,typeName:cn.ZodPromise,...yn(t)});class my extends Fn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===cn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Kt(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ln;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?ln:c.status==="dirty"||r.value==="dirty"?mw(c.value):c});{if(r.value==="aborted")return ln;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?ln:l.status==="dirty"||r.value==="dirty"?mw(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?ln:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?ln:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!dy(o))return ln;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>dy(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):ln);$n.assertNever(a)}}my.create=(e,t,r)=>new my({schema:e,typeName:cn.ZodEffects,effect:t,...yn(r)});my.createWithPreprocess=(e,t,r)=>new my({schema:t,effect:{type:"preprocess",transform:e},typeName:cn.ZodEffects,...yn(r)});class Um extends Fn{_parse(t){return this._getType(t)===gr.undefined?vu(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Um.create=(e,t)=>new Um({innerType:e,typeName:cn.ZodOptional,...yn(t)});class py extends Fn{_parse(t){return this._getType(t)===gr.null?vu(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}py.create=(e,t)=>new py({innerType:e,typeName:cn.ZodNullable,...yn(t)});class h3 extends Fn{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===gr.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}h3.create=(e,t)=>new h3({innerType:e,typeName:cn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...yn(t)});class f3 extends Fn{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return t_(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pf(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new pf(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}f3.create=(e,t)=>new f3({innerType:e,typeName:cn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...yn(t)});class r$ extends Fn{_parse(t){if(this._getType(t)!==gr.nan){const s=this._getOrReturnCtx(t);return Kt(s,{code:Ot.invalid_type,expected:gr.nan,received:s.parsedType}),ln}return{status:"valid",value:t.data}}}r$.create=e=>new r$({typeName:cn.ZodNaN,...yn(e)});class e8e extends Fn{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class $D extends Fn{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ln:i.status==="dirty"?(r.dirty(),mw(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ln:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new $D({in:t,out:r,typeName:cn.ZodPipeline})}}class m3 extends Fn{_parse(t){const r=this._def.innerType._parse(t),s=a=>(dy(a)&&(a.value=Object.freeze(a.value)),a);return t_(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}m3.create=(e,t)=>new m3({innerType:e,typeName:cn.ZodReadonly,...yn(t)});var cn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(cn||(cn={}));const lm=Tm.create,n$=hy.create,t8e=db.create;Qm.create;Wd.create;const r8e=ii.create;r_.create;n_.create;Xg.create;const n8e=d3.create,s8e=fy.create;s_.create;Um.create;py.create;var a8e=[" ","Enter","ArrowUp","ArrowDown"],i8e=[" ","Enter"],Qg="Select",[ZS,e5,o8e]=Ny(Qg),[s0]=di(Qg,[o8e,rp]),t5=rp(),[l8e,fp]=s0(Qg),[c8e,u8e]=s0(Qg),Hre=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:f,form:x}=e,v=t5(t),[g,y]=N.useState(null),[j,b]=N.useState(null),[_,S]=N.useState(!1),T=nv(u),[A,L]=Xo({prop:s,defaultProp:a??!1,onChange:i,caller:Qg}),[E,q]=Xo({prop:o,defaultProp:l,onChange:c,caller:Qg}),M=N.useRef(null),C=g?x||!!g.closest("form"):!0,[I,O]=N.useState(new Set),H=Array.from(I).map(re=>re.props.value).join(";");return n.jsx(A_,{...v,children:n.jsxs(l8e,{required:f,scope:t,trigger:g,onTriggerChange:y,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Pl(),value:E,onValueChange:q,open:A,onOpenChange:L,dir:T,triggerPointerDownPosRef:M,disabled:m,children:[n.jsx(ZS.Provider,{scope:t,children:n.jsx(c8e,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(re=>{O(U=>new Set(U).add(re))},[]),onNativeOptionRemove:N.useCallback(re=>{O(U=>{const K=new Set(U);return K.delete(re),K})},[]),children:r})}),C?n.jsxs(gne,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:E,onChange:re=>q(re.target.value),disabled:m,form:x,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(I)]},H):null]})})};Hre.displayName=Qg;var Gre="SelectTrigger",Kre=N.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=t5(r),o=fp(Gre,r),l=o.disabled||s,c=Tr(t,o.onTriggerChange),u=e5(r),d=N.useRef("touch"),[h,m,f]=xne(v=>{const g=u().filter(b=>!b.disabled),y=g.find(b=>b.value===o.value),j=yne(g,v,y);j!==void 0&&o.onValueChange(j.value)}),x=v=>{l||(o.onOpenChange(!0),f()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return n.jsx(Cb,{asChild:!0,...i,children:n.jsx(zt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vne(o.value)?"":void 0,...a,ref:c,onClick:St(a.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:St(a.onPointerDown,v=>{d.current=v.pointerType;const g=v.target;g.hasPointerCapture(v.pointerId)&&g.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:St(a.onKeyDown,v=>{const g=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(g&&v.key===" ")&&a8e.includes(v.key)&&(x(),v.preventDefault())})})})});Kre.displayName=Gre;var Yre="SelectValue",Jre=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=fp(Yre,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Tr(t,c.onValueNodeChange);return Ba(()=>{u(d)},[u,d]),n.jsx(zt.span,{...l,ref:h,style:{pointerEvents:"none"},children:vne(c.value)?n.jsx(n.Fragment,{children:o}):i})});Jre.displayName=Yre;var d8e="SelectIcon",Xre=N.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(zt.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});Xre.displayName=d8e;var h8e="SelectPortal",Qre=e=>n.jsx(_y,{asChild:!0,...e});Qre.displayName=h8e;var Zg="SelectContent",Zre=N.forwardRef((e,t)=>{const r=fp(Zg,e.__scopeSelect),[s,a]=N.useState();if(Ba(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?vf.createPortal(n.jsx(ene,{scope:e.__scopeSelect,children:n.jsx(ZS.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(tne,{...e,ref:t})});Zre.displayName=Zg;var qu=10,[ene,mp]=s0(Zg),f8e="SelectContentImpl",m8e=qm("SelectContent.RemoveScroll"),tne=N.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:x,hideWhenDetached:v,avoidCollisions:g,...y}=e,j=fp(Zg,r),[b,_]=N.useState(null),[S,T]=N.useState(null),A=Tr(t,W=>_(W)),[L,E]=N.useState(null),[q,M]=N.useState(null),C=e5(r),[I,O]=N.useState(!1),H=N.useRef(!1);N.useEffect(()=>{if(b)return B_(b)},[b]),F_();const re=N.useCallback(W=>{const[V,...oe]=C().map(ue=>ue.ref.current),[me]=oe.slice(-1),de=document.activeElement;for(const ue of W)if(ue===de||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===V&&S&&(S.scrollTop=0),ue===me&&S&&(S.scrollTop=S.scrollHeight),ue==null||ue.focus(),document.activeElement!==de))return},[C,S]),U=N.useCallback(()=>re([L,b]),[re,L,b]);N.useEffect(()=>{I&&U()},[I,U]);const{onOpenChange:K,triggerPointerDownPosRef:ee}=j;N.useEffect(()=>{if(b){let W={x:0,y:0};const V=me=>{var de,ue;W={x:Math.abs(Math.round(me.pageX)-(((de=ee.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ue=ee.current)==null?void 0:ue.y)??0))}},oe=me=>{W.x<=10&&W.y<=10?me.preventDefault():b.contains(me.target)||K(!1),document.removeEventListener("pointermove",V),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",oe,{capture:!0})}}},[b,K,ee]),N.useEffect(()=>{const W=()=>K(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[K]);const[X,B]=xne(W=>{const V=C().filter(de=>!de.disabled),oe=V.find(de=>de.ref.current===document.activeElement),me=yne(V,W,oe);me&&setTimeout(()=>me.ref.current.focus())}),D=N.useCallback((W,V,oe)=>{const me=!H.current&&!oe;(j.value!==void 0&&j.value===V||me)&&(E(W),me&&(H.current=!0))},[j.value]),Q=N.useCallback(()=>b==null?void 0:b.focus(),[b]),ie=N.useCallback((W,V,oe)=>{const me=!H.current&&!oe;(j.value!==void 0&&j.value===V||me)&&M(W)},[j.value]),te=s==="popper"?p3:rne,he=te===p3?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:x,hideWhenDetached:v,avoidCollisions:g}:{};return n.jsx(ene,{scope:r,content:b,viewport:S,onViewportChange:T,itemRefCallback:D,selectedItem:L,onItemLeave:Q,itemTextRefCallback:ie,focusSelectedItem:U,selectedItemText:q,position:s,isPositioned:I,searchRef:X,children:n.jsx(Tb,{as:m8e,allowPinchZoom:!0,children:n.jsx(Pb,{asChild:!0,trapped:j.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:St(a,W=>{var V;(V=j.trigger)==null||V.focus({preventScroll:!0}),W.preventDefault()}),children:n.jsx(rv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:n.jsx(te,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:W=>W.preventDefault(),...y,...he,onPlaced:()=>O(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:St(y.onKeyDown,W=>{const V=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!V&&W.key.length===1&&B(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let me=C().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(W.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const de=W.target,ue=me.indexOf(de);me=me.slice(ue+1)}setTimeout(()=>re(me)),W.preventDefault()}})})})})})})});tne.displayName=f8e;var p8e="SelectItemAlignedPosition",rne=N.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=fp(Zg,r),o=mp(Zg,r),[l,c]=N.useState(null),[u,d]=N.useState(null),h=Tr(t,A=>d(A)),m=e5(r),f=N.useRef(!1),x=N.useRef(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:j}=o,b=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&g&&y){const A=i.trigger.getBoundingClientRect(),L=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),q=y.getBoundingClientRect();if(i.dir!=="rtl"){const de=q.left-L.left,ue=E.left-de,Pe=A.left-ue,G=A.width+Pe,pe=Math.max(G,L.width),ce=window.innerWidth-qu,$=Ww(ue,[qu,Math.max(qu,ce-pe)]);l.style.minWidth=G+"px",l.style.left=$+"px"}else{const de=L.right-q.right,ue=window.innerWidth-E.right-de,Pe=window.innerWidth-A.right-ue,G=A.width+Pe,pe=Math.max(G,L.width),ce=window.innerWidth-qu,$=Ww(ue,[qu,Math.max(qu,ce-pe)]);l.style.minWidth=G+"px",l.style.right=$+"px"}const M=m(),C=window.innerHeight-qu*2,I=v.scrollHeight,O=window.getComputedStyle(u),H=parseInt(O.borderTopWidth,10),re=parseInt(O.paddingTop,10),U=parseInt(O.borderBottomWidth,10),K=parseInt(O.paddingBottom,10),ee=H+re+I+K+U,X=Math.min(g.offsetHeight*5,ee),B=window.getComputedStyle(v),D=parseInt(B.paddingTop,10),Q=parseInt(B.paddingBottom,10),ie=A.top+A.height/2-qu,te=C-ie,he=g.offsetHeight/2,W=g.offsetTop+he,V=H+re+W,oe=ee-V;if(V<=ie){const de=M.length>0&&g===M[M.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-v.offsetTop-v.offsetHeight,Pe=Math.max(te,he+(de?Q:0)+ue+U),G=V+Pe;l.style.height=G+"px"}else{const de=M.length>0&&g===M[0].ref.current;l.style.top="0px";const Pe=Math.max(ie,H+v.offsetTop+(de?D:0)+he)+oe;l.style.height=Pe+"px",v.scrollTop=V-ie+v.offsetTop}l.style.margin=`${qu}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=C+"px",s==null||s(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,l,u,v,g,y,i.dir,s]);Ba(()=>b(),[b]);const[_,S]=N.useState();Ba(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const T=N.useCallback(A=>{A&&x.current===!0&&(b(),j==null||j(),x.current=!1)},[b,j]);return n.jsx(v8e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:T,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:n.jsx(zt.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});rne.displayName=p8e;var g8e="SelectPopperPosition",p3=N.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=qu,...i}=e,o=t5(r);return n.jsx(P_,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});p3.displayName=g8e;var[v8e,qD]=s0(Zg,{}),g3="SelectViewport",nne=N.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=mp(g3,r),o=qD(g3,r),l=Tr(t,i.onViewportChange),c=N.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(ZS.Slot,{scope:r,children:n.jsx(zt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:St(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const x=window.innerHeight-qu*2,v=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(v,g);if(y<x){const j=y+f,b=Math.min(x,j),_=j-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});nne.displayName=g3;var sne="SelectGroup",[x8e,y8e]=s0(sne),w8e=N.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Pl();return n.jsx(x8e,{scope:r,id:a,children:n.jsx(zt.div,{role:"group","aria-labelledby":a,...s,ref:t})})});w8e.displayName=sne;var ane="SelectLabel",ine=N.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=y8e(ane,r);return n.jsx(zt.div,{id:a.id,...s,ref:t})});ine.displayName=ane;var a_="SelectItem",[b8e,one]=s0(a_),lne=N.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=fp(a_,r),c=mp(a_,r),u=l.value===s,[d,h]=N.useState(i??""),[m,f]=N.useState(!1),x=Tr(t,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,s,a)}),v=Pl(),g=N.useRef("touch"),y=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(b8e,{scope:r,value:s,disabled:a,textId:v,isSelected:u,onItemTextChange:N.useCallback(j=>{h(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:n.jsx(ZS.ItemSlot,{scope:r,value:s,disabled:a,textValue:d,children:n.jsx(zt.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:St(o.onFocus,()=>f(!0)),onBlur:St(o.onBlur,()=>f(!1)),onClick:St(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:St(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:St(o.onPointerDown,j=>{g.current=j.pointerType}),onPointerMove:St(o.onPointerMove,j=>{var b;g.current=j.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:St(o.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:St(o.onKeyDown,j=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&j.key===" "||(i8e.includes(j.key)&&y(),j.key===" "&&j.preventDefault())})})})})});lne.displayName=a_;var pw="SelectItemText",cne=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=fp(pw,r),l=mp(pw,r),c=one(pw,r),u=u8e(pw,r),[d,h]=N.useState(null),m=Tr(t,y=>h(y),c.onItemTextChange,y=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,y,c.value,c.disabled)}),f=d==null?void 0:d.textContent,x=N.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=u;return Ba(()=>(v(x),()=>g(x)),[v,g,x]),n.jsxs(n.Fragment,{children:[n.jsx(zt.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vf.createPortal(i.children,o.valueNode):null]})});cne.displayName=pw;var une="SelectItemIndicator",dne=N.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return one(une,r).isSelected?n.jsx(zt.span,{"aria-hidden":!0,...s,ref:t}):null});dne.displayName=une;var v3="SelectScrollUpButton",hne=N.forwardRef((e,t)=>{const r=mp(v3,e.__scopeSelect),s=qD(v3,e.__scopeSelect),[a,i]=N.useState(!1),o=Tr(t,s.onScrollButtonChange);return Ba(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(mne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hne.displayName=v3;var x3="SelectScrollDownButton",fne=N.forwardRef((e,t)=>{const r=mp(x3,e.__scopeSelect),s=qD(x3,e.__scopeSelect),[a,i]=N.useState(!1),o=Tr(t,s.onScrollButtonChange);return Ba(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(mne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fne.displayName=x3;var mne=N.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=mp("SelectScrollButton",r),o=N.useRef(null),l=e5(r),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),Ba(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),n.jsx(zt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:St(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:St(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:St(a.onPointerLeave,()=>{c()})})}),j8e="SelectSeparator",pne=N.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(zt.div,{"aria-hidden":!0,...s,ref:t})});pne.displayName=j8e;var y3="SelectArrow",N8e=N.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=t5(r),i=fp(y3,r),o=mp(y3,r);return i.open&&o.position==="popper"?n.jsx(T_,{...a,...s,ref:t}):null});N8e.displayName=y3;var _8e="SelectBubbleInput",gne=N.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=N.useRef(null),i=Tr(s,a),o=Z_(t);return N.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),n.jsx(zt.select,{...r,style:{...jV,...r.style},ref:i,defaultValue:t})});gne.displayName=_8e;function vne(e){return e===""||e===void 0}function xne(e){const t=Ma(e),r=N.useRef(""),s=N.useRef(0),a=N.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=N.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function yne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=S8e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function S8e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var k8e=Hre,wne=Kre,C8e=Jre,E8e=Xre,A8e=Qre,bne=Zre,P8e=nne,jne=ine,Nne=lne,T8e=cne,O8e=dne,_ne=hne,Sne=fne,kne=pne;const $t=k8e,qt=C8e,Ft=N.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(wne,{ref:s,className:Pt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(E8e,{asChild:!0,children:n.jsx(w_,{className:"h-4 w-4 opacity-50"})})]}));Ft.displayName=wne.displayName;const Cne=N.forwardRef(({className:e,...t},r)=>n.jsx(_ne,{ref:r,className:Pt("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(sce,{className:"h-4 w-4"})}));Cne.displayName=_ne.displayName;const Ene=N.forwardRef(({className:e,...t},r)=>n.jsx(Sne,{ref:r,className:Pt("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(w_,{className:"h-4 w-4"})}));Ene.displayName=Sne.displayName;const Bt=N.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(A8e,{children:n.jsxs(bne,{ref:a,className:Pt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(Cne,{}),n.jsx(P8e,{className:Pt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Ene,{})]})}));Bt.displayName=bne.displayName;const I8e=N.forwardRef(({className:e,...t},r)=>n.jsx(jne,{ref:r,className:Pt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));I8e.displayName=jne.displayName;const qe=N.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Nne,{ref:s,className:Pt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(O8e,{children:n.jsx(Vd,{className:"h-4 w-4"})})}),n.jsx(T8e,{children:t})]}));qe.displayName=Nne.displayName;const R8e=N.forwardRef(({className:e,...t},r)=>n.jsx(kne,{ref:r,className:Pt("-mx-1 my-1 h-px bg-muted",e),...t}));R8e.displayName=kne.displayName;var zr=function(){return zr=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zr.apply(this,arguments)};function D8e(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function Ane(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function c1(e){return e.mode==="multiple"}function u1(e){return e.mode==="range"}function r5(e){return e.mode==="single"}var M8e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function L8e(e,t){return Lt(e,"LLLL y",t)}function F8e(e,t){return Lt(e,"d",t)}function B8e(e,t){return Lt(e,"LLLL",t)}function U8e(e){return"".concat(e)}function $8e(e,t){return Lt(e,"cccccc",t)}function q8e(e,t){return Lt(e,"yyyy",t)}var z8e=Object.freeze({__proto__:null,formatCaption:L8e,formatDay:F8e,formatMonthCaption:B8e,formatWeekNumber:U8e,formatWeekdayName:$8e,formatYearCaption:q8e}),W8e=function(e,t,r){return Lt(e,"do MMMM (EEEE)",r)},V8e=function(){return"Month: "},H8e=function(){return"Go to next month"},G8e=function(){return"Go to previous month"},K8e=function(e,t){return Lt(e,"cccc",t)},Y8e=function(e){return"Week n. ".concat(e)},J8e=function(){return"Year: "},X8e=Object.freeze({__proto__:null,labelDay:W8e,labelMonthDropdown:V8e,labelNext:H8e,labelPrevious:G8e,labelWeekNumber:Y8e,labelWeekday:K8e,labelYearDropdown:J8e});function Q8e(){var e="buttons",t=M8e,r=XO,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:z8e,labels:X8e,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Z8e(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=Po(s):t&&(i=new Date(t,0,1)),a?o=W_(a):r&&(o=new Date(r,11,31)),{fromDate:i?Qx(i):void 0,toDate:o?Qx(o):void 0}}var Pne=N.createContext(void 0);function eFe(e){var t,r=e.initialProps,s=Q8e(),a=Z8e(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(r5(r)||c1(r)||u1(r))&&(c=r.onSelect);var u=zr(zr(zr({},s),r),{captionLayout:l,classNames:zr(zr({},s.classNames),r.classNames),components:zr({},r.components),formatters:zr(zr({},s.formatters),r.formatters),fromDate:i,labels:zr(zr({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:zr(zr({},s.modifiers),r.modifiers),modifiersClassNames:zr(zr({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:zr(zr({},s.styles),r.styles),toDate:o});return n.jsx(Pne.Provider,{value:u,children:e.children})}function Ds(){var e=N.useContext(Pne);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Tne(e){var t=Ds(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function tFe(e){return n.jsx("svg",zr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function One(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Ds(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:tFe;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function rFe(e){var t,r=Ds(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var h=[];if(hye(s,a))for(var m=Po(s),f=s.getMonth();f<=a.getMonth();f++)h.push(Hk(m,f));else for(var m=Po(new Date),f=0;f<=11;f++)h.push(Hk(m,f));var x=function(g){var y=Number(g.target.value),j=Hk(Po(e.displayMonth),y);e.onChange(j)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:One;return n.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function nFe(e){var t,r=e.displayMonth,s=Ds(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,u=s.components,d=s.formatters.formatYearCaption,h=s.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var f=a.getFullYear(),x=i.getFullYear(),v=f;v<=x;v++)m.push(T8(VK(new Date),v));var g=function(j){var b=T8(Po(r),Number(j.target.value));e.onChange(b)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:One;return n.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:o}),children:m.map(function(j){return n.jsx("option",{value:j.getFullYear(),children:d(j,{locale:o})},j.getFullYear())})})}function sFe(e,t){var r=N.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function aFe(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&ey(i,a)<0){var u=-1*(c-1);a=iu(i,u)}return o&&ey(a,o)<0&&(a=o),Po(a)}function iFe(){var e=Ds(),t=aFe(e),r=sFe(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Po(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function oFe(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=Po(e),i=Po(iu(a,s)),o=ey(i,a),l=[],c=0;c<o;c++){var u=iu(a,c);l.push(u)}return r&&(l=l.reverse()),l}function lFe(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Po(e);if(!r)return iu(l,o);var c=ey(r,e);if(!(c<i))return iu(l,o)}}function cFe(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Po(e);if(!r)return iu(l,-o);var c=ey(l,r);if(!(c<=0))return iu(l,-o)}}var Ine=N.createContext(void 0);function uFe(e){var t=Ds(),r=iFe(),s=r[0],a=r[1],i=oFe(s,t),o=lFe(s,t),l=cFe(s,t),c=function(h){return i.some(function(m){return QO(h,m)})},u=function(h,m){c(h)||(m&&XK(h,m)?a(iu(h,1+t.numberOfMonths*-1)):a(h))},d={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(Ine.Provider,{value:d,children:e.children})}function d1(){var e=N.useContext(Ine);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function s$(e){var t,r=Ds(),s=r.classNames,a=r.styles,i=r.components,o=d1().goToMonth,l=function(d){o(iu(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Tne,u=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:u}),n.jsx(rFe,{onChange:l,displayMonth:e.displayMonth}),n.jsx(nFe,{onChange:l,displayMonth:e.displayMonth})]})}function dFe(e){return n.jsx("svg",zr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function hFe(e){return n.jsx("svg",zr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var i_=N.forwardRef(function(e,t){var r=Ds(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=zr(zr({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",zr({},e,{ref:t,type:"button",className:o,style:l}))});function fFe(e){var t,r,s=Ds(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,u=c.labelPrevious,d=c.labelNext,h=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=u(e.previousMonth,{locale:i}),f=[o.nav_button,o.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),g=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:hFe,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:dFe;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(i_,{name:"previous-month","aria-label":m,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(i_,{name:"next-month","aria-label":x,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(y,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function a$(e){var t=Ds().numberOfMonths,r=d1(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return QO(e.displayMonth,x)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),m=function(){s&&i(s)},f=function(){a&&i(a)};return n.jsx(fFe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:a,previousMonth:s,onPreviousClick:m,onNextClick:f})}function mFe(e){var t,r=Ds(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Tne,u;return a?u=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=n.jsx(s$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=n.jsxs(n.Fragment,{children:[n.jsx(s$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(a$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(a$,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:u})}function pFe(e){var t=Ds(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function gFe(e,t,r){for(var s=r?Lg(new Date):ou(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Qi(s,i);a.push(o)}return a}function vFe(){var e=Ds(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=gFe(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},h)})]})}function xFe(){var e,t=Ds(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:vFe;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function yFe(e){var t=Ds(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var zD=N.createContext(void 0);function wFe(e){if(!c1(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(zD.Provider,{value:t,children:e.children})}return n.jsx(bFe,{initialProps:e.initialProps,children:e.children})}function bFe(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(u,d,h){var m,f;(m=t.onDayClick)===null||m===void 0||m.call(t,u,d,h);var x=!!(d.selected&&a&&(s==null?void 0:s.length)===a);if(!x){var v=!!(!d.selected&&i&&(s==null?void 0:s.length)===i);if(!v){var g=s?Ane([],s):[];if(d.selected){var y=g.findIndex(function(j){return Yo(u,j)});g.splice(y,1)}else g.push(u);(f=t.onSelect)===null||f===void 0||f.call(t,g,u,d,h)}}},l={disabled:[]};s&&l.disabled.push(function(u){var d=i&&s.length>i-1,h=s.some(function(m){return Yo(m,u)});return!!(d&&!h)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(zD.Provider,{value:c,children:r})}function WD(){var e=N.useContext(zD);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function jFe(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?Yo(a,e)&&Yo(s,e)?void 0:Yo(a,e)?{from:a,to:void 0}:Yo(s,e)?void 0:aT(s,e)?{from:e,to:a}:{from:s,to:e}:a?aT(e,a)?{from:a,to:e}:{from:e,to:a}:s?XK(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var VD=N.createContext(void 0);function NFe(e){if(!u1(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(VD.Provider,{value:t,children:e.children})}return n.jsx(_Fe,{initialProps:e.initialProps,children:e.children})}function _Fe(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(f,x,v){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,f,x,v);var j=jFe(f,s);(y=t.onSelect)===null||y===void 0||y.call(t,j,f,x,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Yo(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Vk(i,l-1),before:Qi(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Qi(i,l-1)}),!i&&o&&d.disabled.push({after:Vk(o,l-1),before:Qi(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Qi(i,-c+1)}),d.disabled.push({after:Qi(i,c-1)})),i&&o){var h=Zu(o,i)+1,m=c-h;d.disabled.push({before:Vk(i,m)}),d.disabled.push({after:Qi(o,m)})}!i&&o&&(d.disabled.push({before:Qi(o,-c+1)}),d.disabled.push({after:Qi(o,c-1)}))}return n.jsx(VD.Provider,{value:{selected:s,onDayClick:u,modifiers:d},children:r})}function HD(){var e=N.useContext(VD);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function C2(e){return Array.isArray(e)?Ane([],e):e!==void 0?[e]:[]}function SFe(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=C2(a)}),t}var id;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(id||(id={}));var kFe=id.Selected,Mh=id.Disabled,CFe=id.Hidden,EFe=id.Today,UE=id.RangeEnd,$E=id.RangeMiddle,qE=id.RangeStart,AFe=id.Outside;function PFe(e,t,r){var s,a=(s={},s[kFe]=C2(e.selected),s[Mh]=C2(e.disabled),s[CFe]=C2(e.hidden),s[EFe]=[e.today],s[UE]=[],s[$E]=[],s[qE]=[],s[AFe]=[],s);return e.fromDate&&a[Mh].push({before:e.fromDate}),e.toDate&&a[Mh].push({after:e.toDate}),c1(e)?a[Mh]=a[Mh].concat(t.modifiers[Mh]):u1(e)&&(a[Mh]=a[Mh].concat(r.modifiers[Mh]),a[qE]=r.modifiers[qE],a[$E]=r.modifiers[$E],a[UE]=r.modifiers[UE]),a}var Rne=N.createContext(void 0);function TFe(e){var t=Ds(),r=WD(),s=HD(),a=PFe(t,r,s),i=SFe(t.modifiers),o=zr(zr({},a),i);return n.jsx(Rne.Provider,{value:o,children:e.children})}function Dne(){var e=N.useContext(Rne);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function OFe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function IFe(e){return!!(e&&typeof e=="object"&&"from"in e)}function RFe(e){return!!(e&&typeof e=="object"&&"after"in e)}function DFe(e){return!!(e&&typeof e=="object"&&"before"in e)}function MFe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function LFe(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=Zu(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=Zu(e,s)>=0&&Zu(a,e)>=0;return o}return a?Yo(a,e):s?Yo(s,e):!1}function FFe(e){return KO(e)}function BFe(e){return Array.isArray(e)&&e.every(KO)}function UFe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(FFe(r))return Yo(e,r);if(BFe(r))return r.includes(e);if(IFe(r))return LFe(e,r);if(MFe(r))return r.dayOfWeek.includes(e.getDay());if(OFe(r)){var s=Zu(r.before,e),a=Zu(r.after,e),i=s>0,o=a<0,l=aT(r.before,r.after);return l?o&&i:i||o}return RFe(r)?Zu(e,r.after)>0:DFe(r)?Zu(r.before,e)>0:typeof r=="function"?r(e):!1})}function GD(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return UFe(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!QO(e,r)&&(a.outside=!0),a}function $Fe(e,t){for(var r=Po(e[0]),s=W_(e[e.length-1]),a,i,o=r;o<=s;){var l=GD(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Qi(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Qi(o,1)}return i||a}var qFe=365;function Mne(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,h=a.locale,m={day:Qi,week:sT,month:iu,year:Zve,startOfWeek:function(g){return a.ISOWeek?Lg(g):ou(g,{locale:h,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?HK(g):V_(g,{locale:h,weekStartsOn:c})}},f=m[r](e,s==="after"?1:-1);s==="before"&&u?f=exe([u,f]):s==="after"&&d&&(f=txe([d,f]));var x=!0;if(i){var v=GD(f,i);x=!v.disabled&&!v.hidden}return x?f:l.count>qFe?l.lastFocused:Mne(f,{moveBy:r,direction:s,context:a,modifiers:i,retry:zr(zr({},l),{count:l.count+1})})}var Lne=N.createContext(void 0);function zFe(e){var t=d1(),r=Dne(),s=N.useState(),a=s[0],i=s[1],o=N.useState(),l=o[0],c=o[1],u=$Fe(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(a),i(void 0)},m=function(g){i(g)},f=Ds(),x=function(g,y){if(a){var j=Mne(a,{moveBy:g,direction:y,context:f,modifiers:r});Yo(a,j)||(t.goToDate(j,a),m(j))}},v={focusedDay:a,focusTarget:d,blur:h,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(Lne.Provider,{value:v,children:e.children})}function KD(){var e=N.useContext(Lne);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function WFe(e,t){var r=Dne(),s=GD(e,r,t);return s}var YD=N.createContext(void 0);function VFe(e){if(!r5(e.initialProps)){var t={selected:void 0};return n.jsx(YD.Provider,{value:t,children:e.children})}return n.jsx(HFe,{initialProps:e.initialProps,children:e.children})}function HFe(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(YD.Provider,{value:a,children:r})}function Fne(){var e=N.useContext(YD);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function GFe(e,t){var r=Ds(),s=Fne(),a=WD(),i=HD(),o=KD(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,m=o.focus,f=o.focusMonthBefore,x=o.focusMonthAfter,v=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,j=o.focusEndOfWeek,b=function(U){var K,ee,X,B;r5(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,U):c1(r)?(ee=a.onDayClick)===null||ee===void 0||ee.call(a,e,t,U):u1(r)?(X=i.onDayClick)===null||X===void 0||X.call(i,e,t,U):(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,U)},_=function(U){var K;m(e),(K=r.onDayFocus)===null||K===void 0||K.call(r,e,t,U)},S=function(U){var K;h(),(K=r.onDayBlur)===null||K===void 0||K.call(r,e,t,U)},T=function(U){var K;(K=r.onDayMouseEnter)===null||K===void 0||K.call(r,e,t,U)},A=function(U){var K;(K=r.onDayMouseLeave)===null||K===void 0||K.call(r,e,t,U)},L=function(U){var K;(K=r.onDayPointerEnter)===null||K===void 0||K.call(r,e,t,U)},E=function(U){var K;(K=r.onDayPointerLeave)===null||K===void 0||K.call(r,e,t,U)},q=function(U){var K;(K=r.onDayTouchCancel)===null||K===void 0||K.call(r,e,t,U)},M=function(U){var K;(K=r.onDayTouchEnd)===null||K===void 0||K.call(r,e,t,U)},C=function(U){var K;(K=r.onDayTouchMove)===null||K===void 0||K.call(r,e,t,U)},I=function(U){var K;(K=r.onDayTouchStart)===null||K===void 0||K.call(r,e,t,U)},O=function(U){var K;(K=r.onDayKeyUp)===null||K===void 0||K.call(r,e,t,U)},H=function(U){var K;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),u();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?v():f();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?g():x();break;case"Home":U.preventDefault(),U.stopPropagation(),y();break;case"End":U.preventDefault(),U.stopPropagation(),j();break}(K=r.onDayKeyDown)===null||K===void 0||K.call(r,e,t,U)},re={onClick:b,onFocus:_,onBlur:S,onKeyDown:H,onKeyUp:O,onMouseEnter:T,onMouseLeave:A,onPointerEnter:L,onPointerLeave:E,onTouchCancel:q,onTouchEnd:M,onTouchMove:C,onTouchStart:I};return re}function KFe(){var e=Ds(),t=Fne(),r=WD(),s=HD(),a=r5(e)?t.selected:c1(e)?r.selected:u1(e)?s.selected:void 0;return a}function YFe(e){return Object.values(id).includes(e)}function JFe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(YFe(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function XFe(e,t){var r=zr({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=zr(zr({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function QFe(e,t,r){var s,a,i,o=Ds(),l=KD(),c=WFe(e,t),u=GFe(e,c),d=KFe(),h=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var T;c.outside||l.focusedDay&&h&&Yo(l.focusedDay,e)&&((T=r.current)===null||T===void 0||T.focus())},[l.focusedDay,e,r,h,c.outside]);var m=JFe(o,c).join(" "),f=XFe(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:yFe,g=n.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:f,className:m,children:g,role:"gridcell"},j=l.focusTarget&&Yo(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Yo(l.focusedDay,e),_=zr(zr(zr({},y),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=b||j?0:-1,s)),u),S={isButton:h,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:y};return S}function ZFe(e){var t=N.useRef(null),r=QFe(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(i_,zr({name:"day",ref:t},r.buttonProps)):n.jsx("div",zr({},r.divProps))}function e7e(e){var t=e.number,r=e.dates,s=Ds(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,u=s.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),m=function(f){a(t,r,f)};return n.jsx(i_,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:d})}function t7e(e){var t,r,s=Ds(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:ZFe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:e7e,d;return o&&(d=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(u,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(h){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:h})},cye(h))})]})}function i$(e,t,r){for(var s=r!=null&&r.ISOWeek?HK(t):V_(t,r),a=r!=null&&r.ISOWeek?Lg(e):ou(e,r),i=Zu(s,a),o=[],l=0;l<=i;l++)o.push(Qi(a,l));var c=o.reduce(function(u,d){var h=r!=null&&r.ISOWeek?GK(d):YK(d,r),m=u.find(function(f){return f.weekNumber===h});return m?(m.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function r7e(e,t){var r=i$(Po(e),W_(e),t);if(t!=null&&t.useFixedWeeks){var s=dye(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=sT(i,6-s),l=i$(sT(i,1),o,t);r.push.apply(r,l)}}return r}function n7e(e){var t,r,s,a=Ds(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,f=a.ISOWeek,x=r7e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:xFe,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:t7e,y=(s=d==null?void 0:d.Footer)!==null&&s!==void 0?s:pFe;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(v,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(j){return n.jsx(g,{displayMonth:e.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),n.jsx(y,{displayMonth:e.displayMonth})]})}function s7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var a7e=s7e()?N.useLayoutEffect:N.useEffect,zE=!1,i7e=0;function o$(){return"react-day-picker-".concat(++i7e)}function o7e(e){var t,r=e??(zE?o$():null),s=N.useState(r),a=s[0],i=s[1];return a7e(function(){a===null&&i(o$())},[]),N.useEffect(function(){zE===!1&&(zE=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function l7e(e){var t,r,s=Ds(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=d1().displayMonths,u=o7e(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),d=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,f=e.displayIndex===0,x=e.displayIndex===c.length-1,v=!f&&!x;a==="rtl"&&(t=[f,x],x=t[0],f=t[1]),f&&(h.push(i.caption_start),m=zr(zr({},m),o.caption_start)),x&&(h.push(i.caption_end),m=zr(zr({},m),o.caption_end)),v&&(h.push(i.caption_between),m=zr(zr({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:mFe;return n.jsxs("div",{className:h.join(" "),style:m,children:[n.jsx(g,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(n7e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function c7e(e){var t=Ds(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function u7e(e){var t,r,s=e.initialProps,a=Ds(),i=KD(),o=d1(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var h=zr(zr({},a.styles.root),a.style),m=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,v){var g;return zr(zr({},x),(g={},g[v]=s[v],g))},{}),f=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:c7e;return n.jsx("div",zr({className:d.join(" "),style:h,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:n.jsx(f,{children:o.displayMonths.map(function(x,v){return n.jsx(l7e,{displayIndex:v,displayMonth:x},v)})})}))}function d7e(e){var t=e.children,r=D8e(e,["children"]);return n.jsx(eFe,{initialProps:r,children:n.jsx(uFe,{children:n.jsx(VFe,{initialProps:r,children:n.jsx(wFe,{initialProps:r,children:n.jsx(NFe,{initialProps:r,children:n.jsx(TFe,{children:n.jsx(zFe,{children:t})})})})})})})}function h7e(e){return n.jsx(d7e,zr({},e,{children:n.jsx(u7e,{initialProps:e})}))}function gf({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(h7e,{showOutsideDays:r,className:Pt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Pt(zw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pt(zw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(nce,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(rO,{className:"h-4 w-4"})},...s})}gf.displayName="Calendar";const xs={INTERESTED:"interested",APPLIED:"applied",PHONE_SCREEN:"phone_screen",INTERVIEW:"interview",OFFER:"offer",REJECTED:"rejected"},sg={[xs.INTERESTED]:"Interested",[xs.APPLIED]:"Applied",[xs.PHONE_SCREEN]:"Phone Screen",[xs.INTERVIEW]:"Interview",[xs.OFFER]:"Offer",[xs.REJECTED]:"Rejected"};function Bne(e){const t=e.toLowerCase().trim();return Object.values(xs).includes(t)?t:{interested:xs.INTERESTED,applied:xs.APPLIED,"phone screen":xs.PHONE_SCREEN,interview:xs.INTERVIEW,offer:xs.OFFER,rejected:xs.REJECTED}[t]||xs.INTERESTED}const JD=[{id:xs.INTERESTED,label:sg[xs.INTERESTED],color:"bg-blue-500"},{id:xs.APPLIED,label:sg[xs.APPLIED],color:"bg-yellow-500"},{id:xs.PHONE_SCREEN,label:sg[xs.PHONE_SCREEN],color:"bg-purple-500"},{id:xs.INTERVIEW,label:sg[xs.INTERVIEW],color:"bg-orange-500"},{id:xs.OFFER,label:sg[xs.OFFER],color:"bg-green-500"},{id:xs.REJECTED,label:sg[xs.REJECTED],color:"bg-red-500"}];function l$(e){return sg[e]||e}const f7e=r8e({title:lm().min(1,"Job title is required"),company:lm().min(1,"Company name is required"),location:lm().min(1,"Location is required"),salaryMin:n$().optional(),salaryMax:n$().optional(),jobPostingUrl:lm().url().optional().or(n8e("")),applicationDeadline:t8e().optional(),description:lm().max(2e3,"Description must be less than 2000 characters"),industry:lm().optional(),jobType:s8e(["full-time","part-time","contract","internship","remote"]).optional(),status:lm().optional(),notes:lm().optional()}),m7e=({initialData:e,onSuccess:t,onCancel:r})=>{const[s,a]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState(""),{register:u,handleSubmit:d,formState:{errors:h},setValue:m,watch:f}=_Le({resolver:ELe(f7e),defaultValues:{...e,status:(e==null?void 0:e.status)||xs.INTERESTED}}),x=f("applicationDeadline"),v=async()=>{var y,j,b;if(!l){xe.error("Please enter a job posting URL");return}o(!0);try{const _=await Hn.jobImport.fromUrl(l);if(_&&(_.job_title||_.company_name)){if(m("title",_.job_title||""),m("company",_.company_name||""),m("location",_.location||""),m("description",_.job_description||""),m("industry",_.industry||""),m("jobType",((y=_.job_type)==null?void 0:y.toLowerCase().replace(/-/g,"-"))||void 0),m("salaryMin",_.salary_min||void 0),m("salaryMax",_.salary_max||void 0),m("jobPostingUrl",l),_.application_deadline)try{m("applicationDeadline",new Date(_.application_deadline))}catch{console.warn("Invalid deadline format:",_.application_deadline)}const S=[];_.job_title||S.push("title"),_.company_name||S.push("company"),_.location||S.push("location"),S.length===0?xe.success("Job details imported successfully!"):xe.warning(`Imported! Please fill in: ${S.join(", ")}`),c("")}else xe.warning("Partial import - please review and fill in missing details")}catch(_){console.error("Import error:",_),(j=_.message)!=null&&j.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(b=_.message)!=null&&b.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to import job details. Please enter manually.")}finally{o(!1)}},g=async y=>{var j;a(!0);try{const b={job_title:y.title||"",company_name:y.company||"",location:y.location||"",job_description:y.description||"",salary_min:y.salaryMin,salary_max:y.salaryMax,job_url:y.jobPostingUrl,application_deadline:(j=y.applicationDeadline)==null?void 0:j.toISOString().split("T")[0],status:Bne(y.status||xs.INTERESTED),notes:y.notes},_=await Hn.jobs.create(b);if(!e&&y.company)try{await Hn.company.research(y.company,y.jobPostingUrl||"")}catch(S){console.error("Error triggering company research:",S)}xe.success(e?"Job updated successfully":"Job added successfully"),t==null||t()}catch(b){console.error("Job submission error:",b),xe.error((b==null?void 0:b.message)||"An error occurred while saving the job")}finally{a(!1)}};return n.jsxs("form",{onSubmit:d(g),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Import from URL (Optional)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{placeholder:"Paste job posting URL",value:l,onChange:y=>c(y.target.value),className:"flex-1"}),n.jsxs(ve,{type:"button",variant:"outline",onClick:v,disabled:i||!l,children:[i?n.jsx(en,{className:"h-4 w-4 animate-spin"}):n.jsx(gce,{className:"h-4 w-4"}),"Import"]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"title",children:"Job Title *"}),n.jsx(Je,{id:"title",...u("title")}),h.title&&n.jsx("p",{className:"text-sm text-destructive",children:h.title.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"company",children:"Company *"}),n.jsx(Je,{id:"company",...u("company")}),h.company&&n.jsx("p",{className:"text-sm text-destructive",children:h.company.message})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"location",children:"Location *"}),n.jsx(Je,{id:"location",...u("location")}),h.location&&n.jsx("p",{className:"text-sm text-destructive",children:h.location.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"industry",children:"Industry"}),n.jsx(Je,{id:"industry",...u("industry")})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"jobType",children:"Job Type"}),n.jsxs($t,{onValueChange:y=>m("jobType",y),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select job type"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"full-time",children:"Full-time"}),n.jsx(qe,{value:"part-time",children:"Part-time"}),n.jsx(qe,{value:"contract",children:"Contract"}),n.jsx(qe,{value:"internship",children:"Internship"}),n.jsx(qe,{value:"remote",children:"Remote"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"status",children:"Status"}),n.jsxs($t,{onValueChange:y=>m("status",y),defaultValue:"interested",children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select status"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"interested",children:"Interested"}),n.jsx(qe,{value:"applied",children:"Applied"}),n.jsx(qe,{value:"phone-screen",children:"Phone Screen"}),n.jsx(qe,{value:"interview",children:"Interview"}),n.jsx(qe,{value:"offer",children:"Offer"}),n.jsx(qe,{value:"rejected",children:"Rejected"})]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"salaryMin",children:"Minimum Salary"}),n.jsx(Je,{id:"salaryMin",type:"number",...u("salaryMin",{valueAsNumber:!0})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"salaryMax",children:"Maximum Salary"}),n.jsx(Je,{id:"salaryMax",type:"number",...u("salaryMax",{valueAsNumber:!0})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Application Deadline"}),n.jsxs(Dg,{children:[n.jsx(Mg,{asChild:!0,children:n.jsxs(ve,{variant:"outline",className:Pt("w-full justify-start text-left font-normal",!x&&"text-muted-foreground"),children:[n.jsx(mr,{className:"mr-2 h-4 w-4"}),x?Lt(x,"PPP"):n.jsx("span",{children:"Pick a date"})]})}),n.jsx(Vm,{className:"w-auto p-0",children:n.jsx(gf,{mode:"single",selected:x,onSelect:y=>m("applicationDeadline",y),initialFocus:!0})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"jobPostingUrl",children:"Job Posting URL"}),n.jsx(Je,{id:"jobPostingUrl",...u("jobPostingUrl")}),h.jobPostingUrl&&n.jsx("p",{className:"text-sm text-destructive",children:h.jobPostingUrl.message})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"description",children:"Job Description"}),n.jsx(dr,{id:"description",...u("description"),rows:6,placeholder:"Paste the job description here..."}),h.description&&n.jsx("p",{className:"text-sm text-destructive",children:h.description.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"notes",children:"Notes"}),n.jsx(dr,{id:"notes",...u("notes"),rows:3,placeholder:"Add any personal notes or observations..."})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[r&&n.jsx(ve,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),n.jsxs(ve,{type:"submit",disabled:s,children:[s?n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}):null,e?"Update Job":"Add Job"]})]})]})};var w3=["Enter"," "],p7e=["ArrowDown","PageUp","Home"],Une=["ArrowUp","PageDown","End"],g7e=[...p7e,...Une],v7e={ltr:[...w3,"ArrowRight"],rtl:[...w3,"ArrowLeft"]},x7e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},h1="Menu",[fb,y7e,w7e]=Ny(h1),[ov,$ne]=di(h1,[w7e,rp,X_]),n5=rp(),qne=X_(),[b7e,lv]=ov(h1),[j7e,f1]=ov(h1),zne=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=n5(t),[c,u]=N.useState(null),d=N.useRef(!1),h=Ma(i),m=nv(a);return N.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(A_,{...l,children:n.jsx(b7e,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:n.jsx(j7e,{scope:t,onClose:N.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:s})})})};zne.displayName=h1;var N7e="MenuAnchor",XD=N.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=n5(r);return n.jsx(Cb,{...a,...s,ref:t})});XD.displayName=N7e;var QD="MenuPortal",[_7e,Wne]=ov(QD,{forceMount:void 0}),Vne=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=lv(QD,t);return n.jsx(_7e,{scope:t,forceMount:r,children:n.jsx(yi,{present:r||i.open,children:n.jsx(_y,{asChild:!0,container:a,children:s})})})};Vne.displayName=QD;var nu="MenuContent",[S7e,ZD]=ov(nu),Hne=N.forwardRef((e,t)=>{const r=Wne(nu,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=lv(nu,e.__scopeMenu),o=f1(nu,e.__scopeMenu);return n.jsx(fb.Provider,{scope:e.__scopeMenu,children:n.jsx(yi,{present:s||i.open,children:n.jsx(fb.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(k7e,{...a,ref:t}):n.jsx(C7e,{...a,ref:t})})})})}),k7e=N.forwardRef((e,t)=>{const r=lv(nu,e.__scopeMenu),s=N.useRef(null),a=Tr(t,s);return N.useEffect(()=>{const i=s.current;if(i)return B_(i)},[]),n.jsx(e6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:St(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),C7e=N.forwardRef((e,t)=>{const r=lv(nu,e.__scopeMenu);return n.jsx(e6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),E7e=qm("MenuContent.ScrollLock"),e6=N.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:x,...v}=e,g=lv(nu,r),y=f1(nu,r),j=n5(r),b=qne(r),_=y7e(r),[S,T]=N.useState(null),A=N.useRef(null),L=Tr(t,A,g.onContentChange),E=N.useRef(0),q=N.useRef(""),M=N.useRef(0),C=N.useRef(null),I=N.useRef("right"),O=N.useRef(0),H=x?Tb:N.Fragment,re=x?{as:E7e,allowPinchZoom:!0}:void 0,U=ee=>{var W,V;const X=q.current+ee,B=_().filter(oe=>!oe.disabled),D=document.activeElement,Q=(W=B.find(oe=>oe.ref.current===D))==null?void 0:W.textValue,ie=B.map(oe=>oe.textValue),te=U7e(ie,X,Q),he=(V=B.find(oe=>oe.textValue===te))==null?void 0:V.ref.current;(function oe(me){q.current=me,window.clearTimeout(E.current),me!==""&&(E.current=window.setTimeout(()=>oe(""),1e3))})(X),he&&setTimeout(()=>he.focus())};N.useEffect(()=>()=>window.clearTimeout(E.current),[]),F_();const K=N.useCallback(ee=>{var B,D;return I.current===((B=C.current)==null?void 0:B.side)&&q7e(ee,(D=C.current)==null?void 0:D.area)},[]);return n.jsx(S7e,{scope:r,searchRef:q,onItemEnter:N.useCallback(ee=>{K(ee)&&ee.preventDefault()},[K]),onItemLeave:N.useCallback(ee=>{var X;K(ee)||((X=A.current)==null||X.focus(),T(null))},[K]),onTriggerLeave:N.useCallback(ee=>{K(ee)&&ee.preventDefault()},[K]),pointerGraceTimerRef:M,onPointerGraceIntentChange:N.useCallback(ee=>{C.current=ee},[]),children:n.jsx(H,{...re,children:n.jsx(Pb,{asChild:!0,trapped:a,onMountAutoFocus:St(i,ee=>{var X;ee.preventDefault(),(X=A.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(rv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:n.jsx(EY,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:S,onCurrentTabStopIdChange:T,onEntryFocus:St(c,ee=>{y.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(P_,{role:"menu","aria-orientation":"vertical","data-state":lse(g.open),"data-radix-menu-content":"",dir:y.dir,...j,...v,ref:L,style:{outline:"none",...v.style},onKeyDown:St(v.onKeyDown,ee=>{const B=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,D=ee.ctrlKey||ee.altKey||ee.metaKey,Q=ee.key.length===1;B&&(ee.key==="Tab"&&ee.preventDefault(),!D&&Q&&U(ee.key));const ie=A.current;if(ee.target!==ie||!g7e.includes(ee.key))return;ee.preventDefault();const he=_().filter(W=>!W.disabled).map(W=>W.ref.current);Une.includes(ee.key)&&he.reverse(),F7e(he)}),onBlur:St(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(E.current),q.current="")}),onPointerMove:St(e.onPointerMove,mb(ee=>{const X=ee.target,B=O.current!==ee.clientX;if(ee.currentTarget.contains(X)&&B){const D=ee.clientX>O.current?"right":"left";I.current=D,O.current=ee.clientX}}))})})})})})})});Hne.displayName=nu;var A7e="MenuGroup",t6=N.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(zt.div,{role:"group",...s,ref:t})});t6.displayName=A7e;var P7e="MenuLabel",Gne=N.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(zt.div,{...s,ref:t})});Gne.displayName=P7e;var o_="MenuItem",c$="menu.itemSelect",s5=N.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=N.useRef(null),o=f1(o_,e.__scopeMenu),l=ZD(o_,e.__scopeMenu),c=Tr(t,i),u=N.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(c$,{bubbles:!0,cancelable:!0});h.addEventListener(c$,f=>s==null?void 0:s(f),{once:!0}),J3(h,m),m.defaultPrevented?u.current=!1:o.onClose()}};return n.jsx(Kne,{...a,ref:c,disabled:r,onClick:St(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:St(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:St(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||w3.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});s5.displayName=o_;var Kne=N.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=ZD(o_,r),l=qne(r),c=N.useRef(null),u=Tr(t,c),[d,h]=N.useState(!1),[m,f]=N.useState("");return N.useEffect(()=>{const x=c.current;x&&f((x.textContent??"").trim())},[i.children]),n.jsx(fb.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(AY,{asChild:!0,...l,focusable:!s,children:n.jsx(zt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:St(e.onPointerMove,mb(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:St(e.onPointerLeave,mb(x=>o.onItemLeave(x))),onFocus:St(e.onFocus,()=>h(!0)),onBlur:St(e.onBlur,()=>h(!1))})})})}),T7e="MenuCheckboxItem",Yne=N.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(ese,{scope:e.__scopeMenu,checked:r,children:n.jsx(s5,{role:"menuitemcheckbox","aria-checked":l_(r)?"mixed":r,...a,ref:t,"data-state":n6(r),onSelect:St(a.onSelect,()=>s==null?void 0:s(l_(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Yne.displayName=T7e;var Jne="MenuRadioGroup",[O7e,I7e]=ov(Jne,{value:void 0,onValueChange:()=>{}}),Xne=N.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Ma(s);return n.jsx(O7e,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(t6,{...a,ref:t})})});Xne.displayName=Jne;var Qne="MenuRadioItem",Zne=N.forwardRef((e,t)=>{const{value:r,...s}=e,a=I7e(Qne,e.__scopeMenu),i=r===a.value;return n.jsx(ese,{scope:e.__scopeMenu,checked:i,children:n.jsx(s5,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":n6(i),onSelect:St(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});Zne.displayName=Qne;var r6="MenuItemIndicator",[ese,R7e]=ov(r6,{checked:!1}),tse=N.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=R7e(r6,r);return n.jsx(yi,{present:s||l_(i.checked)||i.checked===!0,children:n.jsx(zt.span,{...a,ref:t,"data-state":n6(i.checked)})})});tse.displayName=r6;var D7e="MenuSeparator",rse=N.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});rse.displayName=D7e;var M7e="MenuArrow",nse=N.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=n5(r);return n.jsx(T_,{...a,...s,ref:t})});nse.displayName=M7e;var L7e="MenuSub",[SQe,sse]=ov(L7e),gw="MenuSubTrigger",ase=N.forwardRef((e,t)=>{const r=lv(gw,e.__scopeMenu),s=f1(gw,e.__scopeMenu),a=sse(gw,e.__scopeMenu),i=ZD(gw,e.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>d,[d]),N.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(XD,{asChild:!0,...u,children:n.jsx(Kne,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":lse(r.open),...e,ref:v_(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:St(e.onPointerMove,mb(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:St(e.onPointerLeave,mb(h=>{var f,x;d();const m=(f=r.content)==null?void 0:f.getBoundingClientRect();if(m){const v=(x=r.content)==null?void 0:x.dataset.side,g=v==="right",y=g?-5:5,j=m[g?"left":"right"],b=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:j,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:j,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:St(e.onKeyDown,h=>{var f;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||v7e[s.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});ase.displayName=gw;var ise="MenuSubContent",ose=N.forwardRef((e,t)=>{const r=Wne(nu,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=lv(nu,e.__scopeMenu),o=f1(nu,e.__scopeMenu),l=sse(ise,e.__scopeMenu),c=N.useRef(null),u=Tr(t,c);return n.jsx(fb.Provider,{scope:e.__scopeMenu,children:n.jsx(yi,{present:s||i.open,children:n.jsx(fb.Slot,{scope:e.__scopeMenu,children:n.jsx(e6,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:St(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:St(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:St(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),m=x7e[o.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});ose.displayName=ise;function lse(e){return e?"open":"closed"}function l_(e){return e==="indeterminate"}function n6(e){return l_(e)?"indeterminate":e?"checked":"unchecked"}function F7e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function B7e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function U7e(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=B7e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function $7e(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,m=c.y;d>s!=m>s&&r<(h-u)*(s-d)/(m-d)+u&&(a=!a)}return a}function q7e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $7e(r,t)}function mb(e){return t=>t.pointerType==="mouse"?e(t):void 0}var z7e=zne,W7e=XD,V7e=Vne,H7e=Hne,G7e=t6,K7e=Gne,Y7e=s5,J7e=Yne,X7e=Xne,Q7e=Zne,Z7e=tse,eBe=rse,tBe=nse,rBe=ase,nBe=ose,a5="DropdownMenu",[sBe]=di(a5,[$ne]),nl=$ne(),[aBe,cse]=sBe(a5),use=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=nl(t),u=N.useRef(null),[d,h]=Xo({prop:a,defaultProp:i??!1,onChange:o,caller:a5});return n.jsx(aBe,{scope:t,triggerId:Pl(),triggerRef:u,contentId:Pl(),open:d,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(z7e,{...c,open:d,onOpenChange:h,dir:s,modal:l,children:r})})};use.displayName=a5;var dse="DropdownMenuTrigger",hse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=cse(dse,r),o=nl(r);return n.jsx(W7e,{asChild:!0,...o,children:n.jsx(zt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:v_(t,i.triggerRef),onPointerDown:St(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:St(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});hse.displayName=dse;var iBe="DropdownMenuPortal",fse=e=>{const{__scopeDropdownMenu:t,...r}=e,s=nl(t);return n.jsx(V7e,{...s,...r})};fse.displayName=iBe;var mse="DropdownMenuContent",pse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=cse(mse,r),i=nl(r),o=N.useRef(!1);return n.jsx(H7e,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:St(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:St(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pse.displayName=mse;var oBe="DropdownMenuGroup",lBe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(G7e,{...a,...s,ref:t})});lBe.displayName=oBe;var cBe="DropdownMenuLabel",gse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(K7e,{...a,...s,ref:t})});gse.displayName=cBe;var uBe="DropdownMenuItem",vse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(Y7e,{...a,...s,ref:t})});vse.displayName=uBe;var dBe="DropdownMenuCheckboxItem",xse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(J7e,{...a,...s,ref:t})});xse.displayName=dBe;var hBe="DropdownMenuRadioGroup",fBe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(X7e,{...a,...s,ref:t})});fBe.displayName=hBe;var mBe="DropdownMenuRadioItem",yse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(Q7e,{...a,...s,ref:t})});yse.displayName=mBe;var pBe="DropdownMenuItemIndicator",wse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(Z7e,{...a,...s,ref:t})});wse.displayName=pBe;var gBe="DropdownMenuSeparator",bse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(eBe,{...a,...s,ref:t})});bse.displayName=gBe;var vBe="DropdownMenuArrow",xBe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(tBe,{...a,...s,ref:t})});xBe.displayName=vBe;var yBe="DropdownMenuSubTrigger",jse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(rBe,{...a,...s,ref:t})});jse.displayName=yBe;var wBe="DropdownMenuSubContent",Nse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=nl(r);return n.jsx(nBe,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nse.displayName=wBe;var bBe=use,jBe=hse,NBe=fse,_se=pse,Sse=gse,kse=vse,Cse=xse,Ese=yse,Ase=wse,Pse=bse,Tse=jse,Ose=Nse;const s6=bBe,a6=jBe,_Be=N.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(Tse,{ref:a,className:Pt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(rO,{className:"ml-auto h-4 w-4"})]}));_Be.displayName=Tse.displayName;const SBe=N.forwardRef(({className:e,...t},r)=>n.jsx(Ose,{ref:r,className:Pt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));SBe.displayName=Ose.displayName;const i5=N.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(NBe,{children:n.jsx(_se,{ref:s,sideOffset:t,className:Pt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));i5.displayName=_se.displayName;const td=N.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(kse,{ref:s,className:Pt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));td.displayName=kse.displayName;const kBe=N.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(Cse,{ref:a,className:Pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Ase,{children:n.jsx(Vd,{className:"h-4 w-4"})})}),t]}));kBe.displayName=Cse.displayName;const CBe=N.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Ese,{ref:s,className:Pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Ase,{children:n.jsx(nO,{className:"h-2 w-2 fill-current"})})}),t]}));CBe.displayName=Ese.displayName;const EBe=N.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Sse,{ref:s,className:Pt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));EBe.displayName=Sse.displayName;const ABe=N.forwardRef(({className:e,...t},r)=>n.jsx(Pse,{ref:r,className:Pt("-mx-1 my-1 h-px bg-muted",e),...t}));ABe.displayName=Pse.displayName;function PBe(e){if(!e)return null;const t=new Date(e),r=new Date;r.setHours(0,0,0,0),t.setHours(0,0,0,0);const s=Math.ceil((t.getTime()-r.getTime())/(1e3*60*60*24));let a,i,o,l;return s<0?(a="overdue",i=`${Math.abs(s)} days overdue`,o="text-destructive",l="bg-destructive/10 text-destructive border-destructive"):s===0?(a="urgent",i="Due today",o="text-destructive",l="bg-destructive/10 text-destructive border-destructive"):s<=3?(a="urgent",i=`${s} days left`,o="text-orange-600",l="bg-orange-100 text-orange-700 border-orange-300"):s<=7?(a="warning",i=`${s} days left`,o="text-yellow-600",l="bg-yellow-100 text-yellow-700 border-yellow-300"):(a="safe",i=`${s} days left`,o="text-green-600",l="bg-green-100 text-green-700 border-green-300"),{status:a,daysUntil:s,label:i,color:o,badgeClass:l}}const u$={interested:"bg-muted text-muted-foreground",applied:"bg-primary/10 text-primary",phone_screen:"bg-accent/10 text-accent",interview:"bg-warning/10 text-warning",offer:"bg-success/10 text-success",rejected:"bg-destructive/10 text-destructive",Interested:"bg-muted text-muted-foreground",Applied:"bg-primary/10 text-primary","Phone Screen":"bg-accent/10 text-accent",Interview:"bg-warning/10 text-warning",Offer:"bg-success/10 text-success",Rejected:"bg-destructive/10 text-destructive"},Ise=({job:e,onView:t,onEdit:r,onDelete:s,onArchive:a,onViewOffers:i,onStatusChange:o,className:l,compact:c})=>{var m,f,x,v,g;const u=e.status_updated_at||e.created_at,d=u?kg(new Date,new Date(u)):0,h=PBe(e.application_deadline||e.applicationDeadline);return n.jsxs(ye,{className:Pt("hover-scale cursor-pointer",l),onClick:()=>t==null?void 0:t(e),children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-display font-semibold text-lg truncate",children:e.job_title||e.title}),n.jsx("p",{className:"text-muted-foreground truncate",children:e.company_name||(typeof e.company=="string"?e.company:(m=e.company)==null?void 0:m.name)})]}),n.jsxs(s6,{children:[n.jsx(a6,{asChild:!0,onClick:y=>y.stopPropagation(),children:n.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(aO,{className:"h-4 w-4"})})}),n.jsxs(i5,{align:"end",className:"bg-popover border border-border z-50",children:[r&&n.jsx(td,{onClick:y=>{y.stopPropagation(),r(e)},children:"Edit"}),i&&n.jsx(td,{onClick:y=>{y.stopPropagation(),i(e)},children:"View Offers & Negotiation"}),a&&n.jsx(td,{onClick:y=>{y.stopPropagation(),a(e)},children:"Archive"}),s&&n.jsx(td,{onClick:y=>{y.stopPropagation(),s(e)},className:"text-destructive",children:"Delete"})]})]})]})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx($e,{className:Pt("font-medium",u$[e.status]||u$[l$(e.status)]),children:l$(e.status)}),h&&h.status==="urgent"&&n.jsx(Nn,{className:"h-4 w-4 text-destructive"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(Ao,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:e.location})]}),(e.salary_min||e.salary_max||e.salaryMin||e.salaryMax)&&n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(mc,{className:"h-4 w-4"}),n.jsx("span",{children:(e.salary_min||e.salaryMin)&&(e.salary_max||e.salaryMax)?`$${(f=e.salary_min||e.salaryMin)==null?void 0:f.toLocaleString()} - $${(x=e.salary_max||e.salaryMax)==null?void 0:x.toLocaleString()}`:e.salary_min||e.salaryMin?`$${(v=e.salary_min||e.salaryMin)==null?void 0:v.toLocaleString()}+`:`Up to $${(g=e.salary_max||e.salaryMax)==null?void 0:g.toLocaleString()}`})]}),h&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs($e,{variant:"outline",className:Pt("text-xs",h.badgeClass),children:[n.jsx(mr,{className:"h-3 w-3 mr-1"}),h.label]})}),e.jobUrl&&n.jsxs(ve,{variant:"link",size:"sm",className:"h-auto p-0 text-primary",onClick:y=>{y.stopPropagation(),window.open(e.jobUrl,"_blank")},children:[n.jsx(El,{className:"h-3 w-3 mr-1"}),"View Posting"]})]}),n.jsxs("div",{className:"pt-2 border-t border-border text-xs text-muted-foreground",children:[d," ",d===1?"day":"days"," in current stage"]})]})]})},TBe=({jobId:e})=>{const[t,r]=N.useState(null),[s,a]=N.useState(!1),i=async()=>{var c,u;a(!0);try{const{data:d,error:h}=await se.functions.invoke("ai-job-match-score",{body:{jobId:e}});if(h)throw h;r(d),xe.success("Match score calculated")}catch(d){console.error("Match calculation error:",d),(c=d.message)!=null&&c.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(u=d.message)!=null&&u.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to calculate match score")}finally{a(!1)}},o=c=>c>=80?"text-green-600":c>=60?"text-yellow-600":"text-red-600",l=c=>c>=85?"Excellent Match":c>=70?"Good Match":c>=50?"Fair Match":"Weak Match";return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5"}),"Job Match Analysis"]}),n.jsxs(ve,{onClick:i,disabled:s,size:"sm",children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),s?"Analyzing...":t?"Recalculate":"Calculate Match"]})]})}),n.jsx(_e,{className:"space-y-6",children:t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Overall Match Score"}),n.jsxs("span",{className:`text-3xl font-bold ${o(t.overallScore)}`,children:[t.overallScore,"%"]})]}),n.jsx(La,{value:t.overallScore,className:"h-3"}),n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:l(t.overallScore)})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium text-center",children:"Skills"}),n.jsx(La,{value:t.breakdown.skills,className:"h-2"}),n.jsxs("div",{className:`text-center font-bold ${o(t.breakdown.skills)}`,children:[t.breakdown.skills,"%"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium text-center",children:"Experience"}),n.jsx(La,{value:t.breakdown.experience,className:"h-2"}),n.jsxs("div",{className:`text-center font-bold ${o(t.breakdown.experience)}`,children:[t.breakdown.experience,"%"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium text-center",children:"Education"}),n.jsx(La,{value:t.breakdown.education,className:"h-2"}),n.jsxs("div",{className:`text-center font-bold ${o(t.breakdown.education)}`,children:[t.breakdown.education,"%"]})]})]}),t.strengths.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4 text-green-600"}),"Your Strengths"]}),n.jsx("div",{className:"space-y-1",children:t.strengths.map((c,u)=>n.jsxs("div",{className:"text-sm flex items-start gap-2",children:[n.jsx("span",{className:"text-green-600",children:""}),n.jsx("span",{children:c})]},u))})]}),t.gaps.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4 text-yellow-600"}),"Areas to Address"]}),n.jsx("div",{className:"space-y-1",children:t.gaps.map((c,u)=>n.jsxs("div",{className:"text-sm flex items-start gap-2",children:[n.jsx("span",{className:"text-yellow-600",children:""}),n.jsx("span",{children:c})]},u))})]}),t.recommendations.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(Vx,{className:"h-4 w-4 text-blue-600"}),"Recommendations"]}),n.jsx("div",{className:"space-y-2",children:t.recommendations.map((c,u)=>n.jsxs($e,{variant:"secondary",className:"block w-full text-left py-2",children:[u+1,". ",c]},u))})]})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(xn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:'Click "Calculate Match" to analyze how well you fit this role'})]})})]})},OBe=({jobId:e})=>{const[t,r]=N.useState(null),[s,a]=N.useState(!1),i=async()=>{var l,c;a(!0);try{const{data:u,error:d}=await se.functions.invoke("ai-skills-gap",{body:{jobId:e}});if(d)throw d;r(u),xe.success("Skills gap analysis complete")}catch(u){console.error("Skills gap analysis error:",u),(l=u.message)!=null&&l.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(c=u.message)!=null&&c.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to analyze skills gap")}finally{a(!1)}},o=l=>{switch(l.toLowerCase()){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}};return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Skills Gap Analysis"]}),n.jsxs(ve,{onClick:i,disabled:s,size:"sm",children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),s?"Analyzing...":t?"Refresh Analysis":"Analyze Gaps"]})]})}),n.jsx(_e,{className:"space-y-6",children:t?n.jsxs(n.Fragment,{children:[t.missingSkills.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Vx,{className:"h-4 w-4"}),"Missing Critical Skills"]}),n.jsx("div",{className:"space-y-2",children:t.missingSkills.map((l,c)=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:l.skill}),n.jsxs($e,{variant:o(l.priority),children:[l.priority," priority"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:l.reason})]},c))})]}),t.skillsToImprove.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),"Skills to Improve"]}),n.jsx("div",{className:"space-y-2",children:t.skillsToImprove.map((l,c)=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:l.skill}),n.jsx($e,{variant:o(l.priority),children:l.priority})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($e,{variant:"outline",children:l.current}),n.jsx("span",{children:""}),n.jsx($e,{variant:"secondary",children:l.target})]})]},c))})]}),t.learningPath.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Gn,{className:"h-4 w-4"}),"Recommended Learning Path"]}),n.jsx("div",{className:"space-y-3",children:t.learningPath.map((l,c)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-semibold text-sm",children:l.step}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("div",{className:"font-medium",children:l.skill}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:l.resource}),n.jsxs($e,{variant:"outline",className:"mt-2",children:[n.jsx(Gn,{className:"h-3 w-3 mr-1"}),l.duration]})]})]},c))})]}),t.alternativeSkills.length>0&&n.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold mb-2 text-sm",children:" Alternative Skills"}),n.jsx("div",{className:"space-y-2",children:t.alternativeSkills.map((l,c)=>n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:l.alternative})," instead of"," ",n.jsx("span",{className:"font-medium",children:l.instead}),n.jsx("p",{className:"text-muted-foreground mt-1",children:l.reasoning})]},c))})]})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Vx,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:'Click "Analyze Gaps" to identify skills you need to develop'})]})})]})},IBe=({jobId:e})=>{const[t,r]=N.useState(null),[s,a]=N.useState(!1),i=async()=>{var l,c;a(!0);try{const{data:u,error:d}=await se.functions.invoke("ai-salary-research",{body:{jobId:e}});if(d)throw d;r(u),xe.success("Salary research complete")}catch(u){console.error("Salary research error:",u),(l=u.message)!=null&&l.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(c=u.message)!=null&&c.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to research salary data")}finally{a(!1)}},o=(l,c="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:c,maximumFractionDigits:0}).format(l);return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(mc,{className:"h-5 w-5"}),"Salary Research & Benchmarking"]}),n.jsxs(ve,{onClick:i,disabled:s,size:"sm",children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),s?"Researching...":t?"Refresh":"Research Salary"]})]})}),n.jsx(_e,{className:"space-y-6",children:t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),"Market Salary Range"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Minimum"}),n.jsx("div",{className:"text-2xl font-bold",children:o(t.marketRange.min,t.marketRange.currency)})]}),n.jsxs("div",{className:"p-4 border rounded-lg bg-primary/10",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Median"}),n.jsx("div",{className:"text-2xl font-bold text-primary",children:o(t.marketRange.median,t.marketRange.currency)})]}),n.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Maximum"}),n.jsx("div",{className:"text-2xl font-bold",children:o(t.marketRange.max,t.marketRange.currency)})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Adjusted For Your Experience"}),n.jsxs("div",{className:"p-4 border rounded-lg bg-accent/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Recommended Target"}),n.jsx($e,{variant:"secondary",className:"text-lg px-3 py-1",children:o(t.adjustedForExperience.recommended)})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Range: ",o(t.adjustedForExperience.range.min)," - ",o(t.adjustedForExperience.range.max)]})]})]}),t.locationAdjustment&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Location Adjustment"}),n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsx("div",{className:"flex items-center gap-2 mb-1",children:n.jsxs($e,{variant:"outline",children:[(t.locationAdjustment.factor*100).toFixed(0),"% factor"]})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.locationAdjustment.notes})]})]}),t.totalCompensation&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Total Compensation Package"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center p-2 border-b",children:[n.jsx("span",{className:"text-sm",children:"Base Salary"}),n.jsx("span",{className:"font-semibold",children:o(t.totalCompensation.baseSalary)})]}),n.jsxs("div",{className:"flex justify-between items-center p-2 border-b",children:[n.jsx("span",{className:"text-sm",children:"Annual Bonus"}),n.jsx("span",{className:"font-semibold",children:o(t.totalCompensation.bonus)})]}),n.jsxs("div",{className:"flex justify-between items-center p-2 border-b",children:[n.jsx("span",{className:"text-sm",children:"Equity Value"}),n.jsx("span",{className:"font-semibold",children:o(t.totalCompensation.equity)})]}),n.jsxs("div",{className:"flex justify-between items-center p-2 border-b",children:[n.jsx("span",{className:"text-sm",children:"Benefits"}),n.jsx("span",{className:"font-semibold",children:o(t.totalCompensation.benefits)})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-primary/10 rounded-lg",children:[n.jsx("span",{className:"font-semibold",children:"Total Compensation"}),n.jsx("span",{className:"text-xl font-bold text-primary",children:o(t.totalCompensation.total)})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(j_,{className:"h-4 w-4"}),"Negotiation Strategy"]}),n.jsx("ul",{className:"space-y-2",children:t.negotiationStrategy.map((l,c)=>n.jsxs("li",{className:"flex gap-2",children:[n.jsx("span",{className:"text-primary font-semibold",children:""}),n.jsx("span",{className:"text-sm",children:l})]},c))})]}),t.comparisonWithPosted&&n.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Comparison with Posted Range"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.comparisonWithPosted})]}),t.industryBenchmarks&&t.industryBenchmarks.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"Industry Benchmarks"}),n.jsx("ul",{className:"space-y-1",children:t.industryBenchmarks.map((l,c)=>n.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx("span",{className:"text-primary",children:""}),l]},c))})]})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(mc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:'Click "Research Salary" to get market data and negotiation insights'})]})})]})};var o5="Collapsible",[RBe,Rse]=di(o5),[DBe,i6]=RBe(o5),Dse=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=Xo({prop:s,defaultProp:a??!1,onChange:o,caller:o5});return n.jsx(DBe,{scope:r,disabled:i,contentId:Pl(),open:c,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),children:n.jsx(zt.div,{"data-state":u6(c),"data-disabled":i?"":void 0,...l,ref:t})})});Dse.displayName=o5;var Mse="CollapsibleTrigger",o6=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=i6(Mse,r);return n.jsx(zt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":u6(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:St(e.onClick,a.onOpenToggle)})});o6.displayName=Mse;var l6="CollapsibleContent",c6=N.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=i6(l6,e.__scopeCollapsible);return n.jsx(yi,{present:r||a.open,children:({present:i})=>n.jsx(MBe,{...s,ref:t,present:i})})});c6.displayName=l6;var MBe=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=i6(l6,r),[l,c]=N.useState(s),u=N.useRef(null),d=Tr(t,u),h=N.useRef(0),m=h.current,f=N.useRef(0),x=f.current,v=o.open||l,g=N.useRef(v),y=N.useRef(void 0);return N.useEffect(()=>{const j=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(j)},[]),Ba(()=>{const j=u.current;if(j){y.current=y.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const b=j.getBoundingClientRect();h.current=b.height,f.current=b.width,g.current||(j.style.transitionDuration=y.current.transitionDuration,j.style.animationName=y.current.animationName),c(s)}},[o.open,s]),n.jsx(zt.div,{"data-state":u6(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:v&&a})});function u6(e){return e?"open":"closed"}var Lse=Dse,LBe=o6,FBe=c6,ud="Accordion",BBe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[d6,UBe,$Be]=Ny(ud),[l5]=di(ud,[$Be,Rse]),h6=Rse(),Fse=at.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(d6.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(VBe,{...i,ref:t}):n.jsx(WBe,{...a,ref:t})})});Fse.displayName=ud;var[Bse,qBe]=l5(ud),[Use,zBe]=l5(ud,{collapsible:!1}),WBe=at.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Xo({prop:r,defaultProp:s??"",onChange:a,caller:ud});return n.jsx(Bse,{scope:e.__scopeAccordion,value:at.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:at.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(Use,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx($se,{...o,ref:t})})})}),VBe=at.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o,l]=Xo({prop:r,defaultProp:s??[],onChange:a,caller:ud}),c=at.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=at.useCallback(d=>l((h=[])=>h.filter(m=>m!==d)),[l]);return n.jsx(Bse,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:n.jsx(Use,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx($se,{...i,ref:t})})})}),[HBe,c5]=l5(ud),$se=at.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=at.useRef(null),c=Tr(l,t),u=UBe(r),h=nv(a)==="ltr",m=St(e.onKeyDown,f=>{var L;if(!BBe.includes(f.key))return;const x=f.target,v=u().filter(E=>{var q;return!((q=E.ref.current)!=null&&q.disabled)}),g=v.findIndex(E=>E.ref.current===x),y=v.length;if(g===-1)return;f.preventDefault();let j=g;const b=0,_=y-1,S=()=>{j=g+1,j>_&&(j=b)},T=()=>{j=g-1,j<b&&(j=_)};switch(f.key){case"Home":j=b;break;case"End":j=_;break;case"ArrowRight":i==="horizontal"&&(h?S():T());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(h?T():S());break;case"ArrowUp":i==="vertical"&&T();break}const A=j%y;(L=v[A].ref.current)==null||L.focus()});return n.jsx(HBe,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(d6.Slot,{scope:r,children:n.jsx(zt.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),c_="AccordionItem",[GBe,f6]=l5(c_),qse=at.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=c5(c_,r),o=qBe(c_,r),l=h6(r),c=Pl(),u=s&&o.value.includes(s)||!1,d=i.disabled||e.disabled;return n.jsx(GBe,{scope:r,open:u,disabled:d,triggerId:c,children:n.jsx(Lse,{"data-orientation":i.orientation,"data-state":Kse(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});qse.displayName=c_;var zse="AccordionHeader",Wse=at.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=c5(ud,r),i=f6(zse,r);return n.jsx(zt.h3,{"data-orientation":a.orientation,"data-state":Kse(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});Wse.displayName=zse;var b3="AccordionTrigger",Vse=at.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=c5(ud,r),i=f6(b3,r),o=zBe(b3,r),l=h6(r);return n.jsx(d6.ItemSlot,{scope:r,children:n.jsx(LBe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});Vse.displayName=b3;var Hse="AccordionContent",Gse=at.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=c5(ud,r),i=f6(Hse,r),o=h6(r);return n.jsx(FBe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Gse.displayName=Hse;function Kse(e){return e?"open":"closed"}var KBe=Fse,YBe=qse,JBe=Wse,Yse=Vse,Jse=Gse;const XBe=KBe,Xse=N.forwardRef(({className:e,...t},r)=>n.jsx(YBe,{ref:r,className:Pt("border-b",e),...t}));Xse.displayName="AccordionItem";const Qse=N.forwardRef(({className:e,children:t,...r},s)=>n.jsx(JBe,{className:"flex",children:n.jsxs(Yse,{ref:s,className:Pt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(w_,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Qse.displayName=Yse.displayName;const Zse=N.forwardRef(({className:e,children:t,...r},s)=>n.jsx(Jse,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:Pt("pb-4 pt-0",e),children:t})}));Zse.displayName=Jse.displayName;const QBe=({jobId:e})=>{const[t,r]=N.useState(null),[s,a]=N.useState(!1),i=async()=>{var l,c;a(!0);try{const{data:u,error:d}=await se.functions.invoke("ai-interview-prep",{body:{jobId:e}});if(d)throw d;r(u),xe.success("Interview insights generated")}catch(u){console.error("Interview prep error:",u),(l=u.message)!=null&&l.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(c=u.message)!=null&&c.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to generate interview insights")}finally{a(!1)}},o=l=>({General:"default",Technical:"secondary",Behavioral:"outline",Situational:"destructive"})[l]||"default";return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-5 w-5"}),"Interview Insights & Preparation"]}),n.jsxs(ve,{onClick:i,disabled:s,size:"sm",children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),s?"Generating...":t?"Refresh":"Get Insights"]})]})}),n.jsx(_e,{className:"space-y-6",children:t?n.jsxs(n.Fragment,{children:[t.interviewProcess.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Gn,{className:"h-4 w-4"}),"Interview Process"]}),n.jsx("div",{className:"space-y-3",children:t.interviewProcess.map((l,c)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-semibold text-sm",children:c+1}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium",children:l.stage}),n.jsx($e,{variant:"outline",className:"text-xs",children:l.duration})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:l.focus})]})]},c))})]}),t.interviewFormat&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Interview Format"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Style:"}),n.jsx("span",{className:"ml-2 font-medium",children:t.interviewFormat.style})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Rounds:"}),n.jsx("span",{className:"ml-2 font-medium",children:t.interviewFormat.numberOfRounds})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Interviewers:"}),n.jsx("span",{className:"ml-2 font-medium",children:t.interviewFormat.interviewers})]})]})]}),t.commonQuestions.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ace,{className:"h-4 w-4"}),"Common Interview Questions"]}),n.jsx(XBe,{type:"single",collapsible:!0,className:"w-full",children:t.commonQuestions.map((l,c)=>n.jsxs(Xse,{value:`question-${c}`,children:[n.jsx(Qse,{className:"text-left",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:o(l.category),className:"text-xs",children:l.category}),n.jsx("span",{className:"text-sm",children:l.question})]})}),n.jsx(Zse,{children:n.jsxs("div",{className:"pt-2 pl-4 text-sm text-muted-foreground",children:[n.jsx("p",{className:"font-medium text-foreground mb-1",children:" Tips:"}),n.jsx("p",{children:l.tips})]})})]},c))})]}),t.preparationTips.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Preparation Recommendations"]}),n.jsx("ul",{className:"space-y-2",children:t.preparationTips.map((l,c)=>n.jsxs("li",{className:"flex gap-2 items-start",children:[n.jsx("span",{className:"text-primary font-semibold mt-1",children:""}),n.jsx("span",{className:"text-sm",children:l})]},c))})]}),t.timeline&&n.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Expected Timeline"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Application to First Interview:"}),n.jsx("span",{className:"font-medium",children:t.timeline.applicationToFirstInterview})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Process Duration:"}),n.jsx("span",{className:"font-medium",children:t.timeline.totalProcessDuration})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Decision Time:"}),n.jsx("span",{className:"font-medium",children:t.timeline.decisionTime})]})]})]}),t.successStrategies&&t.successStrategies.length>0&&n.jsxs("div",{className:"bg-accent/20 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:" Success Strategies"}),n.jsx("ul",{className:"space-y-1",children:t.successStrategies.map((l,c)=>n.jsxs("li",{className:"text-sm flex items-center gap-2",children:[n.jsx("span",{className:"text-primary",children:""}),l]},c))})]}),t.questionsToAsk&&t.questionsToAsk.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"Questions You Should Ask"}),n.jsx("ul",{className:"space-y-2",children:t.questionsToAsk.map((l,c)=>n.jsxs("li",{className:"text-sm flex gap-2",children:[n.jsx("span",{className:"text-primary font-semibold",children:"Q:"}),n.jsx("span",{className:"text-muted-foreground",children:l})]},c))})]})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qi,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:'Click "Get Insights" to receive interview preparation guidance'})]})})]})},ZBe=({jobId:e})=>{const[t,r]=N.useState(null),[s,a]=N.useState(!1),i=async()=>{var o,l;a(!0);try{const{data:c,error:u}=await se.functions.invoke("ai-company-research",{body:{jobId:e}});if(u)throw u;r(c),xe.success("Company research completed")}catch(c){console.error("Company research error:",c),(o=c.message)!=null&&o.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(l=c.message)!=null&&l.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to research company")}finally{a(!1)}};return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(to,{className:"h-5 w-5"}),"Company Research"]}),n.jsxs(ve,{onClick:i,disabled:s,size:"sm",children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),s?"Researching...":t?"Refresh":"Research Company"]})]})}),n.jsx(_e,{className:"space-y-6",children:t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Company Overview"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(to,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:t.companyInfo.name})]}),t.companyInfo.size&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[t.companyInfo.size," employees"]})]}),t.companyInfo.headquarters&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:t.companyInfo.headquarters})]}),t.companyInfo.website&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ky,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:t.companyInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:t.companyInfo.website})]}),t.companyInfo.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t.companyInfo.description})]})]}),(t.mission||t.values)&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[t.mission&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Mission"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.mission})]}),t.values&&t.values.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Core Values"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.values.map((o,l)=>n.jsx($e,{variant:"secondary",children:o},l))})]})]}),t.culture&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Company Culture"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.culture})]}),t.recentNews&&t.recentNews.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),"Recent News"]}),n.jsx("div",{className:"space-y-3",children:t.recentNews.map((o,l)=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsx("div",{className:"font-medium text-sm mb-1",children:o.title}),n.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:o.date}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.summary})]},l))})]}),t.leadership&&t.leadership.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Leadership Team"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.leadership.map((o,l)=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsx("div",{className:"font-medium text-sm",children:o.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:o.title})]},l))})]}),t.products&&t.products.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Products & Services"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.products.map((o,l)=>n.jsx($e,{variant:"outline",children:o},l))})]}),t.competitiveLandscape&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Competitive Landscape"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.competitiveLandscape})]}),t.socialMedia&&n.jsxs("div",{className:"flex gap-3",children:[t.socialMedia.linkedin&&n.jsx("a",{href:t.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"LinkedIn "}),t.socialMedia.twitter&&n.jsx("a",{href:t.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Twitter "})]})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(to,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:'Click "Research Company" to gather comprehensive information'})]})})]})},e9e=({company:e})=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(to,{className:"h-5 w-5"}),"Company Information"]})}),n.jsxs(_e,{className:"space-y-4",children:[e.logoUrl&&n.jsx("img",{src:e.logoUrl,alt:`${e.name} logo`,className:"h-16 w-16 object-contain"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:e.name}),e.industry&&n.jsx($e,{variant:"secondary",className:"mt-1",children:e.industry})]}),n.jsxs("div",{className:"space-y-2",children:[e.location&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:e.location})]}),e.size&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[e.size," employees"]})]}),e.website&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ky,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:e.website})]})]}),e.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"About"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),e.glassdoorRating&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-1",children:"Glassdoor Rating"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl font-bold",children:e.glassdoorRating}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 5.0"})]})]})]})]}),t9e=({companyName:e,news:t})=>{const r=s=>{switch(s==null?void 0:s.toLowerCase()){case"funding":return"bg-green-500/10 text-green-700 dark:text-green-300";case"product":return"bg-blue-500/10 text-blue-700 dark:text-blue-300";case"hiring":return"bg-purple-500/10 text-purple-700 dark:text-purple-300";case"expansion":return"bg-orange-500/10 text-orange-700 dark:text-orange-300";default:return"bg-muted text-muted-foreground"}};return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(eH,{className:"h-5 w-5"}),"Recent News - ",e]})}),n.jsx(_e,{children:t.length>0?n.jsx("div",{className:"space-y-4",children:t.map((s,a)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm flex-1",children:s.title}),s.category&&n.jsx($e,{variant:"secondary",className:r(s.category),children:s.category})]}),s.summary&&n.jsx("p",{className:"text-sm text-muted-foreground",children:s.summary}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),n.jsx("span",{children:new Date(s.date).toLocaleDateString()})]}),n.jsx("span",{children:s.source})]}),n.jsxs(ve,{variant:"ghost",size:"sm",onClick:()=>window.open(s.url,"_blank"),className:"h-7 text-xs",children:[n.jsx(El,{className:"h-3 w-3 mr-1"}),"Read More"]})]})]},a))}):n.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["No recent news available for ",e]})})]})},r9e=({jobId:e,jobTitle:t,companyName:r,onSchedule:s})=>{const[a,i]=N.useState("video"),[o,l]=N.useState(),[c,u]=N.useState(""),[d,h]=N.useState("60"),[m,f]=N.useState(""),[x,v]=N.useState(""),[g,y]=N.useState(""),[j,b]=N.useState(""),[_,S]=N.useState(!1),T=async()=>{if(!o||!c){xe.error("Please select date and time");return}if(a==="video"&&!x&&!m){xe.error("Please provide a video link or meeting location");return}if(a==="onsite"&&!m){xe.error("Please provide the interview location");return}try{S(!0),await s({type:a,date:o,time:c,duration:parseInt(d),location:a==="onsite"?m:void 0,videoLink:a==="video"?x:void 0,interviewers:g,notes:j}),xe.success("Interview scheduled successfully"),l(void 0),u(""),f(""),v(""),y(""),b("")}catch{xe.error("Failed to schedule interview")}finally{S(!1)}};return n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Schedule Interview"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," at ",r]})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{children:"Interview Type"}),n.jsxs($t,{value:a,onValueChange:A=>i(A),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"phone",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ep,{className:"h-4 w-4"}),"Phone Screen"]})}),n.jsx(qe,{value:"video",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(au,{className:"h-4 w-4"}),"Video Call"]})}),n.jsx(qe,{value:"onsite",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ow,{className:"h-4 w-4"}),"On-Site"]})}),n.jsx(qe,{value:"remote",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(au,{className:"h-4 w-4"}),"Remote"]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{children:"Date"}),n.jsxs(Dg,{children:[n.jsx(Mg,{asChild:!0,children:n.jsxs(ve,{variant:"outline",className:"w-full justify-start",children:[n.jsx(mr,{className:"mr-2 h-4 w-4"}),o?Lt(o,"PPP"):"Pick a date"]})}),n.jsx(Vm,{className:"w-auto p-0",children:n.jsx(gf,{mode:"single",selected:o,onSelect:l,disabled:A=>A<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0,className:Pt("p-3 pointer-events-auto")})})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{children:"Time"}),n.jsx(Je,{type:"time",value:c,onChange:A=>u(A.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{children:"Duration (minutes)"}),n.jsxs($t,{value:d,onValueChange:h,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"30",children:"30 minutes"}),n.jsx(qe,{value:"45",children:"45 minutes"}),n.jsx(qe,{value:"60",children:"1 hour"}),n.jsx(qe,{value:"90",children:"1.5 hours"}),n.jsx(qe,{value:"120",children:"2 hours"})]})]})]}),a==="video"&&n.jsxs("div",{children:[n.jsx(Ee,{children:"Video Call Link"}),n.jsx(Je,{placeholder:"Zoom, Google Meet, Teams link...",value:x,onChange:A=>v(A.target.value)})]}),a==="onsite"&&n.jsxs("div",{children:[n.jsx(Ee,{children:"Location *"}),n.jsx(Je,{placeholder:"Office address or meeting location",value:m,onChange:A=>f(A.target.value),required:!0})]}),n.jsxs("div",{children:[n.jsx(Ee,{children:"Interviewers (optional)"}),n.jsx(Je,{placeholder:"Names of interviewers, comma-separated",value:g,onChange:A=>y(A.target.value)})]}),n.jsxs("div",{children:[n.jsx(Ee,{children:"Notes (optional)"}),n.jsx(dr,{placeholder:"Preparation notes, topics to discuss, etc.",value:j,onChange:A=>b(A.target.value),className:"min-h-20"})]}),n.jsx(ve,{onClick:T,className:"w-full",disabled:_,children:_?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"h-4 w-4 mr-2 animate-spin"}),"Scheduling..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Schedule Interview"]})})]})]})},n9e="modulepreload",s9e=function(e){return"/"+e},d$={},WE=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=s9e(u),u in d$)return;d$[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":n9e,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((f,x)=>{m.addEventListener("load",f),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var od=Uint8Array,oc=Uint16Array,m6=Int32Array,p6=new od([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),g6=new od([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h$=new od([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eae=function(e,t){for(var r=new oc(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var a=new m6(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},tae=eae(p6,2),a9e=tae.b,j3=tae.r;a9e[28]=258,j3[258]=28;var i9e=eae(g6,0),f$=i9e.r,N3=new oc(32768);for(var zs=0;zs<32768;++zs){var cm=(zs&43690)>>1|(zs&21845)<<1;cm=(cm&52428)>>2|(cm&13107)<<2,cm=(cm&61680)>>4|(cm&3855)<<4,N3[zs]=((cm&65280)>>8|(cm&255)<<8)>>1}var Cw=(function(e,t,r){for(var s=e.length,a=0,i=new oc(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new oc(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new oc(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],h=o[e[a]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)l[N3[h]>>c]=u}else for(l=new oc(s),a=0;a<s;++a)e[a]&&(l[a]=N3[o[e[a]-1]++]>>15-e[a]);return l}),ev=new od(288);for(var zs=0;zs<144;++zs)ev[zs]=8;for(var zs=144;zs<256;++zs)ev[zs]=9;for(var zs=256;zs<280;++zs)ev[zs]=7;for(var zs=280;zs<288;++zs)ev[zs]=8;var u_=new od(32);for(var zs=0;zs<32;++zs)u_[zs]=5;var o9e=Cw(ev,9,0),l9e=Cw(u_,5,0),rae=function(e){return(e+7)/8|0},c9e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new od(e.subarray(t,r))},Lh=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},Q0=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},VE=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var a=r.length,i=r.slice();if(!a)return{t:sae,l:0};if(a==1){var o=new od(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,T){return S.f-T.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,s=1;s<a;++s)i[s].s>m&&(m=i[s].s);var f=new oc(m+1),x=_3(r[d-1],f,0);if(x>t){var s=0,v=0,g=x-t,y=1<<g;for(i.sort(function(T,A){return f[A.s]-f[T.s]||T.f-A.f});s<a;++s){var j=i[s].s;if(f[j]>t)v+=y-(1<<x-f[j]),f[j]=t;else break}for(v>>=g;v>0;){var b=i[s].s;f[b]<t?v-=1<<t-f[b]++-1:++s}for(;s>=0&&v;--s){var _=i[s].s;f[_]==t&&(--f[_],++v)}x=t}return{t:new od(f),l:x}},_3=function(e,t,r){return e.s==-1?Math.max(_3(e.l,t,r+1),_3(e.r,t,r+1)):t[e.s]=r},m$=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new oc(++t),s=0,a=e[0],i=1,o=function(c){r[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,s),n:t}},Z0=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},nae=function(e,t,r){var s=r.length,a=rae(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=r[i];return(a+4+s)*8},p$=function(e,t,r,s,a,i,o,l,c,u,d){Lh(t,d++,r),++a[256];for(var h=VE(a,15),m=h.t,f=h.l,x=VE(i,15),v=x.t,g=x.l,y=m$(m),j=y.c,b=y.n,_=m$(v),S=_.c,T=_.n,A=new oc(19),L=0;L<j.length;++L)++A[j[L]&31];for(var L=0;L<S.length;++L)++A[S[L]&31];for(var E=VE(A,7),q=E.t,M=E.l,C=19;C>4&&!q[h$[C-1]];--C);var I=u+5<<3,O=Z0(a,ev)+Z0(i,u_)+o,H=Z0(a,m)+Z0(i,v)+o+14+3*C+Z0(A,q)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&I<=O&&I<=H)return nae(t,d,e.subarray(c,c+u));var re,U,K,ee;if(Lh(t,d,1+(H<O)),d+=2,H<O){re=Cw(m,f,0),U=m,K=Cw(v,g,0),ee=v;var X=Cw(q,M,0);Lh(t,d,b-257),Lh(t,d+5,T-1),Lh(t,d+10,C-4),d+=14;for(var L=0;L<C;++L)Lh(t,d+3*L,q[h$[L]]);d+=3*C;for(var B=[j,S],D=0;D<2;++D)for(var Q=B[D],L=0;L<Q.length;++L){var ie=Q[L]&31;Lh(t,d,X[ie]),d+=q[ie],ie>15&&(Lh(t,d,Q[L]>>5&127),d+=Q[L]>>12)}}else re=o9e,U=ev,K=l9e,ee=u_;for(var L=0;L<l;++L){var te=s[L];if(te>255){var ie=te>>18&31;Q0(t,d,re[ie+257]),d+=U[ie+257],ie>7&&(Lh(t,d,te>>23&31),d+=p6[ie]);var he=te&31;Q0(t,d,K[he]),d+=ee[he],he>3&&(Q0(t,d,te>>5&8191),d+=g6[he])}else Q0(t,d,re[te]),d+=U[te]}return Q0(t,d,re[256]),d+U[256]},u9e=new m6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sae=new od(0),d9e=function(e,t,r,s,a,i){var o=i.z||e.length,l=new od(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var h=u9e[t-1],m=h>>13,f=h&8191,x=(1<<r)-1,v=i.p||new oc(32768),g=i.h||new oc(x+1),y=Math.ceil(r/3),j=2*y,b=function(G){return(e[G]^e[G+1]<<y^e[G+2]<<j)&x},_=new m6(25e3),S=new oc(288),T=new oc(32),A=0,L=0,E=i.i||0,q=0,M=i.w||0,C=0;E+2<o;++E){var I=b(E),O=E&32767,H=g[I];if(v[O]=H,g[I]=O,M<=E){var re=o-E;if((A>7e3||q>24576)&&(re>423||!u)){d=p$(e,c,0,_,S,T,L,q,C,E-C,d),q=A=L=0,C=E;for(var U=0;U<286;++U)S[U]=0;for(var U=0;U<30;++U)T[U]=0}var K=2,ee=0,X=f,B=O-H&32767;if(re>2&&I==b(E-B))for(var D=Math.min(m,re)-1,Q=Math.min(32767,E),ie=Math.min(258,re);B<=Q&&--X&&O!=H;){if(e[E+K]==e[E+K-B]){for(var te=0;te<ie&&e[E+te]==e[E+te-B];++te);if(te>K){if(K=te,ee=B,te>D)break;for(var he=Math.min(B,te-2),W=0,U=0;U<he;++U){var V=E-B+U&32767,oe=v[V],me=V-oe&32767;me>W&&(W=me,H=V)}}}O=H,H=v[O],B+=O-H&32767}if(ee){_[q++]=268435456|j3[K]<<18|f$[ee];var de=j3[K]&31,ue=f$[ee]&31;L+=p6[de]+g6[ue],++S[257+de],++T[ue],M=E+K,++A}else _[q++]=e[E],++S[e[E]]}}for(E=Math.max(E,M);E<o;++E)_[q++]=e[E],++S[e[E]];d=p$(e,c,u,_,S,T,L,q,C,E-C,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=g,i.p=v,i.i=E,i.w=M)}else{for(var E=i.w||0;E<o+u;E+=65535){var Pe=E+65535;Pe>=o&&(c[d/8|0]=u,Pe=o),d=nae(c,d+1,e.subarray(E,Pe))}i.i=o}return c9e(l,0,s+rae(d)+a)},aae=function(){var e=1,t=0;return{p:function(r){for(var s=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},h9e=function(e,t,r,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new od(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return d9e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,a)},iae=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},f9e=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=aae();a.p(t.dictionary),iae(e,2,a.d())}};function S3(e,t){t||(t={});var r=aae();r.p(e);var s=h9e(e,t,t.dictionary?6:2,4);return f9e(s,t),iae(s,s.length-4,r.d()),s}var m9e=typeof TextDecoder<"u"&&new TextDecoder,p9e=0;try{m9e.decode(sae,{stream:!0}),p9e=1}catch{}function g9e(e){if(Array.isArray(e))return e}function v9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function g$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function x9e(e,t){if(e){if(typeof e=="string")return g$(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g$(e,t):void 0}}function y9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$(e,t){return g9e(e)||v9e(e,t)||x9e(e,t)||y9e()}function x$(e,t="utf8"){return new TextDecoder(t).decode(e)}const w9e=new TextEncoder;function b9e(e){return w9e.encode(e)}const j9e=1024*8,N9e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),HE={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class v6{constructor(t=j9e,r={}){Vn(this,"buffer");Vn(this,"byteLength");Vn(this,"byteOffset");Vn(this,"length");Vn(this,"offset");Vn(this,"lastWrittenByte");Vn(this,"littleEndian");Vn(this,"_data");Vn(this,"_mark");Vn(this,"_marks");let s=!1;typeof t=="number"?t=new ArrayBuffer(t):(s=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof v6)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const s=(this.offset+t)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const s=HE[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===N9e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+s));l.reverse();const c=new HE[r](l.buffer);return this.offset+=s,c.reverse(),c}const o=new HE[r](i);return this.offset+=s,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let s=0;s<t;s++)r+=this.readChar();return r}readUtf8(t=1){return x$(this.readBytes(t))}decodeText(t=1,r="utf8"){return x$(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(b9e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function a0(e){let t=e.length;for(;--t>=0;)e[t]=0}const _9e=3,S9e=258,oae=29,k9e=256,C9e=k9e+1+oae,lae=30,E9e=512,A9e=new Array((C9e+2)*2);a0(A9e);const P9e=new Array(lae*2);a0(P9e);const T9e=new Array(E9e);a0(T9e);const O9e=new Array(S9e-_9e+1);a0(O9e);const I9e=new Array(oae);a0(I9e);const R9e=new Array(lae);a0(R9e);const D9e=(e,t,r,s)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[s++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var k3=D9e;const M9e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},L9e=new Uint32Array(M9e()),F9e=(e,t,r,s)=>{const a=L9e,i=s+r;e^=-1;for(let o=s;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var Ed=F9e,C3={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cae={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const B9e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var U9e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)B9e(r,s)&&(e[s]=r[s])}}return e},$9e=e=>{let t=0;for(let s=0,a=e.length;s<a;s++)t+=e[s].length;const r=new Uint8Array(t);for(let s=0,a=0,i=e.length;s<i;s++){let o=e[s];r.set(o,a),a+=o.length}return r},uae={assign:U9e,flattenChunks:$9e};let dae=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dae=!1}const pb=new Uint8Array(256);for(let e=0;e<256;e++)pb[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;pb[254]=pb[254]=1;var q9e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,s,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const z9e=(e,t)=>{if(t<65534&&e.subarray&&dae)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r};var W9e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,a;const i=new Array(r*2);for(a=0,s=0;s<r;){let o=e[s++];if(o<128){i[a++]=o;continue}let l=pb[o];if(l>4){i[a++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<r;)o=o<<6|e[s++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return z9e(i,a)},V9e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+pb[e[r]]>t?r:t},E3={string2buf:q9e,buf2string:W9e,utf8border:V9e};function H9e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var G9e=H9e;const zj=16209,K9e=16191;var Y9e=function(t,r){let s,a,i,o,l,c,u,d,h,m,f,x,v,g,y,j,b,_,S,T,A,L,E,q;const M=t.state;s=t.next_in,E=t.input,a=s+(t.avail_in-5),i=t.next_out,q=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=M.dmax,u=M.wsize,d=M.whave,h=M.wnext,m=M.window,f=M.hold,x=M.bits,v=M.lencode,g=M.distcode,y=(1<<M.lenbits)-1,j=(1<<M.distbits)-1;e:do{x<15&&(f+=E[s++]<<x,x+=8,f+=E[s++]<<x,x+=8),b=v[f&y];t:for(;;){if(_=b>>>24,f>>>=_,x-=_,_=b>>>16&255,_===0)q[i++]=b&65535;else if(_&16){S=b&65535,_&=15,_&&(x<_&&(f+=E[s++]<<x,x+=8),S+=f&(1<<_)-1,f>>>=_,x-=_),x<15&&(f+=E[s++]<<x,x+=8,f+=E[s++]<<x,x+=8),b=g[f&j];r:for(;;){if(_=b>>>24,f>>>=_,x-=_,_=b>>>16&255,_&16){if(T=b&65535,_&=15,x<_&&(f+=E[s++]<<x,x+=8,x<_&&(f+=E[s++]<<x,x+=8)),T+=f&(1<<_)-1,T>c){t.msg="invalid distance too far back",M.mode=zj;break e}if(f>>>=_,x-=_,_=i-o,T>_){if(_=T-_,_>d&&M.sane){t.msg="invalid distance too far back",M.mode=zj;break e}if(A=0,L=m,h===0){if(A+=u-_,_<S){S-=_;do q[i++]=m[A++];while(--_);A=i-T,L=q}}else if(h<_){if(A+=u+h-_,_-=h,_<S){S-=_;do q[i++]=m[A++];while(--_);if(A=0,h<S){_=h,S-=_;do q[i++]=m[A++];while(--_);A=i-T,L=q}}}else if(A+=h-_,_<S){S-=_;do q[i++]=m[A++];while(--_);A=i-T,L=q}for(;S>2;)q[i++]=L[A++],q[i++]=L[A++],q[i++]=L[A++],S-=3;S&&(q[i++]=L[A++],S>1&&(q[i++]=L[A++]))}else{A=i-T;do q[i++]=q[A++],q[i++]=q[A++],q[i++]=q[A++],S-=3;while(S>2);S&&(q[i++]=q[A++],S>1&&(q[i++]=q[A++]))}}else if((_&64)===0){b=g[(b&65535)+(f&(1<<_)-1)];continue r}else{t.msg="invalid distance code",M.mode=zj;break e}break}}else if((_&64)===0){b=v[(b&65535)+(f&(1<<_)-1)];continue t}else if(_&32){M.mode=K9e;break e}else{t.msg="invalid literal/length code",M.mode=zj;break e}break}}while(s<a&&i<l);S=x>>3,s-=S,x-=S<<3,f&=(1<<x)-1,t.next_in=s,t.next_out=i,t.avail_in=s<a?5+(a-s):5-(s-a),t.avail_out=i<l?257+(l-i):257-(i-l),M.hold=f,M.bits=x};const nx=15,y$=852,w$=592,b$=0,GE=1,j$=2,J9e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),X9e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Q9e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Z9e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),eUe=(e,t,r,s,a,i,o,l)=>{const c=l.bits;let u=0,d=0,h=0,m=0,f=0,x=0,v=0,g=0,y=0,j=0,b,_,S,T,A,L=null,E;const q=new Uint16Array(nx+1),M=new Uint16Array(nx+1);let C=null,I,O,H;for(u=0;u<=nx;u++)q[u]=0;for(d=0;d<s;d++)q[t[r+d]]++;for(f=c,m=nx;m>=1&&q[m]===0;m--);if(f>m&&(f=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&q[h]===0;h++);for(f<h&&(f=h),g=1,u=1;u<=nx;u++)if(g<<=1,g-=q[u],g<0)return-1;if(g>0&&(e===b$||m!==1))return-1;for(M[1]=0,u=1;u<nx;u++)M[u+1]=M[u]+q[u];for(d=0;d<s;d++)t[r+d]!==0&&(o[M[t[r+d]]++]=d);if(e===b$?(L=C=o,E=20):e===GE?(L=J9e,C=X9e,E=257):(L=Q9e,C=Z9e,E=0),j=0,d=0,u=h,A=i,x=f,v=0,S=-1,y=1<<f,T=y-1,e===GE&&y>y$||e===j$&&y>w$)return 1;for(;;){I=u-v,o[d]+1<E?(O=0,H=o[d]):o[d]>=E?(O=C[o[d]-E],H=L[o[d]-E]):(O=96,H=0),b=1<<u-v,_=1<<x,h=_;do _-=b,a[A+(j>>v)+_]=I<<24|O<<16|H|0;while(_!==0);for(b=1<<u-1;j&b;)b>>=1;if(b!==0?(j&=b-1,j+=b):j=0,d++,--q[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>f&&(j&T)!==S){for(v===0&&(v=f),A+=h,x=u-v,g=1<<x;x+v<m&&(g-=q[x+v],!(g<=0));)x++,g<<=1;if(y+=1<<x,e===GE&&y>y$||e===j$&&y>w$)return 1;S=j&T,a[S]=f<<24|x<<16|A-i|0}}return j!==0&&(a[A+j]=u-v<<24|64<<16|0),l.bits=f,0};var Ew=eUe;const tUe=0,hae=1,fae=2,{Z_FINISH:N$,Z_BLOCK:rUe,Z_TREES:Wj,Z_OK:tv,Z_STREAM_END:nUe,Z_NEED_DICT:sUe,Z_STREAM_ERROR:hu,Z_DATA_ERROR:mae,Z_MEM_ERROR:pae,Z_BUF_ERROR:aUe,Z_DEFLATED:_$}=cae,u5=16180,S$=16181,k$=16182,C$=16183,E$=16184,A$=16185,P$=16186,T$=16187,O$=16188,I$=16189,d_=16190,Fh=16191,KE=16192,R$=16193,YE=16194,D$=16195,M$=16196,L$=16197,F$=16198,Vj=16199,Hj=16200,B$=16201,U$=16202,$$=16203,q$=16204,z$=16205,JE=16206,W$=16207,V$=16208,Zs=16209,gae=16210,vae=16211,iUe=852,oUe=592,lUe=15,cUe=lUe,H$=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function uUe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<u5||t.mode>vae?1:0},xae=e=>{if(cv(e))return hu;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=u5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(iUe),t.distcode=t.distdyn=new Int32Array(oUe),t.sane=1,t.back=-1,tv},yae=e=>{if(cv(e))return hu;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,xae(e)},wae=(e,t)=>{let r;if(cv(e))return hu;const s=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?hu:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,yae(e))},bae=(e,t)=>{if(!e)return hu;const r=new uUe;e.state=r,r.strm=e,r.window=null,r.mode=u5;const s=wae(e,t);return s!==tv&&(e.state=null),s},dUe=e=>bae(e,cUe);let G$=!0,XE,QE;const hUe=e=>{if(G$){XE=new Int32Array(512),QE=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ew(hae,e.lens,0,288,XE,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ew(fae,e.lens,0,32,QE,0,e.work,{bits:5}),G$=!1}e.lencode=XE,e.lenbits=9,e.distcode=QE,e.distbits=5},jae=(e,t,r,s)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(t.subarray(r-s,r-s+a),i.wnext),s-=a,s?(i.window.set(t.subarray(r-s,r),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},fUe=(e,t)=>{let r,s,a,i,o,l,c,u,d,h,m,f,x,v,g=0,y,j,b,_,S,T,A,L;const E=new Uint8Array(4);let q,M;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cv(e)||!e.output||!e.input&&e.avail_in!==0)return hu;r=e.state,r.mode===Fh&&(r.mode=KE),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,u=r.hold,d=r.bits,h=l,m=c,L=tv;e:for(;;)switch(r.mode){case u5:if(r.wrap===0){r.mode=KE;break}for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=u&255,E[1]=u>>>8&255,r.check=Ed(r.check,E,2,0),u=0,d=0,r.mode=S$;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Zs;break}if((u&15)!==_$){e.msg="unknown compression method",r.mode=Zs;break}if(u>>>=4,d-=4,A=(u&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){e.msg="invalid window size",r.mode=Zs;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?I$:Fh,u=0,d=0;break;case S$:for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==_$){e.msg="unknown compression method",r.mode=Zs;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Zs;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Ed(r.check,E,2,0)),u=0,d=0,r.mode=k$;case k$:for(;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=Ed(r.check,E,4,0)),u=0,d=0,r.mode=C$;case C$:for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Ed(r.check,E,2,0)),u=0,d=0,r.mode=E$;case E$:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Ed(r.check,E,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=A$;case A$:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(i,i+f),A)),r.flags&512&&r.wrap&4&&(r.check=Ed(r.check,s,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=P$;case P$:if(r.flags&2048){if(l===0)break e;f=0;do A=s[i+f++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Ed(r.check,s,f,i)),l-=f,i+=f,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=T$;case T$:if(r.flags&4096){if(l===0)break e;f=0;do A=s[i+f++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Ed(r.check,s,f,i)),l-=f,i+=f,A)break e}else r.head&&(r.head.comment=null);r.mode=O$;case O$:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Zs;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Fh;break;case I$:for(;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}e.adler=r.check=H$(u),u=0,d=0,r.mode=d_;case d_:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,sUe;e.adler=r.check=1,r.mode=Fh;case Fh:if(t===rUe||t===Wj)break e;case KE:if(r.last){u>>>=d&7,d-=d&7,r.mode=JE;break}for(;d<3;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=R$;break;case 1:if(hUe(r),r.mode=Vj,t===Wj){u>>>=2,d-=2;break e}break;case 2:r.mode=M$;break;case 3:e.msg="invalid block type",r.mode=Zs}u>>>=2,d-=2;break;case R$:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Zs;break}if(r.length=u&65535,u=0,d=0,r.mode=YE,t===Wj)break e;case YE:r.mode=D$;case D$:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(s.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,r.length-=f;break}r.mode=Fh;break;case M$:for(;d<14;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Zs;break}r.have=0,r.mode=L$;case L$:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.lens[C[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q={bits:r.lenbits},L=Ew(tUe,r.lens,0,19,r.lencode,0,r.work,q),r.lenbits=q.bits,L){e.msg="invalid code lengths set",r.mode=Zs;break}r.have=0,r.mode=F$;case F$:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[u&(1<<r.lenbits)-1],y=g>>>24,j=g>>>16&255,b=g&65535,!(y<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(b<16)u>>>=y,d-=y,r.lens[r.have++]=b;else{if(b===16){for(M=y+2;d<M;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(u>>>=y,d-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=Zs;break}A=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(b===17){for(M=y+3;d<M;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=y,d-=y,A=0,f=3+(u&7),u>>>=3,d-=3}else{for(M=y+7;d<M;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=y,d-=y,A=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Zs;break}for(;f--;)r.lens[r.have++]=A}}if(r.mode===Zs)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Zs;break}if(r.lenbits=9,q={bits:r.lenbits},L=Ew(hae,r.lens,0,r.nlen,r.lencode,0,r.work,q),r.lenbits=q.bits,L){e.msg="invalid literal/lengths set",r.mode=Zs;break}if(r.distbits=6,r.distcode=r.distdyn,q={bits:r.distbits},L=Ew(fae,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,q),r.distbits=q.bits,L){e.msg="invalid distances set",r.mode=Zs;break}if(r.mode=Vj,t===Wj)break e;case Vj:r.mode=Hj;case Hj:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Y9e(e,m),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Fh&&(r.back=-1);break}for(r.back=0;g=r.lencode[u&(1<<r.lenbits)-1],y=g>>>24,j=g>>>16&255,b=g&65535,!(y<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(j&&(j&240)===0){for(_=y,S=j,T=b;g=r.lencode[T+((u&(1<<_+S)-1)>>_)],y=g>>>24,j=g>>>16&255,b=g&65535,!(_+y<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=y,d-=y,r.back+=y,r.length=b,j===0){r.mode=z$;break}if(j&32){r.back=-1,r.mode=Fh;break}if(j&64){e.msg="invalid literal/length code",r.mode=Zs;break}r.extra=j&15,r.mode=B$;case B$:if(r.extra){for(M=r.extra;d<M;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=U$;case U$:for(;g=r.distcode[u&(1<<r.distbits)-1],y=g>>>24,j=g>>>16&255,b=g&65535,!(y<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if((j&240)===0){for(_=y,S=j,T=b;g=r.distcode[T+((u&(1<<_+S)-1)>>_)],y=g>>>24,j=g>>>16&255,b=g&65535,!(_+y<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=y,d-=y,r.back+=y,j&64){e.msg="invalid distance code",r.mode=Zs;break}r.offset=b,r.extra=j&15,r.mode=$$;case $$:if(r.extra){for(M=r.extra;d<M;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Zs;break}r.mode=q$;case q$:if(c===0)break e;if(f=m-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Zs;break}f>r.wnext?(f-=r.wnext,x=r.wsize-f):x=r.wnext-f,f>r.length&&(f=r.length),v=r.window}else v=a,x=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[o++]=v[x++];while(--f);r.length===0&&(r.mode=Hj);break;case z$:if(c===0)break e;a[o++]=r.length,c--,r.mode=Hj;break;case JE:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=s[i++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ed(r.check,a,m,o-m):k3(r.check,a,m,o-m)),m=c,r.wrap&4&&(r.flags?u:H$(u))!==r.check){e.msg="incorrect data check",r.mode=Zs;break}u=0,d=0}r.mode=W$;case W$:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Zs;break}u=0,d=0}r.mode=V$;case V$:L=nUe;break e;case Zs:L=mae;break e;case gae:return pae;case vae:default:return hu}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<Zs&&(r.mode<JE||t!==N$))&&jae(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ed(r.check,a,m,e.next_out-m):k3(r.check,a,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Fh?128:0)+(r.mode===Vj||r.mode===YE?256:0),(h===0&&m===0||t===N$)&&L===tv&&(L=aUe),L},mUe=e=>{if(cv(e))return hu;let t=e.state;return t.window&&(t.window=null),e.state=null,tv},pUe=(e,t)=>{if(cv(e))return hu;const r=e.state;return(r.wrap&2)===0?hu:(r.head=t,t.done=!1,tv)},gUe=(e,t)=>{const r=t.length;let s,a,i;return cv(e)||(s=e.state,s.wrap!==0&&s.mode!==d_)?hu:s.mode===d_&&(a=1,a=k3(a,t,r,0),a!==s.check)?mae:(i=jae(e,t,r,r),i?(s.mode=gae,pae):(s.havedict=1,tv))};var vUe=yae,xUe=wae,yUe=xae,wUe=dUe,bUe=bae,jUe=fUe,NUe=mUe,_Ue=pUe,SUe=gUe,kUe="pako inflate (from Nodeca project)",Wh={inflateReset:vUe,inflateReset2:xUe,inflateResetKeep:yUe,inflateInit:wUe,inflateInit2:bUe,inflate:jUe,inflateEnd:NUe,inflateGetHeader:_Ue,inflateSetDictionary:SUe,inflateInfo:kUe};function CUe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var EUe=CUe;const Nae=Object.prototype.toString,{Z_NO_FLUSH:AUe,Z_FINISH:PUe,Z_OK:gb,Z_STREAM_END:ZE,Z_NEED_DICT:eA,Z_STREAM_ERROR:TUe,Z_DATA_ERROR:K$,Z_MEM_ERROR:OUe}=cae;function m1(e){this.options=uae.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new G9e,this.strm.avail_out=0;let r=Wh.inflateInit2(this.strm,t.windowBits);if(r!==gb)throw new Error(C3[r]);if(this.header=new EUe,Wh.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=E3.string2buf(t.dictionary):Nae.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Wh.inflateSetDictionary(this.strm,t.dictionary),r!==gb)))throw new Error(C3[r])}m1.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?PUe:AUe,Nae.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),i=Wh.inflate(r,o),i===eA&&a&&(i=Wh.inflateSetDictionary(r,a),i===gb?i=Wh.inflate(r,o):i===K$&&(i=eA));r.avail_in>0&&i===ZE&&r.state.wrap>0&&e[r.next_in]!==0;)Wh.inflateReset(r),i=Wh.inflate(r,o);switch(i){case TUe:case K$:case eA:case OUe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===ZE))if(this.options.to==="string"){let c=E3.utf8border(r.output,r.next_out),u=r.next_out-c,d=E3.buf2string(r.output,c);r.next_out=u,r.avail_out=s-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===gb&&l===0)){if(i===ZE)return i=Wh.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};m1.prototype.onData=function(e){this.chunks.push(e)};m1.prototype.onEnd=function(e){e===gb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uae.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function IUe(e,t){const r=new m1(t);if(r.push(e),r.err)throw r.msg||C3[r.err];return r.result}var RUe=m1,DUe=IUe,MUe={Inflate:RUe,inflate:DUe};const{Inflate:LUe,inflate:FUe}=MUe;var Y$=LUe,BUe=FUe;const _ae=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;_ae[e]=t}const J$=4294967295;function UUe(e,t,r){let s=e;for(let a=0;a<r;a++)s=_ae[(s^t[a])&255]^s>>>8;return s}function $Ue(e,t){return(UUe(J$,e,t)^J$)>>>0}function X$(e,t,r){const s=e.readUint32(),a=$Ue(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${a}`)}function Sae(e,t,r){for(let s=0;s<r;s++)t[s]=e[s]}function kae(e,t,r,s){let a=0;for(;a<s;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-s]&255}function Cae(e,t,r,s){let a=0;if(r.length===0)for(;a<s;a++)t[a]=e[a];else for(;a<s;a++)t[a]=e[a]+r[a]&255}function Eae(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<s;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function Aae(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<s;i++)t[i]=e[i]+qUe(t[i-a],r[i],r[i-a])&255}}function qUe(e,t,r){const s=e+t-r,a=Math.abs(s-e),i=Math.abs(s-t),o=Math.abs(s-r);return a<=i&&a<=o?e:i<=o?t:r}function zUe(e,t,r,s,a,i){switch(e){case 0:Sae(t,r,a);break;case 1:kae(t,r,a,i);break;case 2:Cae(t,r,s,a);break;case 3:Eae(t,r,s,a,i);break;case 4:Aae(t,r,s,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const WUe=new Uint16Array([255]),VUe=new Uint8Array(WUe.buffer),HUe=VUe[0]===255;function GUe(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(s*r*l);let u=0;for(let d=0;d<7;d++){const h=o[d],m=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((s-h.y)/h.yStep);if(m<=0||f<=0)continue;const x=m*l,v=new Uint8Array(x);for(let g=0;g<f;g++){const y=t[u++],j=t.subarray(u,u+x);u+=x;const b=new Uint8Array(x);zUe(y,j,b,v,x,l),v.set(b);for(let _=0;_<m;_++){const S=h.x+_*h.xStep,T=h.y+g*h.yStep;if(!(S>=r||T>=s))for(let A=0;A<l;A++)c[(T*r+S)*l+A]=b[_*l+A]}}}if(i===16){const d=new Uint16Array(c.buffer);if(HUe)for(let h=0;h<d.length;h++)d[h]=KUe(d[h]);return d}else return c}function KUe(e){return(e&255)<<8|e>>8&255}const YUe=new Uint16Array([255]),JUe=new Uint8Array(YUe.buffer),XUe=JUe[0]===255,QUe=new Uint8Array(0);function Q$(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(s*l);let u=QUe,d=0,h,m;for(let f=0;f<s;f++){switch(h=t.subarray(d+1,d+1+l),m=c.subarray(f*l,(f+1)*l),t[d]){case 0:Sae(h,m,l);break;case 1:kae(h,m,l,o);break;case 2:Cae(h,m,u,l);break;case 3:Eae(h,m,u,l,o);break;case 4:Aae(h,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(XUe)for(let x=0;x<f.length;x++)f[x]=ZUe(f[x]);return f}else return c}function ZUe(e){return(e&255)<<8|e>>8&255}const E2=Uint8Array.of(137,80,78,71,13,10,26,10);function Z$(e){if(!e$e(e.readBytes(E2.length)))throw new Error("wrong PNG signature")}function e$e(e){if(e.length<E2.length)return!1;for(let t=0;t<E2.length;t++)if(e[t]!==E2[t])return!1;return!0}const t$e="tEXt",r$e=0,Pae=new TextDecoder("latin1");function n$e(e){if(a$e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const s$e=/^[\u0000-\u00FF]*$/;function a$e(e){if(!s$e.test(e))throw new Error("invalid latin1 text")}function i$e(e,t,r){const s=Tae(t);e[s]=o$e(t,r-s.length-1)}function Tae(e){for(e.mark();e.readByte()!==r$e;);const t=e.offset;e.reset();const r=Pae.decode(e.readBytes(t-e.offset-1));return e.skip(1),n$e(r),r}function o$e(e,t){return Pae.decode(e.readBytes(t))}const Yl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},tA={UNKNOWN:-1,DEFLATE:0},eq={UNKNOWN:-1,ADAPTIVE:0},rA={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Gj={NONE:0,BACKGROUND:1,PREVIOUS:2},nA={SOURCE:0,OVER:1};class l$e extends v6{constructor(r,s={}){super(r);Vn(this,"_checkCrc");Vn(this,"_inflator");Vn(this,"_png");Vn(this,"_apng");Vn(this,"_end");Vn(this,"_hasPalette");Vn(this,"_palette");Vn(this,"_hasTransparency");Vn(this,"_transparency");Vn(this,"_compressionMethod");Vn(this,"_filterMethod");Vn(this,"_interlaceMethod");Vn(this,"_colorType");Vn(this,"_isAnimated");Vn(this,"_numberOfFrames");Vn(this,"_numberOfPlays");Vn(this,"_frames");Vn(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new Y$,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=tA.UNKNOWN,this._filterMethod=eq.UNKNOWN,this._interlaceMethod=rA.UNKNOWN,this._colorType=Yl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z$(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeChunk(r,s)}return this.decodeImage(),this._png}decodeApng(){for(Z$(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(r,s)}return this.decodeApngImage(),this._apng}decodeChunk(r,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case t$e:i$e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?X$(this,r+4,s):this.skip(4)}decodeApngChunk(r,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,s),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?X$(this,r+4,s):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=c$e(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case Yl.GREYSCALE:a=1;break;case Yl.TRUECOLOUR:a=3;break;case Yl.INDEXED_COLOUR:a=1;break;case Yl.GREYSCALE_ALPHA:a=2;break;case Yl.TRUECOLOUR_ALPHA:a=4;break;case Yl.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==tA.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const s=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const s=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let s=r,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Yl.GREYSCALE:case Yl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let s=0;s<r/2;s++)this._transparency[s]=this.readUint16();break}case Yl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let s=0;for(;s<r;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case Yl.UNKNOWN:case Yl.GREYSCALE_ALPHA:case Yl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const s=Tae(this),a=this.readUint8();if(a!==tA.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:BUe(i)}}decodepHYs(){const r=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const s={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=Q$({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(r,s,a){switch(r.disposeOp){case Gj.NONE:break;case Gj.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Gj.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,s){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,u=(o*s.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(s.blendOp){case nA.SOURCE:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=s.data[u+d]}break;case nA.OVER:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++){const h=s.data[u+this._png.channels-1]/a,m=d%(this._png.channels-1)===0?1:s.data[u+d],f=Math.floor(h*m+(1-h)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==eq.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===rA.NO_INTERLACE)this._png.data=Q$({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===rA.ADAM7)this._png.data=GUe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,s=this._frames.at(-1);s?s.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Gj.NONE,blendOp:nA.SOURCE,data:r}),this._inflator=new Y$,this._writingDataChunks=!1}}function c$e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var tq;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(tq||(tq={}));function u$e(e,t){return new l$e(e,t).decode()}var Hr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function sA(){Hr.console&&typeof Hr.console.log=="function"&&Hr.console.log.apply(Hr.console,arguments)}var Ss={log:sA,warn:function(e){Hr.console&&(typeof Hr.console.warn=="function"?Hr.console.warn.apply(Hr.console,arguments):sA.call(null,arguments))},error:function(e){Hr.console&&(typeof Hr.console.error=="function"?Hr.console.error.apply(Hr.console,arguments):sA(e))}};function aA(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){ag(s.response,t,r)},s.onerror=function(){Ss.error("could not download file")},s.send()}function rq(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Kj(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ag=Hr.saveAs||((typeof window>"u"?"undefined":Un(window))!=="object"||window!==Hr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=Hr.URL||Hr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?rq(a.href)?aA(e,t,r):Kj(a,a.target="_blank"):Kj(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){Kj(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(rq(e))aA(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Kj(s)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Un(i)!=="object"&&(Ss.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return aA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Hr.HTMLElement)||Hr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Un(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=d:location=d,s=null},l.readAsDataURL(e)}else{var c=Hr.URL||Hr.webkitURL,u=c.createObjectURL(e);s?s.location=u:location.href=u,s=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Oae(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var A2=Hr.atob.bind(Hr),nq=Hr.btoa.bind(Hr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iA(e,t){var r=e[0],s=e[1],a=e[2],i=e[3];r=yo(r,s,a,i,t[0],7,-680876936),i=yo(i,r,s,a,t[1],12,-389564586),a=yo(a,i,r,s,t[2],17,606105819),s=yo(s,a,i,r,t[3],22,-1044525330),r=yo(r,s,a,i,t[4],7,-176418897),i=yo(i,r,s,a,t[5],12,1200080426),a=yo(a,i,r,s,t[6],17,-1473231341),s=yo(s,a,i,r,t[7],22,-45705983),r=yo(r,s,a,i,t[8],7,1770035416),i=yo(i,r,s,a,t[9],12,-1958414417),a=yo(a,i,r,s,t[10],17,-42063),s=yo(s,a,i,r,t[11],22,-1990404162),r=yo(r,s,a,i,t[12],7,1804603682),i=yo(i,r,s,a,t[13],12,-40341101),a=yo(a,i,r,s,t[14],17,-1502002290),r=wo(r,s=yo(s,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=wo(i,r,s,a,t[6],9,-1069501632),a=wo(a,i,r,s,t[11],14,643717713),s=wo(s,a,i,r,t[0],20,-373897302),r=wo(r,s,a,i,t[5],5,-701558691),i=wo(i,r,s,a,t[10],9,38016083),a=wo(a,i,r,s,t[15],14,-660478335),s=wo(s,a,i,r,t[4],20,-405537848),r=wo(r,s,a,i,t[9],5,568446438),i=wo(i,r,s,a,t[14],9,-1019803690),a=wo(a,i,r,s,t[3],14,-187363961),s=wo(s,a,i,r,t[8],20,1163531501),r=wo(r,s,a,i,t[13],5,-1444681467),i=wo(i,r,s,a,t[2],9,-51403784),a=wo(a,i,r,s,t[7],14,1735328473),r=bo(r,s=wo(s,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=bo(i,r,s,a,t[8],11,-2022574463),a=bo(a,i,r,s,t[11],16,1839030562),s=bo(s,a,i,r,t[14],23,-35309556),r=bo(r,s,a,i,t[1],4,-1530992060),i=bo(i,r,s,a,t[4],11,1272893353),a=bo(a,i,r,s,t[7],16,-155497632),s=bo(s,a,i,r,t[10],23,-1094730640),r=bo(r,s,a,i,t[13],4,681279174),i=bo(i,r,s,a,t[0],11,-358537222),a=bo(a,i,r,s,t[3],16,-722521979),s=bo(s,a,i,r,t[6],23,76029189),r=bo(r,s,a,i,t[9],4,-640364487),i=bo(i,r,s,a,t[12],11,-421815835),a=bo(a,i,r,s,t[15],16,530742520),r=jo(r,s=bo(s,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=jo(i,r,s,a,t[7],10,1126891415),a=jo(a,i,r,s,t[14],15,-1416354905),s=jo(s,a,i,r,t[5],21,-57434055),r=jo(r,s,a,i,t[12],6,1700485571),i=jo(i,r,s,a,t[3],10,-1894986606),a=jo(a,i,r,s,t[10],15,-1051523),s=jo(s,a,i,r,t[1],21,-2054922799),r=jo(r,s,a,i,t[8],6,1873313359),i=jo(i,r,s,a,t[15],10,-30611744),a=jo(a,i,r,s,t[6],15,-1560198380),s=jo(s,a,i,r,t[13],21,1309151649),r=jo(r,s,a,i,t[4],6,-145523070),i=jo(i,r,s,a,t[11],10,-1120210379),a=jo(a,i,r,s,t[2],15,718787259),s=jo(s,a,i,r,t[9],21,-343485551),e[0]=Om(r,e[0]),e[1]=Om(s,e[1]),e[2]=Om(a,e[2]),e[3]=Om(i,e[3])}function d5(e,t,r,s,a,i){return t=Om(Om(t,e),Om(s,i)),Om(t<<a|t>>>32-a,r)}function yo(e,t,r,s,a,i,o){return d5(t&r|~t&s,e,t,a,i,o)}function wo(e,t,r,s,a,i,o){return d5(t&s|r&~s,e,t,a,i,o)}function bo(e,t,r,s,a,i,o){return d5(t^r^s,e,t,a,i,o)}function jo(e,t,r,s,a,i,o){return d5(r^(t|~s),e,t,a,i,o)}function Iae(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)iA(s,d$e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(iA(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,iA(s,a),s}function d$e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var sq="0123456789abcdef".split("");function h$e(e){for(var t="",r=0;r<4;r++)t+=sq[e>>8*r+4&15]+sq[e>>8*r&15];return t}function f$e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function A3(e){return Iae(e).map(f$e).join("")}var m$e=(function(e){for(var t=0;t<e.length;t++)e[t]=h$e(e[t]);return e.join("")})(Iae("hello"))!="5d41402abc4b2a76b9719d911017c592";function Om(e,t){if(m$e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P3(e,t){var r,s,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,s=l}else l=s;var h=t.length,m=0,f=0,x="";for(c=0;c<h;c++)f=(f+(d=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=d,o=l[(l[m]+l[f])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var aq={print:4,modify:8,copy:16,"annot-forms":32};function hx(e,t,r,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(aq.perm!==void 0)throw new Error("Invalid permission: "+l);a+=aq[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=A3(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=P3(this.encryptionKey,this.padding)}function fx(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var a=e.charCodeAt(s);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[s]}return t}function iq(e){if(Un(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,s)}catch(l){Hr.console&&Ss.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function h_(e){if(!(this instanceof h_))return new h_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Rae(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function cg(e,t,r,s,a){if(!(this instanceof cg))return new cg(e,t,r,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Rae.call(this,s,a)}function gx(e,t,r,s,a){if(!(this instanceof gx))return new gx(e,t,r,s,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Rae.call(this,s,a)}function br(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;Un(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=iq;var x="1.3",v=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(Y){x=Y};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var y=f.__private__.getPageFormat=function(Y){return g[Y]};a=a||"a4";var j="compat",b="advanced",_=j;function S(){this.saveGraphicsState(),pe(new Jt(Mt,0,0,-Mt,0,dl()*Mt).toString()+" cm"),this.setFontSize(this.getFontSize()/Mt),u="n",_=b}function T(){this.restoreGraphicsState(),u="S",_=j}var A=f.__private__.combineFontStyleAndFontWeight=function(Y,je){if(Y=="bold"&&je=="normal"||Y=="bold"&&je==400||Y=="normal"&&je=="italic"||Y=="bold"&&je=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return je&&(Y=je==400||je==="normal"?Y==="italic"?"italic":"normal":je!=700&&je!=="bold"||Y!=="normal"?(je==700?"bold":je)+""+Y:"bold"),Y};f.advancedAPI=function(Y){var je=_===j;return je&&S.call(this),typeof Y!="function"||(Y(this),je&&T.call(this)),this},f.compatAPI=function(Y){var je=_===b;return je&&T.call(this),typeof Y!="function"||(Y(this),je&&S.call(this)),this},f.isAdvancedAPI=function(){return _===b};var L,E=function(Y){if(_!==b)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=f.roundToPrecision=f.__private__.roundToPrecision=function(Y,je){var Re=t||je;if(isNaN(Y)||isNaN(Re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(Re).replace(/0+$/,"")};L=f.hpf=f.__private__.hpf=typeof c=="number"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return q(Y,c)}:c==="smart"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return q(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return q(Y,16)};var M=f.f2=f.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return q(Y,2)},C=f.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return q(Y,3)},I=f.scale=f.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return _===j?Y*Mt:_===b?Y:void 0},O=function(Y){return I((function(je){return _===j?dl()-je:_===b?je:void 0})(Y))};f.__private__.setPrecision=f.setPrecision=function(Y){typeof parseInt(Y,10)=="number"&&(t=parseInt(Y,10))};var H,re="00000000000000000000000000000000",U=f.__private__.getFileId=function(){return re},K=f.__private__.setFileId=function(Y){return re=Y!==void 0&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(aa=new hx(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};f.setFileId=function(Y){return K(Y),this},f.getFileId=function(){return U()};var ee=f.__private__.convertDateToPDFDate=function(Y){var je=Y.getTimezoneOffset(),Re=je<0?"+":"-",Ue=Math.floor(Math.abs(je/60)),Xe=Math.abs(je%60),dt=[Re,ie(Ue),"'",ie(Xe),"'"].join("");return["D:",Y.getFullYear(),ie(Y.getMonth()+1),ie(Y.getDate()),ie(Y.getHours()),ie(Y.getMinutes()),ie(Y.getSeconds()),dt].join("")},X=f.__private__.convertPDFDateToDate=function(Y){var je=parseInt(Y.substr(2,4),10),Re=parseInt(Y.substr(6,2),10)-1,Ue=parseInt(Y.substr(8,2),10),Xe=parseInt(Y.substr(10,2),10),dt=parseInt(Y.substr(12,2),10),gt=parseInt(Y.substr(14,2),10);return new Date(je,Re,Ue,Xe,dt,gt,0)},B=f.__private__.setCreationDate=function(Y){var je;if(Y===void 0&&(Y=new Date),Y instanceof Date)je=ee(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");je=Y}return H=je},D=f.__private__.getCreationDate=function(Y){var je=H;return Y==="jsDate"&&(je=X(H)),je};f.setCreationDate=function(Y){return B(Y),this},f.getCreationDate=function(Y){return D(Y)};var Q,ie=f.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},te=f.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},he=0,W=[],V=[],oe=0,me=[],de=[],ue=!1,Pe=V;f.__private__.setCustomOutputDestination=function(Y){ue=!0,Pe=Y};var G=function(Y){ue||(Pe=Y)};f.__private__.resetCustomOutputDestination=function(){ue=!1,Pe=V};var pe=f.__private__.out=function(Y){return Y=Y.toString(),oe+=Y.length+1,Pe.push(Y),Pe},ce=f.__private__.write=function(Y){return pe(arguments.length===1?Y.toString():Array.prototype.join.call(arguments," "))},$=f.__private__.getArrayBuffer=function(Y){for(var je=Y.length,Re=new ArrayBuffer(je),Ue=new Uint8Array(Re);je--;)Ue[je]=Y.charCodeAt(je);return Re},z=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return z};var Z=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(Y){return Z=_===b?Y/Mt:Y,this};var le,ge=f.__private__.getFontSize=f.getFontSize=function(){return _===j?Z:Z*Mt},we=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(Y){return we=Y,this},f.__private__.getR2L=f.getR2L=function(){return we};var Me,Be=f.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))le=Y;else if(isNaN(Y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');le=Y}else le=parseInt(Y,10)};f.__private__.getZoomMode=function(){return le};var Le,Ge=f.__private__.setPageMode=function(Y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');Me=Y};f.__private__.getPageMode=function(){return Me};var it=f.__private__.setLayoutMode=function(Y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');Le=Y};f.__private__.getLayoutMode=function(){return Le},f.__private__.setDisplayMode=f.setDisplayMode=function(Y,je,Re){return Be(Y),it(je),Ge(Re),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(Y){if(Object.keys(ut).indexOf(Y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[Y]},f.__private__.getDocumentProperties=function(){return ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(Y){for(var je in ut)ut.hasOwnProperty(je)&&Y[je]&&(ut[je]=Y[je]);return this},f.__private__.setDocumentProperty=function(Y,je){if(Object.keys(ut).indexOf(Y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[Y]=je};var Ct,Mt,Et,rn,Wt,Dt={},ir={},_r=[],nr={},Lr={},Ar={},Cn={},Sn=null,Yr=0,Yt=[],wn=new iq(f),kr=e.hotfixes||[],Zt={},nn={},hs=[],Jt=function Y(je,Re,Ue,Xe,dt,gt){if(!(this instanceof Y))return new Y(je,Re,Ue,Xe,dt,gt);isNaN(je)&&(je=1),isNaN(Re)&&(Re=0),isNaN(Ue)&&(Ue=0),isNaN(Xe)&&(Xe=1),isNaN(dt)&&(dt=0),isNaN(gt)&&(gt=0),this._matrix=[je,Re,Ue,Xe,dt,gt]};Object.defineProperty(Jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(Jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(Jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(Jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(Jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(Jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(Jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(Jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(Jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(Jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(Jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(Jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(Jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Jt.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(Y)},Jt.prototype.multiply=function(Y){var je=Y.sx*this.sx+Y.shy*this.shx,Re=Y.sx*this.shy+Y.shy*this.sy,Ue=Y.shx*this.sx+Y.sy*this.shx,Xe=Y.shx*this.shy+Y.sy*this.sy,dt=Y.tx*this.sx+Y.ty*this.shx+this.tx,gt=Y.tx*this.shy+Y.ty*this.sy+this.ty;return new Jt(je,Re,Ue,Xe,dt,gt)},Jt.prototype.decompose=function(){var Y=this.sx,je=this.shy,Re=this.shx,Ue=this.sy,Xe=this.tx,dt=this.ty,gt=Math.sqrt(Y*Y+je*je),sr=(Y/=gt)*Re+(je/=gt)*Ue;Re-=Y*sr,Ue-=je*sr;var xr=Math.sqrt(Re*Re+Ue*Ue);return sr/=xr,Y*(Ue/=xr)<je*(Re/=xr)&&(Y=-Y,je=-je,sr=-sr,gt=-gt),{scale:new Jt(gt,0,0,xr,0,0),translate:new Jt(1,0,0,1,Xe,dt),rotate:new Jt(Y,je,-je,Y,0,0),skew:new Jt(1,0,sr,1,0,0)}},Jt.prototype.toString=function(Y){return this.join(" ")},Jt.prototype.inversed=function(){var Y=this.sx,je=this.shy,Re=this.shx,Ue=this.sy,Xe=this.tx,dt=this.ty,gt=1/(Y*Ue-je*Re),sr=Ue*gt,xr=-je*gt,Ur=-Re*gt,$r=Y*gt;return new Jt(sr,xr,Ur,$r,-sr*Xe-Ur*dt,-xr*Xe-$r*dt)},Jt.prototype.applyToPoint=function(Y){var je=Y.x*this.sx+Y.y*this.shx+this.tx,Re=Y.x*this.shy+Y.y*this.sy+this.ty;return new Oc(je,Re)},Jt.prototype.applyToRectangle=function(Y){var je=this.applyToPoint(Y),Re=this.applyToPoint(new Oc(Y.x+Y.w,Y.y+Y.h));return new uh(je.x,je.y,Re.x-je.x,Re.y-je.y)},Jt.prototype.clone=function(){var Y=this.sx,je=this.shy,Re=this.shx,Ue=this.sy,Xe=this.tx,dt=this.ty;return new Jt(Y,je,Re,Ue,Xe,dt)},f.Matrix=Jt;var fs=f.matrixMult=function(Y,je){return je.multiply(Y)},Hs=new Jt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Hs;var Tn=function(Y,je){if(!Lr[Y]){var Re=(je instanceof cg?"Sh":"P")+(Object.keys(nr).length+1).toString(10);je.id=Re,Lr[Y]=Re,nr[Re]=je,wn.publish("addPattern",je)}};f.ShadingPattern=cg,f.TilingPattern=gx,f.addShadingPattern=function(Y,je){return E("addShadingPattern()"),Tn(Y,je),this},f.beginTilingPattern=function(Y){E("beginTilingPattern()"),ll(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},f.endTilingPattern=function(Y,je){E("endTilingPattern()"),je.stream=de[Q].join(`
`),Tn(Y,je),wn.publish("endTilingPattern",je),hs.pop().restore()};var Ms,fn=f.__private__.newObject=function(){var Y=zn();return Ls(Y,!0),Y},zn=f.__private__.newObjectDeferred=function(){return he++,W[he]=function(){return oe},he},Ls=function(Y,je){return je=typeof je=="boolean"&&je,W[Y]=oe,je&&pe(Y+" 0 obj"),Y},sl=f.__private__.newAdditionalObject=function(){var Y={objId:zn(),content:""};return me.push(Y),Y},al=zn(),ao=zn(),ja=f.__private__.decodeColorString=function(Y){var je=Y.split(" ");if(je.length!==2||je[1]!=="g"&&je[1]!=="G")je.length!==5||je[4]!=="k"&&je[4]!=="K"||(je=[(1-je[0])*(1-je[3]),(1-je[1])*(1-je[3]),(1-je[2])*(1-je[3]),"r"]);else{var Re=parseFloat(je[0]);je=[Re,Re,Re,"r"]}for(var Ue="#",Xe=0;Xe<3;Xe++)Ue+=("0"+Math.floor(255*parseFloat(je[Xe])).toString(16)).slice(-2);return Ue},Na=f.__private__.encodeColorString=function(Y){var je;typeof Y=="string"&&(Y={ch1:Y});var Re=Y.ch1,Ue=Y.ch2,Xe=Y.ch3,dt=Y.ch4,gt=Y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Re=="string"&&Re.charAt(0)!=="#"){var sr=new Oae(Re);if(sr.ok)Re=sr.toHex();else if(!/^\d*\.?\d*$/.test(Re))throw new Error('Invalid color "'+Re+'" passed to jsPDF.encodeColorString.')}if(typeof Re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Re)&&(Re="#"+Re[1]+Re[1]+Re[2]+Re[2]+Re[3]+Re[3]),typeof Re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Re)){var xr=parseInt(Re.substr(1),16);Re=xr>>16&255,Ue=xr>>8&255,Xe=255&xr}if(Ue===void 0||dt===void 0&&Re===Ue&&Ue===Xe)je=typeof Re=="string"?Re+" "+gt[0]:Y.precision===2?M(Re/255)+" "+gt[0]:C(Re/255)+" "+gt[0];else if(dt===void 0||Un(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return["1.","1.","1.",gt[1]].join(" ");je=typeof Re=="string"?[Re,Ue,Xe,gt[1]].join(" "):Y.precision===2?[M(Re/255),M(Ue/255),M(Xe/255),gt[1]].join(" "):[C(Re/255),C(Ue/255),C(Xe/255),gt[1]].join(" ")}else je=typeof Re=="string"?[Re,Ue,Xe,dt,gt[2]].join(" "):Y.precision===2?[M(Re),M(Ue),M(Xe),M(dt),gt[2]].join(" "):[C(Re),C(Ue),C(Xe),C(dt),gt[2]].join(" ");return je},Vi=f.__private__.getFilters=function(){return o},Si=f.__private__.putStream=function(Y){var je=(Y=Y||{}).data||"",Re=Y.filters||Vi(),Ue=Y.alreadyAppliedFilters||[],Xe=Y.addLength1||!1,dt=je.length,gt=Y.objectId,sr=function($a){return $a};if(d!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(sr=aa.encryptor(gt,0));var xr={};Re===!0&&(Re=["FlateEncode"]);var Ur=Y.additionalKeyValues||[],$r=(xr=br.API.processDataByFilters!==void 0?br.API.processDataByFilters(je,Re):{data:je,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(xr.data.length!==0&&(Ur.push({key:"Length",value:xr.data.length}),Xe===!0&&Ur.push({key:"Length1",value:dt})),$r.length!=0)if($r.split("/").length-1==1)Ur.push({key:"Filter",value:$r});else{Ur.push({key:"Filter",value:"["+$r+"]"});for(var On=0;On<Ur.length;On+=1)if(Ur[On].key==="DecodeParms"){for(var Bs=[],Sa=0;Sa<xr.reverseChain.split("/").length-1;Sa+=1)Bs.push("null");Bs.push(Ur[On].value),Ur[On].value="["+Bs.join(" ")+"]"}}pe("<<");for(var ms=0;ms<Ur.length;ms++)pe("/"+Ur[ms].key+" "+Ur[ms].value);pe(">>"),xr.data.length!==0&&(pe("stream"),pe(sr(xr.data)),pe("endstream"))},kc=f.__private__.putPage=function(Y){var je=Y.number,Re=Y.data,Ue=Y.objId,Xe=Y.contentsObjId;Ls(Ue,!0),pe("<</Type /Page"),pe("/Parent "+Y.rootDictionaryObjId+" 0 R"),pe("/Resources "+Y.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(L(Y.mediaBox.bottomLeftX))+" "+parseFloat(L(Y.mediaBox.bottomLeftY))+" "+L(Y.mediaBox.topRightX)+" "+L(Y.mediaBox.topRightY)+"]"),Y.cropBox!==null&&pe("/CropBox ["+L(Y.cropBox.bottomLeftX)+" "+L(Y.cropBox.bottomLeftY)+" "+L(Y.cropBox.topRightX)+" "+L(Y.cropBox.topRightY)+"]"),Y.bleedBox!==null&&pe("/BleedBox ["+L(Y.bleedBox.bottomLeftX)+" "+L(Y.bleedBox.bottomLeftY)+" "+L(Y.bleedBox.topRightX)+" "+L(Y.bleedBox.topRightY)+"]"),Y.trimBox!==null&&pe("/TrimBox ["+L(Y.trimBox.bottomLeftX)+" "+L(Y.trimBox.bottomLeftY)+" "+L(Y.trimBox.topRightX)+" "+L(Y.trimBox.topRightY)+"]"),Y.artBox!==null&&pe("/ArtBox ["+L(Y.artBox.bottomLeftX)+" "+L(Y.artBox.bottomLeftY)+" "+L(Y.artBox.topRightX)+" "+L(Y.artBox.topRightY)+"]"),typeof Y.userUnit=="number"&&Y.userUnit!==1&&pe("/UserUnit "+Y.userUnit),wn.publish("putPage",{objId:Ue,pageContext:Yt[je],pageNumber:je,page:Re}),pe("/Contents "+Xe+" 0 R"),pe(">>"),pe("endobj");var dt=Re.join(`
`);return _===b&&(dt+=`
Q`),Ls(Xe,!0),Si({data:dt,filters:Vi(),objectId:Xe}),pe("endobj"),Ue},Oo=f.__private__.putPages=function(){var Y,je,Re=[];for(Y=1;Y<=Yr;Y++)Yt[Y].objId=zn(),Yt[Y].contentsObjId=zn();for(Y=1;Y<=Yr;Y++)Re.push(kc({number:Y,data:de[Y],objId:Yt[Y].objId,contentsObjId:Yt[Y].contentsObjId,mediaBox:Yt[Y].mediaBox,cropBox:Yt[Y].cropBox,bleedBox:Yt[Y].bleedBox,trimBox:Yt[Y].trimBox,artBox:Yt[Y].artBox,userUnit:Yt[Y].userUnit,rootDictionaryObjId:al,resourceDictionaryObjId:ao}));Ls(al,!0),pe("<</Type /Pages");var Ue="/Kids [";for(je=0;je<Yr;je++)Ue+=Re[je]+" 0 R ";pe(Ue+"]"),pe("/Count "+Yr),pe(">>"),pe("endobj"),wn.publish("postPutPages")},er=function(Y){wn.publish("putFont",{font:Y,out:pe,newObject:fn,putStream:Si}),Y.isAlreadyPutted!==!0&&(Y.objectNumber=fn(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+fx(Y.postScriptName)),pe("/Subtype /Type1"),typeof Y.encoding=="string"&&pe("/Encoding /"+Y.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},We=function(Y){Y.objectNumber=fn();var je=[];je.push({key:"Type",value:"/XObject"}),je.push({key:"Subtype",value:"/Form"}),je.push({key:"BBox",value:"["+[L(Y.x),L(Y.y),L(Y.x+Y.width),L(Y.y+Y.height)].join(" ")+"]"}),je.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var Re=Y.pages[1].join(`
`);Si({data:Re,additionalKeyValues:je,objectId:Y.objectNumber}),pe("endobj")},Nt=function(Y,je){je||(je=21);var Re=fn(),Ue=(function(gt,sr){var xr,Ur=[],$r=1/(sr-1);for(xr=0;xr<1;xr+=$r)Ur.push(xr);if(Ur.push(1),gt[0].offset!=0){var On={offset:0,color:gt[0].color};gt.unshift(On)}if(gt[gt.length-1].offset!=1){var Bs={offset:1,color:gt[gt.length-1].color};gt.push(Bs)}for(var Sa="",ms=0,$a=0;$a<Ur.length;$a++){for(xr=Ur[$a];xr>gt[ms+1].offset;)ms++;var ia=gt[ms].offset,hi=(xr-ia)/(gt[ms+1].offset-ia),hl=gt[ms].color,lo=gt[ms+1].color;Sa+=te(Math.round((1-hi)*hl[0]+hi*lo[0]).toString(16))+te(Math.round((1-hi)*hl[1]+hi*lo[1]).toString(16))+te(Math.round((1-hi)*hl[2]+hi*lo[2]).toString(16))}return Sa.trim()})(Y.colors,je),Xe=[];Xe.push({key:"FunctionType",value:"0"}),Xe.push({key:"Domain",value:"[0.0 1.0]"}),Xe.push({key:"Size",value:"["+je+"]"}),Xe.push({key:"BitsPerSample",value:"8"}),Xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Si({data:Ue,additionalKeyValues:Xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Re}),pe("endobj"),Y.objectNumber=fn(),pe("<< /ShadingType "+Y.type),pe("/ColorSpace /DeviceRGB");var dt="/Coords ["+L(parseFloat(Y.coords[0]))+" "+L(parseFloat(Y.coords[1]))+" ";Y.type===2?dt+=L(parseFloat(Y.coords[2]))+" "+L(parseFloat(Y.coords[3])):dt+=L(parseFloat(Y.coords[2]))+" "+L(parseFloat(Y.coords[3]))+" "+L(parseFloat(Y.coords[4]))+" "+L(parseFloat(Y.coords[5])),pe(dt+="]"),Y.matrix&&pe("/Matrix ["+Y.matrix.toString()+"]"),pe("/Function "+Re+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Vt=function(Y,je){var Re=zn(),Ue=fn();je.push({resourcesOid:Re,objectOid:Ue}),Y.objectNumber=Ue;var Xe=[];Xe.push({key:"Type",value:"/Pattern"}),Xe.push({key:"PatternType",value:"1"}),Xe.push({key:"PaintType",value:"1"}),Xe.push({key:"TilingType",value:"1"}),Xe.push({key:"BBox",value:"["+Y.boundingBox.map(L).join(" ")+"]"}),Xe.push({key:"XStep",value:L(Y.xStep)}),Xe.push({key:"YStep",value:L(Y.yStep)}),Xe.push({key:"Resources",value:Re+" 0 R"}),Y.matrix&&Xe.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),Si({data:Y.stream,additionalKeyValues:Xe,objectId:Y.objectNumber}),pe("endobj")},Yn=function(Y){for(var je in Y.objectNumber=fn(),pe("<<"),Y)switch(je){case"opacity":pe("/ca "+M(Y[je]));break;case"stroke-opacity":pe("/CA "+M(Y[je]))}pe(">>"),pe("endobj")},sn=function(Y){Ls(Y.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var je in pe("/Font <<"),Dt)Dt.hasOwnProperty(je)&&(h===!1||h===!0&&m.hasOwnProperty(je))&&pe("/"+je+" "+Dt[je].objectNumber+" 0 R");pe(">>")})(),(function(){if(Object.keys(nr).length>0){for(var je in pe("/Shading <<"),nr)nr.hasOwnProperty(je)&&nr[je]instanceof cg&&nr[je].objectNumber>=0&&pe("/"+je+" "+nr[je].objectNumber+" 0 R");wn.publish("putShadingPatternDict"),pe(">>")}})(),(function(je){if(Object.keys(nr).length>0){for(var Re in pe("/Pattern <<"),nr)nr.hasOwnProperty(Re)&&nr[Re]instanceof f.TilingPattern&&nr[Re].objectNumber>=0&&nr[Re].objectNumber<je&&pe("/"+Re+" "+nr[Re].objectNumber+" 0 R");wn.publish("putTilingPatternDict"),pe(">>")}})(Y.objectOid),(function(){if(Object.keys(Ar).length>0){var je;for(je in pe("/ExtGState <<"),Ar)Ar.hasOwnProperty(je)&&Ar[je].objectNumber>=0&&pe("/"+je+" "+Ar[je].objectNumber+" 0 R");wn.publish("putGStateDict"),pe(">>")}})(),(function(){for(var je in pe("/XObject <<"),Zt)Zt.hasOwnProperty(je)&&Zt[je].objectNumber>=0&&pe("/"+je+" "+Zt[je].objectNumber+" 0 R");wn.publish("putXobjectDict"),pe(">>")})(),pe(">>"),pe("endobj")},js=function(Y){ir[Y.fontName]=ir[Y.fontName]||{},ir[Y.fontName][Y.fontStyle]=Y.id},sa=function(Y,je,Re,Ue,Xe){var dt={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:Y,fontName:je,fontStyle:Re,encoding:Ue,isStandardFont:Xe||!1,metadata:{}};return wn.publish("addFont",{font:dt,instance:this}),Dt[dt.id]=dt,js(dt),dt.id},Fs=f.__private__.pdfEscape=f.pdfEscape=function(Y,je){return(function(Re,Ue){var Xe,dt,gt,sr,xr,Ur,$r,On,Bs;if(gt=(Ue=Ue||{}).sourceEncoding||"Unicode",xr=Ue.outputEncoding,(Ue.autoencode||xr)&&Dt[Ct].metadata&&Dt[Ct].metadata[gt]&&Dt[Ct].metadata[gt].encoding&&(sr=Dt[Ct].metadata[gt].encoding,!xr&&Dt[Ct].encoding&&(xr=Dt[Ct].encoding),!xr&&sr.codePages&&(xr=sr.codePages[0]),typeof xr=="string"&&(xr=sr[xr]),xr)){for($r=!1,Ur=[],Xe=0,dt=Re.length;Xe<dt;Xe++)(On=xr[Re.charCodeAt(Xe)])?Ur.push(String.fromCharCode(On)):Ur.push(Re[Xe]),Ur[Xe].charCodeAt(0)>>8&&($r=!0);Re=Ur.join("")}for(Xe=Re.length;$r===void 0&&Xe!==0;)Re.charCodeAt(Xe-1)>>8&&($r=!0),Xe--;if(!$r)return Re;for(Ur=Ue.noBOM?[]:[254,255],Xe=0,dt=Re.length;Xe<dt;Xe++){if((Bs=(On=Re.charCodeAt(Xe))>>8)>>8)throw new Error("Character at position "+Xe+" of string '"+Re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ur.push(Bs),Ur.push(On-(Bs<<8))}return String.fromCharCode.apply(void 0,Ur)})(Y,je).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hi=f.__private__.beginPage=function(Y){de[++Yr]=[],Yt[Yr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},Cc(Yr),G(de[Q])},fd=function(Y,je){var Re,Ue,Xe;switch(r=je||r,typeof Y=="string"&&(Re=y(Y.toLowerCase()),Array.isArray(Re)&&(Ue=Re[0],Xe=Re[1])),Array.isArray(Y)&&(Ue=Y[0]*Mt,Xe=Y[1]*Mt),isNaN(Ue)&&(Ue=a[0],Xe=a[1]),(Ue>14400||Xe>14400)&&(Ss.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),Xe=Math.min(14400,Xe)),a=[Ue,Xe],r.substr(0,1)){case"l":Xe>Ue&&(a=[Xe,Ue]);break;case"p":Ue>Xe&&(a=[Xe,Ue])}Hi(a),lh(ol),pe(ch),wp!==0&&pe(wp+" J"),bp!==0&&pe(bp+" j"),wn.publish("addPage",{pageNumber:Yr})},Cs=function(Y){Y>0&&Y<=Yr&&(de.splice(Y,1),Yt.splice(Y,1),Yr--,Q>Yr&&(Q=Yr),this.setPage(Q))},Cc=function(Y){Y>0&&Y<=Yr&&(Q=Y)},ki=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return de.length-1},mv=function(Y,je,Re){var Ue,Xe=void 0;return Re=Re||{},Y=Y!==void 0?Y:Dt[Ct].fontName,je=je!==void 0?je:Dt[Ct].fontStyle,Ue=Y.toLowerCase(),ir[Ue]!==void 0&&ir[Ue][je]!==void 0?Xe=ir[Ue][je]:ir[Y]!==void 0&&ir[Y][je]!==void 0?Xe=ir[Y][je]:Re.disableWarning===!1&&Ss.warn("Unable to look up font label for font '"+Y+"', '"+je+"'. Refer to getFontList() for available fonts."),Xe||Re.noFallback||(Xe=ir.times[je])==null&&(Xe=ir.times.normal),Xe},Ci=f.__private__.putInfo=function(){var Y=fn(),je=function(Ue){return Ue};for(var Re in d!==null&&(je=aa.encryptor(Y,0)),pe("<<"),pe("/Producer ("+Fs(je("jsPDF "+br.version))+")"),ut)ut.hasOwnProperty(Re)&&ut[Re]&&pe("/"+Re.substr(0,1).toUpperCase()+Re.substr(1)+" ("+Fs(je(ut[Re]))+")");pe("/CreationDate ("+Fs(je(H))+")"),pe(">>"),pe("endobj")},l0=f.__private__.putCatalog=function(Y){var je=(Y=Y||{}).rootDictionaryObjId||al;switch(fn(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+je+" 0 R"),le||(le="fullwidth"),le){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Re=""+le;Re.substr(Re.length-1)==="%"&&(le=parseInt(le)/100),typeof le=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+M(le)+"]")}switch(Le||(Le="continuous"),Le){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Me&&pe("/PageMode /"+Me),wn.publish("putCatalog"),pe(">>"),pe("endobj")},_a=f.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(he+1)),pe("/Root "+he+" 0 R"),pe("/Info "+(he-1)+" 0 R"),d!==null&&pe("/Encrypt "+aa.oid+" 0 R"),pe("/ID [ <"+re+"> <"+re+"> ]"),pe(">>")},pv=f.__private__.putHeader=function(){pe("%PDF-"+x),pe("%")},sh=f.__private__.putXRef=function(){var Y="0000000000";pe("xref"),pe("0 "+(he+1)),pe("0000000000 65535 f ");for(var je=1;je<=he;je++)typeof W[je]=="function"?pe((Y+W[je]()).slice(-10)+" 00000 n "):W[je]!==void 0?pe((Y+W[je]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},il=f.__private__.buildDocument=function(){var Y;he=0,oe=0,V=[],W=[],me=[],al=zn(),ao=zn(),G(V),wn.publish("buildDocument"),pv(),Oo(),(function(){wn.publish("putAdditionalObjects");for(var Re=0;Re<me.length;Re++){var Ue=me[Re];Ls(Ue.objId,!0),pe(Ue.content),pe("endobj")}wn.publish("postPutAdditionalObjects")})(),Y=[],(function(){for(var Re in Dt)Dt.hasOwnProperty(Re)&&(h===!1||h===!0&&m.hasOwnProperty(Re))&&er(Dt[Re])})(),(function(){var Re;for(Re in Ar)Ar.hasOwnProperty(Re)&&Yn(Ar[Re])})(),(function(){for(var Re in Zt)Zt.hasOwnProperty(Re)&&We(Zt[Re])})(),(function(Re){var Ue;for(Ue in nr)nr.hasOwnProperty(Ue)&&(nr[Ue]instanceof cg?Nt(nr[Ue]):nr[Ue]instanceof gx&&Vt(nr[Ue],Re))})(Y),wn.publish("putResources"),Y.forEach(sn),sn({resourcesOid:ao,objectOid:Number.MAX_SAFE_INTEGER}),wn.publish("postPutResources"),d!==null&&(aa.oid=fn(),pe("<<"),pe("/Filter /Standard"),pe("/V "+aa.v),pe("/R "+aa.r),pe("/U <"+aa.toHexString(aa.U)+">"),pe("/O <"+aa.toHexString(aa.O)+">"),pe("/P "+aa.P),pe(">>"),pe("endobj")),Ci(),l0();var je=oe;return sh(),_a(),pe("startxref"),pe(""+je),pe("%%EOF"),G(de[Q]),V.join(`
`)},Ml=f.__private__.getBlob=function(Y){return new Blob([$(Y)],{type:"application/pdf"})},io=f.output=f.__private__.output=(Ms=function(Y,je){switch(typeof(je=je||{})=="string"?je={filename:je}:je.filename=je.filename||"generated.pdf",Y){case void 0:return il();case"save":f.save(je.filename);break;case"arraybuffer":return $(il());case"blob":return Ml(il());case"bloburi":case"bloburl":if(Hr.URL!==void 0&&typeof Hr.URL.createObjectURL=="function")return Hr.URL&&Hr.URL.createObjectURL(Ml(il()))||void 0;Ss.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Re="",Ue=il();try{Re=nq(Ue)}catch{Re=nq(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+je.filename+";base64,"+Re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Hr)==="[object Window]"){var Xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';je.pdfObjectUrl&&(Xe=je.pdfObjectUrl,dt="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Xe+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(je)+");<\/script></body></html>",sr=Hr.open();return sr!==null&&sr.document.write(gt),sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Hr)==="[object Window]"){var xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(je.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+je.filename+'" width="500px" height="400px" /></body></html>',Ur=Hr.open();if(Ur!==null){Ur.document.write(xr);var $r=this;Ur.document.documentElement.querySelector("#pdfViewer").onload=function(){Ur.document.title=je.filename,Ur.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($r.output("bloburl"))}}return Ur}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Hr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var On='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",je)+'"></iframe></body></html>',Bs=Hr.open();if(Bs!==null&&(Bs.document.write(On),Bs.document.title=je.filename),Bs||typeof safari>"u")return Bs;break;case"datauri":case"dataurl":return Hr.document.location.href=this.output("datauristring",je);default:return null}},Ms.foo=function(){try{return Ms.apply(this,arguments)}catch(Re){var Y=Re.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var je="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Re.message;if(!Hr.console)throw new Error(je);Hr.console.error(je,Re),Hr.alert&&alert(je)}},Ms.foo.bar=Ms,Ms.foo),ah=function(Y){return Array.isArray(kr)===!0&&kr.indexOf(Y)>-1};switch(s){case"pt":Mt=1;break;case"mm":Mt=72/25.4;break;case"cm":Mt=72/2.54;break;case"in":Mt=72;break;case"px":Mt=ah("px_scaling")==1?.75:96/72;break;case"pc":case"em":Mt=12;break;case"ex":Mt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Mt=s}var aa=null;B(),K();var ih=f.__private__.getPageInfo=f.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[Y].objId,pageNumber:Y,pageContext:Yt[Y]}},gv=f.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var je in Yt)if(Yt[je].objId===Y)break;return ih(je)},vp=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Yt[Q].objId,pageNumber:Q,pageContext:Yt[Q]}};f.addPage=function(){return fd.apply(this,arguments),this},f.setPage=function(){return Cc.apply(this,arguments),G.call(this,de[Q]),this},f.insertPage=function(Y){return this.addPage(),this.movePage(Q,Y),this},f.movePage=function(Y,je){var Re,Ue;if(Y>je){Re=de[Y],Ue=Yt[Y];for(var Xe=Y;Xe>je;Xe--)de[Xe]=de[Xe-1],Yt[Xe]=Yt[Xe-1];de[je]=Re,Yt[je]=Ue,this.setPage(je)}else if(Y<je){Re=de[Y],Ue=Yt[Y];for(var dt=Y;dt<je;dt++)de[dt]=de[dt+1],Yt[dt]=Yt[dt+1];de[je]=Re,Yt[je]=Ue,this.setPage(je)}return this},f.deletePage=function(){return Cs.apply(this,arguments),this},f.__private__.text=f.text=function(Y,je,Re,Ue,Xe){var dt,gt,sr,xr,Ur,$r,On,Bs,Sa,ms=(Ue=Ue||{}).scope||this;if(typeof Y=="number"&&typeof je=="number"&&(typeof Re=="string"||Array.isArray(Re))){var $a=Re;Re=je,je=Y,Y=$a}if(arguments[3]instanceof Jt==0?(sr=arguments[4],xr=arguments[5],Un(On=arguments[3])==="object"&&On!==null||(typeof sr=="string"&&(xr=sr,sr=null),typeof On=="string"&&(xr=On,On=null),typeof On=="number"&&(sr=On,On=null),Ue={flags:On,angle:sr,align:xr})):(E("The transform parameter of text() with a Matrix value"),Sa=Xe),isNaN(je)||isNaN(Re)||Y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Y.length===0)return ms;var ia,hi="",hl=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:oo,lo=ms.internal.scaleFactor;function bv(In){return In=In.split("	").join(Array(Ue.TabLen||9).join(" ")),Fs(In,On)}function md(In){for(var Jn,Ys=In.concat(),ka=[],ql=Ys.length;ql--;)typeof(Jn=Ys.shift())=="string"?ka.push(Jn):Array.isArray(In)&&(Jn.length===1||Jn[1]===void 0&&Jn[2]===void 0)?ka.push(Jn[0]):ka.push([Jn[0],Jn[1],Jn[2]]);return ka}function fh(In,Jn){var Ys;if(typeof In=="string")Ys=Jn(In)[0];else if(Array.isArray(In)){for(var ka,ql,kp=In.concat(),Bf=[],Cu=kp.length;Cu--;)typeof(ka=kp.shift())=="string"?Bf.push(Jn(ka)[0]):Array.isArray(ka)&&typeof ka[0]=="string"&&(ql=Jn(ka[0],ka[1],ka[2]),Bf.push([ql[0],ql[1],ql[2]]));Ys=Bf}return Ys}var pd=!1,mh=!0;if(typeof Y=="string")pd=!0;else if(Array.isArray(Y)){var gd=Y.concat();gt=[];for(var ph,Ai=gd.length;Ai--;)(typeof(ph=gd.shift())!="string"||Array.isArray(ph)&&typeof ph[0]!="string")&&(mh=!1);pd=mh}if(pd===!1)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');typeof Y=="string"&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var gh=Z/ms.internal.scaleFactor,vh=gh*(hl-1);switch(Ue.baseline){case"bottom":Re-=vh;break;case"top":Re+=gh-vh;break;case"hanging":Re+=gh-2*vh;break;case"middle":Re+=gh/2-vh}if(($r=Ue.maxWidth||0)>0&&(typeof Y=="string"?Y=ms.splitTextToSize(Y,$r):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(In,Jn){return In.concat(ms.splitTextToSize(Jn,$r))},[]))),dt={text:Y,x:je,y:Re,options:Ue,mutex:{pdfEscape:Fs,activeFontKey:Ct,fonts:Dt,activeFontSize:Z}},wn.publish("preProcessText",dt),Y=dt.text,sr=(Ue=dt.options).angle,Sa instanceof Jt==0&&sr&&typeof sr=="number"){sr*=Math.PI/180,Ue.rotationDirection===0&&(sr=-sr),_===b&&(sr=-sr);var _p=Math.cos(sr),Sp=Math.sin(sr);Sa=new Jt(_p,Sp,-Sp,_p,0,0)}else sr&&sr instanceof Jt&&(Sa=sr);_!==b||Sa||(Sa=Hs),(Ur=Ue.charSpace||Bl)!==void 0&&(hi+=L(I(Ur))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Bs=Ue.horizontalScale)!==void 0&&(hi+=L(100*Bs)+` Tz
`),Ue.lang;var Gs=-1,Ul=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,Ic=ms.internal.getCurrentPageInfo().pageContext;switch(Ul){case 0:case!1:case"fill":Gs=0;break;case 1:case!0:case"stroke":Gs=1;break;case 2:case"fillThenStroke":Gs=2;break;case 3:case"invisible":Gs=3;break;case 4:case"fillAndAddForClipping":Gs=4;break;case 5:case"strokeAndAddPathForClipping":Gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gs=6;break;case 7:case"addToPathForClipping":Gs=7}var jv=Ic.usedRenderingMode!==void 0?Ic.usedRenderingMode:-1;Gs!==-1?hi+=Gs+` Tr
`:jv!==-1&&(hi+=`0 Tr
`),Gs!==-1&&(Ic.usedRenderingMode=Gs),xr=Ue.align||"left";var Ro,vd=Z*hl,Df=ms.internal.pageSize.getWidth(),Mf=Dt[Ct];Ur=Ue.charSpace||Bl,$r=Ue.maxWidth||0,On=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var Nu=[],fl=function(In){return ms.getStringUnitWidth(In,{font:Mf,charSpace:Ur,fontSize:Z,doKerning:!1})*Z/lo};if(Object.prototype.toString.call(Y)==="[object Array]"){var Do;gt=md(Y),xr!=="left"&&(Ro=gt.map(fl));var Mo,xd=0;if(xr==="right"){je-=Ro[0],Y=[],Ai=gt.length;for(var Rc=0;Rc<Ai;Rc++)Rc===0?(Mo=Io(je),Do=wu(Re)):(Mo=I(xd-Ro[Rc]),Do=-vd),Y.push([gt[Rc],Mo,Do]),xd=Ro[Rc]}else if(xr==="center"){je-=Ro[0]/2,Y=[],Ai=gt.length;for(var _u=0;_u<Ai;_u++)_u===0?(Mo=Io(je),Do=wu(Re)):(Mo=I((xd-Ro[_u])/2),Do=-vd),Y.push([gt[_u],Mo,Do]),xd=Ro[_u]}else if(xr==="left"){Y=[],Ai=gt.length;for(var Su=0;Su<Ai;Su++)Y.push(gt[Su])}else if(xr==="justify"&&Mf.encoding==="Identity-H"){Y=[],Ai=gt.length,$r=$r!==0?$r:Df;for(var Dc=0,oa=0;oa<Ai;oa++)if(Do=oa===0?wu(Re):-vd,Mo=oa===0?Io(je):Dc,oa<Ai-1){var xh=I(($r-Ro[oa])/(gt[oa].split(" ").length-1)),Mc=gt[oa].split(" ");Y.push([Mc[0]+" ",Mo,Do]),Dc=0;for(var $l=1;$l<Mc.length;$l++){var yh=(fl(Mc[$l-1]+" "+Mc[$l])-fl(Mc[$l]))*lo+xh;$l==Mc.length-1?Y.push([Mc[$l],yh,0]):Y.push([Mc[$l]+" ",yh,0]),Dc-=yh}}else Y.push([gt[oa],Mo,Do]);Y.push(["",Dc,0])}else{if(xr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Y=[],Ai=gt.length,$r=$r!==0?$r:Df,oa=0;oa<Ai;oa++){Do=oa===0?wu(Re):-vd,Mo=oa===0?Io(je):0;var wh=gt[oa].split(" ").length-1,Lf=wh>0?($r-Ro[oa])/wh:0;oa<Ai-1?Nu.push(L(I(Lf))):Nu.push(0),Y.push([gt[oa],Mo,Do])}}}(typeof Ue.R2L=="boolean"?Ue.R2L:we)===!0&&(Y=fh(Y,function(In,Jn,Ys){return[In.split("").reverse().join(""),Jn,Ys]})),dt={text:Y,x:je,y:Re,options:Ue,mutex:{pdfEscape:Fs,activeFontKey:Ct,fonts:Dt,activeFontSize:Z}},wn.publish("postProcessText",dt),Y=dt.text,ia=dt.mutex.isHex||!1;var Ff=Dt[Ct].encoding;Ff!=="WinAnsiEncoding"&&Ff!=="StandardEncoding"||(Y=fh(Y,function(In,Jn,Ys){return[bv(In),Jn,Ys]})),gt=md(Y),Y=[];for(var ku,yd,wd,bh=Array.isArray(gt[0])?1:0,bd="",jh=function(In,Jn,Ys){var ka="";return Ys instanceof Jt?(Ys=typeof Ue.angle=="number"?fs(Ys,new Jt(1,0,0,1,In,Jn)):fs(new Jt(1,0,0,1,In,Jn),Ys),_===b&&(Ys=fs(new Jt(1,0,0,-1,0,0),Ys)),ka=Ys.join(" ")+` Tm
`):ka=L(In)+" "+L(Jn)+` Td
`,ka},Ks=0;Ks<gt.length;Ks++){switch(bd="",bh){case 1:wd=(ia?"<":"(")+gt[Ks][0]+(ia?">":")"),ku=parseFloat(gt[Ks][1]),yd=parseFloat(gt[Ks][2]);break;case 0:wd=(ia?"<":"(")+gt[Ks]+(ia?">":")"),ku=Io(je),yd=wu(Re)}Nu!==void 0&&Nu[Ks]!==void 0&&(bd=Nu[Ks]+` Tw
`),Ks===0?Y.push(bd+jh(ku,yd,Sa)+wd):bh===0?Y.push(bd+wd):bh===1&&Y.push(bd+jh(ku,yd,Sa)+wd)}Y=bh===0?Y.join(` Tj
T* `):Y.join(` Tj
`),Y+=` Tj
`;var co=`BT
/`;return co+=Ct+" "+Z+` Tf
`,co+=L(Z*hl)+` TL
`,co+=Fl+`
`,co+=hi,co+=Y,pe(co+="ET"),m[Ct]=!0,ms};var oh=f.__private__.clip=f.clip=function(Y){return pe(Y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return oh("evenodd")},f.__private__.discardPath=f.discardPath=function(){return pe("n"),this};var Ec=f.__private__.isValidStyle=function(Y){var je=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)!==-1&&(je=!0),je};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(Y){return Ec(Y)&&(u=Y),this};var Af=f.__private__.getStyle=f.getStyle=function(Y){var je=u;switch(Y){case"D":case"S":je="S";break;case"F":je="f";break;case"FD":case"DF":je="B";break;case"f":case"f*":case"B":case"B*":je=Y}return je},An=f.close=function(){return pe("h"),this};f.stroke=function(){return pe("S"),this},f.fill=function(Y){return xu("f",Y),this},f.fillEvenOdd=function(Y){return xu("f*",Y),this},f.fillStroke=function(Y){return xu("B",Y),this},f.fillStrokeEvenOdd=function(Y){return xu("B*",Y),this};var xu=function(Y,je){Un(je)==="object"?vv(je,Y):pe(Y)},Pf=function(Y){Y===null||_===b&&Y===void 0||(Y=Af(Y),pe(Y))};function xp(Y,je,Re,Ue,Xe){var dt=new gx(je||this.boundingBox,Re||this.xStep,Ue||this.yStep,this.gState,Xe||this.matrix);dt.stream=this.stream;var gt=Y+"$$"+this.cloneIndex+++"$$";return Tn(gt,dt),dt}var vv=function(Y,je){var Re=Lr[Y.key],Ue=nr[Re];if(Ue instanceof cg)pe("q"),pe(xv(je)),Ue.gState&&f.setGState(Ue.gState),pe(Y.matrix.toString()+" cm"),pe("/"+Re+" sh"),pe("Q");else if(Ue instanceof gx){var Xe=new Jt(1,0,0,-1,0,dl());Y.matrix&&(Xe=Xe.multiply(Y.matrix||Hs),Re=xp.call(Ue,Y.key,Y.boundingBox,Y.xStep,Y.yStep,Xe).id),pe("q"),pe("/Pattern cs"),pe("/"+Re+" scn"),Ue.gState&&f.setGState(Ue.gState),pe(je),pe("Q")}},xv=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tf=f.moveTo=function(Y,je){return pe(L(I(Y))+" "+L(O(je))+" m"),this},yu=f.lineTo=function(Y,je){return pe(L(I(Y))+" "+L(O(je))+" l"),this},Ll=f.curveTo=function(Y,je,Re,Ue,Xe,dt){return pe([L(I(Y)),L(O(je)),L(I(Re)),L(O(Ue)),L(I(Xe)),L(O(dt)),"c"].join(" ")),this};f.__private__.line=f.line=function(Y,je,Re,Ue,Xe){if(isNaN(Y)||isNaN(je)||isNaN(Re)||isNaN(Ue)||!Ec(Xe))throw new Error("Invalid arguments passed to jsPDF.line");return _===j?this.lines([[Re-Y,Ue-je]],Y,je,[1,1],Xe||"S"):this.lines([[Re-Y,Ue-je]],Y,je,[1,1]).stroke()},f.__private__.lines=f.lines=function(Y,je,Re,Ue,Xe,dt){var gt,sr,xr,Ur,$r,On,Bs,Sa,ms,$a,ia,hi;if(typeof Y=="number"&&(hi=Re,Re=je,je=Y,Y=hi),Ue=Ue||[1,1],dt=dt||!1,isNaN(je)||isNaN(Re)||!Array.isArray(Y)||!Array.isArray(Ue)||!Ec(Xe)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tf(je,Re),gt=Ue[0],sr=Ue[1],Ur=Y.length,$a=je,ia=Re,xr=0;xr<Ur;xr++)($r=Y[xr]).length===2?($a=$r[0]*gt+$a,ia=$r[1]*sr+ia,yu($a,ia)):(On=$r[0]*gt+$a,Bs=$r[1]*sr+ia,Sa=$r[2]*gt+$a,ms=$r[3]*sr+ia,$a=$r[4]*gt+$a,ia=$r[5]*sr+ia,Ll(On,Bs,Sa,ms,$a,ia));return dt&&An(),Pf(Xe),this},f.path=function(Y){for(var je=0;je<Y.length;je++){var Re=Y[je],Ue=Re.c;switch(Re.op){case"m":Tf(Ue[0],Ue[1]);break;case"l":yu(Ue[0],Ue[1]);break;case"c":Ll.apply(this,Ue);break;case"h":An()}}return this},f.__private__.rect=f.rect=function(Y,je,Re,Ue,Xe){if(isNaN(Y)||isNaN(je)||isNaN(Re)||isNaN(Ue)||!Ec(Xe))throw new Error("Invalid arguments passed to jsPDF.rect");return _===j&&(Ue=-Ue),pe([L(I(Y)),L(O(je)),L(I(Re)),L(I(Ue)),"re"].join(" ")),Pf(Xe),this},f.__private__.triangle=f.triangle=function(Y,je,Re,Ue,Xe,dt,gt){if(isNaN(Y)||isNaN(je)||isNaN(Re)||isNaN(Ue)||isNaN(Xe)||isNaN(dt)||!Ec(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Re-Y,Ue-je],[Xe-Re,dt-Ue],[Y-Xe,je-dt]],Y,je,[1,1],gt,!0),this},f.__private__.roundedRect=f.roundedRect=function(Y,je,Re,Ue,Xe,dt,gt){if(isNaN(Y)||isNaN(je)||isNaN(Re)||isNaN(Ue)||isNaN(Xe)||isNaN(dt)||!Ec(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sr=4/3*(Math.SQRT2-1);return Xe=Math.min(Xe,.5*Re),dt=Math.min(dt,.5*Ue),this.lines([[Re-2*Xe,0],[Xe*sr,0,Xe,dt-dt*sr,Xe,dt],[0,Ue-2*dt],[0,dt*sr,-Xe*sr,dt,-Xe,dt],[2*Xe-Re,0],[-Xe*sr,0,-Xe,-dt*sr,-Xe,-dt],[0,2*dt-Ue],[0,-dt*sr,Xe*sr,-dt,Xe,-dt]],Y+Xe,je,[1,1],gt,!0),this},f.__private__.ellipse=f.ellipse=function(Y,je,Re,Ue,Xe){if(isNaN(Y)||isNaN(je)||isNaN(Re)||isNaN(Ue)||!Ec(Xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*Re,gt=4/3*(Math.SQRT2-1)*Ue;return Tf(Y+Re,je),Ll(Y+Re,je-gt,Y+dt,je-Ue,Y,je-Ue),Ll(Y-dt,je-Ue,Y-Re,je-gt,Y-Re,je),Ll(Y-Re,je+gt,Y-dt,je+Ue,Y,je+Ue),Ll(Y+dt,je+Ue,Y+Re,je+gt,Y+Re,je),Pf(Xe),this},f.__private__.circle=f.circle=function(Y,je,Re,Ue){if(isNaN(Y)||isNaN(je)||isNaN(Re)||!Ec(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,je,Re,Re,Ue)},f.setFont=function(Y,je,Re){return Re&&(je=A(je,Re)),Ct=mv(Y,je,{disableWarning:!1}),this};var Ac=f.__private__.getFont=f.getFont=function(){return Dt[mv.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var Y,je,Re={};for(Y in ir)if(ir.hasOwnProperty(Y))for(je in Re[Y]=[],ir[Y])ir[Y].hasOwnProperty(je)&&Re[Y].push(je);return Re},f.addFont=function(Y,je,Re,Ue,Xe){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Xe=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(Re=A(Re,Ue)),sa.call(this,Y,je,Re,Xe=Xe||"Identity-H")};var oo,ol=e.lineWidth||.200025,Rr=f.__private__.getLineWidth=f.getLineWidth=function(){return ol},lh=f.__private__.setLineWidth=f.setLineWidth=function(Y){return ol=Y,pe(L(I(Y))+" w"),this};f.__private__.setLineDash=br.API.setLineDash=br.API.setLineDashPattern=function(Y,je){if(Y=Y||[],je=je||0,isNaN(je)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(Re){return L(I(Re))}).join(" "),je=L(I(je)),pe("["+Y+"] "+je+" d"),this};var Pc=f.__private__.getLineHeight=f.getLineHeight=function(){return Z*oo};f.__private__.getLineHeight=f.getLineHeight=function(){return Z*oo};var c0=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(Y){return typeof(Y=Y||1.15)=="number"&&(oo=Y),this},yv=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return oo};c0(e.lineHeight);var Io=f.__private__.getHorizontalCoordinate=function(Y){return I(Y)},wu=f.__private__.getVerticalCoordinate=function(Y){return _===b?Y:Yt[Q].mediaBox.topRightY-Yt[Q].mediaBox.bottomLeftY-I(Y)},wv=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(Y){return L(Io(Y))},Of=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(Y){return L(wu(Y))},ch=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ja(ch)},f.__private__.setStrokeColor=f.setDrawColor=function(Y,je,Re,Ue){return ch=Na({ch1:Y,ch2:je,ch3:Re,ch4:Ue,pdfColorType:"draw",precision:2}),pe(ch),this};var yp=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ja(yp)},f.__private__.setFillColor=f.setFillColor=function(Y,je,Re,Ue){return yp=Na({ch1:Y,ch2:je,ch3:Re,ch4:Ue,pdfColorType:"fill",precision:2}),pe(yp),this};var Fl=e.textColor||"0 g",Tc=f.__private__.getTextColor=f.getTextColor=function(){return ja(Fl)};f.__private__.setTextColor=f.setTextColor=function(Y,je,Re,Ue){return Fl=Na({ch1:Y,ch2:je,ch3:Re,ch4:Ue,pdfColorType:"text",precision:3}),this};var Bl=e.charSpace,If=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Bl||0)};f.__private__.setCharSpace=f.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bl=Y,this};var wp=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(Y){var je=f.CapJoinStyles[Y];if(je===void 0)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wp=je,pe(je+" J"),this};var bp=0;f.__private__.setLineJoin=f.setLineJoin=function(Y){var je=f.CapJoinStyles[Y];if(je===void 0)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bp=je,pe(je+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(L(I(Y))+" M"),this},f.GState=h_,f.setGState=function(Y){(Y=typeof Y=="string"?Ar[Cn[Y]]:bu(null,Y)).equals(Sn)||(pe("/"+Y.id+" gs"),Sn=Y)};var bu=function(Y,je){if(!Y||!Cn[Y]){var Re=!1;for(var Ue in Ar)if(Ar.hasOwnProperty(Ue)&&Ar[Ue].equals(je)){Re=!0;break}if(Re)je=Ar[Ue];else{var Xe="GS"+(Object.keys(Ar).length+1).toString(10);Ar[Xe]=je,je.id=Xe}return Y&&(Cn[Y]=je.id),wn.publish("addGState",je),je}};f.addGState=function(Y,je){return bu(Y,je),this},f.saveGraphicsState=function(){return pe("q"),_r.push({key:Ct,size:Z,color:Fl}),this},f.restoreGraphicsState=function(){pe("Q");var Y=_r.pop();return Ct=Y.key,Z=Y.size,Fl=Y.color,Sn=null,this},f.setCurrentTransformationMatrix=function(Y){return pe(Y.toString()+" cm"),this},f.comment=function(Y){return pe("#"+Y),this};var Oc=function(Y,je){var Re=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Re},set:function(dt){isNaN(dt)||(Re=parseFloat(dt))}});var Ue=je||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(dt){isNaN(dt)||(Ue=parseFloat(dt))}});var Xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Xe},set:function(dt){Xe=dt.toString()}}),this},uh=function(Y,je,Re,Ue){Oc.call(this,Y,je),this.type="rect";var Xe=Re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Xe},set:function(gt){isNaN(gt)||(Xe=parseFloat(gt))}});var dt=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(gt){isNaN(gt)||(dt=parseFloat(gt))}}),this},dh=function(){this.page=Yr,this.currentPage=Q,this.pages=de.slice(0),this.pagesContext=Yt.slice(0),this.x=Et,this.y=rn,this.matrix=Wt,this.width=hh(Q),this.height=cl(Q),this.outputDestination=Pe,this.id="",this.objectNumber=-1};dh.prototype.restore=function(){Yr=this.page,Q=this.currentPage,Yt=this.pagesContext,de=this.pages,Et=this.x,rn=this.y,Wt=this.matrix,jp(Q,this.width),ul(Q,this.height),Pe=this.outputDestination};var ll=function(Y,je,Re,Ue,Xe){hs.push(new dh),Yr=Q=0,de=[],Et=Y,rn=je,Wt=Xe,Hi([Re,Ue])};for(var ju in f.beginFormObject=function(Y,je,Re,Ue,Xe){return ll(Y,je,Re,Ue,Xe),this},f.endFormObject=function(Y){return(function(je){if(nn[je])hs.pop().restore();else{var Re=new dh,Ue="Xo"+(Object.keys(Zt).length+1).toString(10);Re.id=Ue,nn[je]=Ue,Zt[Ue]=Re,wn.publish("addFormObject",Re),hs.pop().restore()}})(Y),this},f.doFormObject=function(Y,je){var Re=Zt[nn[Y]];return pe("q"),pe(je.toString()+" cm"),pe("/"+Re.id+" Do"),pe("Q"),this},f.getFormObject=function(Y){var je=Zt[nn[Y]];return{x:je.x,y:je.y,width:je.width,height:je.height,matrix:je.matrix}},f.save=function(Y,je){return Y=Y||"generated.pdf",(je=je||{}).returnPromise=je.returnPromise||!1,je.returnPromise===!1?(ag(Ml(il()),Y),typeof ag.unload=="function"&&Hr.setTimeout&&setTimeout(ag.unload,911),this):new Promise(function(Re,Ue){try{var Xe=ag(Ml(il()),Y);typeof ag.unload=="function"&&Hr.setTimeout&&setTimeout(ag.unload,911),Re(Xe)}catch(dt){Ue(dt.message)}})},br.API)br.API.hasOwnProperty(ju)&&(ju==="events"&&br.API.events.length?(function(Y,je){var Re,Ue,Xe;for(Xe=je.length-1;Xe!==-1;Xe--)Re=je[Xe][0],Ue=je[Xe][1],Y.subscribe.apply(Y,[Re].concat(typeof Ue=="function"?[Ue]:Ue))})(wn,br.API.events):f[ju]=br.API[ju]);function hh(Y){return Yt[Y].mediaBox.topRightX-Yt[Y].mediaBox.bottomLeftX}function jp(Y,je){Yt[Y].mediaBox.topRightX=je+Yt[Y].mediaBox.bottomLeftX}function cl(Y){return Yt[Y].mediaBox.topRightY-Yt[Y].mediaBox.bottomLeftY}function ul(Y,je){Yt[Y].mediaBox.topRightY=je+Yt[Y].mediaBox.bottomLeftY}var Np=f.getPageWidth=function(Y){return hh(Y=Y||Q)/Mt},Ei=f.setPageWidth=function(Y,je){jp(Y,je*Mt)},dl=f.getPageHeight=function(Y){return cl(Y=Y||Q)/Mt},Rf=f.setPageHeight=function(Y,je){ul(Y,je*Mt)};return f.internal={pdfEscape:Fs,getStyle:Af,getFont:Ac,getFontSize:ge,getCharSpace:If,getTextColor:Tc,getLineHeight:Pc,getLineHeightFactor:yv,getLineWidth:Rr,write:ce,getHorizontalCoordinate:Io,getVerticalCoordinate:wu,getCoordinateString:wv,getVerticalCoordinateString:Of,collections:{},newObject:fn,newAdditionalObject:sl,newObjectDeferred:zn,newObjectDeferredBegin:Ls,getFilters:Vi,putStream:Si,events:wn,scaleFactor:Mt,pageSize:{getWidth:function(){return Np(Q)},setWidth:function(Y){Ei(Q,Y)},getHeight:function(){return dl(Q)},setHeight:function(Y){Rf(Q,Y)}},encryptionOptions:d,encryption:aa,getEncryptor:function(Y){return d!==null?aa.encryptor(Y,0):function(je){return je}},output:io,getNumberOfPages:ki,pages:de,out:pe,f2:M,f3:C,getPageInfo:ih,getPageInfoByObjId:gv,getCurrentPageInfo:vp,getPDFVersion:v,Point:Oc,Rectangle:uh,Matrix:Jt,hasHotfix:ah},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Np(Q)},set:function(Y){Ei(Q,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return dl(Q)},set:function(Y){Rf(Q,Y)},enumerable:!0,configurable:!0}),(function(Y){for(var je=0,Re=z.length;je<Re;je++){var Ue=sa.call(this,Y[je][0],Y[je][1],Y[je][2],z[je][3],!0);h===!1&&(m[Ue]=!0);var Xe=Y[je][0].split("-");js({id:Ue,fontName:Xe[0],fontStyle:Xe[1]||""})}wn.publish("addFonts",{fonts:Dt,dictionary:ir})}).call(f,z),Ct="F1",fd(a,r),wn.publish("initialized"),f}hx.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},hx.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hx.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},hx.prototype.processOwnerPassword=function(e,t){return P3(A3(t).substr(0,5),e)},hx.prototype.encryptor=function(e,t){var r=A3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return P3(r,s)}},h_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Un(e)!==Un(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},br.API={events:[]},br.version="3.0.3";var Ra=br.API,x6=1,uv=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sx=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},on=function(e){return e.toFixed(2)},um=function(e){return e.toFixed(5)};Ra.__acroform__={};var Dl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},oq=function(e){return e*x6},Pd=function(e){var t=new Mae,r=cr.internal.getHeight(e)||0,s=cr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(on(s)),Number(on(r))],t},p$e=Ra.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},g$e=Ra.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},v$e=Ra.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ha=Ra.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return v$e(e,t-1)},Ga=Ra.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p$e(e,t-1)},Ka=Ra.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return g$e(e,t-1)},x$e=Ra.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(on(c.lowerLeft_X)),Number(on(c.lowerLeft_Y)),Number(on(c.upperRight_X)),Number(on(c.upperRight_Y))]},y$e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=T3(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+on(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Pd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},T3=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(M){return M.split(`
`)}):a.map(function(M){return[M]});var i=r,o=cr.internal.getHeight(e)||0;o=o<0?-o:o;var l=cr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(M,C,I){if(M+1<a.length){var O=C+" "+a[M+1][0];return Yj(O,e,I).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=Yj("3",e,i).height,m=e.multiline?o-i:(o-h)/2,f=m+=2,x=0,v=0,g=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Yj(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",j=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var _=!1;if(a[b].length!==1&&g!==a[b].length-1){if((h+2)*(j+2)+2>o)continue e;y+=a[b][g],_=!0,v=b,b--}else{y=(y+=a[b][g]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var S=parseInt(b),T=c(S,y,i),A=b>=a.length-1;if(T&&!A){y+=" ",g=0;continue}if(T||A){if(A)v=S;else if(e.multiline&&(h+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(j+2)+2>o)continue e;v=S}}for(var L="",E=x;E<=v;E++){var q=a[E];if(e.multiline){if(E===v){L+=q[g]+" ",g=(g+1)%q.length;continue}if(E===x){L+=q[q.length-1]+" ";continue}}L+=q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,d=Yj(L,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=on(u)+" "+on(f)+` Td
`,t+="("+uv(L)+`) Tj
`,t+=-on(u)+` 0 Td
`,f=-(i+2),d=0,x=_?v:v+1,j++,y=""}break}return s.text=t,s.fontSize=i,s},Yj=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},w$e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},b$e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},j$e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(dd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(w$e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");x6=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Lae,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&b$e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=x$e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=cr.createDefaultAppearanceStream(l),Un(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=y$e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(v,g){for(var y in v)if(v.hasOwnProperty(y)){var j=y,b=v[y];g.internal.newObjectDeferredBegin(b.objId,!0),Un(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete v[j]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Dae=Ra.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Un(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),a+="("+uv(s(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},oA=function(e,t,r){var s=function(a){return a};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+uv(s(e))+")"},Ud=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ud.prototype.toString=function(){return this.objId+" 0 R"},Ud.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ud.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:Dae(a,this.objId,this.scope)}):a instanceof Ud?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var Mae=function(){Ud.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Dl(Mae,Ud);var Lae=function(){Ud.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+uv(r(e))+")"}},set:function(r){e=r}})};Dl(Lae,Ud);var dd=function e(){Ud.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ha(t,3)},set:function(y){y?this.F=Ga(t,3):this.F=Ka(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(y){s=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(y){s[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(y){s[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(y){s[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(y){s[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof f_)return;i="FieldObject"+e.FieldNum++}var y=function(j){return j};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+uv(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/x6:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof f_||this instanceof Tg))return oA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Fi==0?oA(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof Fi==0?y.substr(0,1)==="("?sx(y.substr(1,y.length-2)):sx(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?sx(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Fi==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Fi==0?oA(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof Fi==0?y.substr(0,1)==="("?sx(y.substr(1,y.length-2)):sx(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?sx(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Fi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,1)},set:function(y){y?this.Ff=Ga(this.Ff,1):this.Ff=Ka(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,2)},set:function(y){y?this.Ff=Ga(this.Ff,2):this.Ff=Ka(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,3)},set:function(y){y?this.Ff=Ga(this.Ff,3):this.Ff=Ka(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');g=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(g){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Dl(dd,Ud);var kx=function(){dd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Dae(t,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,18)},set:function(r){r?this.Ff=Ga(this.Ff,18):this.Ff=Ka(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ga(this.Ff,19):this.Ff=Ka(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,20)},set:function(r){r?(this.Ff=Ga(this.Ff,20),t.sort()):this.Ff=Ka(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,22)},set:function(r){r?this.Ff=Ga(this.Ff,22):this.Ff=Ka(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,23)},set:function(r){r?this.Ff=Ga(this.Ff,23):this.Ff=Ka(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,27)},set:function(r){r?this.Ff=Ga(this.Ff,27):this.Ff=Ka(this.Ff,27)}}),this.hasAppearanceStream=!1};Dl(kx,dd);var Cx=function(){kx.call(this),this.fontName="helvetica",this.combo=!1};Dl(Cx,kx);var Ex=function(){Cx.call(this),this.combo=!0};Dl(Ex,Cx);var P2=function(){Ex.call(this),this.edit=!0};Dl(P2,Ex);var Fi=function(){dd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,15)},set:function(r){r?this.Ff=Ga(this.Ff,15):this.Ff=Ka(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,16)},set:function(r){r?this.Ff=Ga(this.Ff,16):this.Ff=Ka(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,17)},set:function(r){r?this.Ff=Ga(this.Ff,17):this.Ff=Ka(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,26)},set:function(r){r?this.Ff=Ga(this.Ff,26):this.Ff=Ka(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+uv(r(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Un(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Dl(Fi,dd);var T2=function(){Fi.call(this),this.pushButton=!0};Dl(T2,Fi);var Ax=function(){Fi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Dl(Ax,Fi);var f_=function(){var e,t;dd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+uv(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Un(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Dl(f_,dd),Ax.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ax.prototype.createOption=function(e){var t=new f_;return t.Parent=this,t.optionName=e,this.Kids.push(t),N$e.call(this.scope,t),t};var O2=function(){Fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cr.CheckBox.createAppearanceStream()};Dl(O2,Fi);var Tg=function(){dd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,13)},set:function(t){t?this.Ff=Ga(this.Ff,13):this.Ff=Ka(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,21)},set:function(t){t?this.Ff=Ga(this.Ff,21):this.Ff=Ka(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,23)},set:function(t){t?this.Ff=Ga(this.Ff,23):this.Ff=Ka(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,24)},set:function(t){t?this.Ff=Ga(this.Ff,24):this.Ff=Ka(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,25)},set:function(t){t?this.Ff=Ga(this.Ff,25):this.Ff=Ka(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,26)},set:function(t){t?this.Ff=Ga(this.Ff,26):this.Ff=Ka(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Dl(Tg,dd);var I2=function(){Tg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,14)},set:function(e){e?this.Ff=Ga(this.Ff,14):this.Ff=Ka(this.Ff,14)}}),this.password=!0};Dl(I2,Tg);var cr={CheckBox:{createAppearanceStream:function(){return{N:{On:cr.CheckBox.YesNormal},D:{On:cr.CheckBox.YesPushDown,Off:cr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Pd(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=T3(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+on(cr.internal.getWidth(e))+" "+on(cr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+on(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Pd(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=cr.internal.getHeight(e),o=cr.internal.getWidth(e),l=T3(e,e.caption);return a.push("1 g"),a.push("0 0 "+on(o)+" "+on(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+on(o-1)+" "+on(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+on(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Pd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(cr.internal.getWidth(e))+" "+on(cr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:cr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=cr.RadioButton.Circle.YesNormal,t.D[e]=cr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Pd(e);t.scope=e.scope;var r=[],s=cr.internal.getWidth(e)<=cr.internal.getHeight(e)?cr.internal.getWidth(e)/4:cr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=cr.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+um(cr.internal.getWidth(e)/2)+" "+um(cr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Pd(e);t.scope=e.scope;var r=[],s=cr.internal.getWidth(e)<=cr.internal.getHeight(e)?cr.internal.getWidth(e)/4:cr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*cr.internal.Bezier_C).toFixed(5)),o=Number((s*cr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+um(cr.internal.getWidth(e)/2)+" "+um(cr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+um(cr.internal.getWidth(e)/2)+" "+um(cr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Pd(e);t.scope=e.scope;var r=[],s=cr.internal.getWidth(e)<=cr.internal.getHeight(e)?cr.internal.getWidth(e)/4:cr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*cr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+um(cr.internal.getWidth(e)/2)+" "+um(cr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:cr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=cr.RadioButton.Cross.YesNormal,t.D[e]=cr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Pd(e);t.scope=e.scope;var r=[],s=cr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+on(cr.internal.getWidth(e)-2)+" "+on(cr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(on(s.x1.x)+" "+on(s.x1.y)+" m"),r.push(on(s.x2.x)+" "+on(s.x2.y)+" l"),r.push(on(s.x4.x)+" "+on(s.x4.y)+" m"),r.push(on(s.x3.x)+" "+on(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Pd(e);t.scope=e.scope;var r=cr.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+on(cr.internal.getWidth(e))+" "+on(cr.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+on(cr.internal.getWidth(e)-2)+" "+on(cr.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(on(r.x1.x)+" "+on(r.x1.y)+" m"),s.push(on(r.x2.x)+" "+on(r.x2.y)+" l"),s.push(on(r.x4.x)+" "+on(r.x4.y)+" m"),s.push(on(r.x3.x)+" "+on(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Pd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(cr.internal.getWidth(e))+" "+on(cr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};cr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=cr.internal.getWidth(e),r=cr.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},cr.internal.getWidth=function(e){var t=0;return Un(e)==="object"&&(t=oq(e.Rect[2])),t},cr.internal.getHeight=function(e){var t=0;return Un(e)==="object"&&(t=oq(e.Rect[3])),t};var N$e=Ra.addField=function(e){if(j$e(this,e),!(e instanceof dd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ra.AcroFormChoiceField=kx,Ra.AcroFormListBox=Cx,Ra.AcroFormComboBox=Ex,Ra.AcroFormEditBox=P2,Ra.AcroFormButton=Fi,Ra.AcroFormPushButton=T2,Ra.AcroFormRadioButton=Ax,Ra.AcroFormCheckBox=O2,Ra.AcroFormTextField=Tg,Ra.AcroFormPasswordField=I2,Ra.AcroFormAppearance=cr,Ra.AcroForm={ChoiceField:kx,ListBox:Cx,ComboBox:Ex,EditBox:P2,Button:Fi,PushButton:T2,RadioButton:Ax,CheckBox:O2,TextField:Tg,PasswordField:I2,Appearance:cr},br.AcroForm={ChoiceField:kx,ListBox:Cx,ComboBox:Ex,EditBox:P2,Button:Fi,PushButton:T2,RadioButton:Ax,CheckBox:O2,TextField:Tg,PasswordField:I2,Appearance:cr};br.AcroForm;function Fae(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(M,C){var I,O,H,re,U,K=r;if((C=C||r)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(T(M))for(U in s)for(H=s[U],I=0;I<H.length;I+=1){for(re=!0,O=0;O<H[I].length;O+=1)if(H[I][O]!==void 0&&H[I][O]!==M[O]){re=!1;break}if(re===!0){K=U;break}}else for(U in s)for(H=s[U],I=0;I<H.length;I+=1){for(re=!0,O=0;O<H[I].length;O+=1)if(H[I][O]!==void 0&&H[I][O]!==M.charCodeAt(O)){re=!1;break}if(re===!0){K=U;break}}return K===r&&C!==r&&(K=C),K},i=function M(C){for(var I=this.internal.write,O=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:C.width}),re.push({key:"Height",value:C.height}),C.colorSpace===y.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===y.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var U="",K=0,ee=C.transparency.length;K<ee;K++)U+=C.transparency[K]+" "+C.transparency[K]+" ";re.push({key:"Mask",value:"["+U+"]"})}C.sMask!==void 0&&re.push({key:"SMask",value:C.objectId+1+" 0 R"});var X=C.filter!==void 0?["/"+C.filter]:void 0;if(O({data:C.data,additionalKeyValues:re,alreadyAppliedFilters:X,objectId:C.objectId}),I("endobj"),"sMask"in C&&C.sMask!==void 0){var B,D=(B=C.sMaskBitsPerComponent)!==null&&B!==void 0?B:C.bitsPerComponent,Q={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:C.sMask};"filter"in C&&(Q.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(C.width),Q.filter=C.filter),M.call(this,Q)}if(C.colorSpace===y.INDEXED){var ie=this.internal.newObject();O({data:L(new Uint8Array(C.palette)),objectId:ie}),I("endobj")}},o=function(){var M=this.internal.collections[t+"images"];for(var C in M)i.call(this,M[C])},l=function(){var M,C=this.internal.collections[t+"images"],I=this.internal.write;for(var O in C)I("/I"+(M=C[O]).index,M.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var M=this.internal.collections[t+"images"];return c.call(this),M},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(M){return typeof e["process"+M.toUpperCase()]=="function"},m=function(M){return Un(M)==="object"&&M.nodeType===1},f=function(M,C){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var I=""+M.getAttribute("src");if(I.indexOf("data:image/")===0)return A2(unescape(I).split("base64,").pop());var O=e.loadFile(I,!0);if(O!==void 0)return O}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var H;switch(C){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return A2(M.toDataURL(H,1).split("base64,").pop())}},x=function(M){var C=this.internal.collections[t+"images"];if(C){for(var I in C)if(M===C[I].alias)return C[I]}},v=function(M,C,I){return M||C||(M=-96,C=-96),M<0&&(M=-1*I.width*72/M/this.internal.scaleFactor),C<0&&(C=-1*I.height*72/C/this.internal.scaleFactor),M===0&&(M=C*I.width/I.height),C===0&&(C=M*I.height/I.width),[M,C]},g=function(M,C,I,O,H,re){var U=v.call(this,I,O,H),K=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,X=u.call(this);if(I=U[0],O=U[1],X[H.index]=H,re){re*=Math.PI/180;var B=Math.cos(re),D=Math.sin(re),Q=function(te){return te.toFixed(4)},ie=[Q(B),Q(D),Q(-1*D),Q(B),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,K(M),ee(C+O),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([K(I),"0","0",K(O),"0","0","cm"].join(" "))):this.internal.write([K(I),"0","0",K(O),K(M),ee(C+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(M){var C,I,O=0;if(typeof M=="string")for(I=M.length,C=0;C<I;C++)O=(O<<5)-O+M.charCodeAt(C),O|=0;else if(T(M))for(I=M.byteLength/2,C=0;C<I;C++)O=(O<<5)-O+M[C],O|=0;return O},_=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var C=!0;return M.length===0&&(C=!1),M.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(C=!1),C},S=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var C=M.indexOf(",");return C<0?null:M.substring(0,C).trim().endsWith("base64")?M.substring(C+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},A=e.__addimage__.binaryStringToUint8Array=function(M){for(var C=M.length,I=new Uint8Array(C),O=0;O<C;O++)I[O]=M.charCodeAt(O);return I},L=e.__addimage__.arrayBufferToBinaryString=function(M){for(var C="",I=T(M)?M:new Uint8Array(M),O=0;O<I.length;O+=8192)C+=String.fromCharCode.apply(null,I.subarray(O,O+8192));return C};e.addImage=function(){var M,C,I,O,H,re,U,K,ee;if(typeof arguments[1]=="number"?(C=r,I=arguments[1],O=arguments[2],H=arguments[3],re=arguments[4],U=arguments[5],K=arguments[6],ee=arguments[7]):(C=arguments[1],I=arguments[2],O=arguments[3],H=arguments[4],re=arguments[5],U=arguments[6],K=arguments[7],ee=arguments[8]),Un(M=arguments[0])==="object"&&!m(M)&&"imageData"in M){var X=M;M=X.imageData,C=X.format||C||r,I=X.x||I||0,O=X.y||O||0,H=X.w||X.width||H,re=X.h||X.height||re,U=X.alias||U,K=X.compression||K,ee=X.rotation||X.angle||ee}var B=this.internal.getFilters();if(K===void 0&&B.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(I)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=E.call(this,M,C,U,K);return g.call(this,I,O,H,re,D,ee),this};var E=function(M,C,I,O){var H,re,U;if(typeof M=="string"&&a(M)===r){M=unescape(M);var K=q(M,!1);(K!==""||(K=e.loadFile(M,!0))!==void 0)&&(M=K)}if(m(M)&&(M=f(M,C)),C=a(M,C),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((U=I)==null||U.length===0)&&(I=(function(ee){return typeof ee=="string"||T(ee)?b(ee):T(ee.data)?b(ee.data):null})(M)),(H=x.call(this,I))||(M instanceof Uint8Array||C==="RGBA"||(re=M,M=A(M)),H=this["process"+C.toUpperCase()](M,d.call(this),I,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:j.NONE})(O),re)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},q=e.__addimage__.convertBase64ToBinaryString=function(M,C){C=typeof C!="boolean"||C;var I,O="";if(typeof M=="string"){var H;I=(H=S(M))!==null&&H!==void 0?H:M;try{O=A2(I)}catch(re){if(C)throw _(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return O};e.getImageProperties=function(M){var C,I,O="";if(m(M)&&(M=f(M)),typeof M=="string"&&a(M)===r&&((O=q(M,!1))===""&&(O=e.loadFile(M)||""),M=O),I=a(M),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(M instanceof Uint8Array||(M=A(M)),!(C=this["process"+I.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=I,C}})(br.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};br.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((s=u[h]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){s=u[m];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),j=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+f(y(s.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(y(j))+") >>",v.content=i;var b=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+b,s.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(v.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var _=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(x(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var S=this.annotations._nameMap[s.options.name];s.options.pageNumber=S.page,s.options.top=S.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var T=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+T+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(s),w:c(r+a),h:u(s+i)},options:o,type:"link"})},e.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,s,a,i),a+=.2*u,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-u,l,o,i),c},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(br.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var g=0,y=r,j="",b=0;for(g=0;g<v.length;g+=1)y[v.charCodeAt(g)]!==void 0?(b++,typeof(y=y[v.charCodeAt(g)])=="number"&&(j+=String.fromCharCode(y),y=r,b=0),g===v.length-1&&(y=r,j+=v.charAt(g-(b-1)),g-=b-1,b=0)):(y=r,j+=v.charAt(g-b),g-=b,b=0);return j};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&s[v.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(v,g,y){return o(v)?i(v)===!1?-1:!u(v)||!o(g)&&!o(y)||!o(y)&&l(g)||l(v)&&!o(g)||l(v)&&c(g)||l(v)&&l(g)?0:d(v)&&o(g)&&!l(g)&&o(y)&&u(y)?3:l(v)||!o(y)?1:2:-1},f=function(v){var g=0,y=0,j=0,b="",_="",S="",T=(v=v||"").split("\\s+"),A=[];for(g=0;g<T.length;g+=1){for(A.push(""),y=0;y<T[g].length;y+=1)b=T[g][y],_=T[g][y-1],S=T[g][y+1],o(b)?(j=m(b,_,S),A[g]+=j!==-1?String.fromCharCode(t[b.charCodeAt(0)][j]):b):A[g]+=b;A[g]=h(A[g])}return A.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var v,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(g)){var j=0;for(y=[],j=0;j<g.length;j+=1)Array.isArray(g[j])?y.push([f(g[j][0]),g[j][1],g[j][2]]):y.push([f(g[j])]);v=y}else v=f(g);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",x])})(br.API),br.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(br.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){s.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,f=0,x=0,v=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,_){return b.concat(g.splitTextToSize(_,y))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)f<(v=this.getStringUnitWidth(c[j],{font:h})*d)&&(f=v);return f!==0&&(x=c.length),{w:f/=m,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,m){if(s.call(this),!d)throw new Error("No data for PDF table.");var f,x,v,g,y=[],j=[],b=[],_={},S={},T=[],A=[],L=(m=m||{}).autoSize||!1,E=m.printHeaders!==!1,q=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,M=m.margins||Object.assign({width:this.getPageWidth()},t),C=typeof m.padding=="number"?m.padding:3,I=m.headerBackgroundColor||"#c8c8c8",O=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=O,this.setFontSize(q),h==null)j=y=Object.keys(d[0]),b=y.map(function(){return"left"});else if(Array.isArray(h)&&Un(h[0])==="object")for(y=h.map(function(X){return X.name}),j=h.map(function(X){return X.prompt||X.name||""}),b=h.map(function(X){return X.align||"left"}),f=0;f<h.length;f+=1)S[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(j=y=h,b=y.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(_[g=y[f]]=d.map(function(X){return X[g]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(j[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=_[g],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)T.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[g]=Math.max.apply(null,T)+C+C,T=[]}if(E){var H={};for(f=0;f<y.length;f+=1)H[y[f]]={},H[y[f]].text=j[f],H[y[f]].align=b[f];var re=l.call(this,H,S);A=y.map(function(X){return new i(c,u,S[X],re,H[X].text,void 0,H[X].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var U=h.reduce(function(X,B){return X[B.name]=B.align,X},{});for(f=0;f<d.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:d[f]},this);var K=l.call(this,d[f],S);for(v=0;v<y.length;v+=1){var ee=d[f][y[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:v,data:ee},this),o.call(this,new i(c,u,S[y[v]],K,ee,f+2,U[y[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+d+d},this).reduce(function(f,x){return Math.max(f,x)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(br.API);var Bae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Uae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],O3=Fae(Uae),$ae=[100,200,300,400,500,600,700,800,900],_$e=Fae($ae);function lA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return Bae[i=i||"normal"]?i:"normal"})(e.style),s=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof O3[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,s].join(" ")}}}function lq(e,t,r,s){var a;for(a=r;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var S$e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cq={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uq(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function dq(e){return e.trimLeft()}function k$e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function C$e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Jj,hq,fq,ax,Xj,mq,pq,gq,cA=["times"];function vq(e,t,r,s,a){var i=4,o=yq;switch(a){case br.API.image_compression.FAST:i=1,o=xq;break;case br.API.image_compression.MEDIUM:i=6,o=wq;break;case br.API.image_compression.SLOW:i=9,o=bq}e=(function(c,u,d,h){for(var m,f=c.length/u,x=new Uint8Array(c.length+f),v=[E$e,xq,yq,wq,bq],g=0;g<f;g+=1){var y=g*u,j=c.subarray(y,y+u);if(h)x.set(h(j,d,m),y+g);else{for(var b=v.length,_=[],S=0;S<b;S+=1)_[S]=v[S](j,d,m);var T=P$e(_.concat());x.set(_[T],y+g)}m=j}return x})(e,t,Math.ceil(r*s/8),o);var l=S3(e,{level:i});return br.API.__addimage__.arrayBufferToBinaryString(l)}function E$e(e){var t=Array.apply([],e);return t.unshift(0),t}function xq(e,t){var r=e.length,s=[];s[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;s[a+1]=e[a]-i+256&255}return s}function yq(e,t,r){var s=e.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function wq(e,t,r){var s=e.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function bq(e,t,r){var s=e.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var o=A$e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function A$e(e,t,r){if(e===t&&t===r)return e;var s=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return s<=a&&s<=i?e:a<=i?t:r}function P$e(e){var t=e.map(function(r){return r.reduce(function(s,a){return s+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function uA(e,t,r){var s=t*r,a=Math.floor(s/8),i=16-(s-8*a+r),o=(1<<r)-1;return qae(e,a)>>i&o}function jq(e,t,r,s){var a=r*s,i=Math.floor(a/8),o=16-(a-8*i+s),l=(1<<s)-1,c=(t&l)<<o;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var m=h>>8&255;u.setUint8(d,m)}})(e,i,qae(e,i)&~(l<<o)&65535|c)}function qae(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function T$e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],h=0,m=null,f=0,x=null;for(this.width=r,this.height=s;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],1&v||(m=null),f=v>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++],S=_>>6&1,T=1<<1+(7&_),A=l,L=c,E=!1;_>>7&&(E=!0,A=t,L=T,t+=3*T);var q=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}d.push({x:g,y,width:j,height:b,has_local_palette:E,palette_offset:A,palette_size:L,data_offset:q,data_length:t-q,transparent_index:m,interlaced:!!S,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,I){var O=this.frameInfo(C),H=O.width*O.height,re=new Uint8Array(H);Nq(e,O.data_offset,re,H);var U=O.palette_offset,K=O.transparent_index;K===null&&(K=256);var ee=O.width,X=r-ee,B=ee,D=4*(O.y*r+O.x),Q=4*((O.y+O.height)*r+O.x),ie=D,te=4*X;O.interlaced===!0&&(te+=4*r*7);for(var he=8,W=0,V=re.length;W<V;++W){var oe=re[W];if(B===0&&(B=ee,(ie+=te)>=Q&&(te=4*X+4*r*(he-1),ie=D+(ee+X)*(he<<1),he>>=1)),oe===K)ie+=4;else{var me=e[U+3*oe],de=e[U+3*oe+1],ue=e[U+3*oe+2];I[ie++]=ue,I[ie++]=de,I[ie++]=me,I[ie++]=255}--B}},this.decodeAndBlitFrameRGBA=function(C,I){var O=this.frameInfo(C),H=O.width*O.height,re=new Uint8Array(H);Nq(e,O.data_offset,re,H);var U=O.palette_offset,K=O.transparent_index;K===null&&(K=256);var ee=O.width,X=r-ee,B=ee,D=4*(O.y*r+O.x),Q=4*((O.y+O.height)*r+O.x),ie=D,te=4*X;O.interlaced===!0&&(te+=4*r*7);for(var he=8,W=0,V=re.length;W<V;++W){var oe=re[W];if(B===0&&(B=ee,(ie+=te)>=Q&&(te=4*X+4*r*(he-1),ie=D+(ee+X)*(he<<1),he>>=1)),oe===K)ie+=4;else{var me=e[U+3*oe],de=e[U+3*oe+1],ue=e[U+3*oe+2];I[ie++]=me,I[ie++]=de,I[ie++]=ue,I[ie++]=255}--B}}}function Nq(e,t,r,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,h=0,m=0,f=e[t++],x=new Int32Array(4096),v=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<c)break;var g=h&u;if(h>>=c,d-=c,g!==i){if(g===o)break;for(var y=g<l?g:v,j=0,b=y;b>i;)b=x[b]>>8,++j;var _=b;if(m+j+(y!==g?1:0)>s)return void Ss.log("Warning, gif stream longer than expected.");r[m++]=_;var S=m+=j;for(y!==g&&(r[m++]=_),b=y;j--;)b=x[b],r[--S]=255&b,b>>=8;v!==null&&l<4096&&(x[l++]=v<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=g}else l=o+1,u=(1<<(c=a+1))-1,v=null}return m!==s&&Ss.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function dA(e){var t,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),x=new Array(64),v=[],g=0,y=7,j=new Array(64),b=new Array(64),_=new Array(64),S=new Array(256),T=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(D,Q){for(var ie=0,te=0,he=new Array,W=1;W<=16;W++){for(var V=1;V<=D[W];V++)he[Q[te]]=[],he[Q[te]][0]=ie,he[Q[te]][1]=W,te++,ie++;ie*=2}return he}function U(D){for(var Q=D[0],ie=D[1]-1;ie>=0;)Q&1<<ie&&(g|=1<<y),ie--,--y<0&&(g==255?(K(255),K(0)):K(g),y=7,g=0)}function K(D){v.push(D)}function ee(D){K(D>>8&255),K(255&D)}function X(D,Q,ie,te,he){for(var W,V=he[0],oe=he[240],me=(function(Z,le){var ge,we,Me,Be,Le,Ge,it,ut,Ct,Mt,Et=0;for(Ct=0;Ct<8;++Ct){ge=Z[Et],we=Z[Et+1],Me=Z[Et+2],Be=Z[Et+3],Le=Z[Et+4],Ge=Z[Et+5],it=Z[Et+6];var rn=ge+(ut=Z[Et+7]),Wt=ge-ut,Dt=we+it,ir=we-it,_r=Me+Ge,nr=Me-Ge,Lr=Be+Le,Ar=Be-Le,Cn=rn+Lr,Sn=rn-Lr,Yr=Dt+_r,Yt=Dt-_r;Z[Et]=Cn+Yr,Z[Et+4]=Cn-Yr;var wn=.707106781*(Yt+Sn);Z[Et+2]=Sn+wn,Z[Et+6]=Sn-wn;var kr=.382683433*((Cn=Ar+nr)-(Yt=ir+Wt)),Zt=.5411961*Cn+kr,nn=1.306562965*Yt+kr,hs=.707106781*(Yr=nr+ir),Jt=Wt+hs,fs=Wt-hs;Z[Et+5]=fs+Zt,Z[Et+3]=fs-Zt,Z[Et+1]=Jt+nn,Z[Et+7]=Jt-nn,Et+=8}for(Et=0,Ct=0;Ct<8;++Ct){ge=Z[Et],we=Z[Et+8],Me=Z[Et+16],Be=Z[Et+24],Le=Z[Et+32],Ge=Z[Et+40],it=Z[Et+48];var Hs=ge+(ut=Z[Et+56]),Tn=ge-ut,Ms=we+it,fn=we-it,zn=Me+Ge,Ls=Me-Ge,sl=Be+Le,al=Be-Le,ao=Hs+sl,ja=Hs-sl,Na=Ms+zn,Vi=Ms-zn;Z[Et]=ao+Na,Z[Et+32]=ao-Na;var Si=.707106781*(Vi+ja);Z[Et+16]=ja+Si,Z[Et+48]=ja-Si;var kc=.382683433*((ao=al+Ls)-(Vi=fn+Tn)),Oo=.5411961*ao+kc,er=1.306562965*Vi+kc,We=.707106781*(Na=Ls+fn),Nt=Tn+We,Vt=Tn-We;Z[Et+40]=Vt+Oo,Z[Et+24]=Vt-Oo,Z[Et+8]=Nt+er,Z[Et+56]=Nt-er,Et++}for(Ct=0;Ct<64;++Ct)Mt=Z[Ct]*le[Ct],f[Ct]=Mt>0?Mt+.5|0:Mt-.5|0;return f})(D,Q),de=0;de<64;++de)x[A[de]]=me[de];var ue=x[0]-ie;ie=x[0],ue==0?U(te[0]):(U(te[m[W=32767+ue]]),U(h[W]));for(var Pe=63;Pe>0&&x[Pe]==0;)Pe--;if(Pe==0)return U(V),ie;for(var G,pe=1;pe<=Pe;){for(var ce=pe;x[pe]==0&&pe<=Pe;)++pe;var $=pe-ce;if($>=16){G=$>>4;for(var z=1;z<=G;++z)U(oe);$&=15}W=32767+x[pe],U(he[($<<4)+m[W]]),U(h[W]),pe++}return Pe!=63&&U(V),ie}function B(D){D=Math.min(Math.max(D,1),100),i!=D&&((function(Q){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var he=o((ie[te]*Q+50)/100);he=Math.min(Math.max(he,1),255),l[A[te]]=he}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var oe=o((W[V]*Q+50)/100);oe=Math.min(Math.max(oe,1),255),c[A[V]]=oe}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],de=0,ue=0;ue<8;ue++)for(var Pe=0;Pe<8;Pe++)u[de]=1/(l[A[de]]*me[ue]*me[Pe]*8),d[de]=1/(c[A[de]]*me[ue]*me[Pe]*8),de++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,Q){Q&&B(Q),v=new Array,g=0,y=7,ee(65496),ee(65504),ee(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),ee(1),ee(1),K(0),K(0),(function(){ee(65499),ee(132),K(0);for(var we=0;we<64;we++)K(l[we]);K(1);for(var Me=0;Me<64;Me++)K(c[Me])})(),(function(we,Me){ee(65472),ee(17),K(8),ee(Me),ee(we),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)})(D.width,D.height),(function(){ee(65476),ee(418),K(0);for(var we=0;we<16;we++)K(L[we+1]);for(var Me=0;Me<=11;Me++)K(E[Me]);K(16);for(var Be=0;Be<16;Be++)K(q[Be+1]);for(var Le=0;Le<=161;Le++)K(M[Le]);K(1);for(var Ge=0;Ge<16;Ge++)K(C[Ge+1]);for(var it=0;it<=11;it++)K(I[it]);K(17);for(var ut=0;ut<16;ut++)K(O[ut+1]);for(var Ct=0;Ct<=161;Ct++)K(H[Ct])})(),ee(65498),ee(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var ie=0,te=0,he=0;g=0,y=7,this.encode.displayName="_encode_";for(var W,V,oe,me,de,ue,Pe,G,pe,ce=D.data,$=D.width,z=D.height,Z=4*$,le=0;le<z;){for(W=0;W<Z;){for(de=Z*le+W,Pe=-1,G=0,pe=0;pe<64;pe++)ue=de+(G=pe>>3)*Z+(Pe=4*(7&pe)),le+G>=z&&(ue-=Z*(le+1+G-z)),W+Pe>=Z&&(ue-=W+Pe-Z+4),V=ce[ue++],oe=ce[ue++],me=ce[ue++],j[pe]=(T[V]+T[oe+256|0]+T[me+512|0]>>16)-128,b[pe]=(T[V+768|0]+T[oe+1024|0]+T[me+1280|0]>>16)-128,_[pe]=(T[V+1280|0]+T[oe+1536|0]+T[me+1792|0]>>16)-128;ie=X(j,u,ie,t,s),te=X(b,d,te,r,a),he=X(_,d,he,r,a),W+=32}le+=8}if(y>=0){var ge=[];ge[1]=y+1,ge[0]=(1<<y+1)-1,U(ge)}return ee(65497),new Uint8Array(v)},e=e||50,(function(){for(var D=String.fromCharCode,Q=0;Q<256;Q++)S[Q]=D(Q)})(),t=re(L,E),r=re(C,I),s=re(q,M),a=re(O,H),(function(){for(var D=1,Q=2,ie=1;ie<=15;ie++){for(var te=D;te<Q;te++)m[32767+te]=ie,h[32767+te]=[],h[32767+te][1]=ie,h[32767+te][0]=te;for(var he=-(Q-1);he<=-D;he++)m[32767+he]=ie,h[32767+he]=[],h[32767+he][1]=ie,h[32767+he][0]=Q-1+he;D<<=1,Q<<=1}})(),(function(){for(var D=0;D<256;D++)T[D]=19595*D,T[D+256|0]=38470*D,T[D+512|0]=7471*D+32768,T[D+768|0]=-11059*D,T[D+1024|0]=-21709*D,T[D+1280|0]=32768*D+8421375,T[D+1536|0]=-27439*D,T[D+1792|0]=-5329*D})(),B(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _q(e){function t(E){if(!E)throw Error("assert :P")}function r(E,q,M){for(var C=0;4>C;C++)if(E[q+C]!=M.charCodeAt(C))return!0;return!1}function s(E,q,M,C,I){for(var O=0;O<I;O++)E[q+O]=M[C+O]}function a(E,q,M,C){for(var I=0;I<C;I++)E[q+I]=M}function i(E){return new Int32Array(E)}function o(E,q){for(var M=[],C=0;C<E;C++)M.push(new q);return M}function l(E,q){var M=[];return(function C(I,O,H){for(var re=H[O],U=0;U<re&&(I.push(H.length>O+1?[]:new q),!(H.length<O+1));U++)C(I[U],O+1,H)})(M,0,E),M}var c=function(){var E=this;function q(P,F){for(var ne=1<<F-1>>>0;P&ne;)ne>>>=1;return ne?(P&ne-1)+ne:P}function M(P,F,ne,fe,be){t(!(fe%ne));do P[F+(fe-=ne)]=be;while(0<fe)}function C(P,F,ne,fe,be){if(t(2328>=be),512>=be)var Se=i(512);else if((Se=i(be))==null)return 0;return(function(ke,Ce,Ae,Te,Ve,Ze){var Oe,Ke,Qe=Ce,ct=1<<Ae,tt=i(16),ot=i(16);for(t(Ve!=0),t(Te!=null),t(ke!=null),t(0<Ae),Ke=0;Ke<Ve;++Ke){if(15<Te[Ke])return 0;++tt[Te[Ke]]}if(tt[0]==Ve)return 0;for(ot[1]=0,Oe=1;15>Oe;++Oe){if(tt[Oe]>1<<Oe)return 0;ot[Oe+1]=ot[Oe]+tt[Oe]}for(Ke=0;Ke<Ve;++Ke)Oe=Te[Ke],0<Te[Ke]&&(Ze[ot[Oe]++]=Ke);if(ot[15]==1)return(Te=new I).g=0,Te.value=Ze[0],M(ke,Qe,1,ct,Te),ct;var lt,ht=-1,ft=ct-1,yr=0,Xt=1,Zr=1,ar=1<<Ae;for(Ke=0,Oe=1,Ve=2;Oe<=Ae;++Oe,Ve<<=1){if(Xt+=Zr<<=1,0>(Zr-=tt[Oe]))return 0;for(;0<tt[Oe];--tt[Oe])(Te=new I).g=Oe,Te.value=Ze[Ke++],M(ke,Qe+yr,Ve,ar,Te),yr=q(yr,Oe)}for(Oe=Ae+1,Ve=2;15>=Oe;++Oe,Ve<<=1){if(Xt+=Zr<<=1,0>(Zr-=tt[Oe]))return 0;for(;0<tt[Oe];--tt[Oe]){if(Te=new I,(yr&ft)!=ht){for(Qe+=ar,lt=1<<(ht=Oe)-Ae;15>ht&&!(0>=(lt-=tt[ht]));)++ht,lt<<=1;ct+=ar=1<<(lt=ht-Ae),ke[Ce+(ht=yr&ft)].g=lt+Ae,ke[Ce+ht].value=Qe-Ce-ht}Te.g=Oe-Ae,Te.value=Ze[Ke++],M(ke,Qe+(yr>>Ae),Ve,ar,Te),yr=q(yr,Oe)}}return Xt!=2*ot[15]-1?0:ct})(P,F,ne,fe,be,Se)}function I(){this.value=this.g=0}function O(){this.value=this.g=0}function H(){this.G=o(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(fl,O)}function re(P,F,ne,fe){t(P!=null),t(F!=null),t(2147483648>fe),P.Ca=254,P.I=0,P.b=-8,P.Ka=0,P.oa=F,P.pa=ne,P.Jd=F,P.Yc=ne+fe,P.Zc=4<=fe?ne+fe-4+1:ne,V(P)}function U(P,F){for(var ne=0;0<F--;)ne|=me(P,128)<<F;return ne}function K(P,F){var ne=U(P,F);return oe(P)?-ne:ne}function ee(P,F,ne,fe){var be,Se=0;for(t(P!=null),t(F!=null),t(4294967288>fe),P.Sb=fe,P.Ra=0,P.u=0,P.h=0,4<fe&&(fe=4),be=0;be<fe;++be)Se+=F[ne+be]<<8*be;P.Ra=Se,P.bb=fe,P.oa=F,P.pa=ne}function X(P){for(;8<=P.u&&P.bb<P.Sb;)P.Ra>>>=8,P.Ra+=P.oa[P.pa+P.bb]<<xd-8>>>0,++P.bb,P.u-=8;te(P)&&(P.h=1,P.u=0)}function B(P,F){if(t(0<=F),!P.h&&F<=Mo){var ne=ie(P)&Do[F];return P.u+=F,X(P),ne}return P.h=1,P.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(P){return P.Ra>>>(P.u&xd-1)>>>0}function te(P){return t(P.bb<=P.Sb),P.h||P.bb==P.Sb&&P.u>xd}function he(P,F){P.u=F,P.h=te(P)}function W(P){P.u>=Rc&&(t(P.u>=Rc),X(P))}function V(P){t(P!=null&&P.oa!=null),P.pa<P.Zc?(P.I=(P.oa[P.pa++]|P.I<<8)>>>0,P.b+=8):(t(P!=null&&P.oa!=null),P.pa<P.Yc?(P.b+=8,P.I=P.oa[P.pa++]|P.I<<8):P.Ka?P.b=0:(P.I<<=8,P.b+=8,P.Ka=1))}function oe(P){return U(P,1)}function me(P,F){var ne=P.Ca;0>P.b&&V(P);var fe=P.b,be=ne*F>>>8,Se=(P.I>>>fe>be)+0;for(Se?(ne-=be,P.I-=be+1<<fe>>>0):ne=be+1,fe=ne,be=0;256<=fe;)be+=8,fe>>=8;return fe=7^be+_u[fe],P.b-=fe,P.Ca=(ne<<fe)-1,Se}function de(P,F,ne){P[F+0]=ne>>24&255,P[F+1]=ne>>16&255,P[F+2]=ne>>8&255,P[F+3]=255&ne}function ue(P,F){return P[F+0]|P[F+1]<<8}function Pe(P,F){return ue(P,F)|P[F+2]<<16}function G(P,F){return ue(P,F)|ue(P,F+2)<<16}function pe(P,F){var ne=1<<F;return t(P!=null),t(0<F),P.X=i(ne),P.X==null?0:(P.Mb=32-F,P.Xa=F,1)}function ce(P,F){t(P!=null),t(F!=null),t(P.Xa==F.Xa),s(F.X,0,P.X,0,1<<F.Xa)}function $(){this.X=[],this.Xa=this.Mb=0}function z(P,F,ne,fe){t(ne!=null),t(fe!=null);var be=ne[0],Se=fe[0];return be==0&&(be=(P*Se+F/2)/F),Se==0&&(Se=(F*be+P/2)/P),0>=be||0>=Se?0:(ne[0]=be,fe[0]=Se,1)}function Z(P,F){return P+(1<<F)-1>>>F}function le(P,F){return((4278255360&P)+(4278255360&F)>>>0&4278255360)+((16711935&P)+(16711935&F)>>>0&16711935)>>>0}function ge(P,F){E[F]=function(ne,fe,be,Se,ke,Ce,Ae){var Te;for(Te=0;Te<ke;++Te){var Ve=E[P](Ce[Ae+Te-1],be,Se+Te);Ce[Ae+Te]=le(ne[fe+Te],Ve)}}}function we(){this.ud=this.hd=this.jd=0}function Me(P,F){return((4278124286&(P^F))>>>1)+(P&F)>>>0}function Be(P){return 0<=P&&256>P?P:0>P?0:255<P?255:void 0}function Le(P,F){return Be(P+(P-F+.5>>1))}function Ge(P,F,ne){return Math.abs(F-ne)-Math.abs(P-ne)}function it(P,F,ne,fe,be,Se,ke){for(fe=Se[ke-1],ne=0;ne<be;++ne)Se[ke+ne]=fe=le(P[F+ne],fe)}function ut(P,F,ne,fe,be){var Se;for(Se=0;Se<ne;++Se){var ke=P[F+Se],Ce=ke>>8&255,Ae=16711935&(Ae=(Ae=16711935&ke)+((Ce<<16)+Ce));fe[be+Se]=(4278255360&ke)+Ae>>>0}}function Ct(P,F){F.jd=255&P,F.hd=P>>8&255,F.ud=P>>16&255}function Mt(P,F,ne,fe,be,Se){var ke;for(ke=0;ke<fe;++ke){var Ce=F[ne+ke],Ae=Ce>>>8,Te=Ce,Ve=255&(Ve=(Ve=Ce>>>16)+((P.jd<<24>>24)*(Ae<<24>>24)>>>5));Te=255&(Te=(Te+=(P.hd<<24>>24)*(Ae<<24>>24)>>>5)+((P.ud<<24>>24)*(Ve<<24>>24)>>>5)),be[Se+ke]=(4278255360&Ce)+(Ve<<16)+Te}}function Et(P,F,ne,fe,be){E[F]=function(Se,ke,Ce,Ae,Te,Ve,Ze,Oe,Ke){for(Ae=Ze;Ae<Oe;++Ae)for(Ze=0;Ze<Ke;++Ze)Te[Ve++]=be(Ce[fe(Se[ke++])])},E[P]=function(Se,ke,Ce,Ae,Te,Ve,Ze){var Oe=8>>Se.b,Ke=Se.Ea,Qe=Se.K[0],ct=Se.w;if(8>Oe)for(Se=(1<<Se.b)-1,ct=(1<<Oe)-1;ke<Ce;++ke){var tt,ot=0;for(tt=0;tt<Ke;++tt)tt&Se||(ot=fe(Ae[Te++])),Ve[Ze++]=be(Qe[ot&ct]),ot>>=Oe}else E["VP8LMapColor"+ne](Ae,Te,Qe,ct,Ve,Ze,ke,Ce,Ke)}}function rn(P,F,ne,fe,be){for(ne=F+ne;F<ne;){var Se=P[F++];fe[be++]=Se>>16&255,fe[be++]=Se>>8&255,fe[be++]=255&Se}}function Wt(P,F,ne,fe,be){for(ne=F+ne;F<ne;){var Se=P[F++];fe[be++]=Se>>16&255,fe[be++]=Se>>8&255,fe[be++]=255&Se,fe[be++]=Se>>24&255}}function Dt(P,F,ne,fe,be){for(ne=F+ne;F<ne;){var Se=(ke=P[F++])>>16&240|ke>>12&15,ke=240&ke|ke>>28&15;fe[be++]=Se,fe[be++]=ke}}function ir(P,F,ne,fe,be){for(ne=F+ne;F<ne;){var Se=(ke=P[F++])>>16&248|ke>>13&7,ke=ke>>5&224|ke>>3&31;fe[be++]=Se,fe[be++]=ke}}function _r(P,F,ne,fe,be){for(ne=F+ne;F<ne;){var Se=P[F++];fe[be++]=255&Se,fe[be++]=Se>>8&255,fe[be++]=Se>>16&255}}function nr(P,F,ne,fe,be,Se){if(Se==0)for(ne=F+ne;F<ne;)de(fe,((Se=P[F++])[0]>>24|Se[1]>>8&65280|Se[2]<<8&16711680|Se[3]<<24)>>>0),be+=32;else s(fe,be,P,F,ne)}function Lr(P,F){E[F][0]=E[P+"0"],E[F][1]=E[P+"1"],E[F][2]=E[P+"2"],E[F][3]=E[P+"3"],E[F][4]=E[P+"4"],E[F][5]=E[P+"5"],E[F][6]=E[P+"6"],E[F][7]=E[P+"7"],E[F][8]=E[P+"8"],E[F][9]=E[P+"9"],E[F][10]=E[P+"10"],E[F][11]=E[P+"11"],E[F][12]=E[P+"12"],E[F][13]=E[P+"13"],E[F][14]=E[P+"0"],E[F][15]=E[P+"0"]}function Ar(P){return P==qf||P==Sh||P==Tp||P==Op}function Cn(){this.eb=[],this.size=this.A=this.fb=0}function Sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Cn,this.f.kb=new Sn,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kr(P){return alert("todo:WebPSamplerProcessPlane"),P.T}function Zt(P,F){var ne=P.T,fe=F.ba.f.RGBA,be=fe.eb,Se=fe.fb+P.ka*fe.A,ke=ho[F.ba.S],Ce=P.y,Ae=P.O,Te=P.f,Ve=P.N,Ze=P.ea,Oe=P.W,Ke=F.cc,Qe=F.dc,ct=F.Mc,tt=F.Nc,ot=P.ka,lt=P.ka+P.T,ht=P.U,ft=ht+1>>1;for(ot==0?ke(Ce,Ae,null,null,Te,Ve,Ze,Oe,Te,Ve,Ze,Oe,be,Se,null,null,ht):(ke(F.ec,F.fc,Ce,Ae,Ke,Qe,ct,tt,Te,Ve,Ze,Oe,be,Se-fe.A,be,Se,ht),++ne);ot+2<lt;ot+=2)Ke=Te,Qe=Ve,ct=Ze,tt=Oe,Ve+=P.Rc,Oe+=P.Rc,Se+=2*fe.A,ke(Ce,(Ae+=2*P.fa)-P.fa,Ce,Ae,Ke,Qe,ct,tt,Te,Ve,Ze,Oe,be,Se-fe.A,be,Se,ht);return Ae+=P.fa,P.j+lt<P.o?(s(F.ec,F.fc,Ce,Ae,ht),s(F.cc,F.dc,Te,Ve,ft),s(F.Mc,F.Nc,Ze,Oe,ft),ne--):1&lt||ke(Ce,Ae,null,null,Te,Ve,Ze,Oe,Te,Ve,Ze,Oe,be,Se+fe.A,null,null,ht),ne}function nn(P,F,ne){var fe=P.F,be=[P.J];if(fe!=null){var Se=P.U,ke=F.ba.S,Ce=ke==Pp||ke==Tp;F=F.ba.f.RGBA;var Ae=[0],Te=P.ka;Ae[0]=P.T,P.Kb&&(Te==0?--Ae[0]:(--Te,be[0]-=P.width),P.j+P.ka+P.T==P.o&&(Ae[0]=P.o-P.j-Te));var Ve=F.eb;Te=F.fb+Te*F.A,P=Ep(fe,be[0],P.width,Se,Ae,Ve,Te+(Ce?0:3),F.A),t(ne==Ae),P&&Ar(ke)&&_h(Ve,Te,Ce,Se,Ae,F.A)}return 0}function hs(P){var F=P.ma,ne=F.ba.S,fe=11>ne,be=ne==jd||ne==Ap||ne==Pp||ne==as||ne==12||Ar(ne);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Df(F.Oa,P,be?11:12))return 0;if(be&&Ar(ne)&&bv(),P.da)alert("todo:use_scaling");else{if(fe){if(F.Ib=kr,P.Kb){if(ne=P.U+1>>1,F.memory=i(P.U+2*ne),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+P.U,F.Mc=F.cc,F.Nc=F.dc+ne,F.Ib=Zt,bv()}}else alert("todo:EmitYUV");be&&(F.Jb=nn,fe&&hl())}if(fe&&!fi){for(P=0;256>P;++P)fo[P]=89858*(P-128)+zl>>Eu,mo[P]=-22014*(P-128)+zl,Hf[P]=-45773*(P-128),Ah[P]=113618*(P-128)+zl>>Eu;for(P=Wn;P<Xn;++P)F=76283*(P-16)+zl>>Eu,Av[P-Wn]=Gs(F,255),k1[P-Wn]=Gs(F+8>>4,15);fi=1}return 1}function Jt(P){var F=P.ma,ne=P.U,fe=P.T;return t(!(1&P.ka)),0>=ne||0>=fe?0:(ne=F.Ib(P,F),F.Jb!=null&&F.Jb(P,F,ne),F.Dc+=ne,1)}function fs(P){P.ma.memory=null}function Hs(P,F,ne,fe){return B(P,8)!=47?0:(F[0]=B(P,14)+1,ne[0]=B(P,14)+1,fe[0]=B(P,1),B(P,3)!=0?0:!P.h)}function Tn(P,F){if(4>P)return P+1;var ne=P-2>>1;return(2+(1&P)<<ne)+B(F,ne)+1}function Ms(P,F){return 120<F?F-120:1<=(ne=((ne=E5[F-1])>>4)*P+(8-(15&ne)))?ne:1;var ne}function fn(P,F,ne){var fe=ie(ne),be=P[F+=255&fe].g-8;return 0<be&&(he(ne,ne.u+8),fe=ie(ne),F+=P[F].value,F+=fe&(1<<be)-1),he(ne,ne.u+P[F].g),P[F].value}function zn(P,F,ne){return ne.g+=P.g,ne.value+=P.value<<F>>>0,t(8>=ne.g),P.g}function Ls(P,F,ne){var fe=P.xc;return t((F=fe==0?0:P.vc[P.md*(ne>>fe)+(F>>fe)])<P.Wb),P.Ya[F]}function sl(P,F,ne,fe){var be=P.ab,Se=P.c*F,ke=P.C;F=ke+F;var Ce=ne,Ae=fe;for(fe=P.Ta,ne=P.Ua;0<be--;){var Te=P.gc[be],Ve=ke,Ze=F,Oe=Ce,Ke=Ae,Qe=(Ae=fe,Ce=ne,Te.Ea);switch(t(Ve<Ze),t(Ze<=Te.nc),Te.hc){case 2:oa(Oe,Ke,(Ze-Ve)*Qe,Ae,Ce);break;case 0:var ct=Ve,tt=Ze,ot=Ae,lt=Ce,ht=(ar=Te).Ea;ct==0&&(Su(Oe,Ke,null,null,1,ot,lt),it(Oe,Ke+1,0,0,ht-1,ot,lt+1),Ke+=ht,lt+=ht,++ct);for(var ft=1<<ar.b,yr=ft-1,Xt=Z(ht,ar.b),Zr=ar.K,ar=ar.w+(ct>>ar.b)*Xt;ct<tt;){var gn=Zr,Js=ar,an=1;for(Dc(Oe,Ke,ot,lt-ht,1,ot,lt);an<ht;){var Qt=(an&~yr)+ft;Qt>ht&&(Qt=ht),(0,wh[gn[Js++]>>8&15])(Oe,Ke+ +an,ot,lt+an-ht,Qt-an,ot,lt+an),an=Qt}Ke+=ht,lt+=ht,++ct&yr||(ar+=Xt)}Ze!=Te.nc&&s(Ae,Ce-Qe,Ae,Ce+(Ze-Ve-1)*Qe,Qe);break;case 1:for(Qe=Oe,tt=Ke,ht=(Oe=Te.Ea)-(lt=Oe&~(ot=(Ke=1<<Te.b)-1)),ct=Z(Oe,Te.b),ft=Te.K,Te=Te.w+(Ve>>Te.b)*ct;Ve<Ze;){for(yr=ft,Xt=Te,Zr=new we,ar=tt+lt,gn=tt+Oe;tt<ar;)Ct(yr[Xt++],Zr),Lf(Zr,Qe,tt,Ke,Ae,Ce),tt+=Ke,Ce+=Ke;tt<gn&&(Ct(yr[Xt++],Zr),Lf(Zr,Qe,tt,ht,Ae,Ce),tt+=ht,Ce+=ht),++Ve&ot||(Te+=ct)}break;case 3:if(Oe==Ae&&Ke==Ce&&0<Te.b){for(tt=Ae,Oe=Qe=Ce+(Ze-Ve)*Qe-(lt=(Ze-Ve)*Z(Te.Ea,Te.b)),Ke=Ae,ot=Ce,ct=[],lt=(ht=lt)-1;0<=lt;--lt)ct[lt]=Ke[ot+lt];for(lt=ht-1;0<=lt;--lt)tt[Oe+lt]=ct[lt];xh(Te,Ve,Ze,Ae,Qe,Ae,Ce)}else xh(Te,Ve,Ze,Oe,Ke,Ae,Ce)}Ce=fe,Ae=ne}Ae!=ne&&s(fe,ne,Ce,Ae,Se)}function al(P,F){var ne=P.V,fe=P.Ba+P.c*P.C,be=F-P.C;if(t(F<=P.l.o),t(16>=be),0<be){var Se=P.l,ke=P.Ta,Ce=P.Ua,Ae=Se.width;if(sl(P,be,ne,fe),be=Ce=[Ce],t((ne=P.C)<(fe=F)),t(Se.v<Se.va),fe>Se.o&&(fe=Se.o),ne<Se.j){var Te=Se.j-ne;ne=Se.j,be[0]+=Te*Ae}if(ne>=fe?ne=0:(be[0]+=4*Se.v,Se.ka=ne-Se.j,Se.U=Se.va-Se.v,Se.T=fe-ne,ne=1),ne){if(Ce=Ce[0],11>(ne=P.ca).S){var Ve=ne.f.RGBA,Ze=(fe=ne.S,be=Se.U,Se=Se.T,Te=Ve.eb,Ve.A),Oe=Se;for(Ve=Ve.fb+P.Ma*Ve.A;0<Oe--;){var Ke=ke,Qe=Ce,ct=be,tt=Te,ot=Ve;switch(fe){case Sv:Ff(Ke,Qe,ct,tt,ot);break;case jd:ku(Ke,Qe,ct,tt,ot);break;case qf:ku(Ke,Qe,ct,tt,ot),_h(tt,ot,0,ct,1,0);break;case b1:bh(Ke,Qe,ct,tt,ot);break;case Ap:nr(Ke,Qe,ct,tt,ot,1);break;case Sh:nr(Ke,Qe,ct,tt,ot,1),_h(tt,ot,0,ct,1,0);break;case Pp:nr(Ke,Qe,ct,tt,ot,0);break;case Tp:nr(Ke,Qe,ct,tt,ot,0),_h(tt,ot,1,ct,1,0);break;case as:yd(Ke,Qe,ct,tt,ot);break;case Op:yd(Ke,Qe,ct,tt,ot),d0(tt,ot,ct,1,0);break;case kv:wd(Ke,Qe,ct,tt,ot);break;default:t(0)}Ce+=Ae,Ve+=Ze}P.Ma+=Se}else alert("todo:EmitRescaledRowsYUVA");t(P.Ma<=ne.height)}}P.C=F,t(P.C<=P.i)}function ao(P){var F;if(0<P.ua)return 0;for(F=0;F<P.Wb;++F){var ne=P.Ya[F].G,fe=P.Ya[F].H;if(0<ne[1][fe[1]+0].g||0<ne[2][fe[2]+0].g||0<ne[3][fe[3]+0].g)return 0}return 1}function ja(P,F,ne,fe,be,Se){if(P.Z!=0){var ke=P.qd,Ce=P.rd;for(t(Pi[P.Z]!=null);F<ne;++F)Pi[P.Z](ke,Ce,fe,be,fe,be,Se),ke=fe,Ce=be,be+=Se;P.qd=ke,P.rd=Ce}}function Na(P,F){var ne=P.l.ma,fe=ne.Z==0||ne.Z==1?P.l.j:P.C;if(fe=P.C<fe?fe:P.C,t(F<=P.l.o),F>fe){var be=P.l.width,Se=ne.ca,ke=ne.tb+be*fe,Ce=P.V,Ae=P.Ba+P.c*fe,Te=P.gc;t(P.ab==1),t(Te[0].hc==3),$l(Te[0],fe,F,Ce,Ae,Se,ke),ja(ne,fe,F,Se,ke,be)}P.C=P.Ma=F}function Vi(P,F,ne,fe,be,Se,ke){var Ce=P.$/fe,Ae=P.$%fe,Te=P.m,Ve=P.s,Ze=ne+P.$,Oe=Ze;be=ne+fe*be;var Ke=ne+fe*Se,Qe=280+Ve.ua,ct=P.Pb?Ce:16777216,tt=0<Ve.ua?Ve.Wa:null,ot=Ve.wc,lt=Ze<Ke?Ls(Ve,Ae,Ce):null;t(P.C<Se),t(Ke<=be);var ht=!1;e:for(;;){for(;ht||Ze<Ke;){var ft=0;if(Ce>=ct){var yr=Ze-ne;t((ct=P).Pb),ct.wd=ct.m,ct.xd=yr,0<ct.s.ua&&ce(ct.s.Wa,ct.s.vb),ct=Ce+Ev}if(Ae&ot||(lt=Ls(Ve,Ae,Ce)),t(lt!=null),lt.Qb&&(F[Ze]=lt.qb,ht=!0),!ht)if(W(Te),lt.jc){ft=Te,yr=F;var Xt=Ze,Zr=lt.pd[ie(ft)&fl-1];t(lt.jc),256>Zr.g?(he(ft,ft.u+Zr.g),yr[Xt]=Zr.value,ft=0):(he(ft,ft.u+Zr.g-256),t(256<=Zr.value),ft=Zr.value),ft==0&&(ht=!0)}else ft=fn(lt.G[0],lt.H[0],Te);if(Te.h)break;if(ht||256>ft){if(!ht)if(lt.nd)F[Ze]=(lt.qb|ft<<8)>>>0;else{if(W(Te),ht=fn(lt.G[1],lt.H[1],Te),W(Te),yr=fn(lt.G[2],lt.H[2],Te),Xt=fn(lt.G[3],lt.H[3],Te),Te.h)break;F[Ze]=(Xt<<24|ht<<16|ft<<8|yr)>>>0}if(ht=!1,++Ze,++Ae>=fe&&(Ae=0,++Ce,ke!=null&&Ce<=Se&&!(Ce%16)&&ke(P,Ce),tt!=null))for(;Oe<Ze;)ft=F[Oe++],tt.X[(506832829*ft&4294967295)>>>tt.Mb]=ft}else if(280>ft){if(ft=Tn(ft-256,Te),yr=fn(lt.G[4],lt.H[4],Te),W(Te),yr=Ms(fe,yr=Tn(yr,Te)),Te.h)break;if(Ze-ne<yr||be-Ze<ft)break e;for(Xt=0;Xt<ft;++Xt)F[Ze+Xt]=F[Ze+Xt-yr];for(Ze+=ft,Ae+=ft;Ae>=fe;)Ae-=fe,++Ce,ke!=null&&Ce<=Se&&!(Ce%16)&&ke(P,Ce);if(t(Ze<=be),Ae&ot&&(lt=Ls(Ve,Ae,Ce)),tt!=null)for(;Oe<Ze;)ft=F[Oe++],tt.X[(506832829*ft&4294967295)>>>tt.Mb]=ft}else{if(!(ft<Qe))break e;for(ht=ft-280,t(tt!=null);Oe<Ze;)ft=F[Oe++],tt.X[(506832829*ft&4294967295)>>>tt.Mb]=ft;ft=Ze,t(!(ht>>>(yr=tt).Xa)),F[ft]=yr.X[ht],ht=!0}ht||t(Te.h==te(Te))}if(P.Pb&&Te.h&&Ze<be)t(P.m.h),P.a=5,P.m=P.wd,P.$=P.xd,0<P.s.ua&&ce(P.s.vb,P.s.Wa);else{if(Te.h)break e;ke!=null&&ke(P,Ce>Se?Se:Ce),P.a=0,P.$=Ze-ne}return 1}return P.a=3,0}function Si(P){t(P!=null),P.vc=null,P.yc=null,P.Ya=null;var F=P.Wa;F!=null&&(F.X=null),P.vb=null,t(P!=null)}function kc(){var P=new xr;return P==null?null:(P.a=0,P.xb=Wf,Lr("Predictor","VP8LPredictors"),Lr("Predictor","VP8LPredictors_C"),Lr("PredictorAdd","VP8LPredictorsAdd"),Lr("PredictorAdd","VP8LPredictorsAdd_C"),oa=ut,Lf=Mt,Ff=rn,ku=Wt,yd=Dt,wd=ir,bh=_r,E.VP8LMapColor32b=Mc,E.VP8LMapColor8b=yh,P)}function Oo(P,F,ne,fe,be){var Se=1,ke=[P],Ce=[F],Ae=fe.m,Te=fe.s,Ve=null,Ze=0;e:for(;;){if(ne)for(;Se&&B(Ae,1);){var Oe=ke,Ke=Ce,Qe=fe,ct=1,tt=Qe.m,ot=Qe.gc[Qe.ab],lt=B(tt,2);if(Qe.Oc&1<<lt)Se=0;else{switch(Qe.Oc|=1<<lt,ot.hc=lt,ot.Ea=Oe[0],ot.nc=Ke[0],ot.K=[null],++Qe.ab,t(4>=Qe.ab),lt){case 0:case 1:ot.b=B(tt,3)+2,ct=Oo(Z(ot.Ea,ot.b),Z(ot.nc,ot.b),0,Qe,ot.K),ot.K=ot.K[0];break;case 3:var ht,ft=B(tt,8)+1,yr=16<ft?0:4<ft?1:2<ft?2:3;if(Oe[0]=Z(ot.Ea,yr),ot.b=yr,ht=ct=Oo(ft,1,0,Qe,ot.K)){var Xt,Zr=ft,ar=ot,gn=1<<(8>>ar.b),Js=i(gn);if(Js==null)ht=0;else{var an=ar.K[0],Qt=ar.w;for(Js[0]=ar.K[0][0],Xt=1;Xt<1*Zr;++Xt)Js[Xt]=le(an[Qt+Xt],Js[Xt-1]);for(;Xt<4*gn;++Xt)Js[Xt]=0;ar.K[0]=null,ar.K[0]=Js,ht=1}}ct=ht;break;case 2:break;default:t(0)}Se=ct}}if(ke=ke[0],Ce=Ce[0],Se&&B(Ae,1)&&!(Se=1<=(Ze=B(Ae,4))&&11>=Ze)){fe.a=3;break e}var Rt;if(Rt=Se)t:{var la,Fr,mn,ps=fe,ei=ke,Ca=Ce,Us=Ze,qa=ne,ti=ps.m,Es=ps.s,bn=[null],Rn=1,As=0,Dn=N1[Us];r:for(;;){if(qa&&B(ti,1)){var Xs=B(ti,3)+2,Qs=Z(ei,Xs),is=Z(Ca,Xs),Ti=Qs*is;if(!Oo(Qs,is,0,ps,bn))break r;for(bn=bn[0],Es.xc=Xs,la=0;la<Ti;++la){var Qn=bn[la]>>8&65535;bn[la]=Qn,Qn>=Rn&&(Rn=Qn+1)}}if(ti.h)break r;for(Fr=0;5>Fr;++Fr){var os=kh[Fr];!Fr&&0<Us&&(os+=1<<Us),As<os&&(As=os)}var Ea=o(Rn*Dn,I),mi=Rn,po=o(mi,H);if(po==null)var ca=null;else t(65536>=mi),ca=po;var ua=i(As);if(ca==null||ua==null||Ea==null){ps.a=1;break r}var Oi=Ea;for(la=mn=0;la<Rn;++la){var ls=ca[la],Ii=ls.G,gl=ls.H,Wl=0,ri=1,da=0;for(Fr=0;5>Fr;++Fr){os=kh[Fr],Ii[Fr]=Oi,gl[Fr]=mn,!Fr&&0<Us&&(os+=1<<Us);s:{var Sd,Pu=os,Gf=ps,Bc=ua,E1=Oi,N0=mn,Ns=0,Vl=Gf.m,_0=B(Vl,1);if(a(Bc,0,0,Pu),_0){var S0=B(Vl,1)+1,Pv=B(Vl,1),Tv=B(Vl,Pv==0?1:8);Bc[Tv]=1,S0==2&&(Bc[Tv=B(Vl,8)]=1);var Uc=1}else{var Ps=i(19),Aa=B(Vl,4)+4;if(19<Aa){Gf.a=3;var ha=0;break s}for(Sd=0;Sd<Aa;++Sd)Ps[C5[Sd]]=B(Vl,3);var Kf=void 0,Tu=void 0,Yf=Gf,I5=Ps,za=Pu,Ov=Bc,Lp=0,$c=Yf.m,Hl=8,Lo=o(128,I);n:for(;C(Lo,0,7,I5,19);){if(B($c,1)){var Fp=2+2*B($c,3);if((Kf=2+B($c,Fp))>za)break n}else Kf=za;for(Tu=0;Tu<za&&Kf--;){W($c);var Iv=Lo[0+(127&ie($c))];he($c,$c.u+Iv.g);var kd=Iv.value;if(16>kd)Ov[Tu++]=kd,kd!=0&&(Hl=kd);else{var A1=kd==16,k0=kd-16,P1=Cv[k0],C0=B($c,Ip[k0])+P1;if(Tu+C0>za)break n;for(var T1=A1?Hl:0;0<C0--;)Ov[Tu++]=T1}}Lp=1;break n}Lp||(Yf.a=3),Uc=Lp}(Uc=Uc&&!Vl.h)&&(Ns=C(E1,N0,8,Bc,Pu)),Uc&&Ns!=0?ha=Ns:(Gf.a=3,ha=0)}if(ha==0)break r;if(ri&&j1[Fr]==1&&(ri=Oi[mn].g==0),Wl+=Oi[mn].g,mn+=ha,3>=Fr){var Jf,Rv=ua[0];for(Jf=1;Jf<os;++Jf)ua[Jf]>Rv&&(Rv=ua[Jf]);da+=Rv}}if(ls.nd=ri,ls.Qb=0,ri&&(ls.qb=(Ii[3][gl[3]+0].value<<24|Ii[1][gl[1]+0].value<<16|Ii[2][gl[2]+0].value)>>>0,Wl==0&&256>Ii[0][gl[0]+0].value&&(ls.Qb=1,ls.qb+=Ii[0][gl[0]+0].value<<8)),ls.jc=!ls.Qb&&6>da,ls.jc){var Bp,Fo=ls;for(Bp=0;Bp<fl;++Bp){var Ou=Bp,Gl=Fo.pd[Ou],Th=Fo.G[0][Fo.H[0]+Ou];256<=Th.value?(Gl.g=Th.g+256,Gl.value=Th.value):(Gl.g=0,Gl.value=0,Ou>>=zn(Th,8,Gl),Ou>>=zn(Fo.G[1][Fo.H[1]+Ou],16,Gl),Ou>>=zn(Fo.G[2][Fo.H[2]+Ou],0,Gl),zn(Fo.G[3][Fo.H[3]+Ou],24,Gl))}}}Es.vc=bn,Es.Wb=Rn,Es.Ya=ca,Es.yc=Ea,Rt=1;break t}Rt=0}if(!(Se=Rt)){fe.a=3;break e}if(0<Ze){if(Te.ua=1<<Ze,!pe(Te.Wa,Ze)){fe.a=1,Se=0;break e}}else Te.ua=0;var Dv=fe,Mv=ke,O1=Ce,Lv=Dv.s,Fv=Lv.xc;if(Dv.c=Mv,Dv.i=O1,Lv.md=Z(Mv,Fv),Lv.wc=Fv==0?-1:(1<<Fv)-1,ne){fe.xb=Fc;break e}if((Ve=i(ke*Ce))==null){fe.a=1,Se=0;break e}Se=(Se=Vi(fe,Ve,0,ke,Ce,Ce,null))&&!Ae.h;break e}return Se?(be!=null?be[0]=Ve:(t(Ve==null),t(ne)),fe.$=0,ne||Si(Te)):Si(Te),Se}function er(P,F){var ne=P.c*P.i,fe=ne+F+16*F;return t(P.c<=F),P.V=i(fe),P.V==null?(P.Ta=null,P.Ua=0,P.a=1,0):(P.Ta=P.V,P.Ua=P.Ba+ne+F,1)}function We(P,F){var ne=P.C,fe=F-ne,be=P.V,Se=P.Ba+P.c*ne;for(t(F<=P.l.o);0<fe;){var ke=16<fe?16:fe,Ce=P.l.ma,Ae=P.l.width,Te=Ae*ke,Ve=Ce.ca,Ze=Ce.tb+Ae*ne,Oe=P.Ta,Ke=P.Ua;sl(P,ke,be,Se),h0(Oe,Ke,Ve,Ze,Te),ja(Ce,ne,ne+ke,Ve,Ze,Ae),fe-=ke,be+=ke*P.c,ne+=ke}t(ne==F),P.C=P.Ma=F}function Nt(){this.ub=this.yd=this.td=this.Rb=0}function Vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yn(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function sn(){this.Yb=(function(){var P=[];return(function F(ne,fe,be){for(var Se=be[fe],ke=0;ke<Se&&(ne.push(be.length>fe+1?[]:0),!(be.length<fe+1));ke++)F(ne[ke],fe+1,be)})(P,0,[3,11]),P})()}function js(){this.jb=i(3),this.Wc=l([4,8],sn),this.Xc=l([4,17],sn)}function sa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Fs(){this.ld=this.La=this.dd=this.tc=0}function Hi(){this.Na=this.la=0}function fd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cs(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fs),this.Y=0,this.ya=Array(new Cs),this.aa=0,this.l=new Ci}function ki(){this.y=i(16),this.f=i(8),this.ea=i(8)}function mv(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Nt,this.Kc=new Vt,this.ed=new sa,this.Qa=new Yn,this.Ic=this.$c=this.Aa=0,this.D=new Cc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,fd),this.Pa=new js,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ki),this.Hd=0,this.rb=Array(new Hi),this.sb=0,this.wa=Array(new Fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cs),this.L=this.aa=0,this.gd=l([4,2],Fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ci(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function l0(){var P=new mv;return P!=null&&(P.a=0,P.sc="OK",P.cb=0,P.Xb=0,Ch||(Ch=il)),P}function _a(P,F,ne){return P.a==0&&(P.a=F,P.sc=ne,P.cb=0),0}function pv(P,F,ne){return 3<=ne&&P[F+0]==157&&P[F+1]==1&&P[F+2]==42}function sh(P,F){if(P==null)return 0;if(P.a=0,P.sc="OK",F==null)return _a(P,2,"null VP8Io passed to VP8GetHeaders()");var ne=F.data,fe=F.w,be=F.ha;if(4>be)return _a(P,7,"Truncated header.");var Se=ne[fe+0]|ne[fe+1]<<8|ne[fe+2]<<16,ke=P.Od;if(ke.Rb=!(1&Se),ke.td=Se>>1&7,ke.yd=Se>>4&1,ke.ub=Se>>5,3<ke.td)return _a(P,3,"Incorrect keyframe parameters.");if(!ke.yd)return _a(P,4,"Frame not displayable.");fe+=3,be-=3;var Ce=P.Kc;if(ke.Rb){if(7>be)return _a(P,7,"cannot parse picture header");if(!pv(ne,fe,be))return _a(P,3,"Bad code word");Ce.c=16383&(ne[fe+4]<<8|ne[fe+3]),Ce.Td=ne[fe+4]>>6,Ce.i=16383&(ne[fe+6]<<8|ne[fe+5]),Ce.Ud=ne[fe+6]>>6,fe+=7,be-=7,P.za=Ce.c+15>>4,P.Ub=Ce.i+15>>4,F.width=Ce.c,F.height=Ce.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,a((Se=P.Pa).jb,0,255,Se.jb.length),t((Se=P.Qa)!=null),Se.Cb=0,Se.Bb=0,Se.Fb=1,a(Se.Zb,0,0,Se.Zb.length),a(Se.Lb,0,0,Se.Lb)}if(ke.ub>be)return _a(P,7,"bad partition length");re(Se=P.m,ne,fe,ke.ub),fe+=ke.ub,be-=ke.ub,ke.Rb&&(Ce.Ld=oe(Se),Ce.Kd=oe(Se)),Ce=P.Qa;var Ae,Te=P.Pa;if(t(Se!=null),t(Ce!=null),Ce.Cb=oe(Se),Ce.Cb){if(Ce.Bb=oe(Se),oe(Se)){for(Ce.Fb=oe(Se),Ae=0;4>Ae;++Ae)Ce.Zb[Ae]=oe(Se)?K(Se,7):0;for(Ae=0;4>Ae;++Ae)Ce.Lb[Ae]=oe(Se)?K(Se,6):0}if(Ce.Bb)for(Ae=0;3>Ae;++Ae)Te.jb[Ae]=oe(Se)?U(Se,8):255}else Ce.Bb=0;if(Se.Ka)return _a(P,3,"cannot parse segment header");if((Ce=P.ed).zd=oe(Se),Ce.Tb=U(Se,6),Ce.wb=U(Se,3),Ce.Pc=oe(Se),Ce.Pc&&oe(Se)){for(Te=0;4>Te;++Te)oe(Se)&&(Ce.vd[Te]=K(Se,6));for(Te=0;4>Te;++Te)oe(Se)&&(Ce.od[Te]=K(Se,6))}if(P.L=Ce.Tb==0?0:Ce.zd?1:2,Se.Ka)return _a(P,3,"cannot parse filter header");var Ve=be;if(be=Ae=fe,fe=Ae+Ve,Ce=Ve,P.Xb=(1<<U(P.m,2))-1,Ve<3*(Te=P.Xb))ne=7;else{for(Ae+=3*Te,Ce-=3*Te,Ve=0;Ve<Te;++Ve){var Ze=ne[be+0]|ne[be+1]<<8|ne[be+2]<<16;Ze>Ce&&(Ze=Ce),re(P.Jc[+Ve],ne,Ae,Ze),Ae+=Ze,Ce-=Ze,be+=3}re(P.Jc[+Te],ne,Ae,Ce),ne=Ae<fe?0:5}if(ne!=0)return _a(P,ne,"cannot parse partitions");for(ne=U(Ae=P.m,7),be=oe(Ae)?K(Ae,4):0,fe=oe(Ae)?K(Ae,4):0,Ce=oe(Ae)?K(Ae,4):0,Te=oe(Ae)?K(Ae,4):0,Ae=oe(Ae)?K(Ae,4):0,Ve=P.Qa,Ze=0;4>Ze;++Ze){if(Ve.Cb){var Oe=Ve.Zb[Ze];Ve.Fb||(Oe+=ne)}else{if(0<Ze){P.pb[Ze]=P.pb[0];continue}Oe=ne}var Ke=P.pb[Ze];Ke.Sc[0]=zf[Gs(Oe+be,127)],Ke.Sc[1]=Rp[Gs(Oe+0,127)],Ke.Eb[0]=2*zf[Gs(Oe+fe,127)],Ke.Eb[1]=101581*Rp[Gs(Oe+Ce,127)]>>16,8>Ke.Eb[1]&&(Ke.Eb[1]=8),Ke.Qc[0]=zf[Gs(Oe+Te,117)],Ke.Qc[1]=Rp[Gs(Oe+Ae,127)],Ke.lc=Oe+Ae}if(!ke.Rb)return _a(P,4,"Not a key frame.");for(oe(Se),ke=P.Pa,ne=0;4>ne;++ne){for(be=0;8>be;++be)for(fe=0;3>fe;++fe)for(Ce=0;11>Ce;++Ce)Te=me(Se,P5[ne][be][fe][Ce])?U(Se,8):S1[ne][be][fe][Ce],ke.Wc[ne][be].Yb[fe][Ce]=Te;for(be=0;17>be;++be)ke.Xc[ne][be]=ke.Wc[ne][w0[be]]}return P.kc=oe(Se),P.kc&&(P.Bd=U(Se,8)),P.cb=1}function il(P,F,ne,fe,be,Se,ke){var Ce=F[be].Yb[ne];for(ne=0;16>be;++be){if(!me(P,Ce[ne+0]))return be;for(;!me(P,Ce[ne+1]);)if(Ce=F[++be].Yb[0],ne=0,be==16)return 16;var Ae=F[be+1].Yb;if(me(P,Ce[ne+2])){var Te=P,Ve=0;if(me(Te,(Oe=Ce)[(Ze=ne)+3]))if(me(Te,Oe[Ze+6])){for(Ce=0,Ze=2*(Ve=me(Te,Oe[Ze+8]))+(Oe=me(Te,Oe[Ze+9+Ve])),Ve=0,Oe=x0[Ze];Oe[Ce];++Ce)Ve+=Ve+me(Te,Oe[Ce]);Ve+=3+(8<<Ze)}else me(Te,Oe[Ze+7])?(Ve=7+2*me(Te,165),Ve+=me(Te,145)):Ve=5+me(Te,159);else Ve=me(Te,Oe[Ze+4])?3+me(Te,Oe[Ze+5]):2;Ce=Ae[2]}else Ve=1,Ce=Ae[1];Ae=ke+y0[be],0>(Te=P).b&&V(Te);var Ze,Oe=Te.b,Ke=(Ze=Te.Ca>>1)-(Te.I>>Oe)>>31;--Te.b,Te.Ca+=Ke,Te.Ca|=1,Te.I-=(Ze+1&Ke)<<Oe,Se[Ae]=((Ve^Ke)-Ke)*fe[(0<be)+0]}return 16}function Ml(P){var F=P.rb[P.sb-1];F.la=0,F.Na=0,a(P.zc,0,0,P.zc.length),P.ja=0}function io(P,F,ne,fe,be){be=P[F+ne+32*fe]+(be>>3),P[F+ne+32*fe]=-256&be?0>be?0:255:be}function ah(P,F,ne,fe,be,Se){io(P,F,0,ne,fe+be),io(P,F,1,ne,fe+Se),io(P,F,2,ne,fe-Se),io(P,F,3,ne,fe-be)}function aa(P){return(20091*P>>16)+P}function ih(P,F,ne,fe){var be,Se=0,ke=i(16);for(be=0;4>be;++be){var Ce=P[F+0]+P[F+8],Ae=P[F+0]-P[F+8],Te=(35468*P[F+4]>>16)-aa(P[F+12]),Ve=aa(P[F+4])+(35468*P[F+12]>>16);ke[Se+0]=Ce+Ve,ke[Se+1]=Ae+Te,ke[Se+2]=Ae-Te,ke[Se+3]=Ce-Ve,Se+=4,F++}for(be=Se=0;4>be;++be)Ce=(P=ke[Se+0]+4)+ke[Se+8],Ae=P-ke[Se+8],Te=(35468*ke[Se+4]>>16)-aa(ke[Se+12]),io(ne,fe,0,0,Ce+(Ve=aa(ke[Se+4])+(35468*ke[Se+12]>>16))),io(ne,fe,1,0,Ae+Te),io(ne,fe,2,0,Ae-Te),io(ne,fe,3,0,Ce-Ve),Se++,fe+=32}function gv(P,F,ne,fe){var be=P[F+0]+4,Se=35468*P[F+4]>>16,ke=aa(P[F+4]),Ce=35468*P[F+1]>>16;ah(ne,fe,0,be+ke,P=aa(P[F+1]),Ce),ah(ne,fe,1,be+Se,P,Ce),ah(ne,fe,2,be-Se,P,Ce),ah(ne,fe,3,be-ke,P,Ce)}function vp(P,F,ne,fe,be){ih(P,F,ne,fe),be&&ih(P,F+16,ne,fe+4)}function oh(P,F,ne,fe){jh(P,F+0,ne,fe,1),jh(P,F+32,ne,fe+128,1)}function Ec(P,F,ne,fe){var be;for(P=P[F+0]+4,be=0;4>be;++be)for(F=0;4>F;++F)io(ne,fe,F,be,P)}function Af(P,F,ne,fe){P[F+0]&&In(P,F+0,ne,fe),P[F+16]&&In(P,F+16,ne,fe+4),P[F+32]&&In(P,F+32,ne,fe+128),P[F+48]&&In(P,F+48,ne,fe+128+4)}function An(P,F,ne,fe){var be,Se=i(16);for(be=0;4>be;++be){var ke=P[F+0+be]+P[F+12+be],Ce=P[F+4+be]+P[F+8+be],Ae=P[F+4+be]-P[F+8+be],Te=P[F+0+be]-P[F+12+be];Se[0+be]=ke+Ce,Se[8+be]=ke-Ce,Se[4+be]=Te+Ae,Se[12+be]=Te-Ae}for(be=0;4>be;++be)ke=(P=Se[0+4*be]+3)+Se[3+4*be],Ce=Se[1+4*be]+Se[2+4*be],Ae=Se[1+4*be]-Se[2+4*be],Te=P-Se[3+4*be],ne[fe+0]=ke+Ce>>3,ne[fe+16]=Te+Ae>>3,ne[fe+32]=ke-Ce>>3,ne[fe+48]=Te-Ae>>3,fe+=64}function xu(P,F,ne){var fe,be=F-32,Se=Gi,ke=255-P[be-1];for(fe=0;fe<ne;++fe){var Ce,Ae=Se,Te=ke+P[F-1];for(Ce=0;Ce<ne;++Ce)P[F+Ce]=Ae[Te+P[be+Ce]];F+=32}}function Pf(P,F){xu(P,F,4)}function xp(P,F){xu(P,F,8)}function vv(P,F){xu(P,F,16)}function xv(P,F){var ne;for(ne=0;16>ne;++ne)s(P,F+32*ne,P,F-32,16)}function Tf(P,F){var ne;for(ne=16;0<ne;--ne)a(P,F,P[F-1],16),F+=32}function yu(P,F,ne){var fe;for(fe=0;16>fe;++fe)a(F,ne+32*fe,P,16)}function Ll(P,F){var ne,fe=16;for(ne=0;16>ne;++ne)fe+=P[F-1+32*ne]+P[F+ne-32];yu(fe>>5,P,F)}function Ac(P,F){var ne,fe=8;for(ne=0;16>ne;++ne)fe+=P[F-1+32*ne];yu(fe>>4,P,F)}function oo(P,F){var ne,fe=8;for(ne=0;16>ne;++ne)fe+=P[F+ne-32];yu(fe>>4,P,F)}function ol(P,F){yu(128,P,F)}function Rr(P,F,ne){return P+2*F+ne+2>>2}function lh(P,F){var ne,fe=F-32;for(fe=new Uint8Array([Rr(P[fe-1],P[fe+0],P[fe+1]),Rr(P[fe+0],P[fe+1],P[fe+2]),Rr(P[fe+1],P[fe+2],P[fe+3]),Rr(P[fe+2],P[fe+3],P[fe+4])]),ne=0;4>ne;++ne)s(P,F+32*ne,fe,0,fe.length)}function Pc(P,F){var ne=P[F-1],fe=P[F-1+32],be=P[F-1+64],Se=P[F-1+96];de(P,F+0,16843009*Rr(P[F-1-32],ne,fe)),de(P,F+32,16843009*Rr(ne,fe,be)),de(P,F+64,16843009*Rr(fe,be,Se)),de(P,F+96,16843009*Rr(be,Se,Se))}function c0(P,F){var ne,fe=4;for(ne=0;4>ne;++ne)fe+=P[F+ne-32]+P[F-1+32*ne];for(fe>>=3,ne=0;4>ne;++ne)a(P,F+32*ne,fe,4)}function yv(P,F){var ne=P[F-1+0],fe=P[F-1+32],be=P[F-1+64],Se=P[F-1-32],ke=P[F+0-32],Ce=P[F+1-32],Ae=P[F+2-32],Te=P[F+3-32];P[F+0+96]=Rr(fe,be,P[F-1+96]),P[F+1+96]=P[F+0+64]=Rr(ne,fe,be),P[F+2+96]=P[F+1+64]=P[F+0+32]=Rr(Se,ne,fe),P[F+3+96]=P[F+2+64]=P[F+1+32]=P[F+0+0]=Rr(ke,Se,ne),P[F+3+64]=P[F+2+32]=P[F+1+0]=Rr(Ce,ke,Se),P[F+3+32]=P[F+2+0]=Rr(Ae,Ce,ke),P[F+3+0]=Rr(Te,Ae,Ce)}function Io(P,F){var ne=P[F+1-32],fe=P[F+2-32],be=P[F+3-32],Se=P[F+4-32],ke=P[F+5-32],Ce=P[F+6-32],Ae=P[F+7-32];P[F+0+0]=Rr(P[F+0-32],ne,fe),P[F+1+0]=P[F+0+32]=Rr(ne,fe,be),P[F+2+0]=P[F+1+32]=P[F+0+64]=Rr(fe,be,Se),P[F+3+0]=P[F+2+32]=P[F+1+64]=P[F+0+96]=Rr(be,Se,ke),P[F+3+32]=P[F+2+64]=P[F+1+96]=Rr(Se,ke,Ce),P[F+3+64]=P[F+2+96]=Rr(ke,Ce,Ae),P[F+3+96]=Rr(Ce,Ae,Ae)}function wu(P,F){var ne=P[F-1+0],fe=P[F-1+32],be=P[F-1+64],Se=P[F-1-32],ke=P[F+0-32],Ce=P[F+1-32],Ae=P[F+2-32],Te=P[F+3-32];P[F+0+0]=P[F+1+64]=Se+ke+1>>1,P[F+1+0]=P[F+2+64]=ke+Ce+1>>1,P[F+2+0]=P[F+3+64]=Ce+Ae+1>>1,P[F+3+0]=Ae+Te+1>>1,P[F+0+96]=Rr(be,fe,ne),P[F+0+64]=Rr(fe,ne,Se),P[F+0+32]=P[F+1+96]=Rr(ne,Se,ke),P[F+1+32]=P[F+2+96]=Rr(Se,ke,Ce),P[F+2+32]=P[F+3+96]=Rr(ke,Ce,Ae),P[F+3+32]=Rr(Ce,Ae,Te)}function wv(P,F){var ne=P[F+0-32],fe=P[F+1-32],be=P[F+2-32],Se=P[F+3-32],ke=P[F+4-32],Ce=P[F+5-32],Ae=P[F+6-32],Te=P[F+7-32];P[F+0+0]=ne+fe+1>>1,P[F+1+0]=P[F+0+64]=fe+be+1>>1,P[F+2+0]=P[F+1+64]=be+Se+1>>1,P[F+3+0]=P[F+2+64]=Se+ke+1>>1,P[F+0+32]=Rr(ne,fe,be),P[F+1+32]=P[F+0+96]=Rr(fe,be,Se),P[F+2+32]=P[F+1+96]=Rr(be,Se,ke),P[F+3+32]=P[F+2+96]=Rr(Se,ke,Ce),P[F+3+64]=Rr(ke,Ce,Ae),P[F+3+96]=Rr(Ce,Ae,Te)}function Of(P,F){var ne=P[F-1+0],fe=P[F-1+32],be=P[F-1+64],Se=P[F-1+96];P[F+0+0]=ne+fe+1>>1,P[F+2+0]=P[F+0+32]=fe+be+1>>1,P[F+2+32]=P[F+0+64]=be+Se+1>>1,P[F+1+0]=Rr(ne,fe,be),P[F+3+0]=P[F+1+32]=Rr(fe,be,Se),P[F+3+32]=P[F+1+64]=Rr(be,Se,Se),P[F+3+64]=P[F+2+64]=P[F+0+96]=P[F+1+96]=P[F+2+96]=P[F+3+96]=Se}function ch(P,F){var ne=P[F-1+0],fe=P[F-1+32],be=P[F-1+64],Se=P[F-1+96],ke=P[F-1-32],Ce=P[F+0-32],Ae=P[F+1-32],Te=P[F+2-32];P[F+0+0]=P[F+2+32]=ne+ke+1>>1,P[F+0+32]=P[F+2+64]=fe+ne+1>>1,P[F+0+64]=P[F+2+96]=be+fe+1>>1,P[F+0+96]=Se+be+1>>1,P[F+3+0]=Rr(Ce,Ae,Te),P[F+2+0]=Rr(ke,Ce,Ae),P[F+1+0]=P[F+3+32]=Rr(ne,ke,Ce),P[F+1+32]=P[F+3+64]=Rr(fe,ne,ke),P[F+1+64]=P[F+3+96]=Rr(be,fe,ne),P[F+1+96]=Rr(Se,be,fe)}function yp(P,F){var ne;for(ne=0;8>ne;++ne)s(P,F+32*ne,P,F-32,8)}function Fl(P,F){var ne;for(ne=0;8>ne;++ne)a(P,F,P[F-1],8),F+=32}function Tc(P,F,ne){var fe;for(fe=0;8>fe;++fe)a(F,ne+32*fe,P,8)}function Bl(P,F){var ne,fe=8;for(ne=0;8>ne;++ne)fe+=P[F+ne-32]+P[F-1+32*ne];Tc(fe>>4,P,F)}function If(P,F){var ne,fe=4;for(ne=0;8>ne;++ne)fe+=P[F+ne-32];Tc(fe>>3,P,F)}function wp(P,F){var ne,fe=4;for(ne=0;8>ne;++ne)fe+=P[F-1+32*ne];Tc(fe>>3,P,F)}function bp(P,F){Tc(128,P,F)}function bu(P,F,ne){var fe=P[F-ne],be=P[F+0],Se=3*(be-fe)+Lc[1020+P[F-2*ne]-P[F+ne]],ke=$f[112+(Se+4>>3)];P[F-ne]=Gi[255+fe+$f[112+(Se+3>>3)]],P[F+0]=Gi[255+be-ke]}function Oc(P,F,ne,fe){var be=P[F+0],Se=P[F+ne];return ml[255+P[F-2*ne]-P[F-ne]]>fe||ml[255+Se-be]>fe}function uh(P,F,ne,fe){return 4*ml[255+P[F-ne]-P[F+0]]+ml[255+P[F-2*ne]-P[F+ne]]<=fe}function dh(P,F,ne,fe,be){var Se=P[F-3*ne],ke=P[F-2*ne],Ce=P[F-ne],Ae=P[F+0],Te=P[F+ne],Ve=P[F+2*ne],Ze=P[F+3*ne];return 4*ml[255+Ce-Ae]+ml[255+ke-Te]>fe?0:ml[255+P[F-4*ne]-Se]<=be&&ml[255+Se-ke]<=be&&ml[255+ke-Ce]<=be&&ml[255+Ze-Ve]<=be&&ml[255+Ve-Te]<=be&&ml[255+Te-Ae]<=be}function ll(P,F,ne,fe){var be=2*fe+1;for(fe=0;16>fe;++fe)uh(P,F+fe,ne,be)&&bu(P,F+fe,ne)}function ju(P,F,ne,fe){var be=2*fe+1;for(fe=0;16>fe;++fe)uh(P,F+fe*ne,1,be)&&bu(P,F+fe*ne,1)}function hh(P,F,ne,fe){var be;for(be=3;0<be;--be)ll(P,F+=4*ne,ne,fe)}function jp(P,F,ne,fe){var be;for(be=3;0<be;--be)ju(P,F+=4,ne,fe)}function cl(P,F,ne,fe,be,Se,ke,Ce){for(Se=2*Se+1;0<be--;){if(dh(P,F,ne,Se,ke))if(Oc(P,F,ne,Ce))bu(P,F,ne);else{var Ae=P,Te=F,Ve=ne,Ze=Ae[Te-2*Ve],Oe=Ae[Te-Ve],Ke=Ae[Te+0],Qe=Ae[Te+Ve],ct=Ae[Te+2*Ve],tt=27*(lt=Lc[1020+3*(Ke-Oe)+Lc[1020+Ze-Qe]])+63>>7,ot=18*lt+63>>7,lt=9*lt+63>>7;Ae[Te-3*Ve]=Gi[255+Ae[Te-3*Ve]+lt],Ae[Te-2*Ve]=Gi[255+Ze+ot],Ae[Te-Ve]=Gi[255+Oe+tt],Ae[Te+0]=Gi[255+Ke-tt],Ae[Te+Ve]=Gi[255+Qe-ot],Ae[Te+2*Ve]=Gi[255+ct-lt]}F+=fe}}function ul(P,F,ne,fe,be,Se,ke,Ce){for(Se=2*Se+1;0<be--;){if(dh(P,F,ne,Se,ke))if(Oc(P,F,ne,Ce))bu(P,F,ne);else{var Ae=P,Te=F,Ve=ne,Ze=Ae[Te-Ve],Oe=Ae[Te+0],Ke=Ae[Te+Ve],Qe=$f[112+(4+(ct=3*(Oe-Ze))>>3)],ct=$f[112+(ct+3>>3)],tt=Qe+1>>1;Ae[Te-2*Ve]=Gi[255+Ae[Te-2*Ve]+tt],Ae[Te-Ve]=Gi[255+Ze+ct],Ae[Te+0]=Gi[255+Oe-Qe],Ae[Te+Ve]=Gi[255+Ke-tt]}F+=fe}}function Np(P,F,ne,fe,be,Se){cl(P,F,ne,1,16,fe,be,Se)}function Ei(P,F,ne,fe,be,Se){cl(P,F,1,ne,16,fe,be,Se)}function dl(P,F,ne,fe,be,Se){var ke;for(ke=3;0<ke;--ke)ul(P,F+=4*ne,ne,1,16,fe,be,Se)}function Rf(P,F,ne,fe,be,Se){var ke;for(ke=3;0<ke;--ke)ul(P,F+=4,1,ne,16,fe,be,Se)}function Y(P,F,ne,fe,be,Se,ke,Ce){cl(P,F,be,1,8,Se,ke,Ce),cl(ne,fe,be,1,8,Se,ke,Ce)}function je(P,F,ne,fe,be,Se,ke,Ce){cl(P,F,1,be,8,Se,ke,Ce),cl(ne,fe,1,be,8,Se,ke,Ce)}function Re(P,F,ne,fe,be,Se,ke,Ce){ul(P,F+4*be,be,1,8,Se,ke,Ce),ul(ne,fe+4*be,be,1,8,Se,ke,Ce)}function Ue(P,F,ne,fe,be,Se,ke,Ce){ul(P,F+4,1,be,8,Se,ke,Ce),ul(ne,fe+4,1,be,8,Se,ke,Ce)}function Xe(){this.ba=new Yr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function dt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sr(){this.ua=0,this.Wa=new $,this.vb=new $,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new I}function xr(){this.xb=this.a=0,this.l=new Ci,this.ca=new Yr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sr,this.ab=0,this.gc=o(4,gt),this.Oc=0}function Ur(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ci,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $r(P,F,ne,fe,be,Se,ke){for(P=P==null?0:P[F+0],F=0;F<ke;++F)be[Se+F]=P+ne[fe+F]&255,P=be[Se+F]}function On(P,F,ne,fe,be,Se,ke){var Ce;if(P==null)$r(null,null,ne,fe,be,Se,ke);else for(Ce=0;Ce<ke;++Ce)be[Se+Ce]=P[F+Ce]+ne[fe+Ce]&255}function Bs(P,F,ne,fe,be,Se,ke){if(P==null)$r(null,null,ne,fe,be,Se,ke);else{var Ce,Ae=P[F+0],Te=Ae,Ve=Ae;for(Ce=0;Ce<ke;++Ce)Te=Ve+(Ae=P[F+Ce])-Te,Ve=ne[fe+Ce]+(-256&Te?0>Te?0:255:Te)&255,Te=Ae,be[Se+Ce]=Ve}}function Sa(P,F,ne,fe){var be=F.width,Se=F.o;if(t(P!=null&&F!=null),0>ne||0>=fe||ne+fe>Se)return null;if(!P.Cc){if(P.ga==null){var ke;if(P.ga=new Ur,(ke=P.ga==null)||(ke=F.width*F.o,t(P.Gb.length==0),P.Gb=i(ke),P.Uc=0,P.Gb==null?ke=0:(P.mb=P.Gb,P.nb=P.Uc,P.rc=null,ke=1),ke=!ke),!ke){ke=P.ga;var Ce=P.Fa,Ae=P.P,Te=P.qc,Ve=P.mb,Ze=P.nb,Oe=Ae+1,Ke=Te-1,Qe=ke.l;if(t(Ce!=null&&Ve!=null&&F!=null),Pi[0]=null,Pi[1]=$r,Pi[2]=On,Pi[3]=Bs,ke.ca=Ve,ke.tb=Ze,ke.c=F.width,ke.i=F.height,t(0<ke.c&&0<ke.i),1>=Te)F=0;else if(ke.$a=3&Ce[Ae+0],ke.Z=Ce[Ae+0]>>2&3,ke.Lc=Ce[Ae+0]>>4&3,Ae=Ce[Ae+0]>>6&3,0>ke.$a||1<ke.$a||4<=ke.Z||1<ke.Lc||Ae)F=0;else if(Qe.put=Jt,Qe.ac=hs,Qe.bc=fs,Qe.ma=ke,Qe.width=F.width,Qe.height=F.height,Qe.Da=F.Da,Qe.v=F.v,Qe.va=F.va,Qe.j=F.j,Qe.o=F.o,ke.$a)e:{t(ke.$a==1),F=kc();t:for(;;){if(F==null){F=0;break e}if(t(ke!=null),ke.mc=F,F.c=ke.c,F.i=ke.i,F.l=ke.l,F.l.ma=ke,F.l.width=ke.c,F.l.height=ke.i,F.a=0,ee(F.m,Ce,Oe,Ke),!Oo(ke.c,ke.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&ao(F.s)?(ke.ic=1,Ce=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(Ce),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(ke.ic=0,F=er(F,ke.c)),!F))break t;F=1;break e}ke.mc=null,F=0}else F=Ke>=ke.c*ke.i;ke=!F}if(ke)return null;P.ga.Lc!=1?P.Ga=0:fe=Se-ne}t(P.ga!=null),t(ne+fe<=Se);e:{if(F=(Ce=P.ga).c,Se=Ce.l.o,Ce.$a==0){if(Oe=P.rc,Ke=P.Vc,Qe=P.Fa,Ae=P.P+1+ne*F,Te=P.mb,Ve=P.nb+ne*F,t(Ae<=P.P+P.qc),Ce.Z!=0)for(t(Pi[Ce.Z]!=null),ke=0;ke<fe;++ke)Pi[Ce.Z](Oe,Ke,Qe,Ae,Te,Ve,F),Oe=Te,Ke=Ve,Ve+=F,Ae+=F;else for(ke=0;ke<fe;++ke)s(Te,Ve,Qe,Ae,F),Oe=Te,Ke=Ve,Ve+=F,Ae+=F;P.rc=Oe,P.Vc=Ke}else{if(t(Ce.mc!=null),F=ne+fe,t((ke=Ce.mc)!=null),t(F<=ke.i),ke.C>=F)F=1;else if(Ce.ic||hl(),Ce.ic){Ce=ke.V,Oe=ke.Ba,Ke=ke.c;var ct=ke.i,tt=(Qe=1,Ae=ke.$/Ke,Te=ke.$%Ke,Ve=ke.m,Ze=ke.s,ke.$),ot=Ke*ct,lt=Ke*F,ht=Ze.wc,ft=tt<lt?Ls(Ze,Te,Ae):null;t(tt<=ot),t(F<=ct),t(ao(Ze));t:for(;;){for(;!Ve.h&&tt<lt;){if(Te&ht||(ft=Ls(Ze,Te,Ae)),t(ft!=null),W(Ve),256>(ct=fn(ft.G[0],ft.H[0],Ve)))Ce[Oe+tt]=ct,++tt,++Te>=Ke&&(Te=0,++Ae<=F&&!(Ae%16)&&Na(ke,Ae));else{if(!(280>ct)){Qe=0;break t}ct=Tn(ct-256,Ve);var yr,Xt=fn(ft.G[4],ft.H[4],Ve);if(W(Ve),!(tt>=(Xt=Ms(Ke,Xt=Tn(Xt,Ve)))&&ot-tt>=ct)){Qe=0;break t}for(yr=0;yr<ct;++yr)Ce[Oe+tt+yr]=Ce[Oe+tt+yr-Xt];for(tt+=ct,Te+=ct;Te>=Ke;)Te-=Ke,++Ae<=F&&!(Ae%16)&&Na(ke,Ae);tt<lt&&Te&ht&&(ft=Ls(Ze,Te,Ae))}t(Ve.h==te(Ve))}Na(ke,Ae>F?F:Ae);break t}!Qe||Ve.h&&tt<ot?(Qe=0,ke.a=Ve.h?5:3):ke.$=tt,F=Qe}else F=Vi(ke,ke.V,ke.Ba,ke.c,ke.i,F,We);if(!F){fe=0;break e}}ne+fe>=Se&&(P.Cc=1),fe=1}if(!fe)return null;if(P.Cc&&((fe=P.ga)!=null&&(fe.mc=null),P.ga=null,0<P.Ga))return alert("todo:WebPDequantizeLevels"),null}return P.nb+ne*be}function ms(P,F,ne,fe,be,Se){for(;0<be--;){var ke,Ce=P,Ae=F+(ne?1:0),Te=P,Ve=F+(ne?0:3);for(ke=0;ke<fe;++ke){var Ze=Te[Ve+4*ke];Ze!=255&&(Ze*=32897,Ce[Ae+4*ke+0]=Ce[Ae+4*ke+0]*Ze>>23,Ce[Ae+4*ke+1]=Ce[Ae+4*ke+1]*Ze>>23,Ce[Ae+4*ke+2]=Ce[Ae+4*ke+2]*Ze>>23)}F+=Se}}function $a(P,F,ne,fe,be){for(;0<fe--;){var Se;for(Se=0;Se<ne;++Se){var ke=P[F+2*Se+0],Ce=15&(Te=P[F+2*Se+1]),Ae=4369*Ce,Te=(240&Te|Te>>4)*Ae>>16;P[F+2*Se+0]=(240&ke|ke>>4)*Ae>>16&240|(15&ke|ke<<4)*Ae>>16>>4&15,P[F+2*Se+1]=240&Te|Ce}F+=be}}function ia(P,F,ne,fe,be,Se,ke,Ce){var Ae,Te,Ve=255;for(Te=0;Te<be;++Te){for(Ae=0;Ae<fe;++Ae){var Ze=P[F+Ae];Se[ke+4*Ae]=Ze,Ve&=Ze}F+=ne,ke+=Ce}return Ve!=255}function hi(P,F,ne,fe,be){var Se;for(Se=0;Se<be;++Se)ne[fe+Se]=P[F+Se]>>8}function hl(){_h=ms,d0=$a,Ep=ia,h0=hi}function lo(P,F,ne){E[P]=function(fe,be,Se,ke,Ce,Ae,Te,Ve,Ze,Oe,Ke,Qe,ct,tt,ot,lt,ht){var ft,yr=ht-1>>1,Xt=Ce[Ae+0]|Te[Ve+0]<<16,Zr=Ze[Oe+0]|Ke[Qe+0]<<16;t(fe!=null);var ar=3*Xt+Zr+131074>>2;for(F(fe[be+0],255&ar,ar>>16,ct,tt),Se!=null&&(ar=3*Zr+Xt+131074>>2,F(Se[ke+0],255&ar,ar>>16,ot,lt)),ft=1;ft<=yr;++ft){var gn=Ce[Ae+ft]|Te[Ve+ft]<<16,Js=Ze[Oe+ft]|Ke[Qe+ft]<<16,an=Xt+gn+Zr+Js+524296,Qt=an+2*(gn+Zr)>>3;ar=Qt+Xt>>1,Xt=(an=an+2*(Xt+Js)>>3)+gn>>1,F(fe[be+2*ft-1],255&ar,ar>>16,ct,tt+(2*ft-1)*ne),F(fe[be+2*ft-0],255&Xt,Xt>>16,ct,tt+(2*ft-0)*ne),Se!=null&&(ar=an+Zr>>1,Xt=Qt+Js>>1,F(Se[ke+2*ft-1],255&ar,ar>>16,ot,lt+(2*ft-1)*ne),F(Se[ke+2*ft+0],255&Xt,Xt>>16,ot,lt+(2*ft+0)*ne)),Xt=gn,Zr=Js}1&ht||(ar=3*Xt+Zr+131074>>2,F(fe[be+ht-1],255&ar,ar>>16,ct,tt+(ht-1)*ne),Se!=null&&(ar=3*Zr+Xt+131074>>2,F(Se[ke+ht-1],255&ar,ar>>16,ot,lt+(ht-1)*ne)))}}function bv(){ho[Sv]=T5,ho[jd]=Nd,ho[b1]=O5,ho[Ap]=Vf,ho[Pp]=Eh,ho[as]=Dp,ho[kv]=b0,ho[qf]=Nd,ho[Sh]=Vf,ho[Tp]=Eh,ho[Op]=Dp}function md(P){return P&-16384?0>P?0:255:P>>_d}function fh(P,F){return md((19077*P>>8)+(26149*F>>8)-14234)}function pd(P,F,ne){return md((19077*P>>8)-(6419*F>>8)-(13320*ne>>8)+8708)}function mh(P,F){return md((19077*P>>8)+(33050*F>>8)-17685)}function gd(P,F,ne,fe,be){fe[be+0]=fh(P,ne),fe[be+1]=pd(P,F,ne),fe[be+2]=mh(P,F)}function ph(P,F,ne,fe,be){fe[be+0]=mh(P,F),fe[be+1]=pd(P,F,ne),fe[be+2]=fh(P,ne)}function Ai(P,F,ne,fe,be){var Se=pd(P,F,ne);F=Se<<3&224|mh(P,F)>>3,fe[be+0]=248&fh(P,ne)|Se>>5,fe[be+1]=F}function gh(P,F,ne,fe,be){var Se=240&mh(P,F)|15;fe[be+0]=240&fh(P,ne)|pd(P,F,ne)>>4,fe[be+1]=Se}function vh(P,F,ne,fe,be){fe[be+0]=255,gd(P,F,ne,fe,be+1)}function _p(P,F,ne,fe,be){ph(P,F,ne,fe,be),fe[be+3]=255}function Sp(P,F,ne,fe,be){gd(P,F,ne,fe,be),fe[be+3]=255}function Gs(P,F){return 0>P?0:P>F?F:P}function Ul(P,F,ne){E[P]=function(fe,be,Se,ke,Ce,Ae,Te,Ve,Ze){for(var Oe=Ve+(-2&Ze)*ne;Ve!=Oe;)F(fe[be+0],Se[ke+0],Ce[Ae+0],Te,Ve),F(fe[be+1],Se[ke+0],Ce[Ae+0],Te,Ve+ne),be+=2,++ke,++Ae,Ve+=2*ne;1&Ze&&F(fe[be+0],Se[ke+0],Ce[Ae+0],Te,Ve)}}function Ic(P,F,ne){return ne==0?P==0?F==0?6:5:F==0?4:0:ne}function jv(P,F,ne,fe,be){switch(P>>>30){case 3:jh(F,ne,fe,be,0);break;case 2:Ks(F,ne,fe,be);break;case 1:In(F,ne,fe,be)}}function Ro(P,F){var ne,fe,be=F.M,Se=F.Nb,ke=P.oc,Ce=P.pc+40,Ae=P.oc,Te=P.pc+584,Ve=P.oc,Ze=P.pc+600;for(ne=0;16>ne;++ne)ke[Ce+32*ne-1]=129;for(ne=0;8>ne;++ne)Ae[Te+32*ne-1]=129,Ve[Ze+32*ne-1]=129;for(0<be?ke[Ce-1-32]=Ae[Te-1-32]=Ve[Ze-1-32]=129:(a(ke,Ce-32-1,127,21),a(Ae,Te-32-1,127,9),a(Ve,Ze-32-1,127,9)),fe=0;fe<P.za;++fe){var Oe=F.ya[F.aa+fe];if(0<fe){for(ne=-1;16>ne;++ne)s(ke,Ce+32*ne-4,ke,Ce+32*ne+12,4);for(ne=-1;8>ne;++ne)s(Ae,Te+32*ne-4,Ae,Te+32*ne+4,4),s(Ve,Ze+32*ne-4,Ve,Ze+32*ne+4,4)}var Ke=P.Gd,Qe=P.Hd+fe,ct=Oe.ad,tt=Oe.Hc;if(0<be&&(s(ke,Ce-32,Ke[Qe].y,0,16),s(Ae,Te-32,Ke[Qe].f,0,8),s(Ve,Ze-32,Ke[Qe].ea,0,8)),Oe.Za){var ot=ke,lt=Ce-32+16;for(0<be&&(fe>=P.za-1?a(ot,lt,Ke[Qe].y[15],4):s(ot,lt,Ke[Qe+1].y,0,4)),ne=0;4>ne;ne++)ot[lt+128+ne]=ot[lt+256+ne]=ot[lt+384+ne]=ot[lt+0+ne];for(ne=0;16>ne;++ne,tt<<=2)ot=ke,lt=Ce+j0[ne],pl[Oe.Ob[ne]](ot,lt),jv(tt,ct,16*+ne,ot,lt)}else if(ot=Ic(fe,be,Oe.Ob[0]),Ki[ot](ke,Ce),tt!=0)for(ne=0;16>ne;++ne,tt<<=2)jv(tt,ct,16*+ne,ke,Ce+j0[ne]);for(ne=Oe.Gc,ot=Ic(fe,be,Oe.Dd),uo[ot](Ae,Te),uo[ot](Ve,Ze),tt=ct,ot=Ae,lt=Te,255&(Oe=0|ne)&&(170&Oe?co(tt,256,ot,lt):Jn(tt,256,ot,lt)),Oe=Ve,tt=Ze,255&(ne>>=8)&&(170&ne?co(ct,320,Oe,tt):Jn(ct,320,Oe,tt)),be<P.Ub-1&&(s(Ke[Qe].y,0,ke,Ce+480,16),s(Ke[Qe].f,0,Ae,Te+224,8),s(Ke[Qe].ea,0,Ve,Ze+224,8)),ne=8*Se*P.B,Ke=P.sa,Qe=P.ta+16*fe+16*Se*P.R,ct=P.qa,Oe=P.ra+8*fe+ne,tt=P.Ha,ot=P.Ia+8*fe+ne,ne=0;16>ne;++ne)s(Ke,Qe+ne*P.R,ke,Ce+32*ne,16);for(ne=0;8>ne;++ne)s(ct,Oe+ne*P.B,Ae,Te+32*ne,8),s(tt,ot+ne*P.B,Ve,Ze+32*ne,8)}}function vd(P,F,ne,fe,be,Se,ke,Ce,Ae){var Te=[0],Ve=[0],Ze=0,Oe=Ae!=null?Ae.kd:0,Ke=Ae??new dt;if(P==null||12>ne)return 7;Ke.data=P,Ke.w=F,Ke.ha=ne,F=[F],ne=[ne],Ke.gb=[Ke.gb];e:{var Qe=F,ct=ne,tt=Ke.gb;if(t(P!=null),t(ct!=null),t(tt!=null),tt[0]=0,12<=ct[0]&&!r(P,Qe[0],"RIFF")){if(r(P,Qe[0]+8,"WEBP")){tt=3;break e}var ot=G(P,Qe[0]+4);if(12>ot||4294967286<ot){tt=3;break e}if(Oe&&ot>ct[0]-8){tt=7;break e}tt[0]=ot,Qe[0]+=12,ct[0]-=12}tt=0}if(tt!=0)return tt;for(ot=0<Ke.gb[0],ne=ne[0];;){e:{var lt=P;ct=F,tt=ne;var ht=Te,ft=Ve,yr=Qe=[0];if((ar=Ze=[Ze])[0]=0,8>tt[0])tt=7;else{if(!r(lt,ct[0],"VP8X")){if(G(lt,ct[0]+4)!=10){tt=3;break e}if(18>tt[0]){tt=7;break e}var Xt=G(lt,ct[0]+8),Zr=1+Pe(lt,ct[0]+12);if(2147483648<=Zr*(lt=1+Pe(lt,ct[0]+15))){tt=3;break e}yr!=null&&(yr[0]=Xt),ht!=null&&(ht[0]=Zr),ft!=null&&(ft[0]=lt),ct[0]+=18,tt[0]-=18,ar[0]=1}tt=0}}if(Ze=Ze[0],Qe=Qe[0],tt!=0)return tt;if(ct=!!(2&Qe),!ot&&Ze)return 3;if(Se!=null&&(Se[0]=!!(16&Qe)),ke!=null&&(ke[0]=ct),Ce!=null&&(Ce[0]=0),ke=Te[0],Qe=Ve[0],Ze&&ct&&Ae==null){tt=0;break}if(4>ne){tt=7;break}if(ot&&Ze||!ot&&!Ze&&!r(P,F[0],"ALPH")){ne=[ne],Ke.na=[Ke.na],Ke.P=[Ke.P],Ke.Sa=[Ke.Sa];e:{Xt=P,tt=F,ot=ne;var ar=Ke.gb;ht=Ke.na,ft=Ke.P,yr=Ke.Sa,Zr=22,t(Xt!=null),t(ot!=null),lt=tt[0];var gn=ot[0];for(t(ht!=null),t(yr!=null),ht[0]=null,ft[0]=null,yr[0]=0;;){if(tt[0]=lt,ot[0]=gn,8>gn){tt=7;break e}var Js=G(Xt,lt+4);if(4294967286<Js){tt=3;break e}var an=8+Js+1&-2;if(Zr+=an,0<ar&&Zr>ar){tt=3;break e}if(!r(Xt,lt,"VP8 ")||!r(Xt,lt,"VP8L")){tt=0;break e}if(gn[0]<an){tt=7;break e}r(Xt,lt,"ALPH")||(ht[0]=Xt,ft[0]=lt+8,yr[0]=Js),lt+=an,gn-=an}}if(ne=ne[0],Ke.na=Ke.na[0],Ke.P=Ke.P[0],Ke.Sa=Ke.Sa[0],tt!=0)break}ne=[ne],Ke.Ja=[Ke.Ja],Ke.xa=[Ke.xa];e:if(ar=P,tt=F,ot=ne,ht=Ke.gb[0],ft=Ke.Ja,yr=Ke.xa,Xt=tt[0],lt=!r(ar,Xt,"VP8 "),Zr=!r(ar,Xt,"VP8L"),t(ar!=null),t(ot!=null),t(ft!=null),t(yr!=null),8>ot[0])tt=7;else{if(lt||Zr){if(ar=G(ar,Xt+4),12<=ht&&ar>ht-12){tt=3;break e}if(Oe&&ar>ot[0]-8){tt=7;break e}ft[0]=ar,tt[0]+=8,ot[0]-=8,yr[0]=Zr}else yr[0]=5<=ot[0]&&ar[Xt+0]==47&&!(ar[Xt+4]>>5),ft[0]=ot[0];tt=0}if(ne=ne[0],Ke.Ja=Ke.Ja[0],Ke.xa=Ke.xa[0],F=F[0],tt!=0)break;if(4294967286<Ke.Ja)return 3;if(Ce==null||ct||(Ce[0]=Ke.xa?2:1),ke=[ke],Qe=[Qe],Ke.xa){if(5>ne){tt=7;break}Ce=ke,Oe=Qe,ct=Se,P==null||5>ne?P=0:5<=ne&&P[F+0]==47&&!(P[F+4]>>5)?(ot=[0],ar=[0],ht=[0],ee(ft=new Q,P,F,ne),Hs(ft,ot,ar,ht)?(Ce!=null&&(Ce[0]=ot[0]),Oe!=null&&(Oe[0]=ar[0]),ct!=null&&(ct[0]=ht[0]),P=1):P=0):P=0}else{if(10>ne){tt=7;break}Ce=Qe,P==null||10>ne||!pv(P,F+3,ne-3)?P=0:(Oe=P[F+0]|P[F+1]<<8|P[F+2]<<16,ct=16383&(P[F+7]<<8|P[F+6]),P=16383&(P[F+9]<<8|P[F+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Ke.Ja||!ct||!P?P=0:(ke&&(ke[0]=ct),Ce&&(Ce[0]=P),P=1))}if(!P||(ke=ke[0],Qe=Qe[0],Ze&&(Te[0]!=ke||Ve[0]!=Qe)))return 3;Ae!=null&&(Ae[0]=Ke,Ae.offset=F-Ae.w,t(4294967286>F-Ae.w),t(Ae.offset==Ae.ha-ne));break}return tt==0||tt==7&&Ze&&Ae==null?(Se!=null&&(Se[0]|=Ke.na!=null&&0<Ke.na.length),fe!=null&&(fe[0]=ke),be!=null&&(be[0]=Qe),0):tt}function Df(P,F,ne){var fe=F.width,be=F.height,Se=0,ke=0,Ce=fe,Ae=be;if(F.Da=P!=null&&0<P.Da,F.Da&&(Ce=P.cd,Ae=P.bd,Se=P.v,ke=P.j,11>ne||(Se&=-2,ke&=-2),0>Se||0>ke||0>=Ce||0>=Ae||Se+Ce>fe||ke+Ae>be))return 0;if(F.v=Se,F.j=ke,F.va=Se+Ce,F.o=ke+Ae,F.U=Ce,F.T=Ae,F.da=P!=null&&0<P.da,F.da){if(!z(Ce,Ae,ne=[P.ib],Se=[P.hb]))return 0;F.ib=ne[0],F.hb=Se[0]}return F.ob=P!=null&&P.ob,F.Kb=P==null||!P.Sd,F.da&&(F.ob=F.ib<3*fe/4&&F.hb<3*be/4,F.Kb=0),1}function Mf(P){if(P==null)return 2;if(11>P.S){var F=P.f.RGBA;F.fb+=(P.height-1)*F.A,F.A=-F.A}else F=P.f.kb,P=P.height,F.O+=(P-1)*F.fa,F.fa=-F.fa,F.N+=(P-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(P-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(P-1)*F.lb,F.lb=-F.lb);return 0}function Nu(P,F,ne,fe){if(fe==null||0>=P||0>=F)return 2;if(ne!=null){if(ne.Da){var be=ne.cd,Se=ne.bd,ke=-2&ne.v,Ce=-2&ne.j;if(0>ke||0>Ce||0>=be||0>=Se||ke+be>P||Ce+Se>F)return 2;P=be,F=Se}if(ne.da){if(!z(P,F,be=[ne.ib],Se=[ne.hb]))return 2;P=be[0],F=Se[0]}}fe.width=P,fe.height=F;e:{var Ae=fe.width,Te=fe.height;if(P=fe.S,0>=Ae||0>=Te||!(P>=Sv&&13>P))P=2;else{if(0>=fe.Rd&&fe.sd==null){ke=Se=be=F=0;var Ve=(Ce=Ae*Mp[P])*Te;if(11>P||(Se=(Te+1)/2*(F=(Ae+1)/2),P==12&&(ke=(be=Ae)*Te)),(Te=i(Ve+2*Se+ke))==null){P=1;break e}fe.sd=Te,11>P?((Ae=fe.f.RGBA).eb=Te,Ae.fb=0,Ae.A=Ce,Ae.size=Ve):((Ae=fe.f.kb).y=Te,Ae.O=0,Ae.fa=Ce,Ae.Fd=Ve,Ae.f=Te,Ae.N=0+Ve,Ae.Ab=F,Ae.Cd=Se,Ae.ea=Te,Ae.W=0+Ve+Se,Ae.Db=F,Ae.Ed=Se,P==12&&(Ae.F=Te,Ae.J=0+Ve+2*Se),Ae.Tc=ke,Ae.lb=be)}if(F=1,be=fe.S,Se=fe.width,ke=fe.height,be>=Sv&&13>be)if(11>be)P=fe.f.RGBA,F&=(Ce=Math.abs(P.A))*(ke-1)+Se<=P.size,F&=Ce>=Se*Mp[be],F&=P.eb!=null;else{P=fe.f.kb,Ce=(Se+1)/2,Ve=(ke+1)/2,Ae=Math.abs(P.fa),Te=Math.abs(P.Ab);var Ze=Math.abs(P.Db),Oe=Math.abs(P.lb),Ke=Oe*(ke-1)+Se;F&=Ae*(ke-1)+Se<=P.Fd,F&=Te*(Ve-1)+Ce<=P.Cd,F=(F&=Ze*(Ve-1)+Ce<=P.Ed)&Ae>=Se&Te>=Ce&Ze>=Ce,F&=P.y!=null,F&=P.f!=null,F&=P.ea!=null,be==12&&(F&=Oe>=Se,F&=Ke<=P.Tc,F&=P.F!=null)}else F=0;P=F?0:2}}return P!=0||ne!=null&&ne.fd&&(P=Mf(fe)),P}var fl=64,Do=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mo=24,xd=32,Rc=8,_u=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ge("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(P){return P},E.Predictor2=function(P,F,ne){return F[ne+0]},E.Predictor3=function(P,F,ne){return F[ne+1]},E.Predictor4=function(P,F,ne){return F[ne-1]},E.Predictor5=function(P,F,ne){return Me(Me(P,F[ne+1]),F[ne+0])},E.Predictor6=function(P,F,ne){return Me(P,F[ne-1])},E.Predictor7=function(P,F,ne){return Me(P,F[ne+0])},E.Predictor8=function(P,F,ne){return Me(F[ne-1],F[ne+0])},E.Predictor9=function(P,F,ne){return Me(F[ne+0],F[ne+1])},E.Predictor10=function(P,F,ne){return Me(Me(P,F[ne-1]),Me(F[ne+0],F[ne+1]))},E.Predictor11=function(P,F,ne){var fe=F[ne+0];return 0>=Ge(fe>>24&255,P>>24&255,(F=F[ne-1])>>24&255)+Ge(fe>>16&255,P>>16&255,F>>16&255)+Ge(fe>>8&255,P>>8&255,F>>8&255)+Ge(255&fe,255&P,255&F)?fe:P},E.Predictor12=function(P,F,ne){var fe=F[ne+0];return(Be((P>>24&255)+(fe>>24&255)-((F=F[ne-1])>>24&255))<<24|Be((P>>16&255)+(fe>>16&255)-(F>>16&255))<<16|Be((P>>8&255)+(fe>>8&255)-(F>>8&255))<<8|Be((255&P)+(255&fe)-(255&F)))>>>0},E.Predictor13=function(P,F,ne){var fe=F[ne-1];return(Le((P=Me(P,F[ne+0]))>>24&255,fe>>24&255)<<24|Le(P>>16&255,fe>>16&255)<<16|Le(P>>8&255,fe>>8&255)<<8|Le(255&P,255&fe))>>>0};var Su=E.PredictorAdd0;E.PredictorAdd1=it,ge("Predictor2","PredictorAdd2"),ge("Predictor3","PredictorAdd3"),ge("Predictor4","PredictorAdd4"),ge("Predictor5","PredictorAdd5"),ge("Predictor6","PredictorAdd6"),ge("Predictor7","PredictorAdd7"),ge("Predictor8","PredictorAdd8"),ge("Predictor9","PredictorAdd9"),ge("Predictor10","PredictorAdd10"),ge("Predictor11","PredictorAdd11"),ge("Predictor12","PredictorAdd12"),ge("Predictor13","PredictorAdd13");var Dc=E.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(P){return P>>8&255},function(P){return P}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(P){return P},function(P){return P>>8&255});var oa,xh=E.ColorIndexInverseTransform,Mc=E.MapARGB,$l=E.VP8LColorIndexInverseTransformAlpha,yh=E.MapAlpha,wh=E.VP8LPredictorsAdd=[];wh.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Lf,Ff,ku,yd,wd,bh,bd,jh,Ks,co,In,Jn,Ys,ka,ql,kp,Bf,Cu,Nv,Uf,_v,u0,Cp,Nh,_h,d0,Ep,h0,f0=i(511),m0=i(2041),p0=i(225),g0=i(767),v0=0,Lc=m0,$f=p0,Gi=g0,ml=f0,Sv=0,jd=1,b1=2,Ap=3,Pp=4,as=5,kv=6,qf=7,Sh=8,Tp=9,Op=10,Ip=[2,3,7],Cv=[3,3,11],kh=[280,256,256,256,40],j1=[0,1,1,1,0],C5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],E5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],N1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ev=8,zf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ch=null,x0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],y0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],S1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],A5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],P5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],w0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],pl=[],uo=[],Fc=1,Wf=2,Pi=[],ho=[];lo("UpsampleRgbLinePair",gd,3),lo("UpsampleBgrLinePair",ph,3),lo("UpsampleRgbaLinePair",Sp,4),lo("UpsampleBgraLinePair",_p,4),lo("UpsampleArgbLinePair",vh,4),lo("UpsampleRgba4444LinePair",gh,2),lo("UpsampleRgb565LinePair",Ai,2);var T5=E.UpsampleRgbLinePair,O5=E.UpsampleBgrLinePair,Nd=E.UpsampleRgbaLinePair,Vf=E.UpsampleBgraLinePair,Eh=E.UpsampleArgbLinePair,Dp=E.UpsampleRgba4444LinePair,b0=E.UpsampleRgb565LinePair,Eu=16,zl=1<<Eu-1,Wn=-227,Xn=482,_d=6,fi=0,fo=i(256),Ah=i(256),Hf=i(256),mo=i(256),Av=i(Xn-Wn),k1=i(Xn-Wn);Ul("YuvToRgbRow",gd,3),Ul("YuvToBgrRow",ph,3),Ul("YuvToRgbaRow",Sp,4),Ul("YuvToBgraRow",_p,4),Ul("YuvToArgbRow",vh,4),Ul("YuvToRgba4444Row",gh,2),Ul("YuvToRgb565Row",Ai,2);var j0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ph=[0,2,8],C1=[8,7,6,4,4,2,2,2,1,1,1,1],Au=1;this.WebPDecodeRGBA=function(P,F,ne,fe,be){var Se=jd,ke=new Xe,Ce=new Yr;ke.ba=Ce,Ce.S=Se,Ce.width=[Ce.width],Ce.height=[Ce.height];var Ae=Ce.width,Te=Ce.height,Ve=new Yt;if(Ve==null||P==null)var Ze=2;else t(Ve!=null),Ze=vd(P,F,ne,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(Ze!=0?Ae=0:(Ae!=null&&(Ae[0]=Ve.width[0]),Te!=null&&(Te[0]=Ve.height[0]),Ae=1),Ae){Ce.width=Ce.width[0],Ce.height=Ce.height[0],fe!=null&&(fe[0]=Ce.width),be!=null&&(be[0]=Ce.height);e:{if(fe=new Ci,(be=new dt).data=P,be.w=F,be.ha=ne,be.kd=1,F=[0],t(be!=null),((P=vd(be.data,be.w,be.ha,null,null,null,F,null,be))==0||P==7)&&F[0]&&(P=4),(F=P)==0){if(t(ke!=null),fe.data=be.data,fe.w=be.w+be.offset,fe.ha=be.ha-be.offset,fe.put=Jt,fe.ac=hs,fe.bc=fs,fe.ma=ke,be.xa){if((P=kc())==null){ke=1;break e}if((function(Oe,Ke){var Qe=[0],ct=[0],tt=[0];t:for(;;){if(Oe==null)return 0;if(Ke==null)return Oe.a=2,0;if(Oe.l=Ke,Oe.a=0,ee(Oe.m,Ke.data,Ke.w,Ke.ha),!Hs(Oe.m,Qe,ct,tt)){Oe.a=3;break t}if(Oe.xb=Wf,Ke.width=Qe[0],Ke.height=ct[0],!Oo(Qe[0],ct[0],1,Oe,null))break t;return 1}return t(Oe.a!=0),0})(P,fe)){if(fe=(F=Nu(fe.width,fe.height,ke.Oa,ke.ba))==0){t:{fe=P;r:for(;;){if(fe==null){fe=0;break t}if(t(fe.s.yc!=null),t(fe.s.Ya!=null),t(0<fe.s.Wb),t((ne=fe.l)!=null),t((be=ne.ma)!=null),fe.xb!=0){if(fe.ca=be.ba,fe.tb=be.tb,t(fe.ca!=null),!Df(be.Oa,ne,Ap)){fe.a=2;break r}if(!er(fe,ne.width)||ne.da)break r;if((ne.da||Ar(fe.ca.S))&&hl(),11>fe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),fe.ca.f.kb.F!=null&&hl()),fe.Pb&&0<fe.s.ua&&fe.s.vb.X==null&&!pe(fe.s.vb,fe.s.Wa.Xa)){fe.a=1;break r}fe.xb=0}if(!Vi(fe,fe.V,fe.Ba,fe.c,fe.i,ne.o,al))break r;be.Dc=fe.Ma,fe=1;break t}t(fe.a!=0),fe=0}fe=!fe}fe&&(F=P.a)}else F=P.a}else{if((P=new l0)==null){ke=1;break e}if(P.Fa=be.na,P.P=be.P,P.qc=be.Sa,sh(P,fe)){if((F=Nu(fe.width,fe.height,ke.Oa,ke.ba))==0){if(P.Aa=0,ne=ke.Oa,t((be=P)!=null),ne!=null){if(0<(Ae=0>(Ae=ne.Md)?0:100<Ae?255:255*Ae/100)){for(Te=Ve=0;4>Te;++Te)12>(Ze=be.pb[Te]).lc&&(Ze.ia=Ae*C1[0>Ze.lc?0:Ze.lc]>>3),Ve|=Ze.ia;Ve&&(alert("todo:VP8InitRandom"),be.ia=1)}be.Ga=ne.Id,100<be.Ga?be.Ga=100:0>be.Ga&&(be.Ga=0)}(function(Oe,Ke){if(Oe==null)return 0;if(Ke==null)return _a(Oe,2,"NULL VP8Io parameter in VP8Decode().");if(!Oe.cb&&!sh(Oe,Ke))return 0;if(t(Oe.cb),Ke.ac==null||Ke.ac(Ke)){Ke.ob&&(Oe.L=0);var Qe=Ph[Oe.L];if(Oe.L==2?(Oe.yb=0,Oe.zb=0):(Oe.yb=Ke.v-Qe>>4,Oe.zb=Ke.j-Qe>>4,0>Oe.yb&&(Oe.yb=0),0>Oe.zb&&(Oe.zb=0)),Oe.Va=Ke.o+15+Qe>>4,Oe.Hb=Ke.va+15+Qe>>4,Oe.Hb>Oe.za&&(Oe.Hb=Oe.za),Oe.Va>Oe.Ub&&(Oe.Va=Oe.Ub),0<Oe.L){var ct=Oe.ed;for(Qe=0;4>Qe;++Qe){var tt;if(Oe.Qa.Cb){var ot=Oe.Qa.Lb[Qe];Oe.Qa.Fb||(ot+=ct.Tb)}else ot=ct.Tb;for(tt=0;1>=tt;++tt){var lt=Oe.gd[Qe][tt],ht=ot;if(ct.Pc&&(ht+=ct.vd[0],tt&&(ht+=ct.od[0])),0<(ht=0>ht?0:63<ht?63:ht)){var ft=ht;0<ct.wb&&(ft=4<ct.wb?ft>>2:ft>>1)>9-ct.wb&&(ft=9-ct.wb),1>ft&&(ft=1),lt.dd=ft,lt.tc=2*ht+ft,lt.ld=40<=ht?2:15<=ht?1:0}else lt.tc=0;lt.La=tt}}}Qe=0}else _a(Oe,6,"Frame setup failed"),Qe=Oe.a;if(Qe=Qe==0){if(Qe){Oe.$c=0,0<Oe.Aa||(Oe.Ic=Au);t:{Qe=Oe.Ic,ct=4*(ft=Oe.za);var yr=32*ft,Xt=ft+1,Zr=0<Oe.L?ft*(0<Oe.Aa?2:1):0,ar=(Oe.Aa==2?2:1)*ft;if((lt=ct+832+(tt=3*(16*Qe+Ph[Oe.L])/2*yr)+(ot=Oe.Fa!=null&&0<Oe.Fa.length?Oe.Kc.c*Oe.Kc.i:0))!=lt)Qe=0;else{if(lt>Oe.Vb){if(Oe.Vb=0,Oe.Ec=i(lt),Oe.Fc=0,Oe.Ec==null){Qe=_a(Oe,1,"no memory during frame initialization.");break t}Oe.Vb=lt}lt=Oe.Ec,ht=Oe.Fc,Oe.Ac=lt,Oe.Bc=ht,ht+=ct,Oe.Gd=o(yr,ki),Oe.Hd=0,Oe.rb=o(Xt+1,Hi),Oe.sb=1,Oe.wa=Zr?o(Zr,Fs):null,Oe.Y=0,Oe.D.Nb=0,Oe.D.wa=Oe.wa,Oe.D.Y=Oe.Y,0<Oe.Aa&&(Oe.D.Y+=ft),t(!0),Oe.oc=lt,Oe.pc=ht,ht+=832,Oe.ya=o(ar,Cs),Oe.aa=0,Oe.D.ya=Oe.ya,Oe.D.aa=Oe.aa,Oe.Aa==2&&(Oe.D.aa+=ft),Oe.R=16*ft,Oe.B=8*ft,ft=(yr=Ph[Oe.L])*Oe.R,yr=yr/2*Oe.B,Oe.sa=lt,Oe.ta=ht+ft,Oe.qa=Oe.sa,Oe.ra=Oe.ta+16*Qe*Oe.R+yr,Oe.Ha=Oe.qa,Oe.Ia=Oe.ra+8*Qe*Oe.B+yr,Oe.$c=0,ht+=tt,Oe.mb=ot?lt:null,Oe.nb=ot?ht:null,t(ht+ot<=Oe.Fc+Oe.Vb),Ml(Oe),a(Oe.Ac,Oe.Bc,0,ct),Qe=1}}if(Qe){if(Ke.ka=0,Ke.y=Oe.sa,Ke.O=Oe.ta,Ke.f=Oe.qa,Ke.N=Oe.ra,Ke.ea=Oe.Ha,Ke.Vd=Oe.Ia,Ke.fa=Oe.R,Ke.Rc=Oe.B,Ke.F=null,Ke.J=0,!v0){for(Qe=-255;255>=Qe;++Qe)f0[255+Qe]=0>Qe?-Qe:Qe;for(Qe=-1020;1020>=Qe;++Qe)m0[1020+Qe]=-128>Qe?-128:127<Qe?127:Qe;for(Qe=-112;112>=Qe;++Qe)p0[112+Qe]=-16>Qe?-16:15<Qe?15:Qe;for(Qe=-255;510>=Qe;++Qe)g0[255+Qe]=0>Qe?0:255<Qe?255:Qe;v0=1}bd=An,jh=vp,co=oh,In=Ec,Jn=Af,Ks=gv,Ys=Np,ka=Ei,ql=Y,kp=je,Bf=dl,Cu=Rf,Nv=Re,Uf=Ue,_v=ll,u0=ju,Cp=hh,Nh=jp,pl[0]=c0,pl[1]=Pf,pl[2]=lh,pl[3]=Pc,pl[4]=yv,pl[5]=wu,pl[6]=Io,pl[7]=wv,pl[8]=ch,pl[9]=Of,Ki[0]=Ll,Ki[1]=vv,Ki[2]=xv,Ki[3]=Tf,Ki[4]=Ac,Ki[5]=oo,Ki[6]=ol,uo[0]=Bl,uo[1]=xp,uo[2]=yp,uo[3]=Fl,uo[4]=wp,uo[5]=If,uo[6]=bp,Qe=1}else Qe=0}Qe&&(Qe=(function(gn,Js){for(gn.M=0;gn.M<gn.Va;++gn.M){var an,Qt=gn.Jc[gn.M&gn.Xb],Rt=gn.m,la=gn;for(an=0;an<la.za;++an){var Fr=Rt,mn=la,ps=mn.Ac,ei=mn.Bc+4*an,Ca=mn.zc,Us=mn.ya[mn.aa+an];if(mn.Qa.Bb?Us.$b=me(Fr,mn.Pa.jb[0])?2+me(Fr,mn.Pa.jb[2]):me(Fr,mn.Pa.jb[1]):Us.$b=0,mn.kc&&(Us.Ad=me(Fr,mn.Bd)),Us.Za=!me(Fr,145)+0,Us.Za){var qa=Us.Ob,ti=0;for(mn=0;4>mn;++mn){var Es,bn=Ca[0+mn];for(Es=0;4>Es;++Es){bn=A5[ps[ei+Es]][bn];for(var Rn=_1[me(Fr,bn[0])];0<Rn;)Rn=_1[2*Rn+me(Fr,bn[Rn])];bn=-Rn,ps[ei+Es]=bn}s(qa,ti,ps,ei,4),ti+=4,Ca[0+mn]=bn}}else bn=me(Fr,156)?me(Fr,128)?1:3:me(Fr,163)?2:0,Us.Ob[0]=bn,a(ps,ei,bn,4),a(Ca,0,bn,4);Us.Dd=me(Fr,142)?me(Fr,114)?me(Fr,183)?1:3:2:0}if(la.m.Ka)return _a(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(la=Qt,Fr=(Rt=gn).rb[Rt.sb-1],ps=Rt.rb[Rt.sb+Rt.ja],an=Rt.ya[Rt.aa+Rt.ja],ei=Rt.kc?an.Ad:0)Fr.la=ps.la=0,an.Za||(Fr.Na=ps.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var As,Dn;if(Fr=ps,ps=la,ei=Rt.Pa.Xc,Ca=Rt.ya[Rt.aa+Rt.ja],Us=Rt.pb[Ca.$b],mn=Ca.ad,qa=0,ti=Rt.rb[Rt.sb-1],bn=Es=0,a(mn,qa,0,384),Ca.Za)var Xs=0,Qs=ei[3];else{Rn=i(16);var is=Fr.Na+ti.Na;if(is=Ch(ps,ei[1],is,Us.Eb,0,Rn,0),Fr.Na=ti.Na=(0<is)+0,1<is)bd(Rn,0,mn,qa);else{var Ti=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)mn[qa+Rn]=Ti}Xs=1,Qs=ei[0]}var Qn=15&Fr.la,os=15&ti.la;for(Rn=0;4>Rn;++Rn){var Ea=1&os;for(Ti=Dn=0;4>Ti;++Ti)Qn=Qn>>1|(Ea=(is=Ch(ps,Qs,is=Ea+(1&Qn),Us.Sc,Xs,mn,qa))>Xs)<<7,Dn=Dn<<2|(3<is?3:1<is?2:mn[qa+0]!=0),qa+=16;Qn>>=4,os=os>>1|Ea<<7,Es=(Es<<8|Dn)>>>0}for(Qs=Qn,Xs=os>>4,As=0;4>As;As+=2){for(Dn=0,Qn=Fr.la>>4+As,os=ti.la>>4+As,Rn=0;2>Rn;++Rn){for(Ea=1&os,Ti=0;2>Ti;++Ti)is=Ea+(1&Qn),Qn=Qn>>1|(Ea=0<(is=Ch(ps,ei[2],is,Us.Qc,0,mn,qa)))<<3,Dn=Dn<<2|(3<is?3:1<is?2:mn[qa+0]!=0),qa+=16;Qn>>=2,os=os>>1|Ea<<5}bn|=Dn<<4*As,Qs|=Qn<<4<<As,Xs|=(240&os)<<As}Fr.la=Qs,ti.la=Xs,Ca.Hc=Es,Ca.Gc=bn,Ca.ia=43690&bn?0:Us.ia,ei=!(Es|bn)}if(0<Rt.L&&(Rt.wa[Rt.Y+Rt.ja]=Rt.gd[an.$b][an.Za],Rt.wa[Rt.Y+Rt.ja].La|=!ei),la.Ka)return _a(gn,7,"Premature end-of-file encountered.")}if(Ml(gn),Rt=Js,la=1,an=(Qt=gn).D,Fr=0<Qt.L&&Qt.M>=Qt.zb&&Qt.M<=Qt.Va,Qt.Aa==0)t:{if(an.M=Qt.M,an.uc=Fr,Ro(Qt,an),la=1,an=(Dn=Qt.D).Nb,Fr=(bn=Ph[Qt.L])*Qt.R,ps=bn/2*Qt.B,Rn=16*an*Qt.R,Ti=8*an*Qt.B,ei=Qt.sa,Ca=Qt.ta-Fr+Rn,Us=Qt.qa,mn=Qt.ra-ps+Ti,qa=Qt.Ha,ti=Qt.Ia-ps+Ti,os=(Qn=Dn.M)==0,Es=Qn>=Qt.Va-1,Qt.Aa==2&&Ro(Qt,Dn),Dn.uc)for(Ea=(is=Qt).D.M,t(is.D.uc),Dn=is.yb;Dn<is.Hb;++Dn){Xs=Dn,Qs=Ea;var mi=(po=(da=is).D).Nb;As=da.R;var po=po.wa[po.Y+Xs],ca=da.sa,ua=da.ta+16*mi*As+16*Xs,Oi=po.dd,ls=po.tc;if(ls!=0)if(t(3<=ls),da.L==1)0<Xs&&u0(ca,ua,As,ls+4),po.La&&Nh(ca,ua,As,ls),0<Qs&&_v(ca,ua,As,ls+4),po.La&&Cp(ca,ua,As,ls);else{var Ii=da.B,gl=da.qa,Wl=da.ra+8*mi*Ii+8*Xs,ri=da.Ha,da=da.Ia+8*mi*Ii+8*Xs;mi=po.ld,0<Xs&&(ka(ca,ua,As,ls+4,Oi,mi),kp(gl,Wl,ri,da,Ii,ls+4,Oi,mi)),po.La&&(Cu(ca,ua,As,ls,Oi,mi),Uf(gl,Wl,ri,da,Ii,ls,Oi,mi)),0<Qs&&(Ys(ca,ua,As,ls+4,Oi,mi),ql(gl,Wl,ri,da,Ii,ls+4,Oi,mi)),po.La&&(Bf(ca,ua,As,ls,Oi,mi),Nv(gl,Wl,ri,da,Ii,ls,Oi,mi))}}if(Qt.ia&&alert("todo:DitherRow"),Rt.put!=null){if(Dn=16*Qn,Qn=16*(Qn+1),os?(Rt.y=Qt.sa,Rt.O=Qt.ta+Rn,Rt.f=Qt.qa,Rt.N=Qt.ra+Ti,Rt.ea=Qt.Ha,Rt.W=Qt.Ia+Ti):(Dn-=bn,Rt.y=ei,Rt.O=Ca,Rt.f=Us,Rt.N=mn,Rt.ea=qa,Rt.W=ti),Es||(Qn-=bn),Qn>Rt.o&&(Qn=Rt.o),Rt.F=null,Rt.J=null,Qt.Fa!=null&&0<Qt.Fa.length&&Dn<Qn&&(Rt.J=Sa(Qt,Rt,Dn,Qn-Dn),Rt.F=Qt.mb,Rt.F==null&&Rt.F.length==0)){la=_a(Qt,3,"Could not decode alpha data.");break t}Dn<Rt.j&&(bn=Rt.j-Dn,Dn=Rt.j,t(!(1&bn)),Rt.O+=Qt.R*bn,Rt.N+=Qt.B*(bn>>1),Rt.W+=Qt.B*(bn>>1),Rt.F!=null&&(Rt.J+=Rt.width*bn)),Dn<Qn&&(Rt.O+=Rt.v,Rt.N+=Rt.v>>1,Rt.W+=Rt.v>>1,Rt.F!=null&&(Rt.J+=Rt.v),Rt.ka=Dn-Rt.j,Rt.U=Rt.va-Rt.v,Rt.T=Qn-Dn,la=Rt.put(Rt))}an+1!=Qt.Ic||Es||(s(Qt.sa,Qt.ta-Fr,ei,Ca+16*Qt.R,Fr),s(Qt.qa,Qt.ra-ps,Us,mn+8*Qt.B,ps),s(Qt.Ha,Qt.Ia-ps,qa,ti+8*Qt.B,ps))}if(!la)return _a(gn,6,"Output aborted.")}return 1})(Oe,Ke)),Ke.bc!=null&&Ke.bc(Ke),Qe&=1}return Qe?(Oe.cb=0,Qe):0})(P,fe)||(F=P.a)}}else F=P.a}F==0&&ke.Oa!=null&&ke.Oa.fd&&(F=Mf(ke.ba))}ke=F}Se=ke!=0?null:11>Se?Ce.f.RGBA.eb:Ce.f.kb.y}else Se=null;return Se};var Mp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,q){for(var M="",C=0;C<4;C++)M+=String.fromCharCode(E[q++]);return M}function d(E,q){return E[q+0]|E[q+1]<<8}function h(E,q){return(E[q+0]|E[q+1]<<8|E[q+2]<<16)>>>0}function m(E,q){return(E[q+0]|E[q+1]<<8|E[q+2]<<16|E[q+3]<<24)>>>0}new c;var f=[0],x=[0],v=[],g=new c,y=e,j=(function(E,q){var M={},C=0,I=!1,O=0,H=0;if(M.frames=[],!(function(D,Q){for(var ie=0;ie<4;ie++)if(D[Q+ie]!="RIFF".charCodeAt(ie))return!0;return!1})(E,q)){for(m(E,q+=4),q+=8;q<E.length;){var re=u(E,q),U=m(E,q+=4);q+=4;var K=U+(1&U);switch(re){case"VP8 ":case"VP8L":M.frames[C]===void 0&&(M.frames[C]={}),(B=M.frames[C]).src_off=I?H:q-8,B.src_size=O+U+8,C++,I&&(I=!1,O=0,H=0);break;case"VP8X":(B=M.header={}).feature_flags=E[q];var ee=q+4;B.canvas_width=1+h(E,ee),ee+=3,B.canvas_height=1+h(E,ee),ee+=3;break;case"ALPH":I=!0,O=K+8,H=q-8;break;case"ANIM":(B=M.header).bgcolor=m(E,q),ee=q+4,B.loop_count=d(E,ee),ee+=2;break;case"ANMF":var X,B;(B=M.frames[C]={}).offset_x=2*h(E,q),q+=3,B.offset_y=2*h(E,q),q+=3,B.width=1+h(E,q),q+=3,B.height=1+h(E,q),q+=3,B.duration=h(E,q),q+=3,X=E[q++],B.dispose=1&X,B.blend=X>>1&1}re!="ANMF"&&(q+=K)}return M}})(y,0);j.response=y,j.rgbaoutput=!0,j.dataurl=!1;var b=j.header?j.header:null,_=j.frames?j.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],x=[b.canvas_width];for(var S=0;S<_.length&&_[S].blend!=0;S++);}var T=_[0],A=g.WebPDecodeRGBA(y,T.src_off,T.src_size,x,f);T.rgba=A,T.imgwidth=x[0],T.imgheight=f[0];for(var L=0;L<x[0]*f[0]*4;L++)v[L]=A[L];return this.width=x,this.height=f,this.data=v,this}(function(e){var t,r,s,a,i,o,l,c,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=D;Object.defineProperty(this,"pdf",{get:function(){return Q}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(G){ie=!!G}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(G){te=!!G}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(G){isNaN(G)||(he=G)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(G){isNaN(G)||(W=G)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(G){var pe;typeof G=="number"?pe=[G,G,G,G]:((pe=new Array(4))[0]=G[0],pe[1]=G.length>=2?G[1]:pe[0],pe[2]=G.length>=3?G[2]:pe[0],pe[3]=G.length>=4?G[3]:pe[1]),u.margin=pe}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(G){V=G}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(G){oe=G}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(G){me=G}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(G){G instanceof d&&(u=G)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(G){u.path=G}});var de=[];Object.defineProperty(this,"ctxStack",{get:function(){return de},set:function(G){de=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var pe;pe=m(G),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var pe=m(G);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var ue=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(G){ue=null,Pe=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var pe;if(this.ctx.font=G,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(G))!==null){var ce=pe[1];pe[2];var $=pe[3],z=pe[4];pe[5];var Z=pe[6],le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(z)[2];z=Math.floor(le==="px"?parseFloat(z)*this.pdf.internal.scaleFactor:le==="em"?parseFloat(z)*this.pdf.getFontSize():parseFloat(z)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(z);var ge=(function(Mt){var Et,rn,Wt=[],Dt=Mt.trim();if(Dt==="")return cA;if(Dt in cq)return[cq[Dt]];for(;Dt!=="";){switch(rn=null,Et=(Dt=dq(Dt)).charAt(0)){case'"':case"'":rn=k$e(Dt.substring(1),Et);break;default:rn=C$e(Dt)}if(rn===null||(Wt.push(rn[0]),(Dt=dq(rn[1]))!==""&&Dt.charAt(0)!==","))return cA;Dt=Dt.replace(/^,/,"")}return Wt})(Z);if(this.fontFaces){var we=(function(Mt,Et){if(ue===null){var rn=(function(Wt){var Dt=[];return Object.keys(Wt).forEach(function(ir){Wt[ir].forEach(function(_r){var nr=null;switch(_r){case"bold":nr={family:ir,weight:"bold"};break;case"italic":nr={family:ir,style:"italic"};break;case"bolditalic":nr={family:ir,weight:"bold",style:"italic"};break;case"":case"normal":nr={family:ir}}nr!==null&&(nr.ref={name:ir,style:_r},Dt.push(nr))})}),Dt})(Mt.getFontList());ue=(function(Wt){for(var Dt={},ir=0;ir<Wt.length;++ir){var _r=lA(Wt[ir]),nr=_r.family,Lr=_r.stretch,Ar=_r.style,Cn=_r.weight;Dt[nr]=Dt[nr]||{},Dt[nr][Lr]=Dt[nr][Lr]||{},Dt[nr][Lr][Ar]=Dt[nr][Lr][Ar]||{},Dt[nr][Lr][Ar][Cn]=_r}return Dt})(rn.concat(Et))}return ue})(this.pdf,this.fontFaces),Me=ge.map(function(Mt){return{family:Mt,stretch:"normal",weight:$,style:ce}}),Be=(function(Mt,Et,rn){for(var Wt=(rn=rn||{}).defaultFontFamily||"times",Dt=Object.assign({},S$e,rn.genericFontFamilies||{}),ir=null,_r=null,nr=0;nr<Et.length;++nr)if(Dt[(ir=lA(Et[nr])).family]&&(ir.family=Dt[ir.family]),Mt.hasOwnProperty(ir.family)){_r=Mt[ir.family];break}if(!(_r=_r||Mt[Wt]))throw new Error("Could not find a font-family for the rule '"+uq(ir)+"' and default family '"+Wt+"'.");if(_r=(function(Lr,Ar){if(Ar[Lr])return Ar[Lr];var Cn=O3[Lr],Sn=Cn<=O3.normal?-1:1,Yr=lq(Ar,Uae,Cn,Sn);if(!Yr)throw new Error("Could not find a matching font-stretch value for "+Lr);return Yr})(ir.stretch,_r),_r=(function(Lr,Ar){if(Ar[Lr])return Ar[Lr];for(var Cn=Bae[Lr],Sn=0;Sn<Cn.length;++Sn)if(Ar[Cn[Sn]])return Ar[Cn[Sn]];throw new Error("Could not find a matching font-style for "+Lr)})(ir.style,_r),!(_r=(function(Lr,Ar){if(Ar[Lr])return Ar[Lr];if(Lr===400&&Ar[500])return Ar[500];if(Lr===500&&Ar[400])return Ar[400];var Cn=_$e[Lr],Sn=lq(Ar,$ae,Cn,Lr<400?-1:1);if(!Sn)throw new Error("Could not find a matching font-weight for value "+Lr);return Sn})(ir.weight,_r)))throw new Error("Failed to resolve a font for the rule '"+uq(ir)+"'.");return _r})(we,Me);this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Le="";($==="bold"||parseInt($,10)>=700||ce==="bold")&&(Le="bold"),ce==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var Ge="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<ge.length;ut++){if(this.pdf.internal.getFont(ge[ut],Le,{noFallback:!0,disableWarning:!0})!==void 0){Ge=ge[ut];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(ge[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=ge[ut],Le="bold";else if(this.pdf.internal.getFont(ge[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=ge[ut],Le="normal";break}}if(Ge===""){for(var Ct=0;Ct<ge.length;Ct++)if(it[ge[Ct]]){Ge=it[ge[Ct]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,B.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,B.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,Q){if(isNaN(D)||isNaN(Q))throw Ss.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(D,Q));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(D,Q)},h.prototype.closePath=function(){var D=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Un(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){D=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},h.prototype.lineTo=function(D,Q){if(isNaN(D)||isNaN(Q))throw Ss.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(D,Q));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,Q,ie,te){if(isNaN(ie)||isNaN(te)||isNaN(D)||isNaN(Q))throw Ss.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(ie,te)),W=this.ctx.transform.applyToPoint(new o(D,Q));this.path.push({type:"qct",x1:W.x,y1:W.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},h.prototype.bezierCurveTo=function(D,Q,ie,te,he,W){if(isNaN(he)||isNaN(W)||isNaN(D)||isNaN(Q)||isNaN(ie)||isNaN(te))throw Ss.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new o(he,W)),oe=this.ctx.transform.applyToPoint(new o(D,Q)),me=this.ctx.transform.applyToPoint(new o(ie,te));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:me.x,y2:me.y,x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.arc=function(D,Q,ie,te,he,W){if(isNaN(D)||isNaN(Q)||isNaN(ie)||isNaN(te)||isNaN(he))throw Ss.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new o(D,Q));D=V.x,Q=V.y;var oe=this.ctx.transform.applyToPoint(new o(0,ie)),me=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(oe.x-me.x,2)+Math.pow(oe.y-me.y,2))}Math.abs(he-te)>=2*Math.PI&&(te=0,he=2*Math.PI),this.path.push({type:"arc",x:D,y:Q,radius:ie,startAngle:te,endAngle:he,counterclockwise:W})},h.prototype.arcTo=function(D,Q,ie,te,he){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,Q,ie,te){if(isNaN(D)||isNaN(Q)||isNaN(ie)||isNaN(te))throw Ss.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,Q),this.lineTo(D+ie,Q),this.lineTo(D+ie,Q+te),this.lineTo(D,Q+te),this.lineTo(D,Q),this.lineTo(D+ie,Q),this.lineTo(D,Q)},h.prototype.fillRect=function(D,Q,ie,te){if(isNaN(D)||isNaN(Q)||isNaN(ie)||isNaN(te))throw Ss.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,Q,ie,te),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},h.prototype.strokeRect=function(D,Q,ie,te){if(isNaN(D)||isNaN(Q)||isNaN(ie)||isNaN(te))throw Ss.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(D,Q,ie,te),this.stroke())},h.prototype.clearRect=function(D,Q,ie,te){if(isNaN(D)||isNaN(Q)||isNaN(ie)||isNaN(te))throw Ss.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,Q,ie,te))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(D){var Q,ie,te,he;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))Q=0,ie=0,te=0,he=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(W!==null)Q=parseInt(W[1]),ie=parseInt(W[2]),te=parseInt(W[3]),he=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)Q=parseInt(W[1]),ie=parseInt(W[2]),te=parseInt(W[3]),he=parseFloat(W[4]);else{if(he=1,typeof D=="string"&&D.charAt(0)!=="#"){var V=new Oae(D);D=V.ok?V.toHex():"#000000"}D.length===4?(Q=D.substring(1,2),Q+=Q,ie=D.substring(2,3),ie+=ie,te=D.substring(3,4),te+=te):(Q=D.substring(1,3),ie=D.substring(3,5),te=D.substring(5,7)),Q=parseInt(Q,16),ie=parseInt(ie,16),te=parseInt(te,16)}}return{r:Q,g:ie,b:te,a:he,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,Q,ie,te){if(isNaN(Q)||isNaN(ie)||typeof D!="string")throw Ss.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!f.call(this)){var he=K(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;C.call(this,{text:D,x:Q,y:ie,scale:W,angle:he,align:this.textAlign,maxWidth:te})}},h.prototype.strokeText=function(D,Q,ie,te){if(isNaN(Q)||isNaN(ie)||typeof D!="string")throw Ss.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){te=isNaN(te)?void 0:te;var he=K(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;C.call(this,{text:D,x:Q,y:ie,scale:W,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:te})}},h.prototype.measureText=function(D){if(typeof D!="string")throw Ss.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,ie=this.pdf.internal.scaleFactor,te=Q.internal.getFontSize(),he=Q.getStringUnitWidth(D)*te/Q.internal.scaleFactor;return new function(W){var V=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return V}}),this}({width:he*=Math.round(96*ie/72*1e4)/1e4})},h.prototype.scale=function(D,Q){if(isNaN(D)||isNaN(Q))throw Ss.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new c(D,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.rotate=function(D){if(isNaN(D))throw Ss.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.translate=function(D,Q){if(isNaN(D)||isNaN(Q))throw Ss.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new c(1,0,0,1,D,Q);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.transform=function(D,Q,ie,te,he,W){if(isNaN(D)||isNaN(Q)||isNaN(ie)||isNaN(te)||isNaN(he)||isNaN(W))throw Ss.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new c(D,Q,ie,te,he,W);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.setTransform=function(D,Q,ie,te,he,W){D=isNaN(D)?1:D,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?0:ie,te=isNaN(te)?1:te,he=isNaN(he)?0:he,W=isNaN(W)?0:W,this.ctx.transform=new c(D,Q,ie,te,he,W)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,Q,ie,te,he,W,V,oe,me){var de=this.pdf.getImageProperties(D),ue=1,Pe=1,G=1,pe=1;te!==void 0&&oe!==void 0&&(G=oe/te,pe=me/he,ue=de.width/te*oe/te,Pe=de.height/he*me/he),W===void 0&&(W=Q,V=ie,Q=0,ie=0),te!==void 0&&oe===void 0&&(oe=te,me=he),te===void 0&&oe===void 0&&(oe=de.width,me=de.height);for(var ce,$=this.ctx.transform.decompose(),z=K($.rotate.shx),Z=new c,le=(Z=(Z=(Z=Z.multiply($.translate)).multiply($.skew)).multiply($.scale)).applyToRectangle(new l(W-Q*G,V-ie*pe,te*ue,he*Pe)),ge=g.call(this,le),we=[],Me=0;Me<ge.length;Me+=1)we.indexOf(ge[Me])===-1&&we.push(ge[Me]);if(b(we),this.autoPaging)for(var Be=we[0],Le=we[we.length-1],Ge=Be;Ge<Le+1;Ge++){this.pdf.setPage(Ge);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=Ge===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=Ge===1?0:Ct+(Ge-2)*Mt;if(this.ctx.clip_path.length!==0){var rn=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ce,this.posX+this.margin[3],-Et+ut+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=rn}var Wt=JSON.parse(JSON.stringify(le));Wt=j([Wt],this.posX+this.margin[3],-Et+ut+this.ctx.prevPageLastElemOffset)[0];var Dt=(Ge>Be||Ge<Le)&&v.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Mt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,z),Dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",le.x,le.y,le.w,le.h,null,null,z)};var g=function(D,Q,ie){var te=[];Q=Q||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":te.push(Math.floor((D.y+he)/ie)+1);break;case"arc":te.push(Math.floor((D.y+he-D.radius)/ie)+1),te.push(Math.floor((D.y+he+D.radius)/ie)+1);break;case"qct":var W=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);te.push(Math.floor((W.y+he)/ie)+1),te.push(Math.floor((W.y+W.h+he)/ie)+1);break;case"bct":var V=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);te.push(Math.floor((V.y+he)/ie)+1),te.push(Math.floor((V.y+V.h+he)/ie)+1);break;case"rect":te.push(Math.floor((D.y+he)/ie)+1),te.push(Math.floor((D.y+D.h+he)/ie)+1)}for(var oe=0;oe<te.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<te[oe];)y.call(this);return te},y=function(){var D=this.fillStyle,Q=this.strokeStyle,ie=this.font,te=this.lineCap,he=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=Q,this.font=ie,this.lineCap=te,this.lineWidth=he,this.lineJoin=W},j=function(D,Q,ie){for(var te=0;te<D.length;te++)switch(D[te].type){case"bct":D[te].x2+=Q,D[te].y2+=ie;case"qct":D[te].x1+=Q,D[te].y1+=ie;default:D[te].x+=Q,D[te].y+=ie}return D},b=function(D){return D.sort(function(Q,ie){return Q-ie})},_=function(D,Q){for(var ie,te,he=this.fillStyle,W=this.strokeStyle,V=this.lineCap,oe=this.lineWidth,me=Math.abs(oe*this.ctx.transform.scaleX),de=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),G=[],pe=0;pe<Pe.length;pe++)if(Pe[pe].x!==void 0)for(var ce=g.call(this,Pe[pe]),$=0;$<ce.length;$+=1)G.indexOf(ce[$])===-1&&G.push(ce[$]);for(var z=0;z<G.length;z++)for(;this.pdf.internal.getNumberOfPages()<G[z];)y.call(this);if(b(G),this.autoPaging)for(var Z=G[0],le=G[G.length-1],ge=Z;ge<le+1;ge++){this.pdf.setPage(ge),this.fillStyle=he,this.strokeStyle=W,this.lineCap=V,this.lineWidth=me,this.lineJoin=de;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=ge===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=ge===1?0:Be+(ge-2)*Le;if(this.ctx.clip_path.length!==0){var it=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ie,this.posX+this.margin[3],-Ge+Me+this.ctx.prevPageLastElemOffset),S.call(this,D,!0),this.path=it}if(te=JSON.parse(JSON.stringify(ue)),this.path=j(te,this.posX+this.margin[3],-Ge+Me+this.ctx.prevPageLastElemOffset),Q===!1||ge===0){var ut=(ge>Z||ge<le)&&v.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Le,null).clip().discardPath()),S.call(this,D,Q),ut&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=me,S.call(this,D,Q),this.lineWidth=oe;this.path=ue},S=function(D,Q){if((D!=="stroke"||Q||!x.call(this))&&(D==="stroke"||Q||!f.call(this))){for(var ie,te,he=[],W=this.path,V=0;V<W.length;V++){var oe=W[V];switch(oe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:oe,deltas:[],abs:[]});break;case"lt":var me=he.length;if(W[V-1]&&!isNaN(W[V-1].x)&&(ie=[oe.x-W[V-1].x,oe.y-W[V-1].y],me>0)){for(;me>=0;me--)if(he[me-1].close!==!0&&he[me-1].begin!==!0){he[me-1].deltas.push(ie),he[me-1].abs.push(oe);break}}break;case"bct":ie=[oe.x1-W[V-1].x,oe.y1-W[V-1].y,oe.x2-W[V-1].x,oe.y2-W[V-1].y,oe.x-W[V-1].x,oe.y-W[V-1].y],he[he.length-1].deltas.push(ie);break;case"qct":var de=W[V-1].x+2/3*(oe.x1-W[V-1].x),ue=W[V-1].y+2/3*(oe.y1-W[V-1].y),Pe=oe.x+2/3*(oe.x1-oe.x),G=oe.y+2/3*(oe.y1-oe.y),pe=oe.x,ce=oe.y;ie=[de-W[V-1].x,ue-W[V-1].y,Pe-W[V-1].x,G-W[V-1].y,pe-W[V-1].x,ce-W[V-1].y],he[he.length-1].deltas.push(ie);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(oe)}}te=Q?null:D==="stroke"?"stroke":"fill";for(var $=!1,z=0;z<he.length;z++)if(he[z].arc)for(var Z=he[z].abs,le=0;le<Z.length;le++){var ge=Z[le];ge.type==="arc"?L.call(this,ge.x,ge.y,ge.radius,ge.startAngle,ge.endAngle,ge.counterclockwise,void 0,Q,!$):I.call(this,ge.x,ge.y),$=!0}else if(he[z].close===!0)this.pdf.internal.out("h"),$=!1;else if(he[z].begin!==!0){var we=he[z].start.x,Me=he[z].start.y;O.call(this,he[z].deltas,we,Me),$=!0}te&&E.call(this,te),Q&&q.call(this)}},T=function(D){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-ie;case"top":return D+Q-ie;case"hanging":return D+Q-2*ie;case"middle":return D+Q/2-ie;default:return D}},A=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(Q,ie){this.colorStops.push([Q,ie])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(D,Q,ie,te,he,W,V,oe,me){for(var de=re.call(this,ie,te,he,W),ue=0;ue<de.length;ue++){var Pe=de[ue];ue===0&&(me?M.call(this,Pe.x1+D,Pe.y1+Q):I.call(this,Pe.x1+D,Pe.y1+Q)),H.call(this,D,Q,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}oe?q.call(this):E.call(this,V)},E=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(D,Q){this.pdf.internal.out(r(D)+" "+s(Q)+" m")},C=function(D){var Q;switch(D.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var ie=this.pdf.getTextDimensions(D.text),te=T.call(this,D.y),he=A.call(this,te)-ie.h,W=this.ctx.transform.applyToPoint(new o(D.x,te)),V=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var me,de,ue,Pe=this.ctx.transform.applyToRectangle(new l(D.x,te,ie.w,ie.h)),G=oe.applyToRectangle(new l(D.x,he,ie.w,ie.h)),pe=g.call(this,G),ce=[],$=0;$<pe.length;$+=1)ce.indexOf(pe[$])===-1&&ce.push(pe[$]);if(b(ce),this.autoPaging)for(var z=ce[0],Z=ce[ce.length-1],le=z;le<Z+1;le++){this.pdf.setPage(le);var ge=le===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],Be=Me-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],Ge=Le-this.margin[3],it=le===1?0:we+(le-2)*Be;if(this.ctx.clip_path.length!==0){var ut=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(me,this.posX+this.margin[3],-1*it+ge),S.call(this,"fill",!0),this.path=ut}var Ct=j([JSON.parse(JSON.stringify(G))],this.posX+this.margin[3],-it+ge+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*D.scale),ue=this.lineWidth,this.lineWidth=ue*D.scale);var Mt=this.autoPaging!=="text";if(Mt||Ct.y+Ct.h<=Me){if(Mt||Ct.y>=ge&&Ct.x<=Le){var Et=Mt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Le-Ct.x)[0],rn=j([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-it+ge+this.ctx.prevPageLastElemOffset)[0],Wt=Mt&&(le>z||le<Z)&&v.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Be,null).clip().discardPath()),this.pdf.text(Et,rn.x,rn.y,{angle:D.angle,align:Q,renderingMode:D.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else Ct.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-Ct.y);D.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ue)}else D.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*D.scale),ue=this.lineWidth,this.lineWidth=ue*D.scale),this.pdf.text(D.text,W.x+this.posX,W.y+this.posY,{angle:D.angle,align:Q,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ue)},I=function(D,Q,ie,te){ie=ie||0,te=te||0,this.pdf.internal.out(r(D+ie)+" "+s(Q+te)+" l")},O=function(D,Q,ie){return this.pdf.lines(D,Q,ie,null,null)},H=function(D,Q,ie,te,he,W,V,oe){this.pdf.internal.out([t(a(ie+D)),t(i(te+Q)),t(a(he+D)),t(i(W+Q)),t(a(V+D)),t(i(oe+Q)),"c"].join(" "))},re=function(D,Q,ie,te){for(var he=2*Math.PI,W=Math.PI/2;Q>ie;)Q-=he;var V=Math.abs(ie-Q);V<he&&te&&(V=he-V);for(var oe=[],me=te?-1:1,de=Q;V>1e-5;){var ue=de+me*Math.min(V,W);oe.push(U.call(this,D,de,ue)),V-=Math.abs(ue-de),de=ue}return oe},U=function(D,Q,ie){var te=(ie-Q)/2,he=D*Math.cos(te),W=D*Math.sin(te),V=he,oe=-W,me=V*V+oe*oe,de=me+V*he+oe*W,ue=4/3*(Math.sqrt(2*me*de)-de)/(V*W-oe*he),Pe=V-ue*oe,G=oe+ue*V,pe=Pe,ce=-G,$=te+Q,z=Math.cos($),Z=Math.sin($);return{x1:D*Math.cos(Q),y1:D*Math.sin(Q),x2:Pe*z-G*Z,y2:Pe*Z+G*z,x3:pe*z-ce*Z,y3:pe*Z+ce*z,x4:D*Math.cos(ie),y4:D*Math.sin(ie)}},K=function(D){return 180*D/Math.PI},ee=function(D,Q,ie,te,he,W){var V=D+.5*(ie-D),oe=Q+.5*(te-Q),me=he+.5*(ie-he),de=W+.5*(te-W),ue=Math.min(D,he,V,me),Pe=Math.max(D,he,V,me),G=Math.min(Q,W,oe,de),pe=Math.max(Q,W,oe,de);return new l(ue,G,Pe-ue,pe-G)},X=function(D,Q,ie,te,he,W,V,oe){var me,de,ue,Pe,G,pe,ce,$,z,Z,le,ge,we,Me,Be=ie-D,Le=te-Q,Ge=he-ie,it=W-te,ut=V-he,Ct=oe-W;for(de=0;de<41;de++)z=(ce=(ue=D+(me=de/40)*Be)+me*((G=ie+me*Ge)-ue))+me*(G+me*(he+me*ut-G)-ce),Z=($=(Pe=Q+me*Le)+me*((pe=te+me*it)-Pe))+me*(pe+me*(W+me*Ct-pe)-$),de==0?(le=z,ge=Z,we=z,Me=Z):(le=Math.min(le,z),ge=Math.min(ge,Z),we=Math.max(we,z),Me=Math.max(Me,Z));return new l(Math.round(le),Math.round(ge),Math.round(we-le),Math.round(Me-ge))},B=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,Q,ie=(D=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:Q}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(br.API),(function(e){var t=function(o){var l,c,u,d,h,m,f,x,v,g;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(h=((h=((h=((h=(h-(g=h%85))/85)-(v=h%85))/85)-(x=h%85))/85)-(f=h%85))/85)%85,c.push(m+33,f+33,x+33,v+33,g+33)):c.push(122);return(function(y,j){for(var b=j;b>0;b--)y.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,h,m=String,f="length",x=255,v="charCodeAt",g="slice",y="replace";for(o[g](-2),o=o[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],d=0,h=(o+=l="uuuuu"[g](o[f]%5||5))[f];h>d;d+=5)c=52200625*(o[v](d)-33)+614125*(o[v](d+1)-33)+7225*(o[v](d+2)-33)+85*(o[v](d+3)-33)+(o[v](d+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(j,b){for(var _=b;_>0;_--)j.pop()})(u,l[f]),m.fromCharCode.apply(m,u)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=S3(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=s(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(br.API),(function(e){e.loadFile=function(t,r,s){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var h=new XMLHttpRequest,m=0,f=function(x){var v=x.length,g=[],y=String.fromCharCode;for(m=0;m<v;m+=1)g.push(y(255&x.charCodeAt(m)));return g.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)})(a,i,o)}catch{}return l})(t,r,s)},e.loadImageFile=e.loadFile})(br.API),(function(e){function t(){return(Hr.html2canvas?Promise.resolve(Hr.html2canvas):WE(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Hr.DOMPurify?Promise.resolve(Hr.DOMPurify):WE(()=>Promise.resolve().then(()=>hKe),void 0)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=Un(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(s(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var x=d[f],v=x.src.find(function(g){return g.format==="truetype"});v&&u.addFont(v.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||br.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,h).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(h,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,br.getPageSize=function(l,c,u){if(Un(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var x,v=0,g=0;if(f.hasOwnProperty(m))v=f[m][1]/h,g=f[m][0]/h;else try{v=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",g>v&&(x=g,g=v,v=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>g&&(x=g,g=v,v=x)}return{width:g,height:v,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(lA):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(br.API),br.API.addJS=function(e){return fq=e,this.internal.events.subscribe("postPutResources",function(){Jj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jj+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hq=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fq+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jj!==void 0&&hq!==void 0&&this.internal.out("/Names <</JavaScript "+Jj+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=r.internal.newObject();d.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<s.children.length;u++)this.renderItems(s.children[u])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])})(br.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,v={width:0,height:0,numcomponents:1},g=4;g<x;g+=2){if(g+=f,t.indexOf(h.charCodeAt(g+1))!==-1){m=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),v={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:m,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:s,alias:a}}return d}})(br.API),br.API.processPNG=function(e,t,r,s){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=u$e(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(L){for(var E=L.width,q=L.height,M=L.data,C=L.palette,I=L.depth,O=!1,H=[],re=[],U=void 0,K=!1,ee=0,X=0;X<C.length;X++){var B=v$(C[X],4),D=B[0],Q=B[1],ie=B[2],te=B[3];H.push(D,Q,ie),te!=null&&(te===0?(ee++,re.length<1&&re.push(X)):te<255&&(K=!0))}if(K||ee>1){O=!0,re=void 0;var he=E*q;U=new Uint8Array(he);for(var W=new DataView(M.buffer),V=0;V<he;V++){var oe=uA(W,V,I),me=v$(C[oe],4)[3];U[V]=me}}else ee===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:O?8:void 0,colorBytes:M,alphaBytes:U,needSMask:O,palette:H,mask:re}})(i):c===2||c===4?(function(L){for(var E=L.data,q=L.width,M=L.height,C=L.channels,I=L.depth,O=C===2?"DeviceGray":"DeviceRGB",H=C-1,re=q*M,U=H,K=re*U,ee=1*re,X=Math.ceil(K*I/8),B=Math.ceil(ee*I/8),D=new Uint8Array(X),Q=new Uint8Array(B),ie=new DataView(E.buffer),te=new DataView(D.buffer),he=new DataView(Q.buffer),W=!1,V=0;V<re;V++){for(var oe=V*C,me=0;me<U;me++)jq(te,uA(ie,oe+me,I),V*U+me,I);var de=uA(ie,oe+U,I);de<(1<<I)-1&&(W=!0),jq(he,de,1*V,I)}return{colorSpace:O,colorsPerPixel:H,sMaskBitsPerComponent:W?I:void 0,colorBytes:D,alphaBytes:Q,needSMask:W}})(i):(function(L){var E=L.data,q=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?(function(M){for(var C=M.length,I=new Uint8Array(2*C),O=new DataView(I.buffer,I.byteOffset,I.byteLength),H=0;H<C;H++)O.setUint16(2*H,M[H],!1);return I})(E):E,needSMask:!1}})(i);var h,m,f,x=a,v=x.colorSpace,g=x.colorsPerPixel,y=x.sMaskBitsPerComponent,j=x.colorBytes,b=x.alphaBytes,_=x.needSMask,S=x.palette,T=x.mask,A=null;return s!==br.API.image_compression.NONE&&typeof S3=="function"?(A=(function(L){var E;switch(L){case br.API.image_compression.FAST:E=11;break;case br.API.image_compression.MEDIUM:E=13;break;case br.API.image_compression.SLOW:E=14;break;default:E=12}return E})(s),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(A," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=vq(j,Math.ceil(o*g*d/8),g,d,s),_&&(f=vq(b,Math.ceil(o*y/8),1,y,s))):(h=void 0,m=void 0,e=j,_&&(f=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:h,decodeParameters:m,transparency:T,palette:S,sMask:f,predictor:A,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,s,a){var i=new T$e(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new dA(100).encode(u,100);return e.processJPEG.call(this,d,r,s,a)},e.processGIF87A=e.processGIF89A})(br.API),Fu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ss.log("bit decode error:"+r)}},Fu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Fu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Fu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Fu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=s*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Fu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Fu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Fu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Fu.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,s,a){var i=new Fu(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new dA(100).encode(c,100);return e.processJPEG.call(this,u,r,s,a)}})(br.API),_q.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,s,a){var i=new _q(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new dA(100).encode(c,100);return e.processJPEG.call(this,u,r,s,a)}})(br.API),br.API.processRGBA=function(e,t,r){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=s[u],h=s[u+1],m=s[u+2],f=s[u+3];i[l++]=d,i[l++]=h,i[l++]=m,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},br.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ax=br.API,Xj=ax.getCharWidthsArray=function(e,t){var r,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,m=0,f=e.length,x=0,v=l[0]||c,g=[];for(r=0;r<f;r++)s=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(m=h&&Un(u[s])==="object"&&!isNaN(parseInt(u[s][x],10))?u[s][x]/d:0,g.push((l[s]||v)/c+m)),x=s;return g},mq=ax.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ax.processArabic&&(e=ax.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,a)/r:Xj.apply(this,arguments).reduce(function(i,o){return i+o},0)},pq=function(e,t,r,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},gq=function(e,t,r){r||(r={});var s,a,i,o,l,c,u,d=[],h=[d],m=r.textIndent||0,f=0,x=0,v=e.split(" "),g=Xj.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),j=[];v.map(function(_){(_=_.split(/\s*\n/)).length>1?j=j.concat(_.map(function(S,T){return(T&&S.length?`
`:"")+S})):j.push(_[0])}),v=j,c=mq.apply(this,[y,r])}for(i=0,o=v.length;i<o;i++){var b=0;if(s=v[i],c&&s[0]==`
`&&(s=s.substr(1),b=1),m+f+(x=(a=Xj.apply(this,[s,r])).reduce(function(_,S){return _+S},0))>t||b){if(x>t){for(l=pq.apply(this,[s,a,t-(m+f),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);x=a.slice(s.length-(d[0]?d[0].length:0)).reduce(function(_,S){return _+S},0)}else d=[s];h.push(d),m=x+c,f=g}else d.push(s),m+=f+x,f=g}return u=c?function(_,S){return(S?y:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(u)},ax.splitTextToSize=function(e,t,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=s.length;l<c;l++)u=u.concat(gq.apply(this,[s[l],o,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[r[i]]=t[i],a[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var f,x,v,g,y=["{"];for(var j in m){if(f=m[j],isNaN(parseInt(j,10))?x="'"+j+"'":(j=parseInt(j,10),x=(x=o(j).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof f=="number")f<0?(v=o(f).slice(3),g="-"):(v=o(f).slice(2),g=""),v=g+v.slice(0,-1)+a[v.slice(-1)];else{if(Un(f)!=="object")throw new Error("Don't know what to do with value type "+Un(f)+".");v=l(f)}y.push(x+v)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,v,g,y={},j=1,b=y,_=[],S="",T="",A=m.length-1,L=1;L<A;L+=1)(g=m[L])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(_.push([b,v]),b={},v=void 0):g=="}"?((x=_.pop())[0][x[1]]=b,v=void 0,b=x[0]):g=="-"?j=-1:v===void 0?s.hasOwnProperty(g)?(S+=s[g],v=parseInt(S,16)*j,j=1,S=""):S+=g:s.hasOwnProperty(g)?(T+=s[g],b[v]=parseInt(T,16)*j,j=1,v=void 0,T=""):T+=g;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var f=m.font,x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var v=d.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])})(br.API),(function(e){var t=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(A2(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])})(br),br.API.addSvgAsImage=function(e,t,r,s,a,i,o,l){if(isNaN(t)||isNaN(r))throw Ss.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ss.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Hr.canvg?Promise.resolve(Hr.canvg):WE(()=>import("./index.es-C0SqAic5.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,s,a,o,l)})},br.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,r);return this},br.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function m(x,v){var g,y=!1;for(g=0;g<x.length;g+=1)x[g]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Un(e)==="object"){for(a in e)if(i=e[a],m(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(s=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(s=!1);s===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?v.push("/"+x+" /"+r[x].value):v.push("/"+x+" "+r[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(br.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},s=function(i){var o,l,c,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort(function(f,x){return f-x})).length;h<m;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<m.length;x++)f+=String.fromCharCode(m[x]);var v=u();d({data:f,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+fx(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+fx(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+fx(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var x=u();d({data:m,addLength1:!0,objectId:x}),c("endobj");var v=u();d({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+fx(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+fx(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},m=h.pdfEscape,f=h.activeFontKey,x=h.fonts,v=f,g="",y=0,j="",b=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(j=l,v=f,Array.isArray(l)&&(j=l[0]),y=0;y<j.length;y+=1)x[v].metadata.hasOwnProperty("cmap")&&(o=x[v].metadata.cmap.unicode.codeMap[j[y].charCodeAt(0)]),o||j[y].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?g+=j[y]:g+="";var _="";return parseInt(v.slice(1))<14||b==="WinAnsiEncoding"?_=m(g,v).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(_=r(g,x[v])),h.isHex=!0,{text:_,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(br),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(br.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,u,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,b=0;this.__bidiEngine__={};var _=function(M){var C=M.charCodeAt(),I=C>>8,O=v[I];return O!==void 0?h[256*O+(255&C)]:I===252||I===253?"AL":y.test(I)?"L":I===8?"R":"N"},S=function(M){for(var C,I=0;I<M.length;I++){if((C=_(M.charAt(I)))==="L")return!1;if(C==="R")return!0}return!1},T=function(M,C,I,O){var H,re,U,K,ee=C[O];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(ee="AN");break;case"AL":j=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":O<1||O+1>=C.length||(H=I[O-1])!=="EN"&&H!=="AN"||(re=C[O+1])!=="EN"&&re!=="AN"?ee="N":j&&(re="AN"),ee=re===H?re:"N";break;case"ES":ee=(H=O>0?I[O-1]:"B")==="EN"&&O+1<C.length&&C[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&I[O-1]==="EN"){ee="EN";break}if(j){ee="N";break}for(U=O+1,K=C.length;U<K&&C[U]==="ET";)U++;ee=U<K&&C[U]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(K=C.length,U=O+1;U<K&&C[U]==="NSM";)U++;if(U<K){var X=M[O],B=X>=1425&&X<=2303||X===64286;if(H=C[U],B&&(H==="R"||H==="AL")){ee="R";break}}}ee=O<1||(H=C[O-1])==="B"?"N":I[O-1];break;case"B":j=!1,a=!0,ee=b;break;case"S":i=!0,ee="N"}return ee},A=function(M,C,I){var O=M.split("");return I&&L(O,I,{hiLevel:b}),O.reverse(),C&&C.reverse(),O.join("")},L=function(M,C,I){var O,H,re,U,K,ee=-1,X=M.length,B=0,D=[],Q=b?f:m,ie=[];for(j=!1,a=!1,i=!1,H=0;H<X;H++)ie[H]=_(M[H]);for(re=0;re<X;re++){if(K=B,D[re]=T(M,ie,D,re),O=240&(B=Q[K][x[D[re]]]),B&=15,C[re]=U=Q[B][5],O>0)if(O===16){for(H=ee;H<re;H++)C[H]=1;ee=-1}else ee=-1;if(Q[B][6])ee===-1&&(ee=re);else if(ee>-1){for(H=ee;H<re;H++)C[H]=U;ee=-1}ie[re]==="B"&&(C[re]=0),I.hiLevel|=U}i&&(function(te,he,W){for(var V=0;V<W;V++)if(te[V]==="S"){he[V]=b;for(var oe=V-1;oe>=0&&te[oe]==="WS";oe--)he[oe]=b}})(ie,C,X)},E=function(M,C,I,O,H){if(!(H.hiLevel<M)){if(M===1&&b===1&&!a)return C.reverse(),void(I&&I.reverse());for(var re,U,K,ee,X=C.length,B=0;B<X;){if(O[B]>=M){for(K=B+1;K<X&&O[K]>=M;)K++;for(ee=B,U=K-1;ee<U;ee++,U--)re=C[ee],C[ee]=C[U],C[U]=re,I&&(re=I[ee],I[ee]=I[U],I[U]=re);B=K}B++}}},q=function(M,C,I){var O=M.split(""),H={hiLevel:b};return I||(I=[]),L(O,I,H),(function(re,U,K){if(K.hiLevel!==0&&d)for(var ee,X=0;X<re.length;X++)U[X]===1&&(ee=g.indexOf(re[X]))>=0&&(re[X]=g[ee+1])})(O,I,H),E(2,O,C,I,H),E(1,O,C,I,H),O.join("")};return this.__bidiEngine__.doBidiReorder=function(M,C,I){if((function(H,re){if(re)for(var U=0;U<H.length;U++)re[U]=U;l===void 0&&(l=S(H)),u===void 0&&(u=S(H))})(M,C),o||!c||u)if(o&&c&&l^u)b=l?1:0,M=A(M,C,I);else if(!o&&c&&u)b=l?1:0,M=q(M,C,I),M=A(M,C);else if(!o||l||c||u){if(o&&!c&&l^u)M=A(M,C),l?(b=0,M=q(M,C,I)):(b=1,M=q(M,C,I),M=A(M,C));else if(o&&l&&!c&&u)b=1,M=q(M,C,I),M=A(M,C);else if(!o&&!c&&l^u){var O=d;l?(b=1,M=q(M,C,I),b=0,d=!1,M=q(M,C,I),d=O):(b=0,M=q(M,C,I),M=A(M,C),b=1,d=!1,M=q(M,C,I),d=O,M=A(M,C))}}else b=0,M=q(M,C,I);else b=l?1:0,M=q(M,C,I);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,c=M.isOutputVisual,l=M.isInputRtl,u=M.isOutputRtl,d=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(br),br.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Zm(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new H$e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new O$e(this.contents),this.head=new R$e(this),this.name=new B$e(this),this.cmap=new zae(this),this.toUnicode={},this.hhea=new D$e(this),this.maxp=new U$e(this),this.hmtx=new $$e(this),this.post=new L$e(this),this.os2=new M$e(this),this.loca=new V$e(this),this.glyf=new q$e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e})();var hd,Zm=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,a;for(a=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)r=t[s],i.push(this.writeByte(r));return i},e})(),O$e=(function(){var e;function t(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,a,i,o,l,c,u,d,h,m,f,x,v;for(v in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),d=16*f-h,(a=new Zm).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(d),i=16*f,u=a.pos+i,l=null,x=[],r)for(m=r[v],a.writeString(v),a.writeInt(e(m)),a.writeInt(u),a.writeInt(m.length),x=x.concat(m),v==="head"&&(l=u),u+=m.length;u%4;)x.push(0),u++;return a.write(x),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(r){var s,a,i,o;for(r=Wae.call(r);r.length%4;)r.push(0);for(i=new Zm(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t})(),I$e={}.hasOwnProperty,rh=function(e,t){for(var r in t)I$e.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};hd=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var R$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Zm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),Sq=(function(){function e(t,r){var s,a,i,o,l,c,u,d,h,m,f,x,v,g,y,j,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),m=f/2,t.pos+=6,i=(function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S})(),t.pos+=2,v=(function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S})(),u=(function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S})(),d=(function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S})(),a=(this.length-t.pos+this.offset)/2,l=(function(){var _,S;for(S=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)S.push(t.readUInt16());return S})(),c=y=0,b=i.length;y<b;c=++y)for(g=i[c],s=j=x=v[c];x<=g?j<=g:j>=g;s=x<=g?++j:--j)d[c]===0?o=s+u[c]:(o=l[d[c]/2+(s-x)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[s]=65535&o}t.pos=h}return e.encode=function(t,r){var s,a,i,o,l,c,u,d,h,m,f,x,v,g,y,j,b,_,S,T,A,L,E,q,M,C,I,O,H,re,U,K,ee,X,B,D,Q,ie,te,he,W,V,oe,me,de,ue;switch(O=new Zm,o=Object.keys(t).sort(function(Pe,G){return Pe-G}),r){case"macroman":for(v=0,g=(function(){var Pe=[];for(x=0;x<256;++x)Pe.push(0);return Pe})(),j={0:0},i={},H=0,ee=o.length;H<ee;H++)j[oe=t[a=o[H]]]==null&&(j[oe]=++v),i[a]={old:t[a],new:j[t[a]]},g[a]=j[t[a]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(g),{charMap:i,subtable:O.data,maxGlyphID:v+1};case"unicode":for(C=[],h=[],b=0,j={},s={},y=u=null,re=0,X=o.length;re<X;re++)j[S=t[a=o[re]]]==null&&(j[S]=++b),s[a]={old:S,new:j[S]},l=j[S]-a,y!=null&&l===u||(y&&h.push(y),C.push(a),u=l),y=a;for(y&&h.push(y),h.push(65535),C.push(65535),q=2*(E=C.length),L=2*Math.pow(Math.log(E)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,A=2*E-L,c=[],T=[],f=[],x=U=0,B=C.length;U<B;x=++U){if(M=C[x],d=h[x],M===65535){c.push(0),T.push(0);break}if(M-(I=s[M].new)>=32768)for(c.push(0),T.push(2*(f.length+E-x)),a=K=M;M<=d?K<=d:K>=d;a=M<=d?++K:--K)f.push(s[a].new);else c.push(I-M),T.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*E+2*f.length),O.writeUInt16(0),O.writeUInt16(q),O.writeUInt16(L),O.writeUInt16(m),O.writeUInt16(A),W=0,D=h.length;W<D;W++)a=h[W],O.writeUInt16(a);for(O.writeUInt16(0),V=0,Q=C.length;V<Q;V++)a=C[V],O.writeUInt16(a);for(me=0,ie=c.length;me<ie;me++)l=c[me],O.writeUInt16(l);for(de=0,te=T.length;de<te;de++)_=T[de],O.writeUInt16(_);for(ue=0,he=f.length;ue<he;ue++)v=f[ue],O.writeUInt16(v);return{charMap:s,subtable:O.data,maxGlyphID:b+1}}},e})(),zae=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new Sq(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,a;return r==null&&(r="macroman"),s=Sq.encode(t,r),(a=new Zm).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e})(),D$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),M$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),L$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e})(),F$e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},B$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,a,i,o,l,c,u,d,h,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,h=s.length;d<h;i=++d)a=s[i],t.pos=a.offset,u=t.readString(a.length),o=new F$e(u,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),U$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),$$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d})(),this.widths=(function(){var u,d,h,m;for(m=[],u=0,d=(h=this.metrics).length;u<d;u++)i=h[u],m.push(i.advance);return m}).call(this),s=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),Wae=[].slice,q$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,a,i,o,l,c,u,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,o=(l=new Zm(r.read(a))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new W$e(l,u,h,c,d):new z$e(l,o,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,s){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e})(),z$e=(function(){function e(t,r,s,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),W$e=(function(){function e(t,r,s,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new Zm(Wae.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),V$e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rh(e,hd),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e})(),H$e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[r],t[r]=a[s];return t},e.prototype.glyphsFor=function(t){var r,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,r){var s,a,i,o,l,c,u,d,h,m,f,x,v,g,y;for(a in s=zae.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},y=s.charMap)f[(c=y[a]).old]=c.new;for(x in m=s.maxGlyphID,o)x in f||(f[x]=m++);return d=(function(j){var b,_;for(b in _={},j)_[j[b]]=b;return _})(f),h=Object.keys(d).sort(function(j,b){return j-b}),v=(function(){var j,b,_;for(_=[],j=0,b=h.length;j<b;j++)l=h[j],_.push(d[l]);return _})(),i=this.font.glyf.encode(o,v,f),u=this.font.loca.encode(i.offsets,v),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e})();br.API.PDFObject=(function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)s=r[l],u.push(t.convert(s));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();var G$e=Object.defineProperty,K$e=Object.defineProperties,Y$e=Object.getOwnPropertyDescriptors,kq=Object.getOwnPropertySymbols,J$e=Object.prototype.hasOwnProperty,X$e=Object.prototype.propertyIsEnumerable,I3=(e,t,r)=>t in e?G$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pn=(e,t)=>{for(var r in t||(t={}))J$e.call(t,r)&&I3(e,r,t[r]);if(kq)for(var r of kq(t))X$e.call(t,r)&&I3(e,r,t[r]);return e},gy=(e,t)=>K$e(e,Y$e(t)),pt=(e,t,r)=>I3(e,typeof t!="symbol"?t+"":t,r),Q$e=(e,t,r)=>new Promise((s,a)=>{var i=c=>{try{l(r.next(c))}catch(u){a(u)}},o=c=>{try{l(r.throw(c))}catch(u){a(u)}},l=c=>c.done?s(c.value):Promise.resolve(c.value).then(i,o);l((r=r.apply(e,t)).next())});class m_{constructor(t){pt(this,"rootKey"),this.rootKey=t}}const Z$e=Object.seal({});class wt extends m_{constructor(t){super(t),pt(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const s=this.root.map(a=>a instanceof m_?a.prepForXml(t):a).filter(a=>a!==void 0);return t.stack.pop(),{[this.rootKey]:s.length?s.length===1&&((r=s[0])!=null&&r._attr)?s[0]:s:Z$e}}addChildElement(t){return this.root.push(t),this}}class h5 extends wt{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Kr extends m_{constructor(t){super("_attr"),pt(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([s,a])=>{if(a!==void 0){const i=this.xmlKeys&&this.xmlKeys[s]||s;r[i]=a}}),{_attr:r}}}class f5 extends m_{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:s})=>s!==void 0).reduce((s,{key:a,value:i})=>gy(Pn({},s),{[a]:i}),{})}}}class Qa extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vae(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hA={},Qj={exports:{}},Cq;function y6(){if(Cq)return Qj.exports;Cq=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,T,A){return Function.prototype.apply.call(S,T,A)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:r=function(S){return Object.getOwnPropertyNames(S)};function s(_){console&&console.warn&&console.warn(_)}var a=Number.isNaN||function(S){return S!==S};function i(){i.init.call(this)}Qj.exports=i,Qj.exports.once=y,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function l(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(_){if(typeof _!="number"||_<0||a(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");o=_}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||a(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function c(_){return _._maxListeners===void 0?i.defaultMaxListeners:_._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(S){for(var T=[],A=1;A<arguments.length;A++)T.push(arguments[A]);var L=S==="error",E=this._events;if(E!==void 0)L=L&&E.error===void 0;else if(!L)return!1;if(L){var q;if(T.length>0&&(q=T[0]),q instanceof Error)throw q;var M=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw M.context=q,M}var C=E[S];if(C===void 0)return!1;if(typeof C=="function")t(C,this,T);else for(var I=C.length,O=x(C,I),A=0;A<I;++A)t(O[A],this,T);return!0};function u(_,S,T,A){var L,E,q;if(l(T),E=_._events,E===void 0?(E=_._events=Object.create(null),_._eventsCount=0):(E.newListener!==void 0&&(_.emit("newListener",S,T.listener?T.listener:T),E=_._events),q=E[S]),q===void 0)q=E[S]=T,++_._eventsCount;else if(typeof q=="function"?q=E[S]=A?[T,q]:[q,T]:A?q.unshift(T):q.push(T),L=c(_),L>0&&q.length>L&&!q.warned){q.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=_,M.type=S,M.count=q.length,s(M)}return _}i.prototype.addListener=function(S,T){return u(this,S,T,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(S,T){return u(this,S,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(_,S,T){var A={fired:!1,wrapFn:void 0,target:_,type:S,listener:T},L=d.bind(A);return L.listener=T,A.wrapFn=L,L}i.prototype.once=function(S,T){return l(T),this.on(S,h(this,S,T)),this},i.prototype.prependOnceListener=function(S,T){return l(T),this.prependListener(S,h(this,S,T)),this},i.prototype.removeListener=function(S,T){var A,L,E,q,M;if(l(T),L=this._events,L===void 0)return this;if(A=L[S],A===void 0)return this;if(A===T||A.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete L[S],L.removeListener&&this.emit("removeListener",S,A.listener||T));else if(typeof A!="function"){for(E=-1,q=A.length-1;q>=0;q--)if(A[q]===T||A[q].listener===T){M=A[q].listener,E=q;break}if(E<0)return this;E===0?A.shift():v(A,E),A.length===1&&(L[S]=A[0]),L.removeListener!==void 0&&this.emit("removeListener",S,M||T)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(S){var T,A,L;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[S]),this;if(arguments.length===0){var E=Object.keys(A),q;for(L=0;L<E.length;++L)q=E[L],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=A[S],typeof T=="function")this.removeListener(S,T);else if(T!==void 0)for(L=T.length-1;L>=0;L--)this.removeListener(S,T[L]);return this};function m(_,S,T){var A=_._events;if(A===void 0)return[];var L=A[S];return L===void 0?[]:typeof L=="function"?T?[L.listener||L]:[L]:T?g(L):x(L,L.length)}i.prototype.listeners=function(S){return m(this,S,!0)},i.prototype.rawListeners=function(S){return m(this,S,!1)},i.listenerCount=function(_,S){return typeof _.listenerCount=="function"?_.listenerCount(S):f.call(_,S)},i.prototype.listenerCount=f;function f(_){var S=this._events;if(S!==void 0){var T=S[_];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function x(_,S){for(var T=new Array(S),A=0;A<S;++A)T[A]=_[A];return T}function v(_,S){for(;S+1<_.length;S++)_[S]=_[S+1];_.pop()}function g(_){for(var S=new Array(_.length),T=0;T<S.length;++T)S[T]=_[T].listener||_[T];return S}function y(_,S){return new Promise(function(T,A){function L(q){_.removeListener(S,E),A(q)}function E(){typeof _.removeListener=="function"&&_.removeListener("error",L),T([].slice.call(arguments))}b(_,S,E,{once:!0}),S!=="error"&&j(_,L,{once:!0})})}function j(_,S,T){typeof _.on=="function"&&b(_,"error",S,T)}function b(_,S,T,A){if(typeof _.on=="function")A.once?_.once(S,T):_.on(S,T);else if(typeof _.addEventListener=="function")_.addEventListener(S,function L(E){A.once&&_.removeEventListener(S,L),T(E)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}return Qj.exports}var Zj={exports:{}},Eq;function pp(){return Eq||(Eq=1,typeof Object.create=="function"?Zj.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zj.exports=function(t,r){if(r){t.super_=r;var s=function(){};s.prototype=r.prototype,t.prototype=new s,t.prototype.constructor=t}}),Zj.exports}function eqe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hae={exports:{}},Za=Hae.exports={},Od,Id;function R3(){throw new Error("setTimeout has not been defined")}function D3(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Od=setTimeout:Od=R3}catch{Od=R3}try{typeof clearTimeout=="function"?Id=clearTimeout:Id=D3}catch{Id=D3}})();function Gae(e){if(Od===setTimeout)return setTimeout(e,0);if((Od===R3||!Od)&&setTimeout)return Od=setTimeout,setTimeout(e,0);try{return Od(e,0)}catch{try{return Od.call(null,e,0)}catch{return Od.call(this,e,0)}}}function tqe(e){if(Id===clearTimeout)return clearTimeout(e);if((Id===D3||!Id)&&clearTimeout)return Id=clearTimeout,clearTimeout(e);try{return Id(e)}catch{try{return Id.call(null,e)}catch{return Id.call(this,e)}}}var Zh=[],Px=!1,pg,R2=-1;function rqe(){!Px||!pg||(Px=!1,pg.length?Zh=pg.concat(Zh):R2=-1,Zh.length&&Kae())}function Kae(){if(!Px){var e=Gae(rqe);Px=!0;for(var t=Zh.length;t;){for(pg=Zh,Zh=[];++R2<t;)pg&&pg[R2].run();R2=-1,t=Zh.length}pg=null,Px=!1,tqe(e)}}Za.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Zh.push(new Yae(e,t)),Zh.length===1&&!Px&&Gae(Kae)};function Yae(e,t){this.fun=e,this.array=t}Yae.prototype.run=function(){this.fun.apply(null,this.array)};Za.title="browser";Za.browser=!0;Za.env={};Za.argv=[];Za.version="";Za.versions={};function Ef(){}Za.on=Ef;Za.addListener=Ef;Za.once=Ef;Za.off=Ef;Za.removeListener=Ef;Za.removeAllListeners=Ef;Za.emit=Ef;Za.prependListener=Ef;Za.prependOnceListener=Ef;Za.listeners=function(e){return[]};Za.binding=function(e){throw new Error("process.binding is not supported")};Za.cwd=function(){return"/"};Za.chdir=function(e){throw new Error("process.chdir is not supported")};Za.umask=function(){return 0};var nqe=Hae.exports;const pn=eqe(nqe);var fA,Aq;function Jae(){return Aq||(Aq=1,fA=y6().EventEmitter),fA}var mA={},ew={},Pq;function sqe(){if(Pq)return ew;Pq=1,ew.byteLength=l,ew.toByteArray=u,ew.fromByteArray=m;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,i=s.length;a<i;++a)e[a]=s[a],t[s.charCodeAt(a)]=a;t[45]=62,t[95]=63;function o(f){var x=f.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=f.indexOf("=");v===-1&&(v=x);var g=v===x?0:4-v%4;return[v,g]}function l(f){var x=o(f),v=x[0],g=x[1];return(v+g)*3/4-g}function c(f,x,v){return(x+v)*3/4-v}function u(f){var x,v=o(f),g=v[0],y=v[1],j=new r(c(f,g,y)),b=0,_=y>0?g-4:g,S;for(S=0;S<_;S+=4)x=t[f.charCodeAt(S)]<<18|t[f.charCodeAt(S+1)]<<12|t[f.charCodeAt(S+2)]<<6|t[f.charCodeAt(S+3)],j[b++]=x>>16&255,j[b++]=x>>8&255,j[b++]=x&255;return y===2&&(x=t[f.charCodeAt(S)]<<2|t[f.charCodeAt(S+1)]>>4,j[b++]=x&255),y===1&&(x=t[f.charCodeAt(S)]<<10|t[f.charCodeAt(S+1)]<<4|t[f.charCodeAt(S+2)]>>2,j[b++]=x>>8&255,j[b++]=x&255),j}function d(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function h(f,x,v){for(var g,y=[],j=x;j<v;j+=3)g=(f[j]<<16&16711680)+(f[j+1]<<8&65280)+(f[j+2]&255),y.push(d(g));return y.join("")}function m(f){for(var x,v=f.length,g=v%3,y=[],j=16383,b=0,_=v-g;b<_;b+=j)y.push(h(f,b,b+j>_?_:b+j));return g===1?(x=f[v-1],y.push(e[x>>2]+e[x<<4&63]+"==")):g===2&&(x=(f[v-2]<<8)+f[v-1],y.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),y.join("")}return ew}var e2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Tq;function aqe(){return Tq||(Tq=1,e2.read=function(e,t,r,s,a){var i,o,l=a*8-s-1,c=(1<<l)-1,u=c>>1,d=-7,h=r?a-1:0,m=r?-1:1,f=e[t+h];for(h+=m,i=f&(1<<-d)-1,f>>=-d,d+=l;d>0;i=i*256+e[t+h],h+=m,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=s;d>0;o=o*256+e[t+h],h+=m,d-=8);if(i===0)i=1-u;else{if(i===c)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,s),i=i-u}return(f?-1:1)*o*Math.pow(2,i-s)},e2.write=function(e,t,r,s,a,i){var o,l,c,u=i*8-a-1,d=(1<<u)-1,h=d>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=s?0:i-1,x=s?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=m/c:t+=m*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=d?(l=0,o=d):o+h>=1?(l=(t*c-1)*Math.pow(2,a),o=o+h):(l=t*Math.pow(2,h-1)*Math.pow(2,a),o=0));a>=8;e[r+f]=l&255,f+=x,l/=256,a-=8);for(o=o<<a|l,u+=a;u>0;e[r+f]=o&255,f+=x,o/=256,u-=8);e[r+f-x]|=v*128}),e2}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Oq;function m5(){return Oq||(Oq=1,(function(e){var t=sqe(),r=aqe(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=j,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var ce=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(ce,$),ce.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(ce){if(ce>a)throw new RangeError('The value "'+ce+'" is invalid for option "size"');var $=new Uint8Array(ce);return Object.setPrototypeOf($,l.prototype),$}function l(ce,$,z){if(typeof ce=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(ce)}return c(ce,$,z)}l.poolSize=8192;function c(ce,$,z){if(typeof ce=="string")return m(ce,$);if(ArrayBuffer.isView(ce))return x(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(Pe(ce,ArrayBuffer)||ce&&Pe(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pe(ce,SharedArrayBuffer)||ce&&Pe(ce.buffer,SharedArrayBuffer)))return v(ce,$,z);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=ce.valueOf&&ce.valueOf();if(Z!=null&&Z!==ce)return l.from(Z,$,z);var le=g(ce);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return l.from(ce[Symbol.toPrimitive]("string"),$,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}l.from=function(ce,$,z){return c(ce,$,z)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function d(ce,$,z){return u(ce),ce<=0?o(ce):$!==void 0?typeof z=="string"?o(ce).fill($,z):o(ce).fill($):o(ce)}l.alloc=function(ce,$,z){return d(ce,$,z)};function h(ce){return u(ce),o(ce<0?0:y(ce)|0)}l.allocUnsafe=function(ce){return h(ce)},l.allocUnsafeSlow=function(ce){return h(ce)};function m(ce,$){if((typeof $!="string"||$==="")&&($="utf8"),!l.isEncoding($))throw new TypeError("Unknown encoding: "+$);var z=b(ce,$)|0,Z=o(z),le=Z.write(ce,$);return le!==z&&(Z=Z.slice(0,le)),Z}function f(ce){for(var $=ce.length<0?0:y(ce.length)|0,z=o($),Z=0;Z<$;Z+=1)z[Z]=ce[Z]&255;return z}function x(ce){if(Pe(ce,Uint8Array)){var $=new Uint8Array(ce);return v($.buffer,$.byteOffset,$.byteLength)}return f(ce)}function v(ce,$,z){if($<0||ce.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<$+(z||0))throw new RangeError('"length" is outside of buffer bounds');var Z;return $===void 0&&z===void 0?Z=new Uint8Array(ce):z===void 0?Z=new Uint8Array(ce,$):Z=new Uint8Array(ce,$,z),Object.setPrototypeOf(Z,l.prototype),Z}function g(ce){if(l.isBuffer(ce)){var $=y(ce.length)|0,z=o($);return z.length===0||ce.copy(z,0,0,$),z}if(ce.length!==void 0)return typeof ce.length!="number"||G(ce.length)?o(0):f(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return f(ce.data)}function y(ce){if(ce>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return ce|0}function j(ce){return+ce!=ce&&(ce=0),l.alloc(+ce)}l.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==l.prototype},l.compare=function($,z){if(Pe($,Uint8Array)&&($=l.from($,$.offset,$.byteLength)),Pe(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),!l.isBuffer($)||!l.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===z)return 0;for(var Z=$.length,le=z.length,ge=0,we=Math.min(Z,le);ge<we;++ge)if($[ge]!==z[ge]){Z=$[ge],le=z[ge];break}return Z<le?-1:le<Z?1:0},l.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function($,z){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return l.alloc(0);var Z;if(z===void 0)for(z=0,Z=0;Z<$.length;++Z)z+=$[Z].length;var le=l.allocUnsafe(z),ge=0;for(Z=0;Z<$.length;++Z){var we=$[Z];if(Pe(we,Uint8Array))ge+we.length>le.length?l.from(we).copy(le,ge):Uint8Array.prototype.set.call(le,we,ge);else if(l.isBuffer(we))we.copy(le,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=we.length}return le};function b(ce,$){if(l.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||Pe(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);var z=ce.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&z===0)return 0;for(var le=!1;;)switch($){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return V(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z*2;case"hex":return z>>>1;case"base64":return de(ce).length;default:if(le)return Z?-1:V(ce).length;$=(""+$).toLowerCase(),le=!0}}l.byteLength=b;function _(ce,$,z){var Z=!1;if(($===void 0||$<0)&&($=0),$>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0,$>>>=0,z<=$))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return ee(this,$,z);case"utf8":case"utf-8":return O(this,$,z);case"ascii":return U(this,$,z);case"latin1":case"binary":return K(this,$,z);case"base64":return I(this,$,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,$,z);default:if(Z)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),Z=!0}}l.prototype._isBuffer=!0;function S(ce,$,z){var Z=ce[$];ce[$]=ce[z],ce[z]=Z}l.prototype.swap16=function(){var $=this.length;if($%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<$;z+=2)S(this,z,z+1);return this},l.prototype.swap32=function(){var $=this.length;if($%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<$;z+=4)S(this,z,z+3),S(this,z+1,z+2);return this},l.prototype.swap64=function(){var $=this.length;if($%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<$;z+=8)S(this,z,z+7),S(this,z+1,z+6),S(this,z+2,z+5),S(this,z+3,z+4);return this},l.prototype.toString=function(){var $=this.length;return $===0?"":arguments.length===0?O(this,0,$):_.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function($){if(!l.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$?!0:l.compare(this,$)===0},l.prototype.inspect=function(){var $="",z=e.INSPECT_MAX_BYTES;return $=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&($+=" ... "),"<Buffer "+$+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function($,z,Z,le,ge){if(Pe($,Uint8Array)&&($=l.from($,$.offset,$.byteLength)),!l.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(z===void 0&&(z=0),Z===void 0&&(Z=$?$.length:0),le===void 0&&(le=0),ge===void 0&&(ge=this.length),z<0||Z>$.length||le<0||ge>this.length)throw new RangeError("out of range index");if(le>=ge&&z>=Z)return 0;if(le>=ge)return-1;if(z>=Z)return 1;if(z>>>=0,Z>>>=0,le>>>=0,ge>>>=0,this===$)return 0;for(var we=ge-le,Me=Z-z,Be=Math.min(we,Me),Le=this.slice(le,ge),Ge=$.slice(z,Z),it=0;it<Be;++it)if(Le[it]!==Ge[it]){we=Le[it],Me=Ge[it];break}return we<Me?-1:Me<we?1:0};function T(ce,$,z,Z,le){if(ce.length===0)return-1;if(typeof z=="string"?(Z=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),z=+z,G(z)&&(z=le?0:ce.length-1),z<0&&(z=ce.length+z),z>=ce.length){if(le)return-1;z=ce.length-1}else if(z<0)if(le)z=0;else return-1;if(typeof $=="string"&&($=l.from($,Z)),l.isBuffer($))return $.length===0?-1:A(ce,$,z,Z,le);if(typeof $=="number")return $=$&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(ce,$,z):Uint8Array.prototype.lastIndexOf.call(ce,$,z):A(ce,[$],z,Z,le);throw new TypeError("val must be string, number or Buffer")}function A(ce,$,z,Z,le){var ge=1,we=ce.length,Me=$.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(ce.length<2||$.length<2)return-1;ge=2,we/=2,Me/=2,z/=2}function Be(Ct,Mt){return ge===1?Ct[Mt]:Ct.readUInt16BE(Mt*ge)}var Le;if(le){var Ge=-1;for(Le=z;Le<we;Le++)if(Be(ce,Le)===Be($,Ge===-1?0:Le-Ge)){if(Ge===-1&&(Ge=Le),Le-Ge+1===Me)return Ge*ge}else Ge!==-1&&(Le-=Le-Ge),Ge=-1}else for(z+Me>we&&(z=we-Me),Le=z;Le>=0;Le--){for(var it=!0,ut=0;ut<Me;ut++)if(Be(ce,Le+ut)!==Be($,ut)){it=!1;break}if(it)return Le}return-1}l.prototype.includes=function($,z,Z){return this.indexOf($,z,Z)!==-1},l.prototype.indexOf=function($,z,Z){return T(this,$,z,Z,!0)},l.prototype.lastIndexOf=function($,z,Z){return T(this,$,z,Z,!1)};function L(ce,$,z,Z){z=Number(z)||0;var le=ce.length-z;Z?(Z=Number(Z),Z>le&&(Z=le)):Z=le;var ge=$.length;Z>ge/2&&(Z=ge/2);for(var we=0;we<Z;++we){var Me=parseInt($.substr(we*2,2),16);if(G(Me))return we;ce[z+we]=Me}return we}function E(ce,$,z,Z){return ue(V($,ce.length-z),ce,z,Z)}function q(ce,$,z,Z){return ue(oe($),ce,z,Z)}function M(ce,$,z,Z){return ue(de($),ce,z,Z)}function C(ce,$,z,Z){return ue(me($,ce.length-z),ce,z,Z)}l.prototype.write=function($,z,Z,le){if(z===void 0)le="utf8",Z=this.length,z=0;else if(Z===void 0&&typeof z=="string")le=z,Z=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(Z)?(Z=Z>>>0,le===void 0&&(le="utf8")):(le=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ge=this.length-z;if((Z===void 0||Z>ge)&&(Z=ge),$.length>0&&(Z<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");for(var we=!1;;)switch(le){case"hex":return L(this,$,z,Z);case"utf8":case"utf-8":return E(this,$,z,Z);case"ascii":case"latin1":case"binary":return q(this,$,z,Z);case"base64":return M(this,$,z,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,$,z,Z);default:if(we)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),we=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(ce,$,z){return $===0&&z===ce.length?t.fromByteArray(ce):t.fromByteArray(ce.slice($,z))}function O(ce,$,z){z=Math.min(ce.length,z);for(var Z=[],le=$;le<z;){var ge=ce[le],we=null,Me=ge>239?4:ge>223?3:ge>191?2:1;if(le+Me<=z){var Be,Le,Ge,it;switch(Me){case 1:ge<128&&(we=ge);break;case 2:Be=ce[le+1],(Be&192)===128&&(it=(ge&31)<<6|Be&63,it>127&&(we=it));break;case 3:Be=ce[le+1],Le=ce[le+2],(Be&192)===128&&(Le&192)===128&&(it=(ge&15)<<12|(Be&63)<<6|Le&63,it>2047&&(it<55296||it>57343)&&(we=it));break;case 4:Be=ce[le+1],Le=ce[le+2],Ge=ce[le+3],(Be&192)===128&&(Le&192)===128&&(Ge&192)===128&&(it=(ge&15)<<18|(Be&63)<<12|(Le&63)<<6|Ge&63,it>65535&&it<1114112&&(we=it))}}we===null?(we=65533,Me=1):we>65535&&(we-=65536,Z.push(we>>>10&1023|55296),we=56320|we&1023),Z.push(we),le+=Me}return re(Z)}var H=4096;function re(ce){var $=ce.length;if($<=H)return String.fromCharCode.apply(String,ce);for(var z="",Z=0;Z<$;)z+=String.fromCharCode.apply(String,ce.slice(Z,Z+=H));return z}function U(ce,$,z){var Z="";z=Math.min(ce.length,z);for(var le=$;le<z;++le)Z+=String.fromCharCode(ce[le]&127);return Z}function K(ce,$,z){var Z="";z=Math.min(ce.length,z);for(var le=$;le<z;++le)Z+=String.fromCharCode(ce[le]);return Z}function ee(ce,$,z){var Z=ce.length;(!$||$<0)&&($=0),(!z||z<0||z>Z)&&(z=Z);for(var le="",ge=$;ge<z;++ge)le+=pe[ce[ge]];return le}function X(ce,$,z){for(var Z=ce.slice($,z),le="",ge=0;ge<Z.length-1;ge+=2)le+=String.fromCharCode(Z[ge]+Z[ge+1]*256);return le}l.prototype.slice=function($,z){var Z=this.length;$=~~$,z=z===void 0?Z:~~z,$<0?($+=Z,$<0&&($=0)):$>Z&&($=Z),z<0?(z+=Z,z<0&&(z=0)):z>Z&&(z=Z),z<$&&(z=$);var le=this.subarray($,z);return Object.setPrototypeOf(le,l.prototype),le};function B(ce,$,z){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+$>z)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function($,z,Z){$=$>>>0,z=z>>>0,Z||B($,z,this.length);for(var le=this[$],ge=1,we=0;++we<z&&(ge*=256);)le+=this[$+we]*ge;return le},l.prototype.readUintBE=l.prototype.readUIntBE=function($,z,Z){$=$>>>0,z=z>>>0,Z||B($,z,this.length);for(var le=this[$+--z],ge=1;z>0&&(ge*=256);)le+=this[$+--z]*ge;return le},l.prototype.readUint8=l.prototype.readUInt8=function($,z){return $=$>>>0,z||B($,1,this.length),this[$]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function($,z){return $=$>>>0,z||B($,2,this.length),this[$]|this[$+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function($,z){return $=$>>>0,z||B($,2,this.length),this[$]<<8|this[$+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function($,z){return $=$>>>0,z||B($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function($,z){return $=$>>>0,z||B($,4,this.length),this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])},l.prototype.readIntLE=function($,z,Z){$=$>>>0,z=z>>>0,Z||B($,z,this.length);for(var le=this[$],ge=1,we=0;++we<z&&(ge*=256);)le+=this[$+we]*ge;return ge*=128,le>=ge&&(le-=Math.pow(2,8*z)),le},l.prototype.readIntBE=function($,z,Z){$=$>>>0,z=z>>>0,Z||B($,z,this.length);for(var le=z,ge=1,we=this[$+--le];le>0&&(ge*=256);)we+=this[$+--le]*ge;return ge*=128,we>=ge&&(we-=Math.pow(2,8*z)),we},l.prototype.readInt8=function($,z){return $=$>>>0,z||B($,1,this.length),this[$]&128?(255-this[$]+1)*-1:this[$]},l.prototype.readInt16LE=function($,z){$=$>>>0,z||B($,2,this.length);var Z=this[$]|this[$+1]<<8;return Z&32768?Z|4294901760:Z},l.prototype.readInt16BE=function($,z){$=$>>>0,z||B($,2,this.length);var Z=this[$+1]|this[$]<<8;return Z&32768?Z|4294901760:Z},l.prototype.readInt32LE=function($,z){return $=$>>>0,z||B($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},l.prototype.readInt32BE=function($,z){return $=$>>>0,z||B($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},l.prototype.readFloatLE=function($,z){return $=$>>>0,z||B($,4,this.length),r.read(this,$,!0,23,4)},l.prototype.readFloatBE=function($,z){return $=$>>>0,z||B($,4,this.length),r.read(this,$,!1,23,4)},l.prototype.readDoubleLE=function($,z){return $=$>>>0,z||B($,8,this.length),r.read(this,$,!0,52,8)},l.prototype.readDoubleBE=function($,z){return $=$>>>0,z||B($,8,this.length),r.read(this,$,!1,52,8)};function D(ce,$,z,Z,le,ge){if(!l.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if($>le||$<ge)throw new RangeError('"value" argument is out of bounds');if(z+Z>ce.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function($,z,Z,le){if($=+$,z=z>>>0,Z=Z>>>0,!le){var ge=Math.pow(2,8*Z)-1;D(this,$,z,Z,ge,0)}var we=1,Me=0;for(this[z]=$&255;++Me<Z&&(we*=256);)this[z+Me]=$/we&255;return z+Z},l.prototype.writeUintBE=l.prototype.writeUIntBE=function($,z,Z,le){if($=+$,z=z>>>0,Z=Z>>>0,!le){var ge=Math.pow(2,8*Z)-1;D(this,$,z,Z,ge,0)}var we=Z-1,Me=1;for(this[z+we]=$&255;--we>=0&&(Me*=256);)this[z+we]=$/Me&255;return z+Z},l.prototype.writeUint8=l.prototype.writeUInt8=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,1,255,0),this[z]=$&255,z+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,2,65535,0),this[z]=$&255,this[z+1]=$>>>8,z+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,2,65535,0),this[z]=$>>>8,this[z+1]=$&255,z+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,4,4294967295,0),this[z+3]=$>>>24,this[z+2]=$>>>16,this[z+1]=$>>>8,this[z]=$&255,z+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,4,4294967295,0),this[z]=$>>>24,this[z+1]=$>>>16,this[z+2]=$>>>8,this[z+3]=$&255,z+4},l.prototype.writeIntLE=function($,z,Z,le){if($=+$,z=z>>>0,!le){var ge=Math.pow(2,8*Z-1);D(this,$,z,Z,ge-1,-ge)}var we=0,Me=1,Be=0;for(this[z]=$&255;++we<Z&&(Me*=256);)$<0&&Be===0&&this[z+we-1]!==0&&(Be=1),this[z+we]=($/Me>>0)-Be&255;return z+Z},l.prototype.writeIntBE=function($,z,Z,le){if($=+$,z=z>>>0,!le){var ge=Math.pow(2,8*Z-1);D(this,$,z,Z,ge-1,-ge)}var we=Z-1,Me=1,Be=0;for(this[z+we]=$&255;--we>=0&&(Me*=256);)$<0&&Be===0&&this[z+we+1]!==0&&(Be=1),this[z+we]=($/Me>>0)-Be&255;return z+Z},l.prototype.writeInt8=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,1,127,-128),$<0&&($=255+$+1),this[z]=$&255,z+1},l.prototype.writeInt16LE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,2,32767,-32768),this[z]=$&255,this[z+1]=$>>>8,z+2},l.prototype.writeInt16BE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,2,32767,-32768),this[z]=$>>>8,this[z+1]=$&255,z+2},l.prototype.writeInt32LE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,4,2147483647,-2147483648),this[z]=$&255,this[z+1]=$>>>8,this[z+2]=$>>>16,this[z+3]=$>>>24,z+4},l.prototype.writeInt32BE=function($,z,Z){return $=+$,z=z>>>0,Z||D(this,$,z,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[z]=$>>>24,this[z+1]=$>>>16,this[z+2]=$>>>8,this[z+3]=$&255,z+4};function Q(ce,$,z,Z,le,ge){if(z+Z>ce.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function ie(ce,$,z,Z,le){return $=+$,z=z>>>0,le||Q(ce,$,z,4),r.write(ce,$,z,Z,23,4),z+4}l.prototype.writeFloatLE=function($,z,Z){return ie(this,$,z,!0,Z)},l.prototype.writeFloatBE=function($,z,Z){return ie(this,$,z,!1,Z)};function te(ce,$,z,Z,le){return $=+$,z=z>>>0,le||Q(ce,$,z,8),r.write(ce,$,z,Z,52,8),z+8}l.prototype.writeDoubleLE=function($,z,Z){return te(this,$,z,!0,Z)},l.prototype.writeDoubleBE=function($,z,Z){return te(this,$,z,!1,Z)},l.prototype.copy=function($,z,Z,le){if(!l.isBuffer($))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!le&&le!==0&&(le=this.length),z>=$.length&&(z=$.length),z||(z=0),le>0&&le<Z&&(le=Z),le===Z||$.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),$.length-z<le-Z&&(le=$.length-z+Z);var ge=le-Z;return this===$&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(z,Z,le):Uint8Array.prototype.set.call($,this.subarray(Z,le),z),ge},l.prototype.fill=function($,z,Z,le){if(typeof $=="string"){if(typeof z=="string"?(le=z,z=0,Z=this.length):typeof Z=="string"&&(le=Z,Z=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!l.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if($.length===1){var ge=$.charCodeAt(0);(le==="utf8"&&ge<128||le==="latin1")&&($=ge)}}else typeof $=="number"?$=$&255:typeof $=="boolean"&&($=Number($));if(z<0||this.length<z||this.length<Z)throw new RangeError("Out of range index");if(Z<=z)return this;z=z>>>0,Z=Z===void 0?this.length:Z>>>0,$||($=0);var we;if(typeof $=="number")for(we=z;we<Z;++we)this[we]=$;else{var Me=l.isBuffer($)?$:l.from($,le),Be=Me.length;if(Be===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(we=0;we<Z-z;++we)this[we+z]=Me[we%Be]}return this};var he=/[^+/0-9A-Za-z-_]/g;function W(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(he,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function V(ce,$){$=$||1/0;for(var z,Z=ce.length,le=null,ge=[],we=0;we<Z;++we){if(z=ce.charCodeAt(we),z>55295&&z<57344){if(!le){if(z>56319){($-=3)>-1&&ge.push(239,191,189);continue}else if(we+1===Z){($-=3)>-1&&ge.push(239,191,189);continue}le=z;continue}if(z<56320){($-=3)>-1&&ge.push(239,191,189),le=z;continue}z=(le-55296<<10|z-56320)+65536}else le&&($-=3)>-1&&ge.push(239,191,189);if(le=null,z<128){if(($-=1)<0)break;ge.push(z)}else if(z<2048){if(($-=2)<0)break;ge.push(z>>6|192,z&63|128)}else if(z<65536){if(($-=3)<0)break;ge.push(z>>12|224,z>>6&63|128,z&63|128)}else if(z<1114112){if(($-=4)<0)break;ge.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw new Error("Invalid code point")}return ge}function oe(ce){for(var $=[],z=0;z<ce.length;++z)$.push(ce.charCodeAt(z)&255);return $}function me(ce,$){for(var z,Z,le,ge=[],we=0;we<ce.length&&!(($-=2)<0);++we)z=ce.charCodeAt(we),Z=z>>8,le=z%256,ge.push(le),ge.push(Z);return ge}function de(ce){return t.toByteArray(W(ce))}function ue(ce,$,z,Z){for(var le=0;le<Z&&!(le+z>=$.length||le>=ce.length);++le)$[le+z]=ce[le];return le}function Pe(ce,$){return ce instanceof $||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===$.name}function G(ce){return ce!==ce}var pe=(function(){for(var ce="0123456789abcdef",$=new Array(256),z=0;z<16;++z)for(var Z=z*16,le=0;le<16;++le)$[Z+le]=ce[z]+ce[le];return $})()})(mA)),mA}var pA={},gA={},vA,Iq;function Xae(){return Iq||(Iq=1,vA=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),s=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,r);if(l.value!==a||l.enumerable!==!0)return!1}return!0}),vA}var xA,Rq;function w6(){if(Rq)return xA;Rq=1;var e=Xae();return xA=function(){return e()&&!!Symbol.toStringTag},xA}var yA,Dq;function Qae(){return Dq||(Dq=1,yA=Object),yA}var wA,Mq;function iqe(){return Mq||(Mq=1,wA=Error),wA}var bA,Lq;function oqe(){return Lq||(Lq=1,bA=EvalError),bA}var jA,Fq;function lqe(){return Fq||(Fq=1,jA=RangeError),jA}var NA,Bq;function cqe(){return Bq||(Bq=1,NA=ReferenceError),NA}var _A,Uq;function Zae(){return Uq||(Uq=1,_A=SyntaxError),_A}var SA,$q;function p1(){return $q||($q=1,SA=TypeError),SA}var kA,qq;function uqe(){return qq||(qq=1,kA=URIError),kA}var CA,zq;function dqe(){return zq||(zq=1,CA=Math.abs),CA}var EA,Wq;function hqe(){return Wq||(Wq=1,EA=Math.floor),EA}var AA,Vq;function fqe(){return Vq||(Vq=1,AA=Math.max),AA}var PA,Hq;function mqe(){return Hq||(Hq=1,PA=Math.min),PA}var TA,Gq;function pqe(){return Gq||(Gq=1,TA=Math.pow),TA}var OA,Kq;function gqe(){return Kq||(Kq=1,OA=Math.round),OA}var IA,Yq;function vqe(){return Yq||(Yq=1,IA=Number.isNaN||function(t){return t!==t}),IA}var RA,Jq;function xqe(){if(Jq)return RA;Jq=1;var e=vqe();return RA=function(r){return e(r)||r===0?r:r<0?-1:1},RA}var DA,Xq;function yqe(){return Xq||(Xq=1,DA=Object.getOwnPropertyDescriptor),DA}var MA,Qq;function g1(){if(Qq)return MA;Qq=1;var e=yqe();if(e)try{e([],"length")}catch{e=null}return MA=e,MA}var LA,Zq;function p5(){if(Zq)return LA;Zq=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return LA=e,LA}var FA,ez;function wqe(){if(ez)return FA;ez=1;var e=typeof Symbol<"u"&&Symbol,t=Xae();return FA=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},FA}var BA,tz;function eie(){return tz||(tz=1,BA=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),BA}var UA,rz;function tie(){if(rz)return UA;rz=1;var e=Qae();return UA=e.getPrototypeOf||null,UA}var $A,nz;function bqe(){if(nz)return $A;nz=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,s="[object Function]",a=function(c,u){for(var d=[],h=0;h<c.length;h+=1)d[h]=c[h];for(var m=0;m<u.length;m+=1)d[m+c.length]=u[m];return d},i=function(c,u){for(var d=[],h=u,m=0;h<c.length;h+=1,m+=1)d[m]=c[h];return d},o=function(l,c){for(var u="",d=0;d<l.length;d+=1)u+=l[d],d+1<l.length&&(u+=c);return u};return $A=function(c){var u=this;if(typeof u!="function"||t.apply(u)!==s)throw new TypeError(e+u);for(var d=i(arguments,1),h,m=function(){if(this instanceof h){var y=u.apply(this,a(d,arguments));return Object(y)===y?y:this}return u.apply(c,a(d,arguments))},f=r(0,u.length-d.length),x=[],v=0;v<f;v++)x[v]="$"+v;if(h=Function("binder","return function ("+o(x,",")+"){ return binder.apply(this,arguments); }")(m),u.prototype){var g=function(){};g.prototype=u.prototype,h.prototype=new g,g.prototype=null}return h},$A}var qA,sz;function v1(){if(sz)return qA;sz=1;var e=bqe();return qA=Function.prototype.bind||e,qA}var zA,az;function b6(){return az||(az=1,zA=Function.prototype.call),zA}var WA,iz;function rie(){return iz||(iz=1,WA=Function.prototype.apply),WA}var VA,oz;function jqe(){return oz||(oz=1,VA=typeof Reflect<"u"&&Reflect&&Reflect.apply),VA}var HA,lz;function Nqe(){if(lz)return HA;lz=1;var e=v1(),t=rie(),r=b6(),s=jqe();return HA=s||e.call(r,t),HA}var GA,cz;function _qe(){if(cz)return GA;cz=1;var e=v1(),t=p1(),r=b6(),s=Nqe();return GA=function(i){if(i.length<1||typeof i[0]!="function")throw new t("a function is required");return s(e,r,i)},GA}var KA,uz;function Sqe(){if(uz)return KA;uz=1;var e=_qe(),t=g1(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var s=!!r&&t&&t(Object.prototype,"__proto__"),a=Object,i=a.getPrototypeOf;return KA=s&&typeof s.get=="function"?e([s.get]):typeof i=="function"?(function(l){return i(l==null?l:a(l))}):!1,KA}var YA,dz;function kqe(){if(dz)return YA;dz=1;var e=eie(),t=tie(),r=Sqe();return YA=e?function(a){return e(a)}:t?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return t(a)}:r?function(a){return r(a)}:null,YA}var JA,hz;function Cqe(){if(hz)return JA;hz=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=v1();return JA=r.call(e,t),JA}var XA,fz;function j6(){if(fz)return XA;fz=1;var e,t=Qae(),r=iqe(),s=oqe(),a=lqe(),i=cqe(),o=Zae(),l=p1(),c=uqe(),u=dqe(),d=hqe(),h=fqe(),m=mqe(),f=pqe(),x=gqe(),v=xqe(),g=Function,y=function(oe){try{return g('"use strict"; return ('+oe+").constructor;")()}catch{}},j=g1(),b=p5(),_=function(){throw new l},S=j?(function(){try{return arguments.callee,_}catch{try{return j(arguments,"callee").get}catch{return _}}})():_,T=wqe()(),A=kqe(),L=tie(),E=eie(),q=rie(),M=b6(),C={},I=typeof Uint8Array>"u"||!A?e:A(Uint8Array),O={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":T&&A?A([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":s,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":C,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&A?A(A([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!T||!A?e:A(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":j,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":a,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!T||!A?e:A(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&A?A(""[Symbol.iterator]()):e,"%Symbol%":T?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":S,"%TypedArray%":I,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":q,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":L,"%Math.abs%":u,"%Math.floor%":d,"%Math.max%":h,"%Math.min%":m,"%Math.pow%":f,"%Math.round%":x,"%Math.sign%":v,"%Reflect.getPrototypeOf%":E};if(A)try{null.error}catch(oe){var H=A(A(oe));O["%Error.prototype%"]=H}var re=function oe(me){var de;if(me==="%AsyncFunction%")de=y("async function () {}");else if(me==="%GeneratorFunction%")de=y("function* () {}");else if(me==="%AsyncGeneratorFunction%")de=y("async function* () {}");else if(me==="%AsyncGenerator%"){var ue=oe("%AsyncGeneratorFunction%");ue&&(de=ue.prototype)}else if(me==="%AsyncIteratorPrototype%"){var Pe=oe("%AsyncGenerator%");Pe&&A&&(de=A(Pe.prototype))}return O[me]=de,de},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=v1(),ee=Cqe(),X=K.call(M,Array.prototype.concat),B=K.call(q,Array.prototype.splice),D=K.call(M,String.prototype.replace),Q=K.call(M,String.prototype.slice),ie=K.call(M,RegExp.prototype.exec),te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,he=/\\(\\)?/g,W=function(me){var de=Q(me,0,1),ue=Q(me,-1);if(de==="%"&&ue!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(ue==="%"&&de!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var Pe=[];return D(me,te,function(G,pe,ce,$){Pe[Pe.length]=ce?D($,he,"$1"):pe||G}),Pe},V=function(me,de){var ue=me,Pe;if(ee(U,ue)&&(Pe=U[ue],ue="%"+Pe[0]+"%"),ee(O,ue)){var G=O[ue];if(G===C&&(G=re(ue)),typeof G>"u"&&!de)throw new l("intrinsic "+me+" exists, but is not available. Please file an issue!");return{alias:Pe,name:ue,value:G}}throw new o("intrinsic "+me+" does not exist!")};return XA=function(me,de){if(typeof me!="string"||me.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof de!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,me)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ue=W(me),Pe=ue.length>0?ue[0]:"",G=V("%"+Pe+"%",de),pe=G.name,ce=G.value,$=!1,z=G.alias;z&&(Pe=z[0],B(ue,X([0,1],z)));for(var Z=1,le=!0;Z<ue.length;Z+=1){var ge=ue[Z],we=Q(ge,0,1),Me=Q(ge,-1);if((we==='"'||we==="'"||we==="`"||Me==='"'||Me==="'"||Me==="`")&&we!==Me)throw new o("property names with quotes must have matching quotes");if((ge==="constructor"||!le)&&($=!0),Pe+="."+ge,pe="%"+Pe+"%",ee(O,pe))ce=O[pe];else if(ce!=null){if(!(ge in ce)){if(!de)throw new l("base intrinsic for "+me+" exists, but the property is not available.");return}if(j&&Z+1>=ue.length){var Be=j(ce,ge);le=!!Be,le&&"get"in Be&&!("originalValue"in Be.get)?ce=Be.get:ce=ce[ge]}else le=ee(ce,ge),ce=ce[ge];le&&!$&&(O[pe]=ce)}}return ce},XA}var QA={exports:{}},ZA,mz;function Eqe(){if(mz)return ZA;mz=1;var e=p5(),t=Zae(),r=p1(),s=g1();return ZA=function(i,o,l){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,m=!!s&&s(i,o);if(e)e(i,o,{configurable:d===null&&m?m.configurable:!d,enumerable:c===null&&m?m.enumerable:!c,value:l,writable:u===null&&m?m.writable:!u});else if(h||!c&&!u&&!d)i[o]=l;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ZA}var e4,pz;function Aqe(){if(pz)return e4;pz=1;var e=p5(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},e4=t,e4}var t4,gz;function Pqe(){if(gz)return t4;gz=1;var e=j6(),t=Eqe(),r=Aqe()(),s=g1(),a=p1(),i=e("%Math.floor%");return t4=function(l,c){if(typeof l!="function")throw new a("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||i(c)!==c)throw new a("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],d=!0,h=!0;if("length"in l&&s){var m=s(l,"length");m&&!m.configurable&&(d=!1),m&&!m.writable&&(h=!1)}return(d||h||!u)&&(r?t(l,"length",c,!0,!0):t(l,"length",c)),l},t4}var vz;function nie(){return vz||(vz=1,(function(e){var t=v1(),r=j6(),s=Pqe(),a=p1(),i=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||t.call(o,i),c=p5(),u=r("%Math.max%");e.exports=function(m){if(typeof m!="function")throw new a("a function is required");var f=l(t,o,arguments);return s(f,1+u(0,m.length-(arguments.length-1)),!0)};var d=function(){return l(t,i,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d})(QA)),QA.exports}var r4,xz;function sie(){if(xz)return r4;xz=1;var e=j6(),t=nie(),r=t(e("String.prototype.indexOf"));return r4=function(a,i){var o=e(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?t(o):o},r4}var n4,yz;function Tqe(){if(yz)return n4;yz=1;var e=w6()(),t=sie(),r=t("Object.prototype.toString"),s=function(l){return e&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:r(l)==="[object Arguments]"},a=function(l){return s(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&r(l)!=="[object Array]"&&r(l.callee)==="[object Function]"},i=(function(){return s(arguments)})();return s.isLegacyArguments=a,n4=i?s:a,n4}var s4,wz;function Oqe(){if(wz)return s4;wz=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,s=w6()(),a=Object.getPrototypeOf,i=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch{}},o;return s4=function(c){if(typeof c!="function")return!1;if(r.test(t.call(c)))return!0;if(!s){var u=e.call(c);return u==="[object GeneratorFunction]"}if(!a)return!1;if(typeof o>"u"){var d=i();o=d?a(d):!1}return a(c)===o},s4}var a4,bz;function Iqe(){if(bz)return a4;bz=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,s;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw s}}),s={},t(function(){throw 42},null,r)}catch(j){j!==s&&(t=null)}else t=null;var a=/^\s*class\b/,i=function(b){try{var _=e.call(b);return a.test(_)}catch{return!1}},o=function(b){try{return i(b)?!1:(e.call(b),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",u="[object Function]",d="[object GeneratorFunction]",h="[object HTMLAllCollection]",m="[object HTML document.all class]",f="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var y=document.all;l.call(y)===l.call(document.all)&&(g=function(b){if((v||!b)&&(typeof b>"u"||typeof b=="object"))try{var _=l.call(b);return(_===h||_===m||_===f||_===c)&&b("")==null}catch{}return!1})}return a4=t?function(b){if(g(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;try{t(b,null,r)}catch(_){if(_!==s)return!1}return!i(b)&&o(b)}:function(b){if(g(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;if(x)return o(b);if(i(b))return!1;var _=l.call(b);return _!==u&&_!==d&&!/^\[object HTML/.test(_)?!1:o(b)},a4}var i4,jz;function Rqe(){if(jz)return i4;jz=1;var e=Iqe(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,s=function(c,u,d){for(var h=0,m=c.length;h<m;h++)r.call(c,h)&&(d==null?u(c[h],h,c):u.call(d,c[h],h,c))},a=function(c,u,d){for(var h=0,m=c.length;h<m;h++)d==null?u(c.charAt(h),h,c):u.call(d,c.charAt(h),h,c)},i=function(c,u,d){for(var h in c)r.call(c,h)&&(d==null?u(c[h],h,c):u.call(d,c[h],h,c))},o=function(c,u,d){if(!e(u))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=d),t.call(c)==="[object Array]"?s(c,u,h):typeof c=="string"?a(c,u,h):i(c,u,h)};return i4=o,i4}var o4,Nz;function Dqe(){return Nz||(Nz=1,o4=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),o4}var l4,_z;function Mqe(){if(_z)return l4;_z=1;var e=Dqe(),t=typeof globalThis>"u"?$d:globalThis;return l4=function(){for(var s=[],a=0;a<e.length;a++)typeof t[e[a]]=="function"&&(s[s.length]=e[a]);return s},l4}var c4,Sz;function aie(){if(Sz)return c4;Sz=1;var e=Rqe(),t=Mqe(),r=nie(),s=sie(),a=g1(),i=s("Object.prototype.toString"),o=w6()(),l=typeof globalThis>"u"?$d:globalThis,c=t(),u=s("String.prototype.slice"),d=Object.getPrototypeOf,h=s("Array.prototype.indexOf",!0)||function(g,y){for(var j=0;j<g.length;j+=1)if(g[j]===y)return j;return-1},m={__proto__:null};o&&a&&d?e(c,function(v){var g=new l[v];if(Symbol.toStringTag in g){var y=d(g),j=a(y,Symbol.toStringTag);if(!j){var b=d(y);j=a(b,Symbol.toStringTag)}m["$"+v]=r(j.get)}}):e(c,function(v){var g=new l[v],y=g.slice||g.set;y&&(m["$"+v]=r(y))});var f=function(g){var y=!1;return e(m,function(j,b){if(!y)try{"$"+j(g)===b&&(y=u(b,1))}catch{}}),y},x=function(g){var y=!1;return e(m,function(j,b){if(!y)try{j(g),y=u(b,1)}catch{}}),y};return c4=function(g){if(!g||typeof g!="object")return!1;if(!o){var y=u(i(g),8,-1);return h(c,y)>-1?y:y!=="Object"?!1:x(g)}return a?f(g):null},c4}var u4,kz;function Lqe(){if(kz)return u4;kz=1;var e=aie();return u4=function(r){return!!e(r)},u4}var Cz;function Fqe(){return Cz||(Cz=1,(function(e){var t=Tqe(),r=Oqe(),s=aie(),a=Lqe();function i(Z){return Z.call.bind(Z)}var o=typeof BigInt<"u",l=typeof Symbol<"u",c=i(Object.prototype.toString),u=i(Number.prototype.valueOf),d=i(String.prototype.valueOf),h=i(Boolean.prototype.valueOf);if(o)var m=i(BigInt.prototype.valueOf);if(l)var f=i(Symbol.prototype.valueOf);function x(Z,le){if(typeof Z!="object")return!1;try{return le(Z),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=a;function v(Z){return typeof Promise<"u"&&Z instanceof Promise||Z!==null&&typeof Z=="object"&&typeof Z.then=="function"&&typeof Z.catch=="function"}e.isPromise=v;function g(Z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Z):a(Z)||Q(Z)}e.isArrayBufferView=g;function y(Z){return s(Z)==="Uint8Array"}e.isUint8Array=y;function j(Z){return s(Z)==="Uint8ClampedArray"}e.isUint8ClampedArray=j;function b(Z){return s(Z)==="Uint16Array"}e.isUint16Array=b;function _(Z){return s(Z)==="Uint32Array"}e.isUint32Array=_;function S(Z){return s(Z)==="Int8Array"}e.isInt8Array=S;function T(Z){return s(Z)==="Int16Array"}e.isInt16Array=T;function A(Z){return s(Z)==="Int32Array"}e.isInt32Array=A;function L(Z){return s(Z)==="Float32Array"}e.isFloat32Array=L;function E(Z){return s(Z)==="Float64Array"}e.isFloat64Array=E;function q(Z){return s(Z)==="BigInt64Array"}e.isBigInt64Array=q;function M(Z){return s(Z)==="BigUint64Array"}e.isBigUint64Array=M;function C(Z){return c(Z)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function I(Z){return typeof Map>"u"?!1:C.working?C(Z):Z instanceof Map}e.isMap=I;function O(Z){return c(Z)==="[object Set]"}O.working=typeof Set<"u"&&O(new Set);function H(Z){return typeof Set>"u"?!1:O.working?O(Z):Z instanceof Set}e.isSet=H;function re(Z){return c(Z)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function U(Z){return typeof WeakMap>"u"?!1:re.working?re(Z):Z instanceof WeakMap}e.isWeakMap=U;function K(Z){return c(Z)==="[object WeakSet]"}K.working=typeof WeakSet<"u"&&K(new WeakSet);function ee(Z){return K(Z)}e.isWeakSet=ee;function X(Z){return c(Z)==="[object ArrayBuffer]"}X.working=typeof ArrayBuffer<"u"&&X(new ArrayBuffer);function B(Z){return typeof ArrayBuffer>"u"?!1:X.working?X(Z):Z instanceof ArrayBuffer}e.isArrayBuffer=B;function D(Z){return c(Z)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function Q(Z){return typeof DataView>"u"?!1:D.working?D(Z):Z instanceof DataView}e.isDataView=Q;var ie=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function te(Z){return c(Z)==="[object SharedArrayBuffer]"}function he(Z){return typeof ie>"u"?!1:(typeof te.working>"u"&&(te.working=te(new ie)),te.working?te(Z):Z instanceof ie)}e.isSharedArrayBuffer=he;function W(Z){return c(Z)==="[object AsyncFunction]"}e.isAsyncFunction=W;function V(Z){return c(Z)==="[object Map Iterator]"}e.isMapIterator=V;function oe(Z){return c(Z)==="[object Set Iterator]"}e.isSetIterator=oe;function me(Z){return c(Z)==="[object Generator]"}e.isGeneratorObject=me;function de(Z){return c(Z)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=de;function ue(Z){return x(Z,u)}e.isNumberObject=ue;function Pe(Z){return x(Z,d)}e.isStringObject=Pe;function G(Z){return x(Z,h)}e.isBooleanObject=G;function pe(Z){return o&&x(Z,m)}e.isBigIntObject=pe;function ce(Z){return l&&x(Z,f)}e.isSymbolObject=ce;function $(Z){return ue(Z)||Pe(Z)||G(Z)||pe(Z)||ce(Z)}e.isBoxedPrimitive=$;function z(Z){return typeof Uint8Array<"u"&&(B(Z)||he(Z))}e.isAnyArrayBuffer=z,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Z){Object.defineProperty(e,Z,{enumerable:!1,value:function(){throw new Error(Z+" is not supported in userland")}})})})(gA)),gA}var d4,Ez;function Bqe(){return Ez||(Ez=1,d4=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),d4}var Az;function iie(){return Az||(Az=1,(function(e){var t=Object.getOwnPropertyDescriptors||function(Q){for(var ie=Object.keys(Q),te={},he=0;he<ie.length;he++)te[ie[he]]=Object.getOwnPropertyDescriptor(Q,ie[he]);return te},r=/%[sdj%]/g;e.format=function(D){if(!S(D)){for(var Q=[],ie=0;ie<arguments.length;ie++)Q.push(o(arguments[ie]));return Q.join(" ")}for(var ie=1,te=arguments,he=te.length,W=String(D).replace(r,function(oe){if(oe==="%%")return"%";if(ie>=he)return oe;switch(oe){case"%s":return String(te[ie++]);case"%d":return Number(te[ie++]);case"%j":try{return JSON.stringify(te[ie++])}catch{return"[Circular]"}default:return oe}}),V=te[ie];ie<he;V=te[++ie])j(V)||!E(V)?W+=" "+V:W+=" "+o(V);return W},e.deprecate=function(D,Q){if(typeof pn<"u"&&pn.noDeprecation===!0)return D;if(typeof pn>"u")return function(){return e.deprecate(D,Q).apply(this,arguments)};var ie=!1;function te(){if(!ie){if(pn.throwDeprecation)throw new Error(Q);pn.traceDeprecation?console.trace(Q):console.error(Q),ie=!0}return D.apply(this,arguments)}return te};var s={},a=/^$/;if(pn.env.NODE_DEBUG){var i=pn.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+i+"$","i")}e.debuglog=function(D){if(D=D.toUpperCase(),!s[D])if(a.test(D)){var Q=pn.pid;s[D]=function(){var ie=e.format.apply(e,arguments);console.error("%s %d: %s",D,Q,ie)}}else s[D]=function(){};return s[D]};function o(D,Q){var ie={seen:[],stylize:c};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),y(Q)?ie.showHidden=Q:Q&&e._extend(ie,Q),A(ie.showHidden)&&(ie.showHidden=!1),A(ie.depth)&&(ie.depth=2),A(ie.colors)&&(ie.colors=!1),A(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=l),d(ie,D,ie.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(D,Q){var ie=o.styles[Q];return ie?"\x1B["+o.colors[ie][0]+"m"+D+"\x1B["+o.colors[ie][1]+"m":D}function c(D,Q){return D}function u(D){var Q={};return D.forEach(function(ie,te){Q[ie]=!0}),Q}function d(D,Q,ie){if(D.customInspect&&Q&&C(Q.inspect)&&Q.inspect!==e.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var te=Q.inspect(ie,D);return S(te)||(te=d(D,te,ie)),te}var he=h(D,Q);if(he)return he;var W=Object.keys(Q),V=u(W);if(D.showHidden&&(W=Object.getOwnPropertyNames(Q)),M(Q)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return m(Q);if(W.length===0){if(C(Q)){var oe=Q.name?": "+Q.name:"";return D.stylize("[Function"+oe+"]","special")}if(L(Q))return D.stylize(RegExp.prototype.toString.call(Q),"regexp");if(q(Q))return D.stylize(Date.prototype.toString.call(Q),"date");if(M(Q))return m(Q)}var me="",de=!1,ue=["{","}"];if(g(Q)&&(de=!0,ue=["[","]"]),C(Q)){var Pe=Q.name?": "+Q.name:"";me=" [Function"+Pe+"]"}if(L(Q)&&(me=" "+RegExp.prototype.toString.call(Q)),q(Q)&&(me=" "+Date.prototype.toUTCString.call(Q)),M(Q)&&(me=" "+m(Q)),W.length===0&&(!de||Q.length==0))return ue[0]+me+ue[1];if(ie<0)return L(Q)?D.stylize(RegExp.prototype.toString.call(Q),"regexp"):D.stylize("[Object]","special");D.seen.push(Q);var G;return de?G=f(D,Q,ie,V,W):G=W.map(function(pe){return x(D,Q,ie,V,pe,de)}),D.seen.pop(),v(G,me,ue)}function h(D,Q){if(A(Q))return D.stylize("undefined","undefined");if(S(Q)){var ie="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(ie,"string")}if(_(Q))return D.stylize(""+Q,"number");if(y(Q))return D.stylize(""+Q,"boolean");if(j(Q))return D.stylize("null","null")}function m(D){return"["+Error.prototype.toString.call(D)+"]"}function f(D,Q,ie,te,he){for(var W=[],V=0,oe=Q.length;V<oe;++V)K(Q,String(V))?W.push(x(D,Q,ie,te,String(V),!0)):W.push("");return he.forEach(function(me){me.match(/^\d+$/)||W.push(x(D,Q,ie,te,me,!0))}),W}function x(D,Q,ie,te,he,W){var V,oe,me;if(me=Object.getOwnPropertyDescriptor(Q,he)||{value:Q[he]},me.get?me.set?oe=D.stylize("[Getter/Setter]","special"):oe=D.stylize("[Getter]","special"):me.set&&(oe=D.stylize("[Setter]","special")),K(te,he)||(V="["+he+"]"),oe||(D.seen.indexOf(me.value)<0?(j(ie)?oe=d(D,me.value,null):oe=d(D,me.value,ie-1),oe.indexOf(`
`)>-1&&(W?oe=oe.split(`
`).map(function(de){return"  "+de}).join(`
`).slice(2):oe=`
`+oe.split(`
`).map(function(de){return"   "+de}).join(`
`))):oe=D.stylize("[Circular]","special")),A(V)){if(W&&he.match(/^\d+$/))return oe;V=JSON.stringify(""+he),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=D.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=D.stylize(V,"string"))}return V+": "+oe}function v(D,Q,ie){var te=D.reduce(function(he,W){return W.indexOf(`
`)>=0,he+W.replace(/\u001b\[\d\d?m/g,"").length+1},0);return te>60?ie[0]+(Q===""?"":Q+`
 `)+" "+D.join(`,
  `)+" "+ie[1]:ie[0]+Q+" "+D.join(", ")+" "+ie[1]}e.types=Fqe();function g(D){return Array.isArray(D)}e.isArray=g;function y(D){return typeof D=="boolean"}e.isBoolean=y;function j(D){return D===null}e.isNull=j;function b(D){return D==null}e.isNullOrUndefined=b;function _(D){return typeof D=="number"}e.isNumber=_;function S(D){return typeof D=="string"}e.isString=S;function T(D){return typeof D=="symbol"}e.isSymbol=T;function A(D){return D===void 0}e.isUndefined=A;function L(D){return E(D)&&O(D)==="[object RegExp]"}e.isRegExp=L,e.types.isRegExp=L;function E(D){return typeof D=="object"&&D!==null}e.isObject=E;function q(D){return E(D)&&O(D)==="[object Date]"}e.isDate=q,e.types.isDate=q;function M(D){return E(D)&&(O(D)==="[object Error]"||D instanceof Error)}e.isError=M,e.types.isNativeError=M;function C(D){return typeof D=="function"}e.isFunction=C;function I(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}e.isPrimitive=I,e.isBuffer=Bqe();function O(D){return Object.prototype.toString.call(D)}function H(D){return D<10?"0"+D.toString(10):D.toString(10)}var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var D=new Date,Q=[H(D.getHours()),H(D.getMinutes()),H(D.getSeconds())].join(":");return[D.getDate(),re[D.getMonth()],Q].join(" ")}e.log=function(){console.log("%s - %s",U(),e.format.apply(e,arguments))},e.inherits=pp(),e._extend=function(D,Q){if(!Q||!E(Q))return D;for(var ie=Object.keys(Q),te=ie.length;te--;)D[ie[te]]=Q[ie[te]];return D};function K(D,Q){return Object.prototype.hasOwnProperty.call(D,Q)}var ee=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');if(ee&&Q[ee]){var ie=Q[ee];if(typeof ie!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ie,ee,{value:ie,enumerable:!1,writable:!1,configurable:!0}),ie}function ie(){for(var te,he,W=new Promise(function(me,de){te=me,he=de}),V=[],oe=0;oe<arguments.length;oe++)V.push(arguments[oe]);V.push(function(me,de){me?he(me):te(de)});try{Q.apply(this,V)}catch(me){he(me)}return W}return Object.setPrototypeOf(ie,Object.getPrototypeOf(Q)),ee&&Object.defineProperty(ie,ee,{value:ie,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ie,t(Q))},e.promisify.custom=ee;function X(D,Q){if(!D){var ie=new Error("Promise was rejected with a falsy value");ie.reason=D,D=ie}return Q(D)}function B(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var ie=[],te=0;te<arguments.length;te++)ie.push(arguments[te]);var he=ie.pop();if(typeof he!="function")throw new TypeError("The last argument must be of type Function");var W=this,V=function(){return he.apply(W,arguments)};D.apply(this,ie).then(function(oe){pn.nextTick(V.bind(null,null,oe))},function(oe){pn.nextTick(X.bind(null,oe,V))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(D)),Object.defineProperties(Q,t(D)),Q}e.callbackify=B})(pA)),pA}var h4,Pz;function Uqe(){if(Pz)return h4;Pz=1;function e(m,f){var x=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);f&&(v=v.filter(function(g){return Object.getOwnPropertyDescriptor(m,g).enumerable})),x.push.apply(x,v)}return x}function t(m){for(var f=1;f<arguments.length;f++){var x=arguments[f]!=null?arguments[f]:{};f%2?e(Object(x),!0).forEach(function(v){r(m,v,x[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(x)):e(Object(x)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(x,v))})}return m}function r(m,f,x){return f in m?Object.defineProperty(m,f,{value:x,enumerable:!0,configurable:!0,writable:!0}):m[f]=x,m}function s(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function a(m,f){for(var x=0;x<f.length;x++){var v=f[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}function i(m,f,x){return f&&a(m.prototype,f),m}var o=m5(),l=o.Buffer,c=iie(),u=c.inspect,d=u&&u.custom||"inspect";function h(m,f,x){l.prototype.copy.call(m,f,x)}return h4=(function(){function m(){s(this,m),this.head=null,this.tail=null,this.length=0}return i(m,[{key:"push",value:function(x){var v={data:x,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(x){var v={data:x,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var v=this.head,g=""+v.data;v=v.next;)g+=x+v.data;return g}},{key:"concat",value:function(x){if(this.length===0)return l.alloc(0);for(var v=l.allocUnsafe(x>>>0),g=this.head,y=0;g;)h(g.data,v,y),y+=g.data.length,g=g.next;return v}},{key:"consume",value:function(x,v){var g;return x<this.head.data.length?(g=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?g=this.shift():g=v?this._getString(x):this._getBuffer(x),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var v=this.head,g=1,y=v.data;for(x-=y.length;v=v.next;){var j=v.data,b=x>j.length?j.length:x;if(b===j.length?y+=j:y+=j.slice(0,x),x-=b,x===0){b===j.length?(++g,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=j.slice(b));break}++g}return this.length-=g,y}},{key:"_getBuffer",value:function(x){var v=l.allocUnsafe(x),g=this.head,y=1;for(g.data.copy(v),x-=g.data.length;g=g.next;){var j=g.data,b=x>j.length?j.length:x;if(j.copy(v,v.length-x,0,b),x-=b,x===0){b===j.length?(++y,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=j.slice(b));break}++y}return this.length-=y,v}},{key:d,value:function(x,v){return u(this,t({},v,{depth:0,customInspect:!1}))}}]),m})(),h4}var f4,Tz;function oie(){if(Tz)return f4;Tz=1;function e(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pn.nextTick(a,this,o)):pn.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted?pn.nextTick(r,c):(c._writableState.errorEmitted=!0,pn.nextTick(t,c,h)):pn.nextTick(t,c,h):l?(pn.nextTick(r,c),l(h)):pn.nextTick(r,c)}),this)}function t(o,l){a(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,l){o.emit("error",l)}function i(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return f4={destroy:e,undestroy:s,errorOrDestroy:i},f4}var m4={},Oz;function i0(){if(Oz)return m4;Oz=1;function e(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var t={};function r(l,c,u){u||(u=Error);function d(m,f,x){return typeof c=="string"?c:c(m,f,x)}var h=(function(m){e(f,m);function f(x,v,g){return m.call(this,d(x,v,g))||this}return f})(u);h.prototype.name=u.name,h.prototype.code=l,t[l]=h}function s(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(d){return String(d)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function a(l,c,u){return l.substr(0,c.length)===c}function i(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var d;typeof c=="string"&&a(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var h;if(i(l," argument"))h="The ".concat(l," ").concat(d," ").concat(s(c,"type"));else{var m=o(l,".")?"property":"argument";h='The "'.concat(l,'" ').concat(m," ").concat(d," ").concat(s(c,"type"))}return h+=". Received type ".concat(typeof u),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m4.codes=t,m4}var p4,Iz;function lie(){if(Iz)return p4;Iz=1;var e=i0().codes.ERR_INVALID_OPT_VALUE;function t(s,a,i){return s.highWaterMark!=null?s.highWaterMark:a?s[i]:null}function r(s,a,i,o){var l=t(a,o,i);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?i:"highWaterMark";throw new e(c,l)}return Math.floor(l)}return s.objectMode?16:16*1024}return p4={getHighWaterMark:r},p4}var g4,Rz;function $qe(){if(Rz)return g4;Rz=1,g4=e;function e(r,s){if(t("noDeprecation"))return r;var a=!1;function i(){if(!a){if(t("throwDeprecation"))throw new Error(s);t("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return r.apply(this,arguments)}return i}function t(r){try{if(!$d.localStorage)return!1}catch{return!1}var s=$d.localStorage[r];return s==null?!1:String(s).toLowerCase()==="true"}return g4}var v4,Dz;function cie(){if(Dz)return v4;Dz=1,v4=L;function e(he){var W=this;this.next=null,this.entry=null,this.finish=function(){te(W,he)}}var t;L.WritableState=T;var r={deprecate:$qe()},s=Jae(),a=m5().Buffer,i=$d.Uint8Array||function(){};function o(he){return a.from(he)}function l(he){return a.isBuffer(he)||he instanceof i}var c=oie(),u=lie(),d=u.getHighWaterMark,h=i0().codes,m=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,x=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,j=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,_=c.errorOrDestroy;pp()(L,s);function S(){}function T(he,W,V){t=t||vy(),he=he||{},typeof V!="boolean"&&(V=W instanceof t),this.objectMode=!!he.objectMode,V&&(this.objectMode=this.objectMode||!!he.writableObjectMode),this.highWaterMark=d(this,he,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var oe=he.decodeStrings===!1;this.decodeStrings=!oe,this.defaultEncoding=he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){re(W,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=he.emitClose!==!1,this.autoDestroy=!!he.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}T.prototype.getBuffer=function(){for(var W=this.bufferedRequest,V=[];W;)V.push(W),W=W.next;return V},(function(){try{Object.defineProperty(T.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(W){return A.call(this,W)?!0:this!==L?!1:W&&W._writableState instanceof T}})):A=function(W){return W instanceof this};function L(he){t=t||vy();var W=this instanceof t;if(!W&&!A.call(L,this))return new L(he);this._writableState=new T(he,this,W),this.writable=!0,he&&(typeof he.write=="function"&&(this._write=he.write),typeof he.writev=="function"&&(this._writev=he.writev),typeof he.destroy=="function"&&(this._destroy=he.destroy),typeof he.final=="function"&&(this._final=he.final)),s.call(this)}L.prototype.pipe=function(){_(this,new v)};function E(he,W){var V=new j;_(he,V),pn.nextTick(W,V)}function q(he,W,V,oe){var me;return V===null?me=new y:typeof V!="string"&&!W.objectMode&&(me=new m("chunk",["string","Buffer"],V)),me?(_(he,me),pn.nextTick(oe,me),!1):!0}L.prototype.write=function(he,W,V){var oe=this._writableState,me=!1,de=!oe.objectMode&&l(he);return de&&!a.isBuffer(he)&&(he=o(he)),typeof W=="function"&&(V=W,W=null),de?W="buffer":W||(W=oe.defaultEncoding),typeof V!="function"&&(V=S),oe.ending?E(this,V):(de||q(this,oe,he,V))&&(oe.pendingcb++,me=C(this,oe,de,he,W,V)),me},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var he=this._writableState;he.corked&&(he.corked--,!he.writing&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&ee(this,he))},L.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new b(W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(he,W,V){return!he.objectMode&&he.decodeStrings!==!1&&typeof W=="string"&&(W=a.from(W,V)),W}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(he,W,V,oe,me,de){if(!V){var ue=M(W,oe,me);oe!==ue&&(V=!0,me="buffer",oe=ue)}var Pe=W.objectMode?1:oe.length;W.length+=Pe;var G=W.length<W.highWaterMark;if(G||(W.needDrain=!0),W.writing||W.corked){var pe=W.lastBufferedRequest;W.lastBufferedRequest={chunk:oe,encoding:me,isBuf:V,callback:de,next:null},pe?pe.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else I(he,W,!1,Pe,oe,me,de);return G}function I(he,W,V,oe,me,de,ue){W.writelen=oe,W.writecb=ue,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new g("write")):V?he._writev(me,W.onwrite):he._write(me,de,W.onwrite),W.sync=!1}function O(he,W,V,oe,me){--W.pendingcb,V?(pn.nextTick(me,oe),pn.nextTick(Q,he,W),he._writableState.errorEmitted=!0,_(he,oe)):(me(oe),he._writableState.errorEmitted=!0,_(he,oe),Q(he,W))}function H(he){he.writing=!1,he.writecb=null,he.length-=he.writelen,he.writelen=0}function re(he,W){var V=he._writableState,oe=V.sync,me=V.writecb;if(typeof me!="function")throw new x;if(H(V),W)O(he,V,oe,W,me);else{var de=X(V)||he.destroyed;!de&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&ee(he,V),oe?pn.nextTick(U,he,V,de,me):U(he,V,de,me)}}function U(he,W,V,oe){V||K(he,W),W.pendingcb--,oe(),Q(he,W)}function K(he,W){W.length===0&&W.needDrain&&(W.needDrain=!1,he.emit("drain"))}function ee(he,W){W.bufferProcessing=!0;var V=W.bufferedRequest;if(he._writev&&V&&V.next){var oe=W.bufferedRequestCount,me=new Array(oe),de=W.corkedRequestsFree;de.entry=V;for(var ue=0,Pe=!0;V;)me[ue]=V,V.isBuf||(Pe=!1),V=V.next,ue+=1;me.allBuffers=Pe,I(he,W,!0,W.length,me,"",de.finish),W.pendingcb++,W.lastBufferedRequest=null,de.next?(W.corkedRequestsFree=de.next,de.next=null):W.corkedRequestsFree=new e(W),W.bufferedRequestCount=0}else{for(;V;){var G=V.chunk,pe=V.encoding,ce=V.callback,$=W.objectMode?1:G.length;if(I(he,W,!1,$,G,pe,ce),V=V.next,W.bufferedRequestCount--,W.writing)break}V===null&&(W.lastBufferedRequest=null)}W.bufferedRequest=V,W.bufferProcessing=!1}L.prototype._write=function(he,W,V){V(new f("_write()"))},L.prototype._writev=null,L.prototype.end=function(he,W,V){var oe=this._writableState;return typeof he=="function"?(V=he,he=null,W=null):typeof W=="function"&&(V=W,W=null),he!=null&&this.write(he,W),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||ie(this,oe,V),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function X(he){return he.ending&&he.length===0&&he.bufferedRequest===null&&!he.finished&&!he.writing}function B(he,W){he._final(function(V){W.pendingcb--,V&&_(he,V),W.prefinished=!0,he.emit("prefinish"),Q(he,W)})}function D(he,W){!W.prefinished&&!W.finalCalled&&(typeof he._final=="function"&&!W.destroyed?(W.pendingcb++,W.finalCalled=!0,pn.nextTick(B,he,W)):(W.prefinished=!0,he.emit("prefinish")))}function Q(he,W){var V=X(W);if(V&&(D(he,W),W.pendingcb===0&&(W.finished=!0,he.emit("finish"),W.autoDestroy))){var oe=he._readableState;(!oe||oe.autoDestroy&&oe.endEmitted)&&he.destroy()}return V}function ie(he,W,V){W.ending=!0,Q(he,W),V&&(W.finished?pn.nextTick(V):he.once("finish",V)),W.ended=!0,he.writable=!1}function te(he,W,V){var oe=he.entry;for(he.entry=null;oe;){var me=oe.callback;W.pendingcb--,me(V),oe=oe.next}W.corkedRequestsFree.next=he}return Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),L.prototype.destroy=c.destroy,L.prototype._undestroy=c.undestroy,L.prototype._destroy=function(he,W){W(he)},v4}var x4,Mz;function vy(){if(Mz)return x4;Mz=1;var e=Object.keys||function(u){var d=[];for(var h in u)d.push(h);return d};x4=o;var t=uie(),r=cie();pp()(o,t);for(var s=e(r.prototype),a=0;a<s.length;a++){var i=s[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||pn.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),x4}var y4={},t2={exports:{}},Lz;function qqe(){return Lz||(Lz=1,(function(e,t){var r=m5(),s=r.Buffer;function a(o,l){for(var c in o)l[c]=o[c]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i);function i(o,l,c){return s(o,l,c)}a(s,i),i.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,l,c)},i.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=s(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(t2,t2.exports)),t2.exports}var Fz;function M3(){if(Fz)return y4;Fz=1;var e=qqe().Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var j;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(j)return;y=(""+y).toLowerCase(),j=!0}}function s(y){var j=r(y);if(typeof j!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return j||y}y4.StringDecoder=a;function a(y){this.encoding=s(y);var j;switch(this.encoding){case"utf16le":this.text=h,this.end=m,j=4;break;case"utf8":this.fillLast=c,j=4;break;case"base64":this.text=f,this.end=x,j=3;break;default:this.write=v,this.end=g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(j)}a.prototype.write=function(y){if(y.length===0)return"";var j,b;if(this.lastNeed){if(j=this.fillLast(y),j===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<y.length?j?j+this.text(y,b):this.text(y,b):j||""},a.prototype.end=d,a.prototype.text=u,a.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function i(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,j,b){var _=j.length-1;if(_<b)return 0;var S=i(j[_]);return S>=0?(S>0&&(y.lastNeed=S-1),S):--_<b||S===-2?0:(S=i(j[_]),S>=0?(S>0&&(y.lastNeed=S-2),S):--_<b||S===-2?0:(S=i(j[_]),S>=0?(S>0&&(S===2?S=0:y.lastNeed=S-3),S):0))}function l(y,j,b){if((j[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&j.length>1){if((j[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&j.length>2&&(j[2]&192)!==128)return y.lastNeed=2,""}}function c(y){var j=this.lastTotal-this.lastNeed,b=l(this,y);if(b!==void 0)return b;if(this.lastNeed<=y.length)return y.copy(this.lastChar,j,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,j,0,y.length),this.lastNeed-=y.length}function u(y,j){var b=o(this,y,j);if(!this.lastNeed)return y.toString("utf8",j);this.lastTotal=b;var _=y.length-(b-this.lastNeed);return y.copy(this.lastChar,0,_),y.toString("utf8",j,_)}function d(y){var j=y&&y.length?this.write(y):"";return this.lastNeed?j+"":j}function h(y,j){if((y.length-j)%2===0){var b=y.toString("utf16le",j);if(b){var _=b.charCodeAt(b.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",j,y.length-1)}function m(y){var j=y&&y.length?this.write(y):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return j+this.lastChar.toString("utf16le",0,b)}return j}function f(y,j){var b=(y.length-j)%3;return b===0?y.toString("base64",j):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",j,y.length-b))}function x(y){var j=y&&y.length?this.write(y):"";return this.lastNeed?j+this.lastChar.toString("base64",0,3-this.lastNeed):j}function v(y){return y.toString(this.encoding)}function g(y){return y&&y.length?this.write(y):""}return y4}var w4,Bz;function N6(){if(Bz)return w4;Bz=1;var e=i0().codes.ERR_STREAM_PREMATURE_CLOSE;function t(i){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];i.apply(this,c)}}}function r(){}function s(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,l){if(typeof o=="function")return a(i,null,o);o||(o={}),l=t(l||r);var c=o.readable||o.readable!==!1&&i.readable,u=o.writable||o.writable!==!1&&i.writable,d=function(){i.writable||m()},h=i._writableState&&i._writableState.finished,m=function(){u=!1,h=!0,c||l.call(i)},f=i._readableState&&i._readableState.endEmitted,x=function(){c=!1,f=!0,u||l.call(i)},v=function(b){l.call(i,b)},g=function(){var b;if(c&&!f)return(!i._readableState||!i._readableState.ended)&&(b=new e),l.call(i,b);if(u&&!h)return(!i._writableState||!i._writableState.ended)&&(b=new e),l.call(i,b)},y=function(){i.req.on("finish",m)};return s(i)?(i.on("complete",m),i.on("abort",g),i.req?y():i.on("request",y)):u&&!i._writableState&&(i.on("end",d),i.on("close",d)),i.on("end",x),i.on("finish",m),o.error!==!1&&i.on("error",v),i.on("close",g),function(){i.removeListener("complete",m),i.removeListener("abort",g),i.removeListener("request",y),i.req&&i.req.removeListener("finish",m),i.removeListener("end",d),i.removeListener("close",d),i.removeListener("finish",m),i.removeListener("end",x),i.removeListener("error",v),i.removeListener("close",g)}}return w4=a,w4}var b4,Uz;function zqe(){if(Uz)return b4;Uz=1;var e;function t(y,j,b){return j in y?Object.defineProperty(y,j,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[j]=b,y}var r=N6(),s=Symbol("lastResolve"),a=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function d(y,j){return{value:y,done:j}}function h(y){var j=y[s];if(j!==null){var b=y[u].read();b!==null&&(y[l]=null,y[s]=null,y[a]=null,j(d(b,!1)))}}function m(y){pn.nextTick(h,y)}function f(y,j){return function(b,_){y.then(function(){if(j[o]){b(d(void 0,!0));return}j[c](b,_)},_)}}var x=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((e={get stream(){return this[u]},next:function(){var j=this,b=this[i];if(b!==null)return Promise.reject(b);if(this[o])return Promise.resolve(d(void 0,!0));if(this[u].destroyed)return new Promise(function(A,L){pn.nextTick(function(){j[i]?L(j[i]):A(d(void 0,!0))})});var _=this[l],S;if(_)S=new Promise(f(_,this));else{var T=this[u].read();if(T!==null)return Promise.resolve(d(T,!1));S=new Promise(this[c])}return this[l]=S,S}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var j=this;return new Promise(function(b,_){j[u].destroy(null,function(S){if(S){_(S);return}b(d(void 0,!0))})})}),e),x),g=function(j){var b,_=Object.create(v,(b={},t(b,u,{value:j,writable:!0}),t(b,s,{value:null,writable:!0}),t(b,a,{value:null,writable:!0}),t(b,i,{value:null,writable:!0}),t(b,o,{value:j._readableState.endEmitted,writable:!0}),t(b,c,{value:function(T,A){var L=_[u].read();L?(_[l]=null,_[s]=null,_[a]=null,T(d(L,!1))):(_[s]=T,_[a]=A)},writable:!0}),b));return _[l]=null,r(j,function(S){if(S&&S.code!=="ERR_STREAM_PREMATURE_CLOSE"){var T=_[a];T!==null&&(_[l]=null,_[s]=null,_[a]=null,T(S)),_[i]=S;return}var A=_[s];A!==null&&(_[l]=null,_[s]=null,_[a]=null,A(d(void 0,!0))),_[o]=!0}),j.on("readable",m.bind(null,_)),_};return b4=g,b4}var j4,$z;function Wqe(){return $z||($z=1,j4=function(){throw new Error("Readable.from is not available in the browser")}),j4}var N4,qz;function uie(){if(qz)return N4;qz=1,N4=E;var e;E.ReadableState=L,y6().EventEmitter;var t=function(ue,Pe){return ue.listeners(Pe).length},r=Jae(),s=m5().Buffer,a=$d.Uint8Array||function(){};function i(de){return s.from(de)}function o(de){return s.isBuffer(de)||de instanceof a}var l=iie(),c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=Uqe(),d=oie(),h=lie(),m=h.getHighWaterMark,f=i0().codes,x=f.ERR_INVALID_ARG_TYPE,v=f.ERR_STREAM_PUSH_AFTER_EOF,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,j,b,_;pp()(E,r);var S=d.errorOrDestroy,T=["error","close","destroy","pause","resume"];function A(de,ue,Pe){if(typeof de.prependListener=="function")return de.prependListener(ue,Pe);!de._events||!de._events[ue]?de.on(ue,Pe):Array.isArray(de._events[ue])?de._events[ue].unshift(Pe):de._events[ue]=[Pe,de._events[ue]]}function L(de,ue,Pe){e=e||vy(),de=de||{},typeof Pe!="boolean"&&(Pe=ue instanceof e),this.objectMode=!!de.objectMode,Pe&&(this.objectMode=this.objectMode||!!de.readableObjectMode),this.highWaterMark=m(this,de,"readableHighWaterMark",Pe),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=de.emitClose!==!1,this.autoDestroy=!!de.autoDestroy,this.destroyed=!1,this.defaultEncoding=de.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,de.encoding&&(j||(j=M3().StringDecoder),this.decoder=new j(de.encoding),this.encoding=de.encoding)}function E(de){if(e=e||vy(),!(this instanceof E))return new E(de);var ue=this instanceof e;this._readableState=new L(de,this,ue),this.readable=!0,de&&(typeof de.read=="function"&&(this._read=de.read),typeof de.destroy=="function"&&(this._destroy=de.destroy)),r.call(this)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ue){this._readableState&&(this._readableState.destroyed=ue)}}),E.prototype.destroy=d.destroy,E.prototype._undestroy=d.undestroy,E.prototype._destroy=function(de,ue){ue(de)},E.prototype.push=function(de,ue){var Pe=this._readableState,G;return Pe.objectMode?G=!0:typeof de=="string"&&(ue=ue||Pe.defaultEncoding,ue!==Pe.encoding&&(de=s.from(de,ue),ue=""),G=!0),q(this,de,ue,!1,G)},E.prototype.unshift=function(de){return q(this,de,null,!0,!1)};function q(de,ue,Pe,G,pe){c("readableAddChunk",ue);var ce=de._readableState;if(ue===null)ce.reading=!1,re(de,ce);else{var $;if(pe||($=C(ce,ue)),$)S(de,$);else if(ce.objectMode||ue&&ue.length>0)if(typeof ue!="string"&&!ce.objectMode&&Object.getPrototypeOf(ue)!==s.prototype&&(ue=i(ue)),G)ce.endEmitted?S(de,new y):M(de,ce,ue,!0);else if(ce.ended)S(de,new v);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!Pe?(ue=ce.decoder.write(ue),ce.objectMode||ue.length!==0?M(de,ce,ue,!1):ee(de,ce)):M(de,ce,ue,!1)}else G||(ce.reading=!1,ee(de,ce))}return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function M(de,ue,Pe,G){ue.flowing&&ue.length===0&&!ue.sync?(ue.awaitDrain=0,de.emit("data",Pe)):(ue.length+=ue.objectMode?1:Pe.length,G?ue.buffer.unshift(Pe):ue.buffer.push(Pe),ue.needReadable&&U(de)),ee(de,ue)}function C(de,ue){var Pe;return!o(ue)&&typeof ue!="string"&&ue!==void 0&&!de.objectMode&&(Pe=new x("chunk",["string","Buffer","Uint8Array"],ue)),Pe}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(de){j||(j=M3().StringDecoder);var ue=new j(de);this._readableState.decoder=ue,this._readableState.encoding=this._readableState.decoder.encoding;for(var Pe=this._readableState.buffer.head,G="";Pe!==null;)G+=ue.write(Pe.data),Pe=Pe.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var I=1073741824;function O(de){return de>=I?de=I:(de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++),de}function H(de,ue){return de<=0||ue.length===0&&ue.ended?0:ue.objectMode?1:de!==de?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(de>ue.highWaterMark&&(ue.highWaterMark=O(de)),de<=ue.length?de:ue.ended?ue.length:(ue.needReadable=!0,0))}E.prototype.read=function(de){c("read",de),de=parseInt(de,10);var ue=this._readableState,Pe=de;if(de!==0&&(ue.emittedReadable=!1),de===0&&ue.needReadable&&((ue.highWaterMark!==0?ue.length>=ue.highWaterMark:ue.length>0)||ue.ended))return c("read: emitReadable",ue.length,ue.ended),ue.length===0&&ue.ended?V(this):U(this),null;if(de=H(de,ue),de===0&&ue.ended)return ue.length===0&&V(this),null;var G=ue.needReadable;c("need readable",G),(ue.length===0||ue.length-de<ue.highWaterMark)&&(G=!0,c("length less than watermark",G)),ue.ended||ue.reading?(G=!1,c("reading or ended",G)):G&&(c("do read"),ue.reading=!0,ue.sync=!0,ue.length===0&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(de=H(Pe,ue)));var pe;return de>0?pe=W(de,ue):pe=null,pe===null?(ue.needReadable=ue.length<=ue.highWaterMark,de=0):(ue.length-=de,ue.awaitDrain=0),ue.length===0&&(ue.ended||(ue.needReadable=!0),Pe!==de&&ue.ended&&V(this)),pe!==null&&this.emit("data",pe),pe};function re(de,ue){if(c("onEofChunk"),!ue.ended){if(ue.decoder){var Pe=ue.decoder.end();Pe&&Pe.length&&(ue.buffer.push(Pe),ue.length+=ue.objectMode?1:Pe.length)}ue.ended=!0,ue.sync?U(de):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,K(de)))}}function U(de){var ue=de._readableState;c("emitReadable",ue.needReadable,ue.emittedReadable),ue.needReadable=!1,ue.emittedReadable||(c("emitReadable",ue.flowing),ue.emittedReadable=!0,pn.nextTick(K,de))}function K(de){var ue=de._readableState;c("emitReadable_",ue.destroyed,ue.length,ue.ended),!ue.destroyed&&(ue.length||ue.ended)&&(de.emit("readable"),ue.emittedReadable=!1),ue.needReadable=!ue.flowing&&!ue.ended&&ue.length<=ue.highWaterMark,he(de)}function ee(de,ue){ue.readingMore||(ue.readingMore=!0,pn.nextTick(X,de,ue))}function X(de,ue){for(;!ue.reading&&!ue.ended&&(ue.length<ue.highWaterMark||ue.flowing&&ue.length===0);){var Pe=ue.length;if(c("maybeReadMore read 0"),de.read(0),Pe===ue.length)break}ue.readingMore=!1}E.prototype._read=function(de){S(this,new g("_read()"))},E.prototype.pipe=function(de,ue){var Pe=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=de;break;case 1:G.pipes=[G.pipes,de];break;default:G.pipes.push(de);break}G.pipesCount+=1,c("pipe count=%d opts=%j",G.pipesCount,ue);var pe=(!ue||ue.end!==!1)&&de!==pn.stdout&&de!==pn.stderr,ce=pe?z:Ge;G.endEmitted?pn.nextTick(ce):Pe.once("end",ce),de.on("unpipe",$);function $(it,ut){c("onunpipe"),it===Pe&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,ge())}function z(){c("onend"),de.end()}var Z=B(Pe);de.on("drain",Z);var le=!1;function ge(){c("cleanup"),de.removeListener("close",Be),de.removeListener("finish",Le),de.removeListener("drain",Z),de.removeListener("error",Me),de.removeListener("unpipe",$),Pe.removeListener("end",z),Pe.removeListener("end",Ge),Pe.removeListener("data",we),le=!0,G.awaitDrain&&(!de._writableState||de._writableState.needDrain)&&Z()}Pe.on("data",we);function we(it){c("ondata");var ut=de.write(it);c("dest.write",ut),ut===!1&&((G.pipesCount===1&&G.pipes===de||G.pipesCount>1&&me(G.pipes,de)!==-1)&&!le&&(c("false write response, pause",G.awaitDrain),G.awaitDrain++),Pe.pause())}function Me(it){c("onerror",it),Ge(),de.removeListener("error",Me),t(de,"error")===0&&S(de,it)}A(de,"error",Me);function Be(){de.removeListener("finish",Le),Ge()}de.once("close",Be);function Le(){c("onfinish"),de.removeListener("close",Be),Ge()}de.once("finish",Le);function Ge(){c("unpipe"),Pe.unpipe(de)}return de.emit("pipe",Pe),G.flowing||(c("pipe resume"),Pe.resume()),de};function B(de){return function(){var Pe=de._readableState;c("pipeOnDrain",Pe.awaitDrain),Pe.awaitDrain&&Pe.awaitDrain--,Pe.awaitDrain===0&&t(de,"data")&&(Pe.flowing=!0,he(de))}}E.prototype.unpipe=function(de){var ue=this._readableState,Pe={hasUnpiped:!1};if(ue.pipesCount===0)return this;if(ue.pipesCount===1)return de&&de!==ue.pipes?this:(de||(de=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,de&&de.emit("unpipe",this,Pe),this);if(!de){var G=ue.pipes,pe=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var ce=0;ce<pe;ce++)G[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var $=me(ue.pipes,de);return $===-1?this:(ue.pipes.splice($,1),ue.pipesCount-=1,ue.pipesCount===1&&(ue.pipes=ue.pipes[0]),de.emit("unpipe",this,Pe),this)},E.prototype.on=function(de,ue){var Pe=r.prototype.on.call(this,de,ue),G=this._readableState;return de==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):de==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,c("on readable",G.length,G.reading),G.length?U(this):G.reading||pn.nextTick(Q,this)),Pe},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(de,ue){var Pe=r.prototype.removeListener.call(this,de,ue);return de==="readable"&&pn.nextTick(D,this),Pe},E.prototype.removeAllListeners=function(de){var ue=r.prototype.removeAllListeners.apply(this,arguments);return(de==="readable"||de===void 0)&&pn.nextTick(D,this),ue};function D(de){var ue=de._readableState;ue.readableListening=de.listenerCount("readable")>0,ue.resumeScheduled&&!ue.paused?ue.flowing=!0:de.listenerCount("data")>0&&de.resume()}function Q(de){c("readable nexttick read 0"),de.read(0)}E.prototype.resume=function(){var de=this._readableState;return de.flowing||(c("resume"),de.flowing=!de.readableListening,ie(this,de)),de.paused=!1,this};function ie(de,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,pn.nextTick(te,de,ue))}function te(de,ue){c("resume",ue.reading),ue.reading||de.read(0),ue.resumeScheduled=!1,de.emit("resume"),he(de),ue.flowing&&!ue.reading&&de.read(0)}E.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function he(de){var ue=de._readableState;for(c("flow",ue.flowing);ue.flowing&&de.read()!==null;);}E.prototype.wrap=function(de){var ue=this,Pe=this._readableState,G=!1;de.on("end",function(){if(c("wrapped end"),Pe.decoder&&!Pe.ended){var $=Pe.decoder.end();$&&$.length&&ue.push($)}ue.push(null)}),de.on("data",function($){if(c("wrapped data"),Pe.decoder&&($=Pe.decoder.write($)),!(Pe.objectMode&&$==null)&&!(!Pe.objectMode&&(!$||!$.length))){var z=ue.push($);z||(G=!0,de.pause())}});for(var pe in de)this[pe]===void 0&&typeof de[pe]=="function"&&(this[pe]=(function(z){return function(){return de[z].apply(de,arguments)}})(pe));for(var ce=0;ce<T.length;ce++)de.on(T[ce],this.emit.bind(this,T[ce]));return this._read=function($){c("wrapped _read",$),G&&(G=!1,de.resume())},this},typeof Symbol=="function"&&(E.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=zqe()),b(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}}),E._fromList=W,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function W(de,ue){if(ue.length===0)return null;var Pe;return ue.objectMode?Pe=ue.buffer.shift():!de||de>=ue.length?(ue.decoder?Pe=ue.buffer.join(""):ue.buffer.length===1?Pe=ue.buffer.first():Pe=ue.buffer.concat(ue.length),ue.buffer.clear()):Pe=ue.buffer.consume(de,ue.decoder),Pe}function V(de){var ue=de._readableState;c("endReadable",ue.endEmitted),ue.endEmitted||(ue.ended=!0,pn.nextTick(oe,ue,de))}function oe(de,ue){if(c("endReadableNT",de.endEmitted,de.length),!de.endEmitted&&de.length===0&&(de.endEmitted=!0,ue.readable=!1,ue.emit("end"),de.autoDestroy)){var Pe=ue._writableState;(!Pe||Pe.autoDestroy&&Pe.finished)&&ue.destroy()}}typeof Symbol=="function"&&(E.from=function(de,ue){return _===void 0&&(_=Wqe()),_(E,de,ue)});function me(de,ue){for(var Pe=0,G=de.length;Pe<G;Pe++)if(de[Pe]===ue)return Pe;return-1}return N4}var _4,zz;function die(){if(zz)return _4;zz=1,_4=l;var e=i0().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,s=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=e.ERR_TRANSFORM_WITH_LENGTH_0,i=vy();pp()(l,i);function o(d,h){var m=this._transformState;m.transforming=!1;var f=m.writecb;if(f===null)return this.emit("error",new r);m.writechunk=null,m.writecb=null,h!=null&&this.push(h),f(d);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);i.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,m){u(d,h,m)}):u(this,null,null)}l.prototype.push=function(d,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,d,h)},l.prototype._transform=function(d,h,m){m(new t("_transform()"))},l.prototype._write=function(d,h,m){var f=this._transformState;if(f.writecb=m,f.writechunk=d,f.writeencoding=h,!f.transforming){var x=this._readableState;(f.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},l.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(d,h){i.prototype._destroy.call(this,d,function(m){h(m)})};function u(d,h,m){if(h)return d.emit("error",h);if(m!=null&&d.push(m),d._writableState.length)throw new a;if(d._transformState.transforming)throw new s;return d.push(null)}return _4}var S4,Wz;function Vqe(){if(Wz)return S4;Wz=1,S4=t;var e=die();pp()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,s,a){a(null,r)},S4}var k4,Vz;function Hqe(){if(Vz)return k4;Vz=1;var e;function t(m){var f=!1;return function(){f||(f=!0,m.apply(void 0,arguments))}}var r=i0().codes,s=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(m){if(m)throw m}function o(m){return m.setHeader&&typeof m.abort=="function"}function l(m,f,x,v){v=t(v);var g=!1;m.on("close",function(){g=!0}),e===void 0&&(e=N6()),e(m,{readable:f,writable:x},function(j){if(j)return v(j);g=!0,v()});var y=!1;return function(j){if(!g&&!y){if(y=!0,o(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();v(j||new a("pipe"))}}}function c(m){m()}function u(m,f){return m.pipe(f)}function d(m){return!m.length||typeof m[m.length-1]!="function"?i:m.pop()}function h(){for(var m=arguments.length,f=new Array(m),x=0;x<m;x++)f[x]=arguments[x];var v=d(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new s("streams");var g,y=f.map(function(j,b){var _=b<f.length-1,S=b>0;return l(j,_,S,function(T){g||(g=T),T&&y.forEach(c),!_&&(y.forEach(c),v(g))})});return f.reduce(u)}return k4=h,k4}var C4,Hz;function _6(){if(Hz)return C4;Hz=1,C4=r;var e=y6().EventEmitter,t=pp();t(r,e),r.Readable=uie(),r.Writable=cie(),r.Duplex=vy(),r.Transform=die(),r.PassThrough=Vqe(),r.finished=N6(),r.pipeline=Hqe(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(s,a){var i=this;function o(f){s.writable&&s.write(f)===!1&&i.pause&&i.pause()}i.on("data",o);function l(){i.readable&&i.resume&&i.resume()}s.on("drain",l),!s._isStdio&&(!a||a.end!==!1)&&(i.on("end",u),i.on("close",d));var c=!1;function u(){c||(c=!0,s.end())}function d(){c||(c=!0,typeof s.destroy=="function"&&s.destroy())}function h(f){if(m(),e.listenerCount(this,"error")===0)throw f}i.on("error",h),s.on("error",h);function m(){i.removeListener("data",o),s.removeListener("drain",l),i.removeListener("end",u),i.removeListener("close",d),i.removeListener("error",h),s.removeListener("error",h),i.removeListener("end",m),i.removeListener("close",m),s.removeListener("close",m)}return i.on("end",m),i.on("close",m),s.on("close",m),s.emit("pipe",i),s},C4}var Gz;function Gqe(){return Gz||(Gz=1,(function(e){(function(t){t.parser=function(W,V){return new s(W,V)},t.SAXParser=s,t.SAXStream=d,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function s(W,V){if(!(this instanceof s))return new s(W,V);var oe=this;i(oe),oe.q=oe.c="",oe.bufferCheckPosition=t.MAX_BUFFER_LENGTH,oe.opt=V||{},oe.opt.lowercase=oe.opt.lowercase||oe.opt.lowercasetags,oe.looseCase=oe.opt.lowercase?"toLowerCase":"toUpperCase",oe.tags=[],oe.closed=oe.closedRoot=oe.sawRoot=!1,oe.tag=oe.error=null,oe.strict=!!W,oe.noscript=!!(W||oe.opt.noscript),oe.state=E.BEGIN,oe.strictEntities=oe.opt.strictEntities,oe.ENTITIES=oe.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),oe.attribList=[],oe.opt.xmlns&&(oe.ns=Object.create(v)),oe.trackPosition=oe.opt.position!==!1,oe.trackPosition&&(oe.position=oe.line=oe.column=0),M(oe,"onready")}Object.create||(Object.create=function(W){function V(){}V.prototype=W;var oe=new V;return oe}),Object.keys||(Object.keys=function(W){var V=[];for(var oe in W)W.hasOwnProperty(oe)&&V.push(oe);return V});function a(W){for(var V=Math.max(t.MAX_BUFFER_LENGTH,10),oe=0,me=0,de=r.length;me<de;me++){var ue=W[r[me]].length;if(ue>V)switch(r[me]){case"textNode":I(W);break;case"cdata":C(W,"oncdata",W.cdata),W.cdata="";break;case"script":C(W,"onscript",W.script),W.script="";break;default:H(W,"Max buffer length exceeded: "+r[me])}oe=Math.max(oe,ue)}var Pe=t.MAX_BUFFER_LENGTH-oe;W.bufferCheckPosition=Pe+W.position}function i(W){for(var V=0,oe=r.length;V<oe;V++)W[r[V]]=""}function o(W){I(W),W.cdata!==""&&(C(W,"oncdata",W.cdata),W.cdata=""),W.script!==""&&(C(W,"onscript",W.script),W.script="")}s.prototype={end:function(){re(this)},write:he,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var l;try{l=_6().Stream}catch{l=function(){}}var c=t.EVENTS.filter(function(W){return W!=="error"&&W!=="end"});function u(W,V){return new d(W,V)}function d(W,V){if(!(this instanceof d))return new d(W,V);l.apply(this),this._parser=new s(W,V),this.writable=!0,this.readable=!0;var oe=this;this._parser.onend=function(){oe.emit("end")},this._parser.onerror=function(me){oe.emit("error",me),oe._parser.error=null},this._decoder=null,c.forEach(function(me){Object.defineProperty(oe,"on"+me,{get:function(){return oe._parser["on"+me]},set:function(de){if(!de)return oe.removeAllListeners(me),oe._parser["on"+me]=de,de;oe.on(me,de)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(l.prototype,{constructor:{value:d}}),d.prototype.write=function(W){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(W)){if(!this._decoder){var V=M3().StringDecoder;this._decoder=new V("utf8")}W=this._decoder.write(W)}return this._parser.write(W.toString()),this.emit("data",W),!0},d.prototype.end=function(W){return W&&W.length&&this.write(W),this._parser.end(),!0},d.prototype.on=function(W,V){var oe=this;return!oe._parser["on"+W]&&c.indexOf(W)!==-1&&(oe._parser["on"+W]=function(){var me=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);me.splice(0,0,W),oe.emit.apply(oe,me)}),l.prototype.on.call(oe,W,V)};var h="[CDATA[",m="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",v={xml:f,xmlns:x},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,j=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function _(W){return W===" "||W===`
`||W==="\r"||W==="	"}function S(W){return W==='"'||W==="'"}function T(W){return W===">"||_(W)}function A(W,V){return W.test(V)}function L(W,V){return!A(W,V)}var E=0;t.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(W){var V=t.ENTITIES[W],oe=typeof V=="number"?String.fromCharCode(V):V;t.ENTITIES[W]=oe});for(var q in t.STATE)t.STATE[t.STATE[q]]=q;E=t.STATE;function M(W,V,oe){W[V]&&W[V](oe)}function C(W,V,oe){W.textNode&&I(W),M(W,V,oe)}function I(W){W.textNode=O(W.opt,W.textNode),W.textNode&&M(W,"ontext",W.textNode),W.textNode=""}function O(W,V){return W.trim&&(V=V.trim()),W.normalize&&(V=V.replace(/\s+/g," ")),V}function H(W,V){return I(W),W.trackPosition&&(V+=`
Line: `+W.line+`
Column: `+W.column+`
Char: `+W.c),V=new Error(V),W.error=V,M(W,"onerror",V),W}function re(W){return W.sawRoot&&!W.closedRoot&&U(W,"Unclosed root tag"),W.state!==E.BEGIN&&W.state!==E.BEGIN_WHITESPACE&&W.state!==E.TEXT&&H(W,"Unexpected end"),I(W),W.c="",W.closed=!0,M(W,"onend"),s.call(W,W.strict,W.opt),W}function U(W,V){if(typeof W!="object"||!(W instanceof s))throw new Error("bad call to strictFail");W.strict&&H(W,V)}function K(W){W.strict||(W.tagName=W.tagName[W.looseCase]());var V=W.tags[W.tags.length-1]||W,oe=W.tag={name:W.tagName,attributes:{}};W.opt.xmlns&&(oe.ns=V.ns),W.attribList.length=0,C(W,"onopentagstart",oe)}function ee(W,V){var oe=W.indexOf(":"),me=oe<0?["",W]:W.split(":"),de=me[0],ue=me[1];return V&&W==="xmlns"&&(de="xmlns",ue=""),{prefix:de,local:ue}}function X(W){if(W.strict||(W.attribName=W.attribName[W.looseCase]()),W.attribList.indexOf(W.attribName)!==-1||W.tag.attributes.hasOwnProperty(W.attribName)){W.attribName=W.attribValue="";return}if(W.opt.xmlns){var V=ee(W.attribName,!0),oe=V.prefix,me=V.local;if(oe==="xmlns")if(me==="xml"&&W.attribValue!==f)U(W,"xml: prefix must be bound to "+f+`
Actual: `+W.attribValue);else if(me==="xmlns"&&W.attribValue!==x)U(W,"xmlns: prefix must be bound to "+x+`
Actual: `+W.attribValue);else{var de=W.tag,ue=W.tags[W.tags.length-1]||W;de.ns===ue.ns&&(de.ns=Object.create(ue.ns)),de.ns[me]=W.attribValue}W.attribList.push([W.attribName,W.attribValue])}else W.tag.attributes[W.attribName]=W.attribValue,C(W,"onattribute",{name:W.attribName,value:W.attribValue});W.attribName=W.attribValue=""}function B(W,V){if(W.opt.xmlns){var oe=W.tag,me=ee(W.tagName);oe.prefix=me.prefix,oe.local=me.local,oe.uri=oe.ns[me.prefix]||"",oe.prefix&&!oe.uri&&(U(W,"Unbound namespace prefix: "+JSON.stringify(W.tagName)),oe.uri=me.prefix);var de=W.tags[W.tags.length-1]||W;oe.ns&&de.ns!==oe.ns&&Object.keys(oe.ns).forEach(function(we){C(W,"onopennamespace",{prefix:we,uri:oe.ns[we]})});for(var ue=0,Pe=W.attribList.length;ue<Pe;ue++){var G=W.attribList[ue],pe=G[0],ce=G[1],$=ee(pe,!0),z=$.prefix,Z=$.local,le=z===""?"":oe.ns[z]||"",ge={name:pe,value:ce,prefix:z,local:Z,uri:le};z&&z!=="xmlns"&&!le&&(U(W,"Unbound namespace prefix: "+JSON.stringify(z)),ge.uri=z),W.tag.attributes[pe]=ge,C(W,"onattribute",ge)}W.attribList.length=0}W.tag.isSelfClosing=!!V,W.sawRoot=!0,W.tags.push(W.tag),C(W,"onopentag",W.tag),V||(!W.noscript&&W.tagName.toLowerCase()==="script"?W.state=E.SCRIPT:W.state=E.TEXT,W.tag=null,W.tagName=""),W.attribName=W.attribValue="",W.attribList.length=0}function D(W){if(!W.tagName){U(W,"Weird empty close tag."),W.textNode+="</>",W.state=E.TEXT;return}if(W.script){if(W.tagName!=="script"){W.script+="</"+W.tagName+">",W.tagName="",W.state=E.SCRIPT;return}C(W,"onscript",W.script),W.script=""}var V=W.tags.length,oe=W.tagName;W.strict||(oe=oe[W.looseCase]());for(var me=oe;V--;){var de=W.tags[V];if(de.name!==me)U(W,"Unexpected close tag");else break}if(V<0){U(W,"Unmatched closing tag: "+W.tagName),W.textNode+="</"+W.tagName+">",W.state=E.TEXT;return}W.tagName=oe;for(var ue=W.tags.length;ue-- >V;){var Pe=W.tag=W.tags.pop();W.tagName=W.tag.name,C(W,"onclosetag",W.tagName);var G={};for(var pe in Pe.ns)G[pe]=Pe.ns[pe];var ce=W.tags[W.tags.length-1]||W;W.opt.xmlns&&Pe.ns!==ce.ns&&Object.keys(Pe.ns).forEach(function($){var z=Pe.ns[$];C(W,"onclosenamespace",{prefix:$,uri:z})})}V===0&&(W.closedRoot=!0),W.tagName=W.attribValue=W.attribName="",W.attribList.length=0,W.state=E.TEXT}function Q(W){var V=W.entity,oe=V.toLowerCase(),me,de="";return W.ENTITIES[V]?W.ENTITIES[V]:W.ENTITIES[oe]?W.ENTITIES[oe]:(V=oe,V.charAt(0)==="#"&&(V.charAt(1)==="x"?(V=V.slice(2),me=parseInt(V,16),de=me.toString(16)):(V=V.slice(1),me=parseInt(V,10),de=me.toString(10))),V=V.replace(/^0+/,""),isNaN(me)||de.toLowerCase()!==V?(U(W,"Invalid character entity"),"&"+W.entity+";"):String.fromCodePoint(me))}function ie(W,V){V==="<"?(W.state=E.OPEN_WAKA,W.startTagPosition=W.position):_(V)||(U(W,"Non-whitespace before first tag."),W.textNode=V,W.state=E.TEXT)}function te(W,V){var oe="";return V<W.length&&(oe=W.charAt(V)),oe}function he(W){var V=this;if(this.error)throw this.error;if(V.closed)return H(V,"Cannot write after close. Assign an onready handler.");if(W===null)return re(V);typeof W=="object"&&(W=W.toString());for(var oe=0,me="";me=te(W,oe++),V.c=me,!!me;)switch(V.trackPosition&&(V.position++,me===`
`?(V.line++,V.column=0):V.column++),V.state){case E.BEGIN:if(V.state=E.BEGIN_WHITESPACE,me==="\uFEFF")continue;ie(V,me);continue;case E.BEGIN_WHITESPACE:ie(V,me);continue;case E.TEXT:if(V.sawRoot&&!V.closedRoot){for(var de=oe-1;me&&me!=="<"&&me!=="&";)me=te(W,oe++),me&&V.trackPosition&&(V.position++,me===`
`?(V.line++,V.column=0):V.column++);V.textNode+=W.substring(de,oe-1)}me==="<"&&!(V.sawRoot&&V.closedRoot&&!V.strict)?(V.state=E.OPEN_WAKA,V.startTagPosition=V.position):(!_(me)&&(!V.sawRoot||V.closedRoot)&&U(V,"Text data outside of root node."),me==="&"?V.state=E.TEXT_ENTITY:V.textNode+=me);continue;case E.SCRIPT:me==="<"?V.state=E.SCRIPT_ENDING:V.script+=me;continue;case E.SCRIPT_ENDING:me==="/"?V.state=E.CLOSE_TAG:(V.script+="<"+me,V.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(me==="!")V.state=E.SGML_DECL,V.sgmlDecl="";else if(!_(me))if(A(g,me))V.state=E.OPEN_TAG,V.tagName=me;else if(me==="/")V.state=E.CLOSE_TAG,V.tagName="";else if(me==="?")V.state=E.PROC_INST,V.procInstName=V.procInstBody="";else{if(U(V,"Unencoded <"),V.startTagPosition+1<V.position){var ue=V.position-V.startTagPosition;me=new Array(ue).join(" ")+me}V.textNode+="<"+me,V.state=E.TEXT}continue;case E.SGML_DECL:(V.sgmlDecl+me).toUpperCase()===h?(C(V,"onopencdata"),V.state=E.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+me==="--"?(V.state=E.COMMENT,V.comment="",V.sgmlDecl=""):(V.sgmlDecl+me).toUpperCase()===m?(V.state=E.DOCTYPE,(V.doctype||V.sawRoot)&&U(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):me===">"?(C(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=E.TEXT):(S(me)&&(V.state=E.SGML_DECL_QUOTED),V.sgmlDecl+=me);continue;case E.SGML_DECL_QUOTED:me===V.q&&(V.state=E.SGML_DECL,V.q=""),V.sgmlDecl+=me;continue;case E.DOCTYPE:me===">"?(V.state=E.TEXT,C(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=me,me==="["?V.state=E.DOCTYPE_DTD:S(me)&&(V.state=E.DOCTYPE_QUOTED,V.q=me));continue;case E.DOCTYPE_QUOTED:V.doctype+=me,me===V.q&&(V.q="",V.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:V.doctype+=me,me==="]"?V.state=E.DOCTYPE:S(me)&&(V.state=E.DOCTYPE_DTD_QUOTED,V.q=me);continue;case E.DOCTYPE_DTD_QUOTED:V.doctype+=me,me===V.q&&(V.state=E.DOCTYPE_DTD,V.q="");continue;case E.COMMENT:me==="-"?V.state=E.COMMENT_ENDING:V.comment+=me;continue;case E.COMMENT_ENDING:me==="-"?(V.state=E.COMMENT_ENDED,V.comment=O(V.opt,V.comment),V.comment&&C(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+me,V.state=E.COMMENT);continue;case E.COMMENT_ENDED:me!==">"?(U(V,"Malformed comment"),V.comment+="--"+me,V.state=E.COMMENT):V.state=E.TEXT;continue;case E.CDATA:me==="]"?V.state=E.CDATA_ENDING:V.cdata+=me;continue;case E.CDATA_ENDING:me==="]"?V.state=E.CDATA_ENDING_2:(V.cdata+="]"+me,V.state=E.CDATA);continue;case E.CDATA_ENDING_2:me===">"?(V.cdata&&C(V,"oncdata",V.cdata),C(V,"onclosecdata"),V.cdata="",V.state=E.TEXT):me==="]"?V.cdata+="]":(V.cdata+="]]"+me,V.state=E.CDATA);continue;case E.PROC_INST:me==="?"?V.state=E.PROC_INST_ENDING:_(me)?V.state=E.PROC_INST_BODY:V.procInstName+=me;continue;case E.PROC_INST_BODY:if(!V.procInstBody&&_(me))continue;me==="?"?V.state=E.PROC_INST_ENDING:V.procInstBody+=me;continue;case E.PROC_INST_ENDING:me===">"?(C(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=E.TEXT):(V.procInstBody+="?"+me,V.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:A(y,me)?V.tagName+=me:(K(V),me===">"?B(V):me==="/"?V.state=E.OPEN_TAG_SLASH:(_(me)||U(V,"Invalid character in tag name"),V.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:me===">"?(B(V,!0),D(V)):(U(V,"Forward-slash in opening tag not followed by >"),V.state=E.ATTRIB);continue;case E.ATTRIB:if(_(me))continue;me===">"?B(V):me==="/"?V.state=E.OPEN_TAG_SLASH:A(g,me)?(V.attribName=me,V.attribValue="",V.state=E.ATTRIB_NAME):U(V,"Invalid attribute name");continue;case E.ATTRIB_NAME:me==="="?V.state=E.ATTRIB_VALUE:me===">"?(U(V,"Attribute without value"),V.attribValue=V.attribName,X(V),B(V)):_(me)?V.state=E.ATTRIB_NAME_SAW_WHITE:A(y,me)?V.attribName+=me:U(V,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(me==="=")V.state=E.ATTRIB_VALUE;else{if(_(me))continue;U(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",C(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",me===">"?B(V):A(g,me)?(V.attribName=me,V.state=E.ATTRIB_NAME):(U(V,"Invalid attribute name"),V.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(_(me))continue;S(me)?(V.q=me,V.state=E.ATTRIB_VALUE_QUOTED):(U(V,"Unquoted attribute value"),V.state=E.ATTRIB_VALUE_UNQUOTED,V.attribValue=me);continue;case E.ATTRIB_VALUE_QUOTED:if(me!==V.q){me==="&"?V.state=E.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=me;continue}X(V),V.q="",V.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:_(me)?V.state=E.ATTRIB:me===">"?B(V):me==="/"?V.state=E.OPEN_TAG_SLASH:A(g,me)?(U(V,"No whitespace between attributes"),V.attribName=me,V.attribValue="",V.state=E.ATTRIB_NAME):U(V,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!T(me)){me==="&"?V.state=E.ATTRIB_VALUE_ENTITY_U:V.attribValue+=me;continue}X(V),me===">"?B(V):V.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(V.tagName)me===">"?D(V):A(y,me)?V.tagName+=me:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=E.SCRIPT):(_(me)||U(V,"Invalid tagname in closing tag"),V.state=E.CLOSE_TAG_SAW_WHITE);else{if(_(me))continue;L(g,me)?V.script?(V.script+="</"+me,V.state=E.SCRIPT):U(V,"Invalid tagname in closing tag."):V.tagName=me}continue;case E.CLOSE_TAG_SAW_WHITE:if(_(me))continue;me===">"?D(V):U(V,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var Pe,G;switch(V.state){case E.TEXT_ENTITY:Pe=E.TEXT,G="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:Pe=E.ATTRIB_VALUE_QUOTED,G="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:Pe=E.ATTRIB_VALUE_UNQUOTED,G="attribValue";break}me===";"?(V[G]+=Q(V),V.entity="",V.state=Pe):A(V.entity.length?b:j,me)?V.entity+=me:(U(V,"Invalid character in entity name"),V[G]+="&"+V.entity+me,V.entity="",V.state=Pe);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&a(V),V}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var W=String.fromCharCode,V=Math.floor,oe=function(){var me=16384,de=[],ue,Pe,G=-1,pe=arguments.length;if(!pe)return"";for(var ce="";++G<pe;){var $=Number(arguments[G]);if(!isFinite($)||$<0||$>1114111||V($)!==$)throw RangeError("Invalid code point: "+$);$<=65535?de.push($):($-=65536,ue=($>>10)+55296,Pe=$%1024+56320,de.push(ue,Pe)),(G+1===pe||de.length>me)&&(ce+=W.apply(null,de),de.length=0)}return ce};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:oe,configurable:!0,writable:!0}):String.fromCodePoint=oe})()})(e)})(hA)),hA}var E4,Kz;function S6(){return Kz||(Kz=1,E4={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),E4}var A4,Yz;function k6(){if(Yz)return A4;Yz=1;var e=S6().isArray;return A4={copyOptions:function(t){var r,s={};for(r in t)t.hasOwnProperty(r)&&(s[r]=t[r]);return s},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},A4}var P4,Jz;function hie(){if(Jz)return P4;Jz=1;var e=Gqe(),t=k6(),r=S6().isArray,s,a;function i(y){return s=t.copyOptions(y),t.ensureFlagExists("ignoreDeclaration",s),t.ensureFlagExists("ignoreInstruction",s),t.ensureFlagExists("ignoreAttributes",s),t.ensureFlagExists("ignoreText",s),t.ensureFlagExists("ignoreComment",s),t.ensureFlagExists("ignoreCdata",s),t.ensureFlagExists("ignoreDoctype",s),t.ensureFlagExists("compact",s),t.ensureFlagExists("alwaysChildren",s),t.ensureFlagExists("addParent",s),t.ensureFlagExists("trim",s),t.ensureFlagExists("nativeType",s),t.ensureFlagExists("nativeTypeAttributes",s),t.ensureFlagExists("sanitize",s),t.ensureFlagExists("instructionHasAttributes",s),t.ensureFlagExists("captureSpacesBetweenElements",s),t.ensureAlwaysArrayExists(s),t.ensureKeyExists("declaration",s),t.ensureKeyExists("instruction",s),t.ensureKeyExists("attributes",s),t.ensureKeyExists("text",s),t.ensureKeyExists("comment",s),t.ensureKeyExists("cdata",s),t.ensureKeyExists("doctype",s),t.ensureKeyExists("type",s),t.ensureKeyExists("name",s),t.ensureKeyExists("elements",s),t.ensureKeyExists("parent",s),t.checkFnExists("doctype",s),t.checkFnExists("instruction",s),t.checkFnExists("cdata",s),t.checkFnExists("comment",s),t.checkFnExists("text",s),t.checkFnExists("instructionName",s),t.checkFnExists("elementName",s),t.checkFnExists("attributeName",s),t.checkFnExists("attributeValue",s),t.checkFnExists("attributes",s),s}function o(y){var j=Number(y);if(!isNaN(j))return j;var b=y.toLowerCase();return b==="true"?!0:b==="false"?!1:y}function l(y,j){var b;if(s.compact){if(!a[s[y+"Key"]]&&(r(s.alwaysArray)?s.alwaysArray.indexOf(s[y+"Key"])!==-1:s.alwaysArray)&&(a[s[y+"Key"]]=[]),a[s[y+"Key"]]&&!r(a[s[y+"Key"]])&&(a[s[y+"Key"]]=[a[s[y+"Key"]]]),y+"Fn"in s&&typeof j=="string"&&(j=s[y+"Fn"](j,a)),y==="instruction"&&("instructionFn"in s||"instructionNameFn"in s)){for(b in j)if(j.hasOwnProperty(b))if("instructionFn"in s)j[b]=s.instructionFn(j[b],b,a);else{var _=j[b];delete j[b],j[s.instructionNameFn(b,_,a)]=_}}r(a[s[y+"Key"]])?a[s[y+"Key"]].push(j):a[s[y+"Key"]]=j}else{a[s.elementsKey]||(a[s.elementsKey]=[]);var S={};if(S[s.typeKey]=y,y==="instruction"){for(b in j)if(j.hasOwnProperty(b))break;S[s.nameKey]="instructionNameFn"in s?s.instructionNameFn(b,j,a):b,s.instructionHasAttributes?(S[s.attributesKey]=j[b][s.attributesKey],"instructionFn"in s&&(S[s.attributesKey]=s.instructionFn(S[s.attributesKey],b,a))):("instructionFn"in s&&(j[b]=s.instructionFn(j[b],b,a)),S[s.instructionKey]=j[b])}else y+"Fn"in s&&(j=s[y+"Fn"](j,a)),S[s[y+"Key"]]=j;s.addParent&&(S[s.parentKey]=a),a[s.elementsKey].push(S)}}function c(y){if("attributesFn"in s&&y&&(y=s.attributesFn(y,a)),(s.trim||"attributeValueFn"in s||"attributeNameFn"in s||s.nativeTypeAttributes)&&y){var j;for(j in y)if(y.hasOwnProperty(j)&&(s.trim&&(y[j]=y[j].trim()),s.nativeTypeAttributes&&(y[j]=o(y[j])),"attributeValueFn"in s&&(y[j]=s.attributeValueFn(y[j],j,a)),"attributeNameFn"in s)){var b=y[j];delete y[j],y[s.attributeNameFn(j,y[j],a)]=b}}return y}function u(y){var j={};if(y.body&&(y.name.toLowerCase()==="xml"||s.instructionHasAttributes)){for(var b=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,_;(_=b.exec(y.body))!==null;)j[_[1]]=_[2]||_[3]||_[4];j=c(j)}if(y.name.toLowerCase()==="xml"){if(s.ignoreDeclaration)return;a[s.declarationKey]={},Object.keys(j).length&&(a[s.declarationKey][s.attributesKey]=j),s.addParent&&(a[s.declarationKey][s.parentKey]=a)}else{if(s.ignoreInstruction)return;s.trim&&(y.body=y.body.trim());var S={};s.instructionHasAttributes&&Object.keys(j).length?(S[y.name]={},S[y.name][s.attributesKey]=j):S[y.name]=y.body,l("instruction",S)}}function d(y,j){var b;if(typeof y=="object"&&(j=y.attributes,y=y.name),j=c(j),"elementNameFn"in s&&(y=s.elementNameFn(y,a)),s.compact){if(b={},!s.ignoreAttributes&&j&&Object.keys(j).length){b[s.attributesKey]={};var _;for(_ in j)j.hasOwnProperty(_)&&(b[s.attributesKey][_]=j[_])}!(y in a)&&(r(s.alwaysArray)?s.alwaysArray.indexOf(y)!==-1:s.alwaysArray)&&(a[y]=[]),a[y]&&!r(a[y])&&(a[y]=[a[y]]),r(a[y])?a[y].push(b):a[y]=b}else a[s.elementsKey]||(a[s.elementsKey]=[]),b={},b[s.typeKey]="element",b[s.nameKey]=y,!s.ignoreAttributes&&j&&Object.keys(j).length&&(b[s.attributesKey]=j),s.alwaysChildren&&(b[s.elementsKey]=[]),a[s.elementsKey].push(b);b[s.parentKey]=a,a=b}function h(y){s.ignoreText||!y.trim()&&!s.captureSpacesBetweenElements||(s.trim&&(y=y.trim()),s.nativeType&&(y=o(y)),s.sanitize&&(y=y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",y))}function m(y){s.ignoreComment||(s.trim&&(y=y.trim()),l("comment",y))}function f(y){var j=a[s.parentKey];s.addParent||delete a[s.parentKey],a=j}function x(y){s.ignoreCdata||(s.trim&&(y=y.trim()),l("cdata",y))}function v(y){s.ignoreDoctype||(y=y.replace(/^ /,""),s.trim&&(y=y.trim()),l("doctype",y))}function g(y){y.note=y}return P4=function(y,j){var b=e.parser(!0,{}),_={};if(a=_,s=i(j),b.opt={strictEntities:!0},b.onopentag=d,b.ontext=h,b.oncomment=m,b.onclosetag=f,b.onerror=g,b.oncdata=x,b.ondoctype=v,b.onprocessinginstruction=u,b.write(y).close(),_[s.elementsKey]){var S=_[s.elementsKey];delete _[s.elementsKey],_[s.elementsKey]=S,delete _.text}return _},P4}var T4,Xz;function Kqe(){if(Xz)return T4;Xz=1;var e=k6(),t=hie();function r(s){var a=e.copyOptions(s);return e.ensureSpacesExists(a),a}return T4=function(s,a){var i,o,l,c;return i=r(a),o=t(s,i),c="compact"in i&&i.compact?"_parent":"parent","addParent"in i&&i.addParent?l=JSON.stringify(o,function(u,d){return u===c?"_":d},i.spaces):l=JSON.stringify(o,null,i.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},T4}var O4,Qz;function fie(){if(Qz)return O4;Qz=1;var e=k6(),t=S6().isArray,r,s;function a(b){var _=e.copyOptions(b);return e.ensureFlagExists("ignoreDeclaration",_),e.ensureFlagExists("ignoreInstruction",_),e.ensureFlagExists("ignoreAttributes",_),e.ensureFlagExists("ignoreText",_),e.ensureFlagExists("ignoreComment",_),e.ensureFlagExists("ignoreCdata",_),e.ensureFlagExists("ignoreDoctype",_),e.ensureFlagExists("compact",_),e.ensureFlagExists("indentText",_),e.ensureFlagExists("indentCdata",_),e.ensureFlagExists("indentAttributes",_),e.ensureFlagExists("indentInstruction",_),e.ensureFlagExists("fullTagEmptyElement",_),e.ensureFlagExists("noQuotesForNativeAttributes",_),e.ensureSpacesExists(_),typeof _.spaces=="number"&&(_.spaces=Array(_.spaces+1).join(" ")),e.ensureKeyExists("declaration",_),e.ensureKeyExists("instruction",_),e.ensureKeyExists("attributes",_),e.ensureKeyExists("text",_),e.ensureKeyExists("comment",_),e.ensureKeyExists("cdata",_),e.ensureKeyExists("doctype",_),e.ensureKeyExists("type",_),e.ensureKeyExists("name",_),e.ensureKeyExists("elements",_),e.checkFnExists("doctype",_),e.checkFnExists("instruction",_),e.checkFnExists("cdata",_),e.checkFnExists("comment",_),e.checkFnExists("text",_),e.checkFnExists("instructionName",_),e.checkFnExists("elementName",_),e.checkFnExists("attributeName",_),e.checkFnExists("attributeValue",_),e.checkFnExists("attributes",_),e.checkFnExists("fullTagEmptyElement",_),_}function i(b,_,S){return(!S&&b.spaces?`
`:"")+Array(_+1).join(b.spaces)}function o(b,_,S){if(_.ignoreAttributes)return"";"attributesFn"in _&&(b=_.attributesFn(b,s,r));var T,A,L,E,q=[];for(T in b)b.hasOwnProperty(T)&&b[T]!==null&&b[T]!==void 0&&(E=_.noQuotesForNativeAttributes&&typeof b[T]!="string"?"":'"',A=""+b[T],A=A.replace(/"/g,"&quot;"),L="attributeNameFn"in _?_.attributeNameFn(T,A,s,r):T,q.push(_.spaces&&_.indentAttributes?i(_,S+1,!1):" "),q.push(L+"="+E+("attributeValueFn"in _?_.attributeValueFn(A,T,s,r):A)+E));return b&&Object.keys(b).length&&_.spaces&&_.indentAttributes&&q.push(i(_,S,!1)),q.join("")}function l(b,_,S){return r=b,s="xml",_.ignoreDeclaration?"":"<?xml"+o(b[_.attributesKey],_,S)+"?>"}function c(b,_,S){if(_.ignoreInstruction)return"";var T;for(T in b)if(b.hasOwnProperty(T))break;var A="instructionNameFn"in _?_.instructionNameFn(T,b[T],s,r):T;if(typeof b[T]=="object")return r=b,s=A,"<?"+A+o(b[T][_.attributesKey],_,S)+"?>";var L=b[T]?b[T]:"";return"instructionFn"in _&&(L=_.instructionFn(L,T,s,r)),"<?"+A+(L?" "+L:"")+"?>"}function u(b,_){return _.ignoreComment?"":"<!--"+("commentFn"in _?_.commentFn(b,s,r):b)+"-->"}function d(b,_){return _.ignoreCdata?"":"<![CDATA["+("cdataFn"in _?_.cdataFn(b,s,r):b.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(b,_){return _.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in _?_.doctypeFn(b,s,r):b)+">"}function m(b,_){return _.ignoreText?"":(b=""+b,b=b.replace(/&amp;/g,"&"),b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in _?_.textFn(b,s,r):b)}function f(b,_){var S;if(b.elements&&b.elements.length)for(S=0;S<b.elements.length;++S)switch(b.elements[S][_.typeKey]){case"text":if(_.indentText)return!0;break;case"cdata":if(_.indentCdata)return!0;break;case"instruction":if(_.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function x(b,_,S){r=b,s=b.name;var T=[],A="elementNameFn"in _?_.elementNameFn(b.name,b):b.name;T.push("<"+A),b[_.attributesKey]&&T.push(o(b[_.attributesKey],_,S));var L=b[_.elementsKey]&&b[_.elementsKey].length||b[_.attributesKey]&&b[_.attributesKey]["xml:space"]==="preserve";return L||("fullTagEmptyElementFn"in _?L=_.fullTagEmptyElementFn(b.name,b):L=_.fullTagEmptyElement),L?(T.push(">"),b[_.elementsKey]&&b[_.elementsKey].length&&(T.push(v(b[_.elementsKey],_,S+1)),r=b,s=b.name),T.push(_.spaces&&f(b,_)?`
`+Array(S+1).join(_.spaces):""),T.push("</"+A+">")):T.push("/>"),T.join("")}function v(b,_,S,T){return b.reduce(function(A,L){var E=i(_,S,T&&!A);switch(L.type){case"element":return A+E+x(L,_,S);case"comment":return A+E+u(L[_.commentKey],_);case"doctype":return A+E+h(L[_.doctypeKey],_);case"cdata":return A+(_.indentCdata?E:"")+d(L[_.cdataKey],_);case"text":return A+(_.indentText?E:"")+m(L[_.textKey],_);case"instruction":var q={};return q[L[_.nameKey]]=L[_.attributesKey]?L:L[_.instructionKey],A+(_.indentInstruction?E:"")+c(q,_,S)}},"")}function g(b,_,S){var T;for(T in b)if(b.hasOwnProperty(T))switch(T){case _.parentKey:case _.attributesKey:break;case _.textKey:if(_.indentText||S)return!0;break;case _.cdataKey:if(_.indentCdata||S)return!0;break;case _.instructionKey:if(_.indentInstruction||S)return!0;break;case _.doctypeKey:case _.commentKey:return!0;default:return!0}return!1}function y(b,_,S,T,A){r=b,s=_;var L="elementNameFn"in S?S.elementNameFn(_,b):_;if(typeof b>"u"||b===null||b==="")return"fullTagEmptyElementFn"in S&&S.fullTagEmptyElementFn(_,b)||S.fullTagEmptyElement?"<"+L+"></"+L+">":"<"+L+"/>";var E=[];if(_){if(E.push("<"+L),typeof b!="object")return E.push(">"+m(b,S)+"</"+L+">"),E.join("");b[S.attributesKey]&&E.push(o(b[S.attributesKey],S,T));var q=g(b,S,!0)||b[S.attributesKey]&&b[S.attributesKey]["xml:space"]==="preserve";if(q||("fullTagEmptyElementFn"in S?q=S.fullTagEmptyElementFn(_,b):q=S.fullTagEmptyElement),q)E.push(">");else return E.push("/>"),E.join("")}return E.push(j(b,S,T+1,!1)),r=b,s=_,_&&E.push((A?i(S,T,!1):"")+"</"+L+">"),E.join("")}function j(b,_,S,T){var A,L,E,q=[];for(L in b)if(b.hasOwnProperty(L))for(E=t(b[L])?b[L]:[b[L]],A=0;A<E.length;++A){switch(L){case _.declarationKey:q.push(l(E[A],_,S));break;case _.instructionKey:q.push((_.indentInstruction?i(_,S,T):"")+c(E[A],_,S));break;case _.attributesKey:case _.parentKey:break;case _.textKey:q.push((_.indentText?i(_,S,T):"")+m(E[A],_));break;case _.cdataKey:q.push((_.indentCdata?i(_,S,T):"")+d(E[A],_));break;case _.doctypeKey:q.push(i(_,S,T)+h(E[A],_));break;case _.commentKey:q.push(i(_,S,T)+u(E[A],_));break;default:q.push(i(_,S,T)+y(E[A],L,_,S,g(E[A],_)))}T=T&&!q.length}return q.join("")}return O4=function(b,_){_=a(_);var S=[];return r=b,s="_root_",_.compact?S.push(j(b,_,0,!0)):(b[_.declarationKey]&&S.push(l(b[_.declarationKey],_,0)),b[_.elementsKey]&&b[_.elementsKey].length&&S.push(v(b[_.elementsKey],_,0,!S.length))),S.join("")},O4}var I4,Zz;function Yqe(){if(Zz)return I4;Zz=1;var e=fie();return I4=function(t,r){t instanceof Buffer&&(t=t.toString());var s=null;if(typeof t=="string")try{s=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else s=t;return e(s,r)},I4}var R4,eW;function Jqe(){if(eW)return R4;eW=1;var e=hie(),t=Kqe(),r=fie(),s=Yqe();return R4={xml2js:e,xml2json:t,js2xml:r,json2xml:s},R4}var mie=Jqe();const C6=e=>{switch(e.type){case void 0:case"element":const t=new Qqe(e.name,e.attributes),r=e.elements||[];for(const s of r){const a=C6(s);a!==void 0&&t.push(a)}return t;case"text":return e.text;default:return}};class Xqe extends Kr{}class Qqe extends wt{static fromXmlString(t){const r=mie.xml2js(t,{compact:!1});return C6(r)}constructor(t,r){super(t),r&&this.root.push(new Xqe(r))}push(t){this.root.push(t)}}class Zqe extends wt{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class pie extends wt{constructor(t,r){super(t),r&&(this.root=r.root)}}const Il=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},g5=e=>{const t=Il(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},gie=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},tW=e=>gie(e,1),vie=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},xie=e=>{const t=vie(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},xy=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return gie(t,3)},gg=e=>typeof e=="string"?vie(e):Il(e),eze=e=>typeof e=="string"?xie(e):g5(e),Qu=e=>typeof e=="string"?xie(e):g5(e),tze=g5,rze=g5,nze=e=>e.toISOString();class jt extends wt{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Qa({val:r}))}}class D4 extends wt{constructor(t,r){super(t),this.root.push(new Qa({val:eze(r)}))}}class Tx extends wt{constructor(t,r){super(t),this.root.push(new Qa({val:r}))}}const tw=(e,t)=>new Qd({name:e,attributes:{value:{key:"w:val",value:t}}});class Aw extends wt{constructor(t,r){super(t),this.root.push(new Qa({val:r}))}}class Kp extends wt{constructor(t,r){super(t),this.root.push(r)}}class Qd extends wt{constructor({name:t,attributes:r,children:s}){super(t),r&&this.root.push(new f5(r)),s&&this.root.push(...s)}}const Ql={START:"start",CENTER:"center",LEFT:"left",RIGHT:"right"};class sze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val"})}}class aze extends wt{constructor(t){super("w:jc"),this.root.push(new sze({val:t}))}}class Da extends wt{constructor(t,{color:r,size:s,space:a,style:i}){super(t),this.root.push(new ize({style:i,color:r===void 0?void 0:xy(r),size:s===void 0?void 0:tze(s),space:a===void 0?void 0:rze(a)}))}}class ize extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const E6={SINGLE:"single",NONE:"none"};class oze extends h5{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Da("w:top",t.top)),t.bottom&&this.root.push(new Da("w:bottom",t.bottom)),t.left&&this.root.push(new Da("w:left",t.left)),t.right&&this.root.push(new Da("w:right",t.right))}}class lze extends wt{constructor(){super("w:pBdr");const t=new Da("w:bottom",{color:"auto",space:1,style:E6.SINGLE,size:6});this.root.push(t)}}class cze extends wt{constructor({start:t,end:r,left:s,right:a,hanging:i,firstLine:o}){super("w:ind"),this.root.push(new f5({start:{key:"w:start",value:t===void 0?void 0:gg(t)},end:{key:"w:end",value:r===void 0?void 0:gg(r)},left:{key:"w:left",value:s===void 0?void 0:gg(s)},right:{key:"w:right",value:a===void 0?void 0:gg(a)},hanging:{key:"w:hanging",value:i===void 0?void 0:Qu(i)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:Qu(o)}}))}}let uze=class extends wt{constructor(){super("w:br")}};const A6={BEGIN:"begin",END:"end",SEPARATE:"separate"};class P6 extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class r2 extends wt{constructor(t){super("w:fldChar"),this.root.push(new P6({type:A6.BEGIN,dirty:t}))}}class n2 extends wt{constructor(t){super("w:fldChar"),this.root.push(new P6({type:A6.SEPARATE,dirty:t}))}}class s2 extends wt{constructor(t){super("w:fldChar"),this.root.push(new P6({type:A6.END,dirty:t}))}}const yy={DEFAULT:"default",PRESERVE:"preserve"};class wy extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{space:"xml:space"})}}class dze extends wt{constructor(){super("w:instrText"),this.root.push(new wy({space:yy.PRESERVE})),this.root.push("PAGE")}}class hze extends wt{constructor(){super("w:instrText"),this.root.push(new wy({space:yy.PRESERVE})),this.root.push("NUMPAGES")}}class fze extends wt{constructor(){super("w:instrText"),this.root.push(new wy({space:yy.PRESERVE})),this.root.push("SECTIONPAGES")}}class mze extends wt{constructor(){super("w:instrText"),this.root.push(new wy({space:yy.PRESERVE})),this.root.push("SECTION")}}class pze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class yie extends wt{constructor({fill:t,color:r,type:s}){super("w:shd"),this.root.push(new pze({fill:t===void 0?void 0:xy(t),color:r===void 0?void 0:xy(r),type:s}))}}class gze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const vze={DOT:"dot"};class xze extends wt{constructor(t){super("w:em"),this.root.push(new Qa({val:t}))}}class yze extends xze{constructor(t=vze.DOT){super(t)}}class wze extends wt{constructor(t){super("w:spacing"),this.root.push(new Qa({val:gg(t)}))}}class bze extends wt{constructor(t){super("w:color"),this.root.push(new Qa({val:xy(t)}))}}class jze extends wt{constructor(t){super("w:highlight"),this.root.push(new Qa({val:t}))}}class Nze extends wt{constructor(t){super("w:highlightCs"),this.root.push(new Qa({val:t}))}}const _ze=e=>new Qd({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class rW extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class M4 extends wt{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const s=t;this.root.push(new rW({ascii:s,cs:s,eastAsia:s,hAnsi:s,hint:r}))}else{const s=t;this.root.push(new rW(s))}}}let wie=class extends wt{constructor(t){super("w:vertAlign"),this.root.push(new Qa({val:t}))}};class Sze extends wie{constructor(){super("superscript")}}class kze extends wie{constructor(){super("subscript")}}const bie={SINGLE:"single"};class Cze extends wt{constructor(t=bie.SINGLE,r){super("w:u"),this.root.push(new Qa({val:t,color:r===void 0?void 0:xy(r)}))}}class dv extends h5{constructor(t){var r,s;if(super("w:rPr"),!t)return;t.style&&this.push(new Tx("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new M4(t.font)):"name"in t.font?this.push(new M4(t.font.name,t.font.hint)):this.push(new M4(t.font))),t.bold!==void 0&&this.push(new jt("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new jt("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new jt("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new jt("w:iCs",(s=t.italicsComplexScript)!=null?s:t.italics)),t.smallCaps!==void 0?this.push(new jt("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new jt("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new jt("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new jt("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new jt("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new jt("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new jt("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new jt("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new jt("w:vanish",t.vanish)),t.color&&this.push(new bze(t.color)),t.characterSpacing&&this.push(new wze(t.characterSpacing)),t.scale!==void 0&&this.push(new Aw("w:w",t.scale)),t.kern&&this.push(new D4("w:kern",t.kern)),t.position&&this.push(new Tx("w:position",t.position)),t.size!==void 0&&this.push(new D4("w:sz",t.size));const a=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;a&&this.push(new D4("w:szCs",a)),t.highlight&&this.push(new jze(t.highlight));const i=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;i&&this.push(new Nze(i)),t.underline&&this.push(new Cze(t.underline.type,t.underline.color)),t.effect&&this.push(new Tx("w:effect",t.effect)),t.border&&this.push(new Da("w:bdr",t.border)),t.shading&&this.push(new yie(t.shading)),t.subScript&&this.push(new kze),t.superScript&&this.push(new Sze),t.rightToLeft!==void 0&&this.push(new jt("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new yze(t.emphasisMark.type)),t.language&&this.push(_ze(t.language)),t.specVanish&&this.push(new jt("w:specVanish",t.vanish)),t.math&&this.push(new jt("w:oMath",t.math)),t.revision&&this.push(new Eze(t.revision))}push(t){this.root.push(t)}}class Eze extends wt{constructor(t){super("w:rPrChange"),this.root.push(new gze({id:t.id,author:t.author,date:t.date})),this.addChildElement(new dv(t))}}class nW extends wt{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new wy({space:yy.PRESERVE})),this.root.push(t)):(this.root.push(new wy({space:(r=t.space)!=null?r:yy.DEFAULT})),this.root.push(t.text))}}const a2={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class v5 extends wt{constructor(t){if(super("w:r"),pt(this,"properties"),this.properties=new dv(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new uze);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case a2.CURRENT:this.root.push(new r2),this.root.push(new dze),this.root.push(new n2),this.root.push(new s2);break;case a2.TOTAL_PAGES:this.root.push(new r2),this.root.push(new hze),this.root.push(new n2),this.root.push(new s2);break;case a2.TOTAL_PAGES_IN_SECTION:this.root.push(new r2),this.root.push(new fze),this.root.push(new n2),this.root.push(new s2);break;case a2.CURRENT_SECTION:this.root.push(new r2),this.root.push(new mze),this.root.push(new n2),this.root.push(new s2);break;default:this.root.push(new nW(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new nW(t.text))}}class L3 extends v5{constructor(t){super(typeof t=="string"?{text:t}:t)}}var L4={},vs={},F4,sW;function x1(){if(sW)return F4;sW=1,F4=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,s,a){if(r!=s)throw new Error(a||"Assertion failed: "+r+" != "+s)},F4}var aW;function nh(){if(aW)return vs;aW=1;var e=x1(),t=pp();vs.inherits=t;function r(C,I){return(C.charCodeAt(I)&64512)!==55296||I<0||I+1>=C.length?!1:(C.charCodeAt(I+1)&64512)===56320}function s(C,I){if(Array.isArray(C))return C.slice();if(!C)return[];var O=[];if(typeof C=="string")if(I){if(I==="hex")for(C=C.replace(/[^a-z0-9]+/ig,""),C.length%2!==0&&(C="0"+C),re=0;re<C.length;re+=2)O.push(parseInt(C[re]+C[re+1],16))}else for(var H=0,re=0;re<C.length;re++){var U=C.charCodeAt(re);U<128?O[H++]=U:U<2048?(O[H++]=U>>6|192,O[H++]=U&63|128):r(C,re)?(U=65536+((U&1023)<<10)+(C.charCodeAt(++re)&1023),O[H++]=U>>18|240,O[H++]=U>>12&63|128,O[H++]=U>>6&63|128,O[H++]=U&63|128):(O[H++]=U>>12|224,O[H++]=U>>6&63|128,O[H++]=U&63|128)}else for(re=0;re<C.length;re++)O[re]=C[re]|0;return O}vs.toArray=s;function a(C){for(var I="",O=0;O<C.length;O++)I+=l(C[O].toString(16));return I}vs.toHex=a;function i(C){var I=C>>>24|C>>>8&65280|C<<8&16711680|(C&255)<<24;return I>>>0}vs.htonl=i;function o(C,I){for(var O="",H=0;H<C.length;H++){var re=C[H];I==="little"&&(re=i(re)),O+=c(re.toString(16))}return O}vs.toHex32=o;function l(C){return C.length===1?"0"+C:C}vs.zero2=l;function c(C){return C.length===7?"0"+C:C.length===6?"00"+C:C.length===5?"000"+C:C.length===4?"0000"+C:C.length===3?"00000"+C:C.length===2?"000000"+C:C.length===1?"0000000"+C:C}vs.zero8=c;function u(C,I,O,H){var re=O-I;e(re%4===0);for(var U=new Array(re/4),K=0,ee=I;K<U.length;K++,ee+=4){var X;H==="big"?X=C[ee]<<24|C[ee+1]<<16|C[ee+2]<<8|C[ee+3]:X=C[ee+3]<<24|C[ee+2]<<16|C[ee+1]<<8|C[ee],U[K]=X>>>0}return U}vs.join32=u;function d(C,I){for(var O=new Array(C.length*4),H=0,re=0;H<C.length;H++,re+=4){var U=C[H];I==="big"?(O[re]=U>>>24,O[re+1]=U>>>16&255,O[re+2]=U>>>8&255,O[re+3]=U&255):(O[re+3]=U>>>24,O[re+2]=U>>>16&255,O[re+1]=U>>>8&255,O[re]=U&255)}return O}vs.split32=d;function h(C,I){return C>>>I|C<<32-I}vs.rotr32=h;function m(C,I){return C<<I|C>>>32-I}vs.rotl32=m;function f(C,I){return C+I>>>0}vs.sum32=f;function x(C,I,O){return C+I+O>>>0}vs.sum32_3=x;function v(C,I,O,H){return C+I+O+H>>>0}vs.sum32_4=v;function g(C,I,O,H,re){return C+I+O+H+re>>>0}vs.sum32_5=g;function y(C,I,O,H){var re=C[I],U=C[I+1],K=H+U>>>0,ee=(K<H?1:0)+O+re;C[I]=ee>>>0,C[I+1]=K}vs.sum64=y;function j(C,I,O,H){var re=I+H>>>0,U=(re<I?1:0)+C+O;return U>>>0}vs.sum64_hi=j;function b(C,I,O,H){var re=I+H;return re>>>0}vs.sum64_lo=b;function _(C,I,O,H,re,U,K,ee){var X=0,B=I;B=B+H>>>0,X+=B<I?1:0,B=B+U>>>0,X+=B<U?1:0,B=B+ee>>>0,X+=B<ee?1:0;var D=C+O+re+K+X;return D>>>0}vs.sum64_4_hi=_;function S(C,I,O,H,re,U,K,ee){var X=I+H+U+ee;return X>>>0}vs.sum64_4_lo=S;function T(C,I,O,H,re,U,K,ee,X,B){var D=0,Q=I;Q=Q+H>>>0,D+=Q<I?1:0,Q=Q+U>>>0,D+=Q<U?1:0,Q=Q+ee>>>0,D+=Q<ee?1:0,Q=Q+B>>>0,D+=Q<B?1:0;var ie=C+O+re+K+X+D;return ie>>>0}vs.sum64_5_hi=T;function A(C,I,O,H,re,U,K,ee,X,B){var D=I+H+U+ee+B;return D>>>0}vs.sum64_5_lo=A;function L(C,I,O){var H=I<<32-O|C>>>O;return H>>>0}vs.rotr64_hi=L;function E(C,I,O){var H=C<<32-O|I>>>O;return H>>>0}vs.rotr64_lo=E;function q(C,I,O){return C>>>O}vs.shr64_hi=q;function M(C,I,O){var H=C<<32-O|I>>>O;return H>>>0}return vs.shr64_lo=M,vs}var B4={},iW;function y1(){if(iW)return B4;iW=1;var e=nh(),t=x1();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return B4.BlockHash=r,r.prototype.update=function(a,i){if(a=e.toArray(a,i),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=e.join32(a,0,a.length-o,this.endian);for(var l=0;l<a.length;l+=this._delta32)this._update(a,l,l+this._delta32)}return this},r.prototype.digest=function(a){return this.update(this._pad()),t(this.pending===null),this._digest(a)},r.prototype._pad=function(){var a=this.pendingTotal,i=this._delta8,o=i-(a+this.padLength)%i,l=new Array(o+this.padLength);l[0]=128;for(var c=1;c<o;c++)l[c]=0;if(a<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)l[c++]=0;l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=a>>>24&255,l[c++]=a>>>16&255,l[c++]=a>>>8&255,l[c++]=a&255}else for(l[c++]=a&255,l[c++]=a>>>8&255,l[c++]=a>>>16&255,l[c++]=a>>>24&255,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,u=8;u<this.padLength;u++)l[c++]=0;return l},B4}var Yp={},Ad={},oW;function jie(){if(oW)return Ad;oW=1;var e=nh(),t=e.rotr32;function r(d,h,m,f){if(d===0)return s(h,m,f);if(d===1||d===3)return i(h,m,f);if(d===2)return a(h,m,f)}Ad.ft_1=r;function s(d,h,m){return d&h^~d&m}Ad.ch32=s;function a(d,h,m){return d&h^d&m^h&m}Ad.maj32=a;function i(d,h,m){return d^h^m}Ad.p32=i;function o(d){return t(d,2)^t(d,13)^t(d,22)}Ad.s0_256=o;function l(d){return t(d,6)^t(d,11)^t(d,25)}Ad.s1_256=l;function c(d){return t(d,7)^t(d,18)^d>>>3}Ad.g0_256=c;function u(d){return t(d,17)^t(d,19)^d>>>10}return Ad.g1_256=u,Ad}var U4,lW;function Aze(){if(lW)return U4;lW=1;var e=nh(),t=y1(),r=jie(),s=e.rotl32,a=e.sum32,i=e.sum32_5,o=r.ft_1,l=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(u,l),U4=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(h,m){for(var f=this.W,x=0;x<16;x++)f[x]=h[m+x];for(;x<f.length;x++)f[x]=s(f[x-3]^f[x-8]^f[x-14]^f[x-16],1);var v=this.h[0],g=this.h[1],y=this.h[2],j=this.h[3],b=this.h[4];for(x=0;x<f.length;x++){var _=~~(x/20),S=i(s(v,5),o(_,g,y,j),b,f[x],c[_]);b=j,j=y,y=s(g,30),g=v,v=S}this.h[0]=a(this.h[0],v),this.h[1]=a(this.h[1],g),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],j),this.h[4]=a(this.h[4],b)},u.prototype._digest=function(h){return h==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},U4}var $4,cW;function Nie(){if(cW)return $4;cW=1;var e=nh(),t=y1(),r=jie(),s=x1(),a=e.sum32,i=e.sum32_4,o=e.sum32_5,l=r.ch32,c=r.maj32,u=r.s0_256,d=r.s1_256,h=r.g0_256,m=r.g1_256,f=t.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}return e.inherits(v,f),$4=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(y,j){for(var b=this.W,_=0;_<16;_++)b[_]=y[j+_];for(;_<b.length;_++)b[_]=i(m(b[_-2]),b[_-7],h(b[_-15]),b[_-16]);var S=this.h[0],T=this.h[1],A=this.h[2],L=this.h[3],E=this.h[4],q=this.h[5],M=this.h[6],C=this.h[7];for(s(this.k.length===b.length),_=0;_<b.length;_++){var I=o(C,d(E),l(E,q,M),this.k[_],b[_]),O=a(u(S),c(S,T,A));C=M,M=q,q=E,E=a(L,I),L=A,A=T,T=S,S=a(I,O)}this.h[0]=a(this.h[0],S),this.h[1]=a(this.h[1],T),this.h[2]=a(this.h[2],A),this.h[3]=a(this.h[3],L),this.h[4]=a(this.h[4],E),this.h[5]=a(this.h[5],q),this.h[6]=a(this.h[6],M),this.h[7]=a(this.h[7],C)},v.prototype._digest=function(y){return y==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},$4}var q4,uW;function Pze(){if(uW)return q4;uW=1;var e=nh(),t=Nie();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),q4=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(a){return a==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},q4}var z4,dW;function _ie(){if(dW)return z4;dW=1;var e=nh(),t=y1(),r=x1(),s=e.rotr64_hi,a=e.rotr64_lo,i=e.shr64_hi,o=e.shr64_lo,l=e.sum64,c=e.sum64_hi,u=e.sum64_lo,d=e.sum64_4_hi,h=e.sum64_4_lo,m=e.sum64_5_hi,f=e.sum64_5_lo,x=t.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}e.inherits(g,x),z4=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(O,H){for(var re=this.W,U=0;U<32;U++)re[U]=O[H+U];for(;U<re.length;U+=2){var K=M(re[U-4],re[U-3]),ee=C(re[U-4],re[U-3]),X=re[U-14],B=re[U-13],D=E(re[U-30],re[U-29]),Q=q(re[U-30],re[U-29]),ie=re[U-32],te=re[U-31];re[U]=d(K,ee,X,B,D,Q,ie,te),re[U+1]=h(K,ee,X,B,D,Q,ie,te)}},g.prototype._update=function(O,H){this._prepareBlock(O,H);var re=this.W,U=this.h[0],K=this.h[1],ee=this.h[2],X=this.h[3],B=this.h[4],D=this.h[5],Q=this.h[6],ie=this.h[7],te=this.h[8],he=this.h[9],W=this.h[10],V=this.h[11],oe=this.h[12],me=this.h[13],de=this.h[14],ue=this.h[15];r(this.k.length===re.length);for(var Pe=0;Pe<re.length;Pe+=2){var G=de,pe=ue,ce=A(te,he),$=L(te,he),z=y(te,he,W,V,oe),Z=j(te,he,W,V,oe,me),le=this.k[Pe],ge=this.k[Pe+1],we=re[Pe],Me=re[Pe+1],Be=m(G,pe,ce,$,z,Z,le,ge,we,Me),Le=f(G,pe,ce,$,z,Z,le,ge,we,Me);G=S(U,K),pe=T(U,K),ce=b(U,K,ee,X,B),$=_(U,K,ee,X,B,D);var Ge=c(G,pe,ce,$),it=u(G,pe,ce,$);de=oe,ue=me,oe=W,me=V,W=te,V=he,te=c(Q,ie,Be,Le),he=u(ie,ie,Be,Le),Q=B,ie=D,B=ee,D=X,ee=U,X=K,U=c(Be,Le,Ge,it),K=u(Be,Le,Ge,it)}l(this.h,0,U,K),l(this.h,2,ee,X),l(this.h,4,B,D),l(this.h,6,Q,ie),l(this.h,8,te,he),l(this.h,10,W,V),l(this.h,12,oe,me),l(this.h,14,de,ue)},g.prototype._digest=function(O){return O==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function y(I,O,H,re,U){var K=I&H^~I&U;return K<0&&(K+=4294967296),K}function j(I,O,H,re,U,K){var ee=O&re^~O&K;return ee<0&&(ee+=4294967296),ee}function b(I,O,H,re,U){var K=I&H^I&U^H&U;return K<0&&(K+=4294967296),K}function _(I,O,H,re,U,K){var ee=O&re^O&K^re&K;return ee<0&&(ee+=4294967296),ee}function S(I,O){var H=s(I,O,28),re=s(O,I,2),U=s(O,I,7),K=H^re^U;return K<0&&(K+=4294967296),K}function T(I,O){var H=a(I,O,28),re=a(O,I,2),U=a(O,I,7),K=H^re^U;return K<0&&(K+=4294967296),K}function A(I,O){var H=s(I,O,14),re=s(I,O,18),U=s(O,I,9),K=H^re^U;return K<0&&(K+=4294967296),K}function L(I,O){var H=a(I,O,14),re=a(I,O,18),U=a(O,I,9),K=H^re^U;return K<0&&(K+=4294967296),K}function E(I,O){var H=s(I,O,1),re=s(I,O,8),U=i(I,O,7),K=H^re^U;return K<0&&(K+=4294967296),K}function q(I,O){var H=a(I,O,1),re=a(I,O,8),U=o(I,O,7),K=H^re^U;return K<0&&(K+=4294967296),K}function M(I,O){var H=s(I,O,19),re=s(O,I,29),U=i(I,O,6),K=H^re^U;return K<0&&(K+=4294967296),K}function C(I,O){var H=a(I,O,19),re=a(O,I,29),U=o(I,O,6),K=H^re^U;return K<0&&(K+=4294967296),K}return z4}var W4,hW;function Tze(){if(hW)return W4;hW=1;var e=nh(),t=_ie();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),W4=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(a){return a==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},W4}var fW;function Oze(){return fW||(fW=1,Yp.sha1=Aze(),Yp.sha224=Pze(),Yp.sha256=Nie(),Yp.sha384=Tze(),Yp.sha512=_ie()),Yp}var V4={},mW;function Ize(){if(mW)return V4;mW=1;var e=nh(),t=y1(),r=e.rotl32,s=e.sum32,a=e.sum32_3,i=e.sum32_4,o=t.BlockHash;function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(l,o),V4.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(g,y){for(var j=this.h[0],b=this.h[1],_=this.h[2],S=this.h[3],T=this.h[4],A=j,L=b,E=_,q=S,M=T,C=0;C<80;C++){var I=s(r(i(j,c(C,b,_,S),g[h[C]+y],u(C)),f[C]),T);j=T,T=S,S=r(_,10),_=b,b=I,I=s(r(i(A,c(79-C,L,E,q),g[m[C]+y],d(C)),x[C]),M),A=M,M=q,q=r(E,10),E=L,L=I}I=a(this.h[1],_,q),this.h[1]=a(this.h[2],S,M),this.h[2]=a(this.h[3],T,A),this.h[3]=a(this.h[4],j,L),this.h[4]=a(this.h[0],b,E),this.h[0]=I},l.prototype._digest=function(g){return g==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function c(v,g,y,j){return v<=15?g^y^j:v<=31?g&y|~g&j:v<=47?(g|~y)^j:v<=63?g&j|y&~j:g^(y|~j)}function u(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function d(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return V4}var H4,pW;function Rze(){if(pW)return H4;pW=1;var e=nh(),t=x1();function r(s,a,i){if(!(this instanceof r))return new r(s,a,i);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(a,i))}return H4=r,r.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),t(a.length<=this.blockSize);for(var i=a.length;i<this.blockSize;i++)a.push(0);for(i=0;i<a.length;i++)a[i]^=54;for(this.inner=new this.Hash().update(a),i=0;i<a.length;i++)a[i]^=106;this.outer=new this.Hash().update(a)},r.prototype.update=function(a,i){return this.inner.update(a,i),this},r.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},H4}var gW;function Dze(){return gW||(gW=1,(function(e){var t=e;t.utils=nh(),t.common=y1(),t.sha=Oze(),t.ripemd=Ize(),t.hmac=Rze(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(L4)),L4}Dze();let Mze="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Lze=(e,t=21)=>(r=t)=>{let s="",a=r|0;for(;a--;)s+=e[Math.random()*e.length|0];return s},Fze=(e=21)=>{let t="",r=e|0;for(;r--;)t+=Mze[Math.random()*64|0];return t};const Bu=e=>Math.floor(e*72*20),T6=(e=0)=>{let t=e;return()=>++t},Bze=()=>T6(),Uze=()=>T6(1),$ze=()=>T6(),qze=()=>Fze().toLowerCase(),rw=e=>Lze("1234567890abcdef",e)(),zze=()=>`${rw(8)}-${rw(4)}-${rw(4)}-${rw(4)}-${rw(12)}`;class Wze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{xmlns:"xmlns"})}}class Vze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Hze={EXTERNAL:"External"};class Gze extends wt{constructor(t,r,s,a){super("Relationship"),this.root.push(new Vze({id:t,type:r,target:s,targetMode:a}))}}class hv extends wt{constructor(){super("Relationships"),this.root.push(new Wze({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,s,a){const i=new Gze(`rId${t}`,r,s,a);return this.root.push(i),i}get RelationshipCount(){return this.root.length-1}}class Kze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class Yze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Jze extends wt{constructor({id:t,initials:r,author:s,date:a=new Date,children:i}){super("w:comment"),this.root.push(new Kze({id:t,initials:r,author:s,date:a.toISOString()}));for(const o of i)this.root.push(o)}}class Xze extends wt{constructor({children:t}){super("w:comments"),pt(this,"relationships"),this.root.push(new Yze({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new Jze(r));this.relationships=new hv}get Relationships(){return this.relationships}}class Qze extends wt{constructor(){super("w:pageBreakBefore")}}const F3={AUTO:"auto"};class Zze extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class eWe extends wt{constructor(t){super("w:spacing"),this.root.push(new Zze(t))}}const B3={HEADING_1:"Heading1",HEADING_2:"Heading2"};let i2=class extends wt{constructor(t){super("w:pStyle"),this.root.push(new Qa({val:t}))}};class tWe extends wt{constructor(t){super("w:tabs");for(const r of t)this.root.push(new nWe(r))}}const vW={LEFT:"left",RIGHT:"right"};class rWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class nWe extends wt{constructor({type:t,position:r,leader:s}){super("w:tab"),this.root.push(new rWe({val:t,pos:r,leader:s}))}}class G4 extends wt{constructor(t,r){super("w:numPr"),this.root.push(new sWe(r)),this.root.push(new aWe(t))}}class sWe extends wt{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Qa({val:t}))}}class aWe extends wt{constructor(t){super("w:numId"),this.root.push(new Qa({val:typeof t=="string"?`{${t}}`:t}))}}class iWe extends wt{constructor(){super(...arguments),pt(this,"fileChild",Symbol())}}class oWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class lWe extends wt{constructor(t,r,s){super("w:hyperlink"),pt(this,"linkId"),this.linkId=r;const a={history:1,anchor:s||void 0,id:s?void 0:`rId${this.linkId}`},i=new oWe(a);this.root.push(i),t.forEach(o=>{this.root.push(o)})}}class cWe extends wt{constructor(t){super("w:externalHyperlink"),this.options=t}}class uWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class dWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{id:"w:id"})}}class hWe{constructor(t){pt(this,"bookmarkUniqueNumericId",$ze()),pt(this,"start"),pt(this,"children"),pt(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new fWe(t.id,r),this.children=t.children,this.end=new mWe(r)}}class fWe extends wt{constructor(t,r){super("w:bookmarkStart");const s=new uWe({name:t,id:r});this.root.push(s)}}class mWe extends wt{constructor(t){super("w:bookmarkEnd");const r=new dWe({id:t});this.root.push(r)}}class pWe extends wt{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Qa({val:t}))}}const gWe={TOP:"top",CENTER:"center",BOTTOM:"bottom"};gy(Pn({},gWe),{BOTH:"both"});class vWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{verticalAlign:"w:val"})}}class xWe extends wt{constructor(t){super("w:vAlign"),this.root.push(new vWe({verticalAlign:t}))}}class yWe extends wt{constructor({space:t,count:r,separate:s,equalWidth:a,children:i}){super("w:cols"),this.root.push(new f5({space:{key:"w:space",value:t===void 0?void 0:Qu(t)},count:{key:"w:num",value:r===void 0?void 0:Il(r)},separate:{key:"w:sep",value:s},equalWidth:{key:"w:equalWidth",value:a}})),!a&&i&&i.forEach(o=>this.addChildElement(o))}}const wWe=({type:e,linePitch:t,charSpace:r})=>new Qd({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:Il(t)},charSpace:{key:"w:charSpace",value:r?Il(r):void 0}}}),Ox={DEFAULT:"default",FIRST:"first",EVEN:"even"};class bWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const xW={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class K4 extends wt{constructor(t,r){super(t),this.root.push(new bWe({type:r.type||Ox.DEFAULT,id:`rId${r.id}`}))}}const jWe=({countBy:e,start:t,restart:r,distance:s})=>new Qd({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:Il(e)},start:{key:"w:start",value:t===void 0?void 0:Il(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:s===void 0?void 0:Qu(s)}}});class yW extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class NWe extends h5{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new yW({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new yW({})),t.pageBorderTop&&this.root.push(new Da("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Da("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Da("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Da("w:right",t.pageBorderRight))}}class _We extends wt{constructor(t,r,s,a,i,o,l){super("w:pgMar"),this.root.push(new f5({top:{key:"w:top",value:gg(t)},right:{key:"w:right",value:Qu(r)},bottom:{key:"w:bottom",value:gg(s)},left:{key:"w:left",value:Qu(a)},header:{key:"w:header",value:Qu(i)},footer:{key:"w:footer",value:Qu(o)},gutter:{key:"w:gutter",value:Qu(l)}}))}}class SWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class kWe extends wt{constructor({start:t,formatType:r,separator:s}){super("w:pgNumType"),this.root.push(new SWe({start:t===void 0?void 0:Il(t),formatType:r,separator:s}))}}const U3={PORTRAIT:"portrait",LANDSCAPE:"landscape"},CWe=({width:e,height:t,orientation:r,code:s})=>{const a=Qu(e),i=Qu(t);return new Qd({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===U3.LANDSCAPE?i:a},height:{key:"w:h",value:r===U3.LANDSCAPE?a:i},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:s}}})};class EWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val"})}}class AWe extends wt{constructor(t){super("w:textDirection"),this.root.push(new EWe({val:t}))}}class PWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val"})}}class TWe extends wt{constructor(t){super("w:type"),this.root.push(new PWe({val:t}))}}const Jp={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Y4={WIDTH:11906,HEIGHT:16838,ORIENTATION:U3.PORTRAIT};class OWe extends wt{constructor({page:{size:{width:t=Y4.WIDTH,height:r=Y4.HEIGHT,orientation:s=Y4.ORIENTATION}={},margin:{top:a=Jp.TOP,right:i=Jp.RIGHT,bottom:o=Jp.BOTTOM,left:l=Jp.LEFT,header:c=Jp.HEADER,footer:u=Jp.FOOTER,gutter:d=Jp.GUTTER}={},pageNumbers:h={},borders:m,textDirection:f}={},grid:{linePitch:x=360,charSpace:v,type:g}={},headerWrapperGroup:y={},footerWrapperGroup:j={},lineNumbers:b,titlePage:_,verticalAlign:S,column:T,type:A}={}){super("w:sectPr"),this.addHeaderFooterGroup(xW.HEADER,y),this.addHeaderFooterGroup(xW.FOOTER,j),A&&this.root.push(new TWe(A)),this.root.push(CWe({width:t,height:r,orientation:s})),this.root.push(new _We(a,i,o,l,c,u,d)),m&&this.root.push(new NWe(m)),b&&this.root.push(jWe(b)),this.root.push(new kWe(h)),T&&this.root.push(new yWe(T)),S&&this.root.push(new xWe(S)),_!==void 0&&this.root.push(new jt("w:titlePg",_)),f&&this.root.push(new AWe(f)),this.root.push(wWe({linePitch:x,charSpace:v,type:g}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new K4(t,{type:Ox.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new K4(t,{type:Ox.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new K4(t,{type:Ox.EVEN,id:r.even.View.ReferenceId}))}}class IWe extends wt{constructor(){super("w:body"),pt(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new OWe(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new nf({}),s=new by({});return s.push(t),r.addChildElement(s),r}}const wW={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class x5 extends Kr{constructor(t,r){super(Pn({Ignorable:r},Object.fromEntries(t.map(s=>[s,wW[s]])))),pt(this,"xmlKeys",Pn({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(wW).map(s=>[s,`xmlns:${s}`]))))}}class RWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class DWe extends wt{constructor(t){super("w:background"),this.root.push(new RWe({color:t.color===void 0?void 0:xy(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:tW(t.themeShade),themeTint:t.themeTint===void 0?void 0:tW(t.themeTint)}))}}class MWe extends wt{constructor(t){super("w:document"),pt(this,"body"),this.root.push(new x5(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new IWe,t.background&&this.root.push(new DWe(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class Sie{constructor(t){pt(this,"document"),pt(this,"relationships"),this.document=new MWe(t),this.relationships=new hv}get View(){return this.document}get Relationships(){return this.relationships}}class LWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val"})}}class FWe extends wt{constructor(){super("w:wordWrap"),this.root.push(new LWe({val:0}))}}const BWe=e=>{var t,r;return new Qd({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class by extends h5{constructor(t){var r,s;if(super("w:pPr"),pt(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new i2(t.heading)),t.bullet&&this.push(new i2("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new i2("ListParagraph"))),t.style&&this.push(new i2(t.style)),t.keepNext!==void 0&&this.push(new jt("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new jt("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new Qze),t.frame&&this.push(BWe(t.frame)),t.widowControl!==void 0&&this.push(new jt("w:widowControl",t.widowControl)),t.bullet&&this.push(new G4(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new G4(`${t.numbering.reference}-${(s=t.numbering.instance)!=null?s:0}`,t.numbering.level))):t.numbering===!1&&this.push(new G4(0,0)),t.border&&this.push(new oze(t.border)),t.thematicBreak&&this.push(new lze),t.shading&&this.push(new yie(t.shading)),t.wordWrap&&this.push(new FWe),t.overflowPunctuation&&this.push(new jt("w:overflowPunct",t.overflowPunctuation));const a=[...t.rightTabStop!==void 0?[{type:vW.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:vW.LEFT,position:t.leftTabStop}]:[]];a.length>0&&this.push(new tWe(a)),t.bidirectional!==void 0&&this.push(new jt("w:bidi",t.bidirectional)),t.spacing&&this.push(new eWe(t.spacing)),t.indent&&this.push(new cze(t.indent)),t.contextualSpacing!==void 0&&this.push(new jt("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new aze(t.alignment)),t.outlineLevel!==void 0&&this.push(new pWe(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new jt("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new jt("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new dv(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof Sie)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class nf extends iWe{constructor(t){if(super("w:p"),pt(this,"properties"),typeof t=="string")return this.properties=new by({}),this.root.push(this.properties),this.root.push(new L3(t)),this;if(this.properties=new by(t),this.root.push(this.properties),t.text&&this.root.push(new L3(t.text)),t.children)for(const r of t.children){if(r instanceof hWe){this.root.push(r.start);for(const s of r.children)this.root.push(s);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof cWe){const s=this.root.indexOf(r),a=new lWe(r.options.children,qze());t.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Hze.EXTERNAL),this.root[s]=a}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const ix={style:E6.NONE,size:0,color:"auto"},ox={style:E6.SINGLE,size:4,color:"auto"};class UWe extends wt{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Da("w:top",t.top)):this.root.push(new Da("w:top",ox)),t.left?this.root.push(new Da("w:left",t.left)):this.root.push(new Da("w:left",ox)),t.bottom?this.root.push(new Da("w:bottom",t.bottom)):this.root.push(new Da("w:bottom",ox)),t.right?this.root.push(new Da("w:right",t.right)):this.root.push(new Da("w:right",ox)),t.insideHorizontal?this.root.push(new Da("w:insideH",t.insideHorizontal)):this.root.push(new Da("w:insideH",ox)),t.insideVertical?this.root.push(new Da("w:insideV",t.insideVertical)):this.root.push(new Da("w:insideV",ox))}}pt(UWe,"NONE",{top:ix,bottom:ix,left:ix,right:ix,insideHorizontal:ix,insideVertical:ix});class $We extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class qWe extends wt{constructor(){super("Properties"),this.root.push(new $We({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class zWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{xmlns:"xmlns"})}}class WWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Bh extends wt{constructor(t,r){super("Default"),this.root.push(new WWe({contentType:t,extension:r}))}}class VWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Kc extends wt{constructor(t,r){super("Override"),this.root.push(new VWe({contentType:t,partName:r}))}}class HWe extends wt{constructor(){super("Types"),this.root.push(new zWe({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Bh("image/png","png")),this.root.push(new Bh("image/jpeg","jpeg")),this.root.push(new Bh("image/jpeg","jpg")),this.root.push(new Bh("image/bmp","bmp")),this.root.push(new Bh("image/gif","gif")),this.root.push(new Bh("image/svg+xml","svg")),this.root.push(new Bh("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Bh("application/xml","xml")),this.root.push(new Bh("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Kc("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new Kc("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class GWe extends wt{constructor(t){super("cp:coreProperties"),this.root.push(new x5(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new Kp("dc:title",t.title)),t.subject&&this.root.push(new Kp("dc:subject",t.subject)),t.creator&&this.root.push(new Kp("dc:creator",t.creator)),t.keywords&&this.root.push(new Kp("cp:keywords",t.keywords)),t.description&&this.root.push(new Kp("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new Kp("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new Kp("cp:revision",String(t.revision))),this.root.push(new bW("dcterms:created")),this.root.push(new bW("dcterms:modified"))}}class KWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{type:"xsi:type"})}}class bW extends wt{constructor(t){super(t),this.root.push(new KWe({type:"dcterms:W3CDTF"})),this.root.push(nze(new Date))}}class YWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class JWe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class XWe extends wt{constructor(t,r){super("property"),this.root.push(new JWe({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new QWe(r.value))}}class QWe extends wt{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class ZWe extends wt{constructor(t){super("Properties"),pt(this,"nextId"),pt(this,"properties",[]),this.root.push(new YWe({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new XWe(this.nextId++,t))}}const o2=({id:e,fontKey:t,subsetted:r},s)=>new Qd({name:s,attributes:Pn({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new jt("w:subsetted",r)]:[]]}),eVe=({name:e,altName:t,panose1:r,charset:s,family:a,notTrueType:i,pitch:o,sig:l,embedRegular:c,embedBold:u,embedItalic:d,embedBoldItalic:h})=>new Qd({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[tw("w:altName",t)]:[],...r?[tw("w:panose1",r)]:[],...s?[tw("w:charset",s)]:[],tw("w:family",a),...i?[new jt("w:notTrueType",i)]:[],tw("w:pitch",o),...l?[new Qd({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...c?[o2(c,"w:embedRegular")]:[],...u?[o2(u,"w:embedBold")]:[],...d?[o2(d,"w:embedItalic")]:[],...h?[o2(h,"w:embedBoldItalic")]:[]]}),tVe=({name:e,index:t,fontKey:r,characterSet:s})=>eVe({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:s,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),rVe=e=>new Qd({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>tVe({name:t.name,index:r+1,fontKey:t.fontKey}))});class nVe{constructor(t){pt(this,"fontTable"),pt(this,"relationships"),pt(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>gy(Pn({},r),{fontKey:zze()})),this.fontTable=rVe(this.fontOptionsWithKey),this.relationships=new hv;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class sVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let aVe=class extends pie{constructor(t,r){super("w:ftr",r),pt(this,"refId"),this.refId=t,r||this.root.push(new sVe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class iVe{constructor(t,r,s){pt(this,"footer"),pt(this,"relationships"),this.media=t,this.footer=new aVe(r,s),this.relationships=new hv}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class oVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class lVe extends wt{constructor(){super("w:footnoteRef")}}class cVe extends v5{constructor(){super({style:"FootnoteReference"}),this.root.push(new lVe)}}const jW={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class J4 extends wt{constructor(t){super("w:footnote"),this.root.push(new oVe({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const s=t.children[r];r===0&&s.addRunToFront(new cVe),this.root.push(s)}}}class uVe extends wt{constructor(){super("w:continuationSeparator")}}class dVe extends v5{constructor(){super({}),this.root.push(new uVe)}}class hVe extends wt{constructor(){super("w:separator")}}class fVe extends v5{constructor(){super({}),this.root.push(new hVe)}}class mVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class pVe extends wt{constructor(){super("w:footnotes"),this.root.push(new mVe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new J4({id:-1,type:jW.SEPERATOR,children:[new nf({spacing:{after:0,line:240,lineRule:F3.AUTO},children:[new fVe]})]});this.root.push(t);const r=new J4({id:0,type:jW.CONTINUATION_SEPERATOR,children:[new nf({spacing:{after:0,line:240,lineRule:F3.AUTO},children:[new dVe]})]});this.root.push(r)}createFootNote(t,r){const s=new J4({id:t,children:r});this.root.push(s)}}class gVe{constructor(){pt(this,"footnotess"),pt(this,"relationships"),this.footnotess=new pVe,this.relationships=new hv}get View(){return this.footnotess}get Relationships(){return this.relationships}}class vVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let xVe=class extends pie{constructor(t,r){super("w:hdr",r),pt(this,"refId"),this.refId=t,r||this.root.push(new vVe({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class yVe{constructor(t,r,s){pt(this,"header"),pt(this,"relationships"),this.media=t,this.header=new xVe(r,s),this.relationships=new hv}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class wVe{constructor(){pt(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const Uh={BULLET:"bullet"};class bVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class jVe extends wt{constructor(t){super("w:numFmt"),this.root.push(new Qa({val:t}))}}class NVe extends wt{constructor(t){super("w:lvlText"),this.root.push(new Qa({val:t}))}}class _Ve extends wt{constructor(t){super("w:lvlJc"),this.root.push(new Qa({val:t}))}}class SVe extends wt{constructor(t){super("w:suff"),this.root.push(new Qa({val:t}))}}class kVe extends wt{constructor(){super("w:isLgl")}}class CVe extends wt{constructor({level:t,format:r,text:s,alignment:a=Ql.START,start:i=1,style:o,suffix:l,isLegalNumberingStyle:c}){if(super("w:lvl"),pt(this,"paragraphProperties"),pt(this,"runProperties"),this.root.push(new Aw("w:start",Il(i))),r&&this.root.push(new jVe(r)),l&&this.root.push(new SVe(l)),c&&this.root.push(new kVe),s&&this.root.push(new NVe(s)),this.root.push(new _Ve(a)),this.paragraphProperties=new by(o&&o.paragraph),this.runProperties=new dv(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new bVe({ilvl:Il(t),tentative:1}))}}class EVe extends CVe{}class AVe extends wt{constructor(t){super("w:multiLevelType"),this.root.push(new Qa({val:t}))}}class PVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class NW extends wt{constructor(t,r){super("w:abstractNum"),pt(this,"id"),this.root.push(new PVe({abstractNumId:Il(t),restartNumberingAfterBreak:0})),this.root.push(new AVe("hybridMultilevel")),this.id=t;for(const s of r)this.root.push(new EVe(s))}}class TVe extends wt{constructor(t){super("w:abstractNumId"),this.root.push(new Qa({val:t}))}}class OVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{numId:"w:numId"})}}class _W extends wt{constructor(t){if(super("w:num"),pt(this,"numId"),pt(this,"reference"),pt(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new OVe({numId:Il(t.numId)})),this.root.push(new TVe(Il(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new RVe(r.num,r.start))}}class IVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class RVe extends wt{constructor(t,r){super("w:lvlOverride"),this.root.push(new IVe({ilvl:t})),r!==void 0&&this.root.push(new MVe(r))}}class DVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val"})}}class MVe extends wt{constructor(t){super("w:startOverride"),this.root.push(new DVe({val:t}))}}class LVe extends wt{constructor(t){super("w:numbering"),pt(this,"abstractNumberingMap",new Map),pt(this,"concreteNumberingMap",new Map),pt(this,"referenceConfigMap",new Map),pt(this,"abstractNumUniqueNumericId",Bze()),pt(this,"concreteNumUniqueNumericId",Uze()),this.root.push(new x5(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new NW(this.abstractNumUniqueNumericId(),[{level:0,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:Bu(.5),hanging:Bu(.25)}}}},{level:1,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:Bu(1),hanging:Bu(.25)}}}},{level:2,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:2160,hanging:Bu(.25)}}}},{level:3,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:2880,hanging:Bu(.25)}}}},{level:4,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:3600,hanging:Bu(.25)}}}},{level:5,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:4320,hanging:Bu(.25)}}}},{level:6,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:5040,hanging:Bu(.25)}}}},{level:7,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:5760,hanging:Bu(.25)}}}},{level:8,format:Uh.BULLET,text:"",alignment:Ql.LEFT,style:{paragraph:{indent:{left:6480,hanging:Bu(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new _W({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const s of t.config)this.abstractNumberingMap.set(s.reference,new NW(this.abstractNumUniqueNumericId(),s.levels)),this.referenceConfigMap.set(s.reference,s.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const s=this.abstractNumberingMap.get(t);if(!s)return;const a=`${t}-${r}`;if(this.concreteNumberingMap.has(a))return;const i=this.referenceConfigMap.get(t),o=i&&i[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:s.id,reference:t,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new _W(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class FVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class BVe extends wt{constructor(t){super("w:compatSetting"),this.root.push(new FVe({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class UVe extends wt{constructor(t){super("w:compat"),t.version&&this.root.push(new BVe(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new jt("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new jt("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new jt("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new jt("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new jt("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new jt("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new jt("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new jt("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new jt("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new jt("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new jt("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new jt("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new jt("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new jt("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new jt("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new jt("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new jt("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new jt("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new jt("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new jt("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new jt("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new jt("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new jt("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new jt("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new jt("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new jt("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new jt("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new jt("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new jt("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new jt("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new jt("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new jt("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new jt("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new jt("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new jt("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new jt("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new jt("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new jt("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new jt("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new jt("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new jt("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new jt("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new jt("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new jt("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new jt("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new jt("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new jt("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new jt("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new jt("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new jt("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new jt("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new jt("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new jt("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new jt("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new jt("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new jt("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new jt("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new jt("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new jt("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new jt("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new jt("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new jt("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new jt("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new jt("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new jt("w:cachedColBalance",t.cachedColumnBalance))}}class $Ve extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class qVe extends wt{constructor(t){var r,s,a,i,o,l,c,u;super("w:settings"),this.root.push(new $Ve({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new jt("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new jt("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new jt("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new jt("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new Aw("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new jt("w:autoHyphenation",t.hyphenation.autoHyphenation)),((s=t.hyphenation)==null?void 0:s.hyphenationZone)!==void 0&&this.root.push(new Aw("w:hyphenationZone",t.hyphenation.hyphenationZone)),((a=t.hyphenation)==null?void 0:a.consecutiveHyphenLimit)!==void 0&&this.root.push(new Aw("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((i=t.hyphenation)==null?void 0:i.doNotHyphenateCaps)!==void 0&&this.root.push(new jt("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new UVe(gy(Pn({},(o=t.compatibility)!=null?o:{}),{version:(u=(c=(l=t.compatibility)==null?void 0:l.version)!=null?c:t.compatibilityModeVersion)!=null?u:15})))}}class kie extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{val:"w:val"})}}class zVe extends wt{constructor(t){super("w:name"),this.root.push(new kie({val:t}))}}class WVe extends wt{constructor(t){super("w:uiPriority"),this.root.push(new kie({val:Il(t)}))}}class VVe extends Kr{constructor(){super(...arguments),pt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Cie extends wt{constructor(t,r){super("w:style"),this.root.push(new VVe(t)),r.name&&this.root.push(new zVe(r.name)),r.basedOn&&this.root.push(new Tx("w:basedOn",r.basedOn)),r.next&&this.root.push(new Tx("w:next",r.next)),r.link&&this.root.push(new Tx("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new WVe(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new jt("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new jt("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new jt("w:qFormat",r.quickFormat))}}class y5 extends Cie{constructor(t){super({type:"paragraph",styleId:t.id},t),pt(this,"paragraphProperties"),pt(this,"runProperties"),this.paragraphProperties=new by(t.paragraph),this.runProperties=new dv(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class w5 extends Cie{constructor(t){super({type:"character",styleId:t.id},Pn({uiPriority:99,unhideWhenUsed:!0},t)),pt(this,"runProperties"),this.runProperties=new dv(t.run),this.root.push(this.runProperties)}}class gp extends y5{constructor(t){super(Pn({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class HVe extends gp{constructor(t){super(Pn({id:"Title",name:"Title"},t))}}class GVe extends gp{constructor(t){super(Pn({id:"Heading1",name:"Heading 1"},t))}}class KVe extends gp{constructor(t){super(Pn({id:"Heading2",name:"Heading 2"},t))}}class YVe extends gp{constructor(t){super(Pn({id:"Heading3",name:"Heading 3"},t))}}class JVe extends gp{constructor(t){super(Pn({id:"Heading4",name:"Heading 4"},t))}}class XVe extends gp{constructor(t){super(Pn({id:"Heading5",name:"Heading 5"},t))}}class QVe extends gp{constructor(t){super(Pn({id:"Heading6",name:"Heading 6"},t))}}class ZVe extends gp{constructor(t){super(Pn({id:"Strong",name:"Strong"},t))}}class eHe extends y5{constructor(t){super(Pn({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class tHe extends y5{constructor(t){super(Pn({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:F3.AUTO}},run:{size:20}},t))}}class rHe extends w5{constructor(t){super(Pn({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class nHe extends w5{constructor(t){super(Pn({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class sHe extends w5{constructor(t){super(Pn({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:bie.SINGLE}}},t))}}class $3 extends wt{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new y5(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new w5(r))}}class aHe extends wt{constructor(t){super("w:pPrDefault"),this.root.push(new by(t))}}class iHe extends wt{constructor(t){super("w:rPrDefault"),this.root.push(new dv(t))}}class oHe extends wt{constructor(t){super("w:docDefaults"),pt(this,"runPropertiesDefaults"),pt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new iHe(t.run),this.paragraphPropertiesDefaults=new aHe(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class lHe{newInstance(t){const r=mie.xml2js(t,{compact:!1});let s;for(const o of r.elements||[])o.name==="w:styles"&&(s=o);if(s===void 0)throw new Error("can not find styles element");const a=s.elements||[];return new $3({initialStyles:new Zqe(s.attributes),importedStyles:a.map(o=>C6(o))})}}class SW{newInstance(t={}){var r;return{initialStyles:new x5(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new oHe((r=t.document)!=null?r:{}),new HVe(Pn({run:{size:56}},t.title)),new GVe(Pn({run:{color:"2E74B5",size:32}},t.heading1)),new KVe(Pn({run:{color:"2E74B5",size:26}},t.heading2)),new YVe(Pn({run:{color:"1F4D78",size:24}},t.heading3)),new JVe(Pn({run:{color:"2E74B5",italics:!0}},t.heading4)),new XVe(Pn({run:{color:"2E74B5"}},t.heading5)),new QVe(Pn({run:{color:"1F4D78"}},t.heading6)),new ZVe(Pn({run:{bold:!0}},t.strong)),new eHe(t.listParagraph||{}),new sHe(t.hyperlink||{}),new rHe(t.footnoteReference||{}),new tHe(t.footnoteText||{}),new nHe(t.footnoteTextChar||{})]}}}let Eie=class{constructor(t){pt(this,"currentRelationshipId",1),pt(this,"documentWrapper"),pt(this,"headers",[]),pt(this,"footers",[]),pt(this,"coreProperties"),pt(this,"numbering"),pt(this,"media"),pt(this,"fileRelationships"),pt(this,"footnotesWrapper"),pt(this,"settings"),pt(this,"contentTypes"),pt(this,"customProperties"),pt(this,"appProperties"),pt(this,"styles"),pt(this,"comments"),pt(this,"fontWrapper");var r,s,a,i,o,l,c,u,d,h,m,f;if(this.coreProperties=new GWe(gy(Pn({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(s=t.revision)!=null?s:1,lastModifiedBy:(a=t.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new LVe(t.numbering?t.numbering:{config:[]}),this.comments=new Xze((i=t.comments)!=null?i:{children:[]}),this.fileRelationships=new hv,this.customProperties=new ZWe((o=t.customProperties)!=null?o:[]),this.appProperties=new qWe,this.footnotesWrapper=new gVe,this.contentTypes=new HWe,this.documentWrapper=new Sie({background:t.background}),this.settings=new qVe({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(l=t.features)==null?void 0:l.trackRevisions,updateFields:(c=t.features)==null?void 0:c.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(u=t.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(d=t.hyphenation)==null?void 0:d.hyphenationZone,consecutiveHyphenLimit:(h=t.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(m=t.hyphenation)==null?void 0:m.doNotHyphenateCaps}}),this.media=new wVe,t.externalStyles!==void 0){const x=new lHe;this.styles=x.newInstance(t.externalStyles)}else if(t.styles){const v=new SW().newInstance(t.styles.default);this.styles=new $3(Pn(Pn({},v),t.styles))}else{const x=new SW;this.styles=new $3(x.newInstance())}this.addDefaultRelationships();for(const x of t.sections)this.addSection(x);if(t.footnotes)for(const x in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(x),t.footnotes[x].children);this.fontWrapper=new nVe((f=t.fonts)!=null?f:[])}addSection({headers:t={},footers:r={},children:s,properties:a}){this.documentWrapper.View.Body.addSection(gy(Pn({},a),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const i of s)this.documentWrapper.View.add(i)}createHeader(t){const r=new yVe(this.media,this.currentRelationshipId++);for(const s of t.options.children)r.add(s);return this.addHeaderToDocument(r),r}createFooter(t){const r=new iVe(this.media,this.currentRelationshipId++);for(const s of t.options.children)r.add(s);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Ox.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Ox.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var cHe=_6();function l2(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var X4={exports:{}},kW;function uHe(){return kW||(kW=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(s,a,i){function o(u,d){if(!a[u]){if(!s[u]){var h=typeof l2=="function"&&l2;if(!d&&h)return h(u,!0);if(l)return l(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var f=a[u]={exports:{}};s[u][0].call(f.exports,function(x){var v=s[u][1][x];return o(v||x)},f,f.exports,r,s,a,i)}return a[u].exports}for(var l=typeof l2=="function"&&l2,c=0;c<i.length;c++)o(i[c]);return o})({1:[function(r,s,a){var i=r("./utils"),o=r("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var u,d,h,m,f,x,v,g=[],y=0,j=c.length,b=j,_=i.getTypeOf(c)!=="string";y<c.length;)b=j-y,h=_?(u=c[y++],d=y<j?c[y++]:0,y<j?c[y++]:0):(u=c.charCodeAt(y++),d=y<j?c.charCodeAt(y++):0,y<j?c.charCodeAt(y++):0),m=u>>2,f=(3&u)<<4|d>>4,x=1<b?(15&d)<<2|h>>6:64,v=2<b?63&h:64,g.push(l.charAt(m)+l.charAt(f)+l.charAt(x)+l.charAt(v));return g.join("")},a.decode=function(c){var u,d,h,m,f,x,v=0,g=0,y="data:";if(c.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var j,b=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&b--,c.charAt(c.length-2)===l.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=o.uint8array?new Uint8Array(0|b):new Array(0|b);v<c.length;)u=l.indexOf(c.charAt(v++))<<2|(m=l.indexOf(c.charAt(v++)))>>4,d=(15&m)<<4|(f=l.indexOf(c.charAt(v++)))>>2,h=(3&f)<<6|(x=l.indexOf(c.charAt(v++))),j[g++]=u,f!==64&&(j[g++]=d),x!==64&&(j[g++]=h);return j}},{"./support":30,"./utils":32}],2:[function(r,s,a){var i=r("./external"),o=r("./stream/DataWorker"),l=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function u(d,h,m,f,x){this.compressedSize=d,this.uncompressedSize=h,this.crc32=m,this.compression=f,this.compressedContent=x}u.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,h,m){return d.pipe(new l).pipe(new c("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},s.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,s,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,s,a){var i=r("./utils"),o=(function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c})();s.exports=function(l,c){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?(function(u,d,h,m){var f=o,x=m+h;u^=-1;for(var v=m;v<x;v++)u=u>>>8^f[255&(u^d[v])];return-1^u})(0|c,l,l.length,0):(function(u,d,h,m){var f=o,x=m+h;u^=-1;for(var v=m;v<x;v++)u=u>>>8^f[255&(u^d.charCodeAt(v))];return-1^u})(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(r,s,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,s,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),s.exports={Promise:i}},{lie:37}],7:[function(r,s,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),l=r("./utils"),c=r("./stream/GenericWorker"),u=i?"uint8array":"array";function d(h,m){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}a.magic="\b\0",l.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},a.compressWorker=function(h){return new d("Deflate",h)},a.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,s,a){function i(f,x){var v,g="";for(v=0;v<x;v++)g+=String.fromCharCode(255&f),f>>>=8;return g}function o(f,x,v,g,y,j){var b,_,S=f.file,T=f.compression,A=j!==u.utf8encode,L=l.transformTo("string",j(S.name)),E=l.transformTo("string",u.utf8encode(S.name)),q=S.comment,M=l.transformTo("string",j(q)),C=l.transformTo("string",u.utf8encode(q)),I=E.length!==S.name.length,O=C.length!==q.length,H="",re="",U="",K=S.dir,ee=S.date,X={crc32:0,compressedSize:0,uncompressedSize:0};x&&!v||(X.crc32=f.crc32,X.compressedSize=f.compressedSize,X.uncompressedSize=f.uncompressedSize);var B=0;x&&(B|=8),A||!I&&!O||(B|=2048);var D=0,Q=0;K&&(D|=16),y==="UNIX"?(Q=798,D|=(function(te,he){var W=te;return te||(W=he?16893:33204),(65535&W)<<16})(S.unixPermissions,K)):(Q=20,D|=(function(te){return 63&(te||0)})(S.dosPermissions)),b=ee.getUTCHours(),b<<=6,b|=ee.getUTCMinutes(),b<<=5,b|=ee.getUTCSeconds()/2,_=ee.getUTCFullYear()-1980,_<<=4,_|=ee.getUTCMonth()+1,_<<=5,_|=ee.getUTCDate(),I&&(re=i(1,1)+i(d(L),4)+E,H+="up"+i(re.length,2)+re),O&&(U=i(1,1)+i(d(M),4)+C,H+="uc"+i(U.length,2)+U);var ie="";return ie+=`
\0`,ie+=i(B,2),ie+=T.magic,ie+=i(b,2),ie+=i(_,2),ie+=i(X.crc32,4),ie+=i(X.compressedSize,4),ie+=i(X.uncompressedSize,4),ie+=i(L.length,2),ie+=i(H.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ie+L+H,dirRecord:h.CENTRAL_FILE_HEADER+i(Q,2)+ie+i(M.length,2)+"\0\0\0\0"+i(D,4)+i(g,4)+L+H+M}}var l=r("../utils"),c=r("../stream/GenericWorker"),u=r("../utf8"),d=r("../crc32"),h=r("../signature");function m(f,x,v,g){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=v,this.encodeFileName=g,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,c),m.prototype.push=function(f){var x=f.meta.percent||0,v=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:v?(x+100*(v-g-1))/v:100}}))},m.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var x=this.streamFiles&&!f.file.dir;if(x){var v=o(f,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(f){this.accumulate=!1;var x=this.streamFiles&&!f.file.dir,v=o(f,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),x)this.push({data:(function(g){return h.DATA_DESCRIPTOR+i(g.crc32,4)+i(g.compressedSize,4)+i(g.uncompressedSize,4)})(f),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var f=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var v=this.bytesWritten-f,g=(function(y,j,b,_,S){var T=l.transformTo("string",S(_));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(j,4)+i(b,4)+i(T.length,2)+T})(this.dirRecords.length,v,f,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(f){this._sources.push(f);var x=this;return f.on("data",function(v){x.processChunk(v)}),f.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),f.on("error",function(v){x.error(v)}),this},m.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(f){var x=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var v=0;v<x.length;v++)try{x[v].error(f)}catch{}return!0},m.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,x=0;x<f.length;x++)f[x].lock()},s.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,s,a){var i=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(l,c,u){var d=new o(c.streamFiles,u,c.platform,c.encodeFileName),h=0;try{l.forEach(function(m,f){h++;var x=(function(j,b){var _=j||b,S=i[_];if(!S)throw new Error(_+" is not a valid compression method !");return S})(f.options.compression,c.compression),v=f.options.compressionOptions||c.compressionOptions||{},g=f.dir,y=f.date;f._compressWorker(x,v).withStreamInfo("file",{name:m,dir:g,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(m){d.error(m)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,s,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,l){return new i().loadAsync(o,l)},i.external=r("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,s,a){var i=r("./utils"),o=r("./external"),l=r("./utf8"),c=r("./zipEntries"),u=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(m){return new o.Promise(function(f,x){var v=m.decompressed.getContentWorker().pipe(new u);v.on("error",function(g){x(g)}).on("end",function(){v.streamInfo.crc32!==m.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}s.exports=function(m,f){var x=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,f.optimizedBinaryString,f.base64).then(function(v){var g=new c(f);return g.load(v),g}).then(function(v){var g=[o.Promise.resolve(v)],y=v.files;if(f.checkCRC32)for(var j=0;j<y.length;j++)g.push(h(y[j]));return o.Promise.all(g)}).then(function(v){for(var g=v.shift(),y=g.files,j=0;j<y.length;j++){var b=y[j],_=b.fileNameStr,S=i.resolve(b.fileNameStr);x.file(S,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:f.createFolders}),b.dir||(x.file(S).unsafeOriginalName=_)}return g.zipComment.length&&(x.comment=g.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,s,a){var i=r("../utils"),o=r("../stream/GenericWorker");function l(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(l,o),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,s,a){var i=r("readable-stream").Readable;function o(l,c,u){i.call(this,c),this._helper=l;var d=this;l.on("data",function(h,m){d.push(h)||d._helper.pause(),u&&u(m)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},s.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,s,a){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,s,a){function i(S,T,A){var L,E=l.getTypeOf(T),q=l.extend(A||{},d);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(S=y(S)),q.createFolders&&(L=g(S))&&j.call(this,L,!0);var M=E==="string"&&q.binary===!1&&q.base64===!1;A&&A.binary!==void 0||(q.binary=!M),(T instanceof h&&T.uncompressedSize===0||q.dir||!T||T.length===0)&&(q.base64=!1,q.binary=!0,T="",q.compression="STORE",E="string");var C=null;C=T instanceof h||T instanceof c?T:x.isNode&&x.isStream(T)?new v(S,T):l.prepareContent(S,T,q.binary,q.optimizedBinaryString,q.base64);var I=new m(S,C,q);this.files[S]=I}var o=r("./utf8"),l=r("./utils"),c=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),m=r("./zipObject"),f=r("./generate"),x=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),g=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var T=S.lastIndexOf("/");return 0<T?S.substring(0,T):""},y=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},j=function(S,T){return T=T!==void 0?T:d.createFolders,S=y(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:T}),this.files[S]};function b(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var T,A,L;for(T in this.files)L=this.files[T],(A=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&S(A,L)},filter:function(S){var T=[];return this.forEach(function(A,L){S(A,L)&&T.push(L)}),T},file:function(S,T,A){if(arguments.length!==1)return S=this.root+S,i.call(this,S,T,A),this;if(b(S)){var L=S;return this.filter(function(q,M){return!M.dir&&L.test(q)})}var E=this.files[this.root+S];return E&&!E.dir?E:null},folder:function(S){if(!S)return this;if(b(S))return this.filter(function(E,q){return q.dir&&S.test(E)});var T=this.root+S,A=j.call(this,T),L=this.clone();return L.root=A.name,L},remove:function(S){S=this.root+S;var T=this.files[S];if(T||(S.slice(-1)!=="/"&&(S+="/"),T=this.files[S]),T&&!T.dir)delete this.files[S];else for(var A=this.filter(function(E,q){return q.name.slice(0,S.length)===S}),L=0;L<A.length;L++)delete this.files[A[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var T,A={};try{if((A=l.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");l.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var L=A.comment||this.comment||"";T=f.generateWorker(this,A,L)}catch(E){(T=new c("error")).error(E)}return new u(T,A.type||"string",A.mimeType)},generateAsync:function(S,T){return this.generateInternalStream(S).accumulate(T)},generateNodeStream:function(S,T){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(T)}};s.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,s,a){s.exports=r("stream")},{stream:void 0}],17:[function(r,s,a){var i=r("./DataReader");function o(l){i.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}r("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===c&&this.data[m+1]===u&&this.data[m+2]===d&&this.data[m+3]===h)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),m=this.readData(4);return c===m[0]&&u===m[1]&&d===m[2]&&h===m[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},s.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,s,a){var i=r("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},s.exports=o},{"../utils":32}],19:[function(r,s,a){var i=r("./Uint8ArrayReader");function o(l){i.call(this,l)}r("../utils").inherits(o,i),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},s.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,s,a){var i=r("./DataReader");function o(l){i.call(this,l)}r("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},s.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,s,a){var i=r("./ArrayReader");function o(l){i.call(this,l)}r("../utils").inherits(o,i),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},s.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,s,a){var i=r("../utils"),o=r("../support"),l=r("./ArrayReader"),c=r("./StringReader"),u=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");s.exports=function(h){var m=i.getTypeOf(h);return i.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(h):o.uint8array?new d(i.transformTo("uint8array",h)):new l(i.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,s,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,s,a){var i=r("./GenericWorker"),o=r("../utils");function l(c){i.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,i),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},s.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(r,s,a){var i=r("./GenericWorker"),o=r("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(l,i),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},s.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,s,a){var i=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(l,o),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},s.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(r,s,a){var i=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=i.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}i.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,s,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},s.exports=i},{}],29:[function(r,s,a){var i=r("../utils"),o=r("./ConvertWorker"),l=r("./GenericWorker"),c=r("../base64"),u=r("../support"),d=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(x,v){return new d.Promise(function(g,y){var j=[],b=x._internalType,_=x._outputType,S=x._mimeType;x.on("data",function(T,A){j.push(T),v&&v(A)}).on("error",function(T){j=[],y(T)}).on("end",function(){try{var T=(function(A,L,E){switch(A){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),E);case"base64":return c.encode(L);default:return i.transformTo(A,L)}})(_,(function(A,L){var E,q=0,M=null,C=0;for(E=0;E<L.length;E++)C+=L[E].length;switch(A){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(M=new Uint8Array(C),E=0;E<L.length;E++)M.set(L[E],q),q+=L[E].length;return M;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+A+"'")}})(b,j),S);g(T)}catch(A){y(A)}j=[]}).resume()})}function f(x,v,g){var y=v;switch(v){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=v,this._mimeType=g,i.checkSupport(y),this._worker=x.pipe(new o(y)),x.lock()}catch(j){this._worker=new l("error"),this._worker.error(j)}}f.prototype={accumulate:function(x){return m(this,x)},on:function(x,v){var g=this;return x==="data"?this._worker.on(x,function(y){v.call(g,y.data,y.meta)}):this._worker.on(x,function(){i.delay(v,arguments,g)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},x)}},s.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,s,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,s,a){for(var i=r("./utils"),o=r("./support"),l=r("./nodejsUtils"),c=r("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function m(){c.call(this,"utf-8 encode")}a.utf8encode=function(f){return o.nodebuffer?l.newBufferFrom(f,"utf-8"):(function(x){var v,g,y,j,b,_=x.length,S=0;for(j=0;j<_;j++)(64512&(g=x.charCodeAt(j)))==55296&&j+1<_&&(64512&(y=x.charCodeAt(j+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),j++),S+=g<128?1:g<2048?2:g<65536?3:4;for(v=o.uint8array?new Uint8Array(S):new Array(S),j=b=0;b<S;j++)(64512&(g=x.charCodeAt(j)))==55296&&j+1<_&&(64512&(y=x.charCodeAt(j+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),j++),g<128?v[b++]=g:(g<2048?v[b++]=192|g>>>6:(g<65536?v[b++]=224|g>>>12:(v[b++]=240|g>>>18,v[b++]=128|g>>>12&63),v[b++]=128|g>>>6&63),v[b++]=128|63&g);return v})(f)},a.utf8decode=function(f){return o.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):(function(x){var v,g,y,j,b=x.length,_=new Array(2*b);for(v=g=0;v<b;)if((y=x[v++])<128)_[g++]=y;else if(4<(j=u[y]))_[g++]=65533,v+=j-1;else{for(y&=j===2?31:j===3?15:7;1<j&&v<b;)y=y<<6|63&x[v++],j--;1<j?_[g++]=65533:y<65536?_[g++]=y:(y-=65536,_[g++]=55296|y>>10&1023,_[g++]=56320|1023&y)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),i.applyFromCharCode(_)})(f=i.transformTo(o.uint8array?"uint8array":"array",f))},i.inherits(h,c),h.prototype.processChunk=function(f){var x=i.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=x;(x=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),x.set(v,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var g=(function(j,b){var _;for((b=b||j.length)>j.length&&(b=j.length),_=b-1;0<=_&&(192&j[_])==128;)_--;return _<0||_===0?b:_+u[j[_]]>b?_:b})(x),y=x;g!==x.length&&(o.uint8array?(y=x.subarray(0,g),this.leftOver=x.subarray(g,x.length)):(y=x.slice(0,g),this.leftOver=x.slice(g,x.length))),this.push({data:a.utf8decode(y),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=h,i.inherits(m,c),m.prototype.processChunk=function(f){this.push({data:a.utf8encode(f.data),meta:f.meta})},a.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,s,a){var i=r("./support"),o=r("./base64"),l=r("./nodejsUtils"),c=r("./external");function u(v){return v}function d(v,g){for(var y=0;y<v.length;++y)g[y]=255&v.charCodeAt(y);return g}r("setimmediate"),a.newBlob=function(v,g){a.checkSupport("blob");try{return new Blob([v],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(v),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(v,g,y){var j=[],b=0,_=v.length;if(_<=y)return String.fromCharCode.apply(null,v);for(;b<_;)g==="array"||g==="nodebuffer"?j.push(String.fromCharCode.apply(null,v.slice(b,Math.min(b+y,_)))):j.push(String.fromCharCode.apply(null,v.subarray(b,Math.min(b+y,_)))),b+=y;return j.join("")},stringifyByChar:function(v){for(var g="",y=0;y<v.length;y++)g+=String.fromCharCode(v[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function m(v){var g=65536,y=a.getTypeOf(v),j=!0;if(y==="uint8array"?j=h.applyCanBeUsed.uint8array:y==="nodebuffer"&&(j=h.applyCanBeUsed.nodebuffer),j)for(;1<g;)try{return h.stringifyByChunk(v,y,g)}catch{g=Math.floor(g/2)}return h.stringifyByChar(v)}function f(v,g){for(var y=0;y<v.length;y++)g[y]=v[y];return g}a.applyFromCharCode=m;var x={};x.string={string:u,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return x.string.uint8array(v).buffer},uint8array:function(v){return d(v,new Uint8Array(v.length))},nodebuffer:function(v){return d(v,l.allocBuffer(v.length))}},x.array={string:m,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},x.arraybuffer={string:function(v){return m(new Uint8Array(v))},array:function(v){return f(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},x.uint8array={string:m,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return l.newBufferFrom(v)}},x.nodebuffer={string:m,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return x.nodebuffer.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:u},a.transformTo=function(v,g){if(g=g||"",!v)return g;a.checkSupport(v);var y=a.getTypeOf(g);return x[y][v](g)},a.resolve=function(v){for(var g=v.split("/"),y=[],j=0;j<g.length;j++){var b=g[j];b==="."||b===""&&j!==0&&j!==g.length-1||(b===".."?y.pop():y.push(b))}return y.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(v)?"nodebuffer":i.uint8array&&v instanceof Uint8Array?"uint8array":i.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!i[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var g,y,j="";for(y=0;y<(v||"").length;y++)j+="\\x"+((g=v.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return j},a.delay=function(v,g,y){setImmediate(function(){v.apply(y||null,g||[])})},a.inherits=function(v,g){function y(){}y.prototype=g.prototype,v.prototype=new y},a.extend=function(){var v,g,y={};for(v=0;v<arguments.length;v++)for(g in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],g)&&y[g]===void 0&&(y[g]=arguments[v][g]);return y},a.prepareContent=function(v,g,y,j,b){return c.Promise.resolve(g).then(function(_){return i.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new c.Promise(function(S,T){var A=new FileReader;A.onload=function(L){S(L.target.result)},A.onerror=function(L){T(L.target.error)},A.readAsArrayBuffer(_)}):_}).then(function(_){var S=a.getTypeOf(_);return S?(S==="arraybuffer"?_=a.transformTo("uint8array",_):S==="string"&&(b?_=o.decode(_):y&&j!==!0&&(_=(function(T){return d(T,i.uint8array?new Uint8Array(T.length):new Array(T.length))})(_))),_):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,s,a){var i=r("./reader/readerFor"),o=r("./utils"),l=r("./signature"),c=r("./zipEntry"),u=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(h)+")")}},isSignature:function(h,m){var f=this.reader.index;this.reader.setIndex(h);var x=this.reader.readString(4)===m;return this.reader.setIndex(f),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",f=o.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,f,x=this.zip64EndOfCentralSize-44;0<x;)h=this.reader.readInt(2),m=this.reader.readInt(4),f=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var x=m-f;if(0<x)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,s,a){var i=r("./reader/readerFor"),o=r("./utils"),l=r("./compressedObject"),c=r("./crc32"),u=r("./utf8"),d=r("./compressions"),h=r("./support");function m(f,x){this.options=f,this.loadOptions=x}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var x,v;if(f.skip(22),this.fileNameLength=f.readInt(2),v=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(g){for(var y in d)if(Object.prototype.hasOwnProperty.call(d,y)&&d[y].magic===g)return d[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var x=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(x),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var x,v,g,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)x=f.readInt(2),v=f.readInt(2),g=f.readData(v),this.extraFields[x]={id:x,length:v,value:g};f.setIndex(y)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var v=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var x=i(f.value);return x.readInt(1)!==1||c(this.fileName)!==x.readInt(4)?null:u.utf8decode(x.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var x=i(f.value);return x.readInt(1)!==1||c(this.fileComment)!==x.readInt(4)?null:u.utf8decode(x.readData(f.length-5))}return null}},s.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,s,a){function i(x,v,g){this.name=x,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=v,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),l=r("./stream/DataWorker"),c=r("./utf8"),u=r("./compressedObject"),d=r("./stream/GenericWorker");i.prototype={internalStream:function(x){var v=null,g="string";try{if(!x)throw new Error("No output type specified.");var y=(g=x.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),v=this._decompressWorker();var j=!this._dataBinary;j&&!y&&(v=v.pipe(new c.Utf8EncodeWorker)),!j&&y&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(b){(v=new d("error")).error(b)}return new o(v,g,"")},async:function(x,v){return this.internalStream(x).accumulate(v)},nodeStream:function(x,v){return this.internalStream(x||"nodebuffer").toNodejsStream(v)},_compressWorker:function(x,v){if(this._data instanceof u&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(g,x,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)i.prototype[h[f]]=m;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,s,a){(function(i){var o,l,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,d=new c(x),h=i.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var v=i.document.createElement("script");v.onreadystatechange=function(){x(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},i.document.documentElement.appendChild(v)}:function(){setTimeout(x,0)};else{var m=new i.MessageChannel;m.port1.onmessage=x,o=function(){m.port2.postMessage(0)}}var f=[];function x(){var v,g;l=!0;for(var y=f.length;y;){for(g=f,f=[],v=-1;++v<y;)g[v]();y=f.length}l=!1}s.exports=function(v){f.push(v)!==1||l||o()}}).call(this,typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,s,a){var i=r("immediate");function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function h(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,y!==o&&v(this,y)}function m(y,j,b){this.promise=y,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function f(y,j,b){i(function(){var _;try{_=j(b)}catch(S){return l.reject(y,S)}_===y?l.reject(y,new TypeError("Cannot resolve promise with itself")):l.resolve(y,_)})}function x(y){var j=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof j=="function")return function(){j.apply(y,arguments)}}function v(y,j){var b=!1;function _(A){b||(b=!0,l.reject(y,A))}function S(A){b||(b=!0,l.resolve(y,A))}var T=g(function(){j(S,_)});T.status==="error"&&_(T.value)}function g(y,j){var b={};try{b.value=y(j),b.status="success"}catch(_){b.status="error",b.value=_}return b}(s.exports=h).prototype.finally=function(y){if(typeof y!="function")return this;var j=this.constructor;return this.then(function(b){return j.resolve(y()).then(function(){return b})},function(b){return j.resolve(y()).then(function(){throw b})})},h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,j){if(typeof y!="function"&&this.state===u||typeof j!="function"&&this.state===c)return this;var b=new this.constructor(o);return this.state!==d?f(b,this.state===u?y:j,this.outcome):this.queue.push(new m(b,y,j)),b},m.prototype.callFulfilled=function(y){l.resolve(this.promise,y)},m.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},m.prototype.callRejected=function(y){l.reject(this.promise,y)},m.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},l.resolve=function(y,j){var b=g(x,j);if(b.status==="error")return l.reject(y,b.value);var _=b.value;if(_)v(y,_);else{y.state=u,y.outcome=j;for(var S=-1,T=y.queue.length;++S<T;)y.queue[S].callFulfilled(j)}return y},l.reject=function(y,j){y.state=c,y.outcome=j;for(var b=-1,_=y.queue.length;++b<_;)y.queue[b].callRejected(j);return y},h.resolve=function(y){return y instanceof this?y:l.resolve(new this(o),y)},h.reject=function(y){var j=new this(o);return l.reject(j,y)},h.all=function(y){var j=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,_=!1;if(!b)return this.resolve([]);for(var S=new Array(b),T=0,A=-1,L=new this(o);++A<b;)E(y[A],A);return L;function E(q,M){j.resolve(q).then(function(C){S[M]=C,++T!==b||_||(_=!0,l.resolve(L,S))},function(C){_||(_=!0,l.reject(L,C))})}},h.race=function(y){var j=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,_=!1;if(!b)return this.resolve([]);for(var S=-1,T=new this(o);++S<b;)A=y[S],j.resolve(A).then(function(L){_||(_=!0,l.resolve(T,L))},function(L){_||(_=!0,l.reject(T,L))});var A;return T}},{immediate:36}],38:[function(r,s,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,s,a){var i=r("./zlib/deflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/messages"),u=r("./zlib/zstream"),d=Object.prototype.toString,h=0,m=-1,f=0,x=8;function v(y){if(!(this instanceof v))return new v(y);this.options=o.assign({level:m,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=i.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(b!==h)throw new Error(c[b]);if(j.header&&i.deflateSetHeader(this.strm,j.header),j.dictionary){var _;if(_=typeof j.dictionary=="string"?l.string2buf(j.dictionary):d.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(b=i.deflateSetDictionary(this.strm,_))!==h)throw new Error(c[b]);this._dict_set=!0}}function g(y,j){var b=new v(j);if(b.push(y,!0),b.err)throw b.msg||c[b.err];return b.result}v.prototype.push=function(y,j){var b,_,S=this.strm,T=this.options.chunkSize;if(this.ended)return!1;_=j===~~j?j:j===!0?4:0,typeof y=="string"?S.input=l.string2buf(y):d.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(T),S.next_out=0,S.avail_out=T),(b=i.deflate(S,_))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&b!==1);return _===4?(b=i.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):_!==2||(this.onEnd(h),!(S.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Deflate=v,a.deflate=g,a.deflateRaw=function(y,j){return(j=j||{}).raw=!0,g(y,j)},a.gzip=function(y,j){return(j=j||{}).gzip=!0,g(y,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,s,a){var i=r("./zlib/inflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/constants"),u=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),m=Object.prototype.toString;function f(v){if(!(this instanceof f))return new f(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||v&&v.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,g.windowBits);if(y!==c.Z_OK)throw new Error(u[y]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function x(v,g){var y=new f(g);if(y.push(v,!0),y.err)throw y.msg||u[y.err];return y.result}f.prototype.push=function(v,g){var y,j,b,_,S,T,A=this.strm,L=this.options.chunkSize,E=this.options.dictionary,q=!1;if(this.ended)return!1;j=g===~~g?g:g===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?A.input=l.binstring2buf(v):m.call(v)==="[object ArrayBuffer]"?A.input=new Uint8Array(v):A.input=v,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(L),A.next_out=0,A.avail_out=L),(y=i.inflate(A,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&E&&(T=typeof E=="string"?l.string2buf(E):m.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,y=i.inflateSetDictionary(this.strm,T)),y===c.Z_BUF_ERROR&&q===!0&&(y=c.Z_OK,q=!1),y!==c.Z_STREAM_END&&y!==c.Z_OK)return this.onEnd(y),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&y!==c.Z_STREAM_END&&(A.avail_in!==0||j!==c.Z_FINISH&&j!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=l.utf8border(A.output,A.next_out),_=A.next_out-b,S=l.buf2string(A.output,b),A.next_out=_,A.avail_out=L-_,_&&o.arraySet(A.output,A.output,b,_,0),this.onData(S)):this.onData(o.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(q=!0)}while((0<A.avail_in||A.avail_out===0)&&y!==c.Z_STREAM_END);return y===c.Z_STREAM_END&&(j=c.Z_FINISH),j===c.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c.Z_OK):j!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(A.avail_out=0))},f.prototype.onData=function(v){this.chunks.push(v)},f.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=f,a.inflate=x,a.inflateRaw=function(v,g){return(g=g||{}).raw=!0,x(v,g)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,s,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},a.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,d,h,m){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+h),m);else for(var f=0;f<h;f++)c[m+f]=u[d+f]},flattenChunks:function(c){var u,d,h,m,f,x;for(u=h=0,d=c.length;u<d;u++)h+=c[u].length;for(x=new Uint8Array(h),u=m=0,d=c.length;u<d;u++)f=c[u],x.set(f,m),m+=f.length;return x}},l={arraySet:function(c,u,d,h,m){for(var f=0;f<h;f++)c[m+f]=u[d+f]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(i)},{}],42:[function(r,s,a){var i=r("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(h,m){if(m<65537&&(h.subarray&&l||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,m));for(var f="",x=0;x<m;x++)f+=String.fromCharCode(h[x]);return f}c[254]=c[254]=1,a.string2buf=function(h){var m,f,x,v,g,y=h.length,j=0;for(v=0;v<y;v++)(64512&(f=h.charCodeAt(v)))==55296&&v+1<y&&(64512&(x=h.charCodeAt(v+1)))==56320&&(f=65536+(f-55296<<10)+(x-56320),v++),j+=f<128?1:f<2048?2:f<65536?3:4;for(m=new i.Buf8(j),v=g=0;g<j;v++)(64512&(f=h.charCodeAt(v)))==55296&&v+1<y&&(64512&(x=h.charCodeAt(v+1)))==56320&&(f=65536+(f-55296<<10)+(x-56320),v++),f<128?m[g++]=f:(f<2048?m[g++]=192|f>>>6:(f<65536?m[g++]=224|f>>>12:(m[g++]=240|f>>>18,m[g++]=128|f>>>12&63),m[g++]=128|f>>>6&63),m[g++]=128|63&f);return m},a.buf2binstring=function(h){return d(h,h.length)},a.binstring2buf=function(h){for(var m=new i.Buf8(h.length),f=0,x=m.length;f<x;f++)m[f]=h.charCodeAt(f);return m},a.buf2string=function(h,m){var f,x,v,g,y=m||h.length,j=new Array(2*y);for(f=x=0;f<y;)if((v=h[f++])<128)j[x++]=v;else if(4<(g=c[v]))j[x++]=65533,f+=g-1;else{for(v&=g===2?31:g===3?15:7;1<g&&f<y;)v=v<<6|63&h[f++],g--;1<g?j[x++]=65533:v<65536?j[x++]=v:(v-=65536,j[x++]=55296|v>>10&1023,j[x++]=56320|1023&v)}return d(j,x)},a.utf8border=function(h,m){var f;for((m=m||h.length)>h.length&&(m=h.length),f=m-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?m:f+c[h[f]]>m?f:m}},{"./common":41}],43:[function(r,s,a){s.exports=function(i,o,l,c){for(var u=65535&i|0,d=i>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;d=d+(u=u+o[c++]|0)|0,--h;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(r,s,a){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,s,a){var i=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();s.exports=function(o,l,c,u){var d=i,h=u+c;o^=-1;for(var m=u;m<h;m++)o=o>>>8^d[255&(o^l[m])];return-1^o}},{}],46:[function(r,s,a){var i,o=r("../utils/common"),l=r("./trees"),c=r("./adler32"),u=r("./crc32"),d=r("./messages"),h=0,m=4,f=0,x=-2,v=-1,g=4,y=2,j=8,b=9,_=286,S=30,T=19,A=2*_+1,L=15,E=3,q=258,M=q+E+1,C=42,I=113,O=1,H=2,re=3,U=4;function K(G,pe){return G.msg=d[pe],pe}function ee(G){return(G<<1)-(4<G?9:0)}function X(G){for(var pe=G.length;0<=--pe;)G[pe]=0}function B(G){var pe=G.state,ce=pe.pending;ce>G.avail_out&&(ce=G.avail_out),ce!==0&&(o.arraySet(G.output,pe.pending_buf,pe.pending_out,ce,G.next_out),G.next_out+=ce,pe.pending_out+=ce,G.total_out+=ce,G.avail_out-=ce,pe.pending-=ce,pe.pending===0&&(pe.pending_out=0))}function D(G,pe){l._tr_flush_block(G,0<=G.block_start?G.block_start:-1,G.strstart-G.block_start,pe),G.block_start=G.strstart,B(G.strm)}function Q(G,pe){G.pending_buf[G.pending++]=pe}function ie(G,pe){G.pending_buf[G.pending++]=pe>>>8&255,G.pending_buf[G.pending++]=255&pe}function te(G,pe){var ce,$,z=G.max_chain_length,Z=G.strstart,le=G.prev_length,ge=G.nice_match,we=G.strstart>G.w_size-M?G.strstart-(G.w_size-M):0,Me=G.window,Be=G.w_mask,Le=G.prev,Ge=G.strstart+q,it=Me[Z+le-1],ut=Me[Z+le];G.prev_length>=G.good_match&&(z>>=2),ge>G.lookahead&&(ge=G.lookahead);do if(Me[(ce=pe)+le]===ut&&Me[ce+le-1]===it&&Me[ce]===Me[Z]&&Me[++ce]===Me[Z+1]){Z+=2,ce++;do;while(Me[++Z]===Me[++ce]&&Me[++Z]===Me[++ce]&&Me[++Z]===Me[++ce]&&Me[++Z]===Me[++ce]&&Me[++Z]===Me[++ce]&&Me[++Z]===Me[++ce]&&Me[++Z]===Me[++ce]&&Me[++Z]===Me[++ce]&&Z<Ge);if($=q-(Ge-Z),Z=Ge-q,le<$){if(G.match_start=pe,ge<=(le=$))break;it=Me[Z+le-1],ut=Me[Z+le]}}while((pe=Le[pe&Be])>we&&--z!=0);return le<=G.lookahead?le:G.lookahead}function he(G){var pe,ce,$,z,Z,le,ge,we,Me,Be,Le=G.w_size;do{if(z=G.window_size-G.lookahead-G.strstart,G.strstart>=Le+(Le-M)){for(o.arraySet(G.window,G.window,Le,Le,0),G.match_start-=Le,G.strstart-=Le,G.block_start-=Le,pe=ce=G.hash_size;$=G.head[--pe],G.head[pe]=Le<=$?$-Le:0,--ce;);for(pe=ce=Le;$=G.prev[--pe],G.prev[pe]=Le<=$?$-Le:0,--ce;);z+=Le}if(G.strm.avail_in===0)break;if(le=G.strm,ge=G.window,we=G.strstart+G.lookahead,Me=z,Be=void 0,Be=le.avail_in,Me<Be&&(Be=Me),ce=Be===0?0:(le.avail_in-=Be,o.arraySet(ge,le.input,le.next_in,Be,we),le.state.wrap===1?le.adler=c(le.adler,ge,Be,we):le.state.wrap===2&&(le.adler=u(le.adler,ge,Be,we)),le.next_in+=Be,le.total_in+=Be,Be),G.lookahead+=ce,G.lookahead+G.insert>=E)for(Z=G.strstart-G.insert,G.ins_h=G.window[Z],G.ins_h=(G.ins_h<<G.hash_shift^G.window[Z+1])&G.hash_mask;G.insert&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[Z+E-1])&G.hash_mask,G.prev[Z&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=Z,Z++,G.insert--,!(G.lookahead+G.insert<E)););}while(G.lookahead<M&&G.strm.avail_in!==0)}function W(G,pe){for(var ce,$;;){if(G.lookahead<M){if(he(G),G.lookahead<M&&pe===h)return O;if(G.lookahead===0)break}if(ce=0,G.lookahead>=E&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+E-1])&G.hash_mask,ce=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),ce!==0&&G.strstart-ce<=G.w_size-M&&(G.match_length=te(G,ce)),G.match_length>=E)if($=l._tr_tally(G,G.strstart-G.match_start,G.match_length-E),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=E){for(G.match_length--;G.strstart++,G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+E-1])&G.hash_mask,ce=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart,--G.match_length!=0;);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+1])&G.hash_mask;else $=l._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if($&&(D(G,!1),G.strm.avail_out===0))return O}return G.insert=G.strstart<E-1?G.strstart:E-1,pe===m?(D(G,!0),G.strm.avail_out===0?re:U):G.last_lit&&(D(G,!1),G.strm.avail_out===0)?O:H}function V(G,pe){for(var ce,$,z;;){if(G.lookahead<M){if(he(G),G.lookahead<M&&pe===h)return O;if(G.lookahead===0)break}if(ce=0,G.lookahead>=E&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+E-1])&G.hash_mask,ce=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=E-1,ce!==0&&G.prev_length<G.max_lazy_match&&G.strstart-ce<=G.w_size-M&&(G.match_length=te(G,ce),G.match_length<=5&&(G.strategy===1||G.match_length===E&&4096<G.strstart-G.match_start)&&(G.match_length=E-1)),G.prev_length>=E&&G.match_length<=G.prev_length){for(z=G.strstart+G.lookahead-E,$=l._tr_tally(G,G.strstart-1-G.prev_match,G.prev_length-E),G.lookahead-=G.prev_length-1,G.prev_length-=2;++G.strstart<=z&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+E-1])&G.hash_mask,ce=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),--G.prev_length!=0;);if(G.match_available=0,G.match_length=E-1,G.strstart++,$&&(D(G,!1),G.strm.avail_out===0))return O}else if(G.match_available){if(($=l._tr_tally(G,0,G.window[G.strstart-1]))&&D(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return O}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&($=l._tr_tally(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<E-1?G.strstart:E-1,pe===m?(D(G,!0),G.strm.avail_out===0?re:U):G.last_lit&&(D(G,!1),G.strm.avail_out===0)?O:H}function oe(G,pe,ce,$,z){this.good_length=G,this.max_lazy=pe,this.nice_length=ce,this.max_chain=$,this.func=z}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*_+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(G){var pe;return G&&G.state?(G.total_in=G.total_out=0,G.data_type=y,(pe=G.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?C:I,G.adler=pe.wrap===2?0:1,pe.last_flush=h,l._tr_init(pe),f):K(G,x)}function ue(G){var pe=de(G);return pe===f&&(function(ce){ce.window_size=2*ce.w_size,X(ce.head),ce.max_lazy_match=i[ce.level].max_lazy,ce.good_match=i[ce.level].good_length,ce.nice_match=i[ce.level].nice_length,ce.max_chain_length=i[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=E-1,ce.match_available=0,ce.ins_h=0})(G.state),pe}function Pe(G,pe,ce,$,z,Z){if(!G)return x;var le=1;if(pe===v&&(pe=6),$<0?(le=0,$=-$):15<$&&(le=2,$-=16),z<1||b<z||ce!==j||$<8||15<$||pe<0||9<pe||Z<0||g<Z)return K(G,x);$===8&&($=9);var ge=new me;return(G.state=ge).strm=G,ge.wrap=le,ge.gzhead=null,ge.w_bits=$,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=z+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+E-1)/E),ge.window=new o.Buf8(2*ge.w_size),ge.head=new o.Buf16(ge.hash_size),ge.prev=new o.Buf16(ge.w_size),ge.lit_bufsize=1<<z+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new o.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=pe,ge.strategy=Z,ge.method=ce,ue(G)}i=[new oe(0,0,0,0,function(G,pe){var ce=65535;for(ce>G.pending_buf_size-5&&(ce=G.pending_buf_size-5);;){if(G.lookahead<=1){if(he(G),G.lookahead===0&&pe===h)return O;if(G.lookahead===0)break}G.strstart+=G.lookahead,G.lookahead=0;var $=G.block_start+ce;if((G.strstart===0||G.strstart>=$)&&(G.lookahead=G.strstart-$,G.strstart=$,D(G,!1),G.strm.avail_out===0)||G.strstart-G.block_start>=G.w_size-M&&(D(G,!1),G.strm.avail_out===0))return O}return G.insert=0,pe===m?(D(G,!0),G.strm.avail_out===0?re:U):(G.strstart>G.block_start&&(D(G,!1),G.strm.avail_out),O)}),new oe(4,4,8,4,W),new oe(4,5,16,8,W),new oe(4,6,32,32,W),new oe(4,4,16,16,V),new oe(8,16,32,32,V),new oe(8,16,128,128,V),new oe(8,32,128,256,V),new oe(32,128,258,1024,V),new oe(32,258,258,4096,V)],a.deflateInit=function(G,pe){return Pe(G,pe,j,15,8,0)},a.deflateInit2=Pe,a.deflateReset=ue,a.deflateResetKeep=de,a.deflateSetHeader=function(G,pe){return G&&G.state?G.state.wrap!==2?x:(G.state.gzhead=pe,f):x},a.deflate=function(G,pe){var ce,$,z,Z;if(!G||!G.state||5<pe||pe<0)return G?K(G,x):x;if($=G.state,!G.output||!G.input&&G.avail_in!==0||$.status===666&&pe!==m)return K(G,G.avail_out===0?-5:x);if($.strm=G,ce=$.last_flush,$.last_flush=pe,$.status===C)if($.wrap===2)G.adler=0,Q($,31),Q($,139),Q($,8),$.gzhead?(Q($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),Q($,255&$.gzhead.time),Q($,$.gzhead.time>>8&255),Q($,$.gzhead.time>>16&255),Q($,$.gzhead.time>>24&255),Q($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Q($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(Q($,255&$.gzhead.extra.length),Q($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(G.adler=u(G.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(Q($,0),Q($,0),Q($,0),Q($,0),Q($,0),Q($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Q($,3),$.status=I);else{var le=j+($.w_bits-8<<4)<<8;le|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(le|=32),le+=31-le%31,$.status=I,ie($,le),$.strstart!==0&&(ie($,G.adler>>>16),ie($,65535&G.adler)),G.adler=1}if($.status===69)if($.gzhead.extra){for(z=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>z&&(G.adler=u(G.adler,$.pending_buf,$.pending-z,z)),B(G),z=$.pending,$.pending!==$.pending_buf_size));)Q($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>z&&(G.adler=u(G.adler,$.pending_buf,$.pending-z,z)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){z=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>z&&(G.adler=u(G.adler,$.pending_buf,$.pending-z,z)),B(G),z=$.pending,$.pending===$.pending_buf_size)){Z=1;break}Z=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,Q($,Z)}while(Z!==0);$.gzhead.hcrc&&$.pending>z&&(G.adler=u(G.adler,$.pending_buf,$.pending-z,z)),Z===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){z=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>z&&(G.adler=u(G.adler,$.pending_buf,$.pending-z,z)),B(G),z=$.pending,$.pending===$.pending_buf_size)){Z=1;break}Z=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,Q($,Z)}while(Z!==0);$.gzhead.hcrc&&$.pending>z&&(G.adler=u(G.adler,$.pending_buf,$.pending-z,z)),Z===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&B(G),$.pending+2<=$.pending_buf_size&&(Q($,255&G.adler),Q($,G.adler>>8&255),G.adler=0,$.status=I)):$.status=I),$.pending!==0){if(B(G),G.avail_out===0)return $.last_flush=-1,f}else if(G.avail_in===0&&ee(pe)<=ee(ce)&&pe!==m)return K(G,-5);if($.status===666&&G.avail_in!==0)return K(G,-5);if(G.avail_in!==0||$.lookahead!==0||pe!==h&&$.status!==666){var ge=$.strategy===2?(function(we,Me){for(var Be;;){if(we.lookahead===0&&(he(we),we.lookahead===0)){if(Me===h)return O;break}if(we.match_length=0,Be=l._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,Be&&(D(we,!1),we.strm.avail_out===0))return O}return we.insert=0,Me===m?(D(we,!0),we.strm.avail_out===0?re:U):we.last_lit&&(D(we,!1),we.strm.avail_out===0)?O:H})($,pe):$.strategy===3?(function(we,Me){for(var Be,Le,Ge,it,ut=we.window;;){if(we.lookahead<=q){if(he(we),we.lookahead<=q&&Me===h)return O;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=E&&0<we.strstart&&(Le=ut[Ge=we.strstart-1])===ut[++Ge]&&Le===ut[++Ge]&&Le===ut[++Ge]){it=we.strstart+q;do;while(Le===ut[++Ge]&&Le===ut[++Ge]&&Le===ut[++Ge]&&Le===ut[++Ge]&&Le===ut[++Ge]&&Le===ut[++Ge]&&Le===ut[++Ge]&&Le===ut[++Ge]&&Ge<it);we.match_length=q-(it-Ge),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=E?(Be=l._tr_tally(we,1,we.match_length-E),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(Be=l._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),Be&&(D(we,!1),we.strm.avail_out===0))return O}return we.insert=0,Me===m?(D(we,!0),we.strm.avail_out===0?re:U):we.last_lit&&(D(we,!1),we.strm.avail_out===0)?O:H})($,pe):i[$.level].func($,pe);if(ge!==re&&ge!==U||($.status=666),ge===O||ge===re)return G.avail_out===0&&($.last_flush=-1),f;if(ge===H&&(pe===1?l._tr_align($):pe!==5&&(l._tr_stored_block($,0,0,!1),pe===3&&(X($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),B(G),G.avail_out===0))return $.last_flush=-1,f}return pe!==m?f:$.wrap<=0?1:($.wrap===2?(Q($,255&G.adler),Q($,G.adler>>8&255),Q($,G.adler>>16&255),Q($,G.adler>>24&255),Q($,255&G.total_in),Q($,G.total_in>>8&255),Q($,G.total_in>>16&255),Q($,G.total_in>>24&255)):(ie($,G.adler>>>16),ie($,65535&G.adler)),B(G),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?f:1)},a.deflateEnd=function(G){var pe;return G&&G.state?(pe=G.state.status)!==C&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==I&&pe!==666?K(G,x):(G.state=null,pe===I?K(G,-3):f):x},a.deflateSetDictionary=function(G,pe){var ce,$,z,Z,le,ge,we,Me,Be=pe.length;if(!G||!G.state||(Z=(ce=G.state).wrap)===2||Z===1&&ce.status!==C||ce.lookahead)return x;for(Z===1&&(G.adler=c(G.adler,pe,Be,0)),ce.wrap=0,Be>=ce.w_size&&(Z===0&&(X(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Me=new o.Buf8(ce.w_size),o.arraySet(Me,pe,Be-ce.w_size,ce.w_size,0),pe=Me,Be=ce.w_size),le=G.avail_in,ge=G.next_in,we=G.input,G.avail_in=Be,G.next_in=0,G.input=pe,he(ce);ce.lookahead>=E;){for($=ce.strstart,z=ce.lookahead-(E-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[$+E-1])&ce.hash_mask,ce.prev[$&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=$,$++,--z;);ce.strstart=$,ce.lookahead=E-1,he(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=E-1,ce.match_available=0,G.next_in=ge,G.input=we,G.avail_in=le,ce.wrap=Z,f},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,s,a){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,s,a){s.exports=function(i,o){var l,c,u,d,h,m,f,x,v,g,y,j,b,_,S,T,A,L,E,q,M,C,I,O,H;l=i.state,c=i.next_in,O=i.input,u=c+(i.avail_in-5),d=i.next_out,H=i.output,h=d-(o-i.avail_out),m=d+(i.avail_out-257),f=l.dmax,x=l.wsize,v=l.whave,g=l.wnext,y=l.window,j=l.hold,b=l.bits,_=l.lencode,S=l.distcode,T=(1<<l.lenbits)-1,A=(1<<l.distbits)-1;e:do{b<15&&(j+=O[c++]<<b,b+=8,j+=O[c++]<<b,b+=8),L=_[j&T];t:for(;;){if(j>>>=E=L>>>24,b-=E,(E=L>>>16&255)===0)H[d++]=65535&L;else{if(!(16&E)){if((64&E)==0){L=_[(65535&L)+(j&(1<<E)-1)];continue t}if(32&E){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}q=65535&L,(E&=15)&&(b<E&&(j+=O[c++]<<b,b+=8),q+=j&(1<<E)-1,j>>>=E,b-=E),b<15&&(j+=O[c++]<<b,b+=8,j+=O[c++]<<b,b+=8),L=S[j&A];r:for(;;){if(j>>>=E=L>>>24,b-=E,!(16&(E=L>>>16&255))){if((64&E)==0){L=S[(65535&L)+(j&(1<<E)-1)];continue r}i.msg="invalid distance code",l.mode=30;break e}if(M=65535&L,b<(E&=15)&&(j+=O[c++]<<b,(b+=8)<E&&(j+=O[c++]<<b,b+=8)),f<(M+=j&(1<<E)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(j>>>=E,b-=E,(E=d-h)<M){if(v<(E=M-E)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(I=y,(C=0)===g){if(C+=x-E,E<q){for(q-=E;H[d++]=y[C++],--E;);C=d-M,I=H}}else if(g<E){if(C+=x+g-E,(E-=g)<q){for(q-=E;H[d++]=y[C++],--E;);if(C=0,g<q){for(q-=E=g;H[d++]=y[C++],--E;);C=d-M,I=H}}}else if(C+=g-E,E<q){for(q-=E;H[d++]=y[C++],--E;);C=d-M,I=H}for(;2<q;)H[d++]=I[C++],H[d++]=I[C++],H[d++]=I[C++],q-=3;q&&(H[d++]=I[C++],1<q&&(H[d++]=I[C++]))}else{for(C=d-M;H[d++]=H[C++],H[d++]=H[C++],H[d++]=H[C++],2<(q-=3););q&&(H[d++]=H[C++],1<q&&(H[d++]=H[C++]))}break}}break}}while(c<u&&d<m);c-=q=b>>3,j&=(1<<(b-=q<<3))-1,i.next_in=c,i.next_out=d,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=d<m?m-d+257:257-(d-m),l.hold=j,l.bits=b}},{}],49:[function(r,s,a){var i=r("../utils/common"),o=r("./adler32"),l=r("./crc32"),c=r("./inffast"),u=r("./inftrees"),d=1,h=2,m=0,f=-2,x=1,v=852,g=592;function y(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(C){var I;return C&&C.state?(I=C.state,C.total_in=C.total_out=I.total=0,C.msg="",I.wrap&&(C.adler=1&I.wrap),I.mode=x,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new i.Buf32(v),I.distcode=I.distdyn=new i.Buf32(g),I.sane=1,I.back=-1,m):f}function _(C){var I;return C&&C.state?((I=C.state).wsize=0,I.whave=0,I.wnext=0,b(C)):f}function S(C,I){var O,H;return C&&C.state?(H=C.state,I<0?(O=0,I=-I):(O=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?f:(H.window!==null&&H.wbits!==I&&(H.window=null),H.wrap=O,H.wbits=I,_(C))):f}function T(C,I){var O,H;return C?(H=new j,(C.state=H).window=null,(O=S(C,I))!==m&&(C.state=null),O):f}var A,L,E=!0;function q(C){if(E){var I;for(A=new i.Buf32(512),L=new i.Buf32(32),I=0;I<144;)C.lens[I++]=8;for(;I<256;)C.lens[I++]=9;for(;I<280;)C.lens[I++]=7;for(;I<288;)C.lens[I++]=8;for(u(d,C.lens,0,288,A,0,C.work,{bits:9}),I=0;I<32;)C.lens[I++]=5;u(h,C.lens,0,32,L,0,C.work,{bits:5}),E=!1}C.lencode=A,C.lenbits=9,C.distcode=L,C.distbits=5}function M(C,I,O,H){var re,U=C.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new i.Buf8(U.wsize)),H>=U.wsize?(i.arraySet(U.window,I,O-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(H<(re=U.wsize-U.wnext)&&(re=H),i.arraySet(U.window,I,O-H,re,U.wnext),(H-=re)?(i.arraySet(U.window,I,O-H,H,0),U.wnext=H,U.whave=U.wsize):(U.wnext+=re,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=re))),0}a.inflateReset=_,a.inflateReset2=S,a.inflateResetKeep=b,a.inflateInit=function(C){return T(C,15)},a.inflateInit2=T,a.inflate=function(C,I){var O,H,re,U,K,ee,X,B,D,Q,ie,te,he,W,V,oe,me,de,ue,Pe,G,pe,ce,$,z=0,Z=new i.Buf8(4),le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return f;(O=C.state).mode===12&&(O.mode=13),K=C.next_out,re=C.output,X=C.avail_out,U=C.next_in,H=C.input,ee=C.avail_in,B=O.hold,D=O.bits,Q=ee,ie=X,pe=m;e:for(;;)switch(O.mode){case x:if(O.wrap===0){O.mode=13;break}for(;D<16;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(2&O.wrap&&B===35615){Z[O.check=0]=255&B,Z[1]=B>>>8&255,O.check=l(O.check,Z,2,0),D=B=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&B)<<8)+(B>>8))%31){C.msg="incorrect header check",O.mode=30;break}if((15&B)!=8){C.msg="unknown compression method",O.mode=30;break}if(D-=4,G=8+(15&(B>>>=4)),O.wbits===0)O.wbits=G;else if(G>O.wbits){C.msg="invalid window size",O.mode=30;break}O.dmax=1<<G,C.adler=O.check=1,O.mode=512&B?10:12,D=B=0;break;case 2:for(;D<16;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(O.flags=B,(255&O.flags)!=8){C.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){C.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=B>>8&1),512&O.flags&&(Z[0]=255&B,Z[1]=B>>>8&255,O.check=l(O.check,Z,2,0)),D=B=0,O.mode=3;case 3:for(;D<32;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}O.head&&(O.head.time=B),512&O.flags&&(Z[0]=255&B,Z[1]=B>>>8&255,Z[2]=B>>>16&255,Z[3]=B>>>24&255,O.check=l(O.check,Z,4,0)),D=B=0,O.mode=4;case 4:for(;D<16;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}O.head&&(O.head.xflags=255&B,O.head.os=B>>8),512&O.flags&&(Z[0]=255&B,Z[1]=B>>>8&255,O.check=l(O.check,Z,2,0)),D=B=0,O.mode=5;case 5:if(1024&O.flags){for(;D<16;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}O.length=B,O.head&&(O.head.extra_len=B),512&O.flags&&(Z[0]=255&B,Z[1]=B>>>8&255,O.check=l(O.check,Z,2,0)),D=B=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(ee<(te=O.length)&&(te=ee),te&&(O.head&&(G=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),i.arraySet(O.head.extra,H,U,te,G)),512&O.flags&&(O.check=l(O.check,H,te,U)),ee-=te,U+=te,O.length-=te),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(ee===0)break e;for(te=0;G=H[U+te++],O.head&&G&&O.length<65536&&(O.head.name+=String.fromCharCode(G)),G&&te<ee;);if(512&O.flags&&(O.check=l(O.check,H,te,U)),ee-=te,U+=te,G)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(ee===0)break e;for(te=0;G=H[U+te++],O.head&&G&&O.length<65536&&(O.head.comment+=String.fromCharCode(G)),G&&te<ee;);if(512&O.flags&&(O.check=l(O.check,H,te,U)),ee-=te,U+=te,G)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;D<16;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(B!==(65535&O.check)){C.msg="header crc mismatch",O.mode=30;break}D=B=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),C.adler=O.check=0,O.mode=12;break;case 10:for(;D<32;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}C.adler=O.check=y(B),D=B=0,O.mode=11;case 11:if(O.havedict===0)return C.next_out=K,C.avail_out=X,C.next_in=U,C.avail_in=ee,O.hold=B,O.bits=D,2;C.adler=O.check=1,O.mode=12;case 12:if(I===5||I===6)break e;case 13:if(O.last){B>>>=7&D,D-=7&D,O.mode=27;break}for(;D<3;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}switch(O.last=1&B,D-=1,3&(B>>>=1)){case 0:O.mode=14;break;case 1:if(q(O),O.mode=20,I!==6)break;B>>>=2,D-=2;break e;case 2:O.mode=17;break;case 3:C.msg="invalid block type",O.mode=30}B>>>=2,D-=2;break;case 14:for(B>>>=7&D,D-=7&D;D<32;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if((65535&B)!=(B>>>16^65535)){C.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&B,D=B=0,O.mode=15,I===6)break e;case 15:O.mode=16;case 16:if(te=O.length){if(ee<te&&(te=ee),X<te&&(te=X),te===0)break e;i.arraySet(re,H,U,te,K),ee-=te,U+=te,X-=te,K+=te,O.length-=te;break}O.mode=12;break;case 17:for(;D<14;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(O.nlen=257+(31&B),B>>>=5,D-=5,O.ndist=1+(31&B),B>>>=5,D-=5,O.ncode=4+(15&B),B>>>=4,D-=4,286<O.nlen||30<O.ndist){C.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;D<3;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}O.lens[le[O.have++]]=7&B,B>>>=3,D-=3}for(;O.have<19;)O.lens[le[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ce={bits:O.lenbits},pe=u(0,O.lens,0,19,O.lencode,0,O.work,ce),O.lenbits=ce.bits,pe){C.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;oe=(z=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,me=65535&z,!((V=z>>>24)<=D);){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(me<16)B>>>=V,D-=V,O.lens[O.have++]=me;else{if(me===16){for($=V+2;D<$;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(B>>>=V,D-=V,O.have===0){C.msg="invalid bit length repeat",O.mode=30;break}G=O.lens[O.have-1],te=3+(3&B),B>>>=2,D-=2}else if(me===17){for($=V+3;D<$;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}D-=V,G=0,te=3+(7&(B>>>=V)),B>>>=3,D-=3}else{for($=V+7;D<$;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}D-=V,G=0,te=11+(127&(B>>>=V)),B>>>=7,D-=7}if(O.have+te>O.nlen+O.ndist){C.msg="invalid bit length repeat",O.mode=30;break}for(;te--;)O.lens[O.have++]=G}}if(O.mode===30)break;if(O.lens[256]===0){C.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ce={bits:O.lenbits},pe=u(d,O.lens,0,O.nlen,O.lencode,0,O.work,ce),O.lenbits=ce.bits,pe){C.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ce={bits:O.distbits},pe=u(h,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ce),O.distbits=ce.bits,pe){C.msg="invalid distances set",O.mode=30;break}if(O.mode=20,I===6)break e;case 20:O.mode=21;case 21:if(6<=ee&&258<=X){C.next_out=K,C.avail_out=X,C.next_in=U,C.avail_in=ee,O.hold=B,O.bits=D,c(C,ie),K=C.next_out,re=C.output,X=C.avail_out,U=C.next_in,H=C.input,ee=C.avail_in,B=O.hold,D=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;oe=(z=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,me=65535&z,!((V=z>>>24)<=D);){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(oe&&(240&oe)==0){for(de=V,ue=oe,Pe=me;oe=(z=O.lencode[Pe+((B&(1<<de+ue)-1)>>de)])>>>16&255,me=65535&z,!(de+(V=z>>>24)<=D);){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}B>>>=de,D-=de,O.back+=de}if(B>>>=V,D-=V,O.back+=V,O.length=me,oe===0){O.mode=26;break}if(32&oe){O.back=-1,O.mode=12;break}if(64&oe){C.msg="invalid literal/length code",O.mode=30;break}O.extra=15&oe,O.mode=22;case 22:if(O.extra){for($=O.extra;D<$;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}O.length+=B&(1<<O.extra)-1,B>>>=O.extra,D-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;oe=(z=O.distcode[B&(1<<O.distbits)-1])>>>16&255,me=65535&z,!((V=z>>>24)<=D);){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if((240&oe)==0){for(de=V,ue=oe,Pe=me;oe=(z=O.distcode[Pe+((B&(1<<de+ue)-1)>>de)])>>>16&255,me=65535&z,!(de+(V=z>>>24)<=D);){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}B>>>=de,D-=de,O.back+=de}if(B>>>=V,D-=V,O.back+=V,64&oe){C.msg="invalid distance code",O.mode=30;break}O.offset=me,O.extra=15&oe,O.mode=24;case 24:if(O.extra){for($=O.extra;D<$;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}O.offset+=B&(1<<O.extra)-1,B>>>=O.extra,D-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){C.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(X===0)break e;if(te=ie-X,O.offset>te){if((te=O.offset-te)>O.whave&&O.sane){C.msg="invalid distance too far back",O.mode=30;break}he=te>O.wnext?(te-=O.wnext,O.wsize-te):O.wnext-te,te>O.length&&(te=O.length),W=O.window}else W=re,he=K-O.offset,te=O.length;for(X<te&&(te=X),X-=te,O.length-=te;re[K++]=W[he++],--te;);O.length===0&&(O.mode=21);break;case 26:if(X===0)break e;re[K++]=O.length,X--,O.mode=21;break;case 27:if(O.wrap){for(;D<32;){if(ee===0)break e;ee--,B|=H[U++]<<D,D+=8}if(ie-=X,C.total_out+=ie,O.total+=ie,ie&&(C.adler=O.check=O.flags?l(O.check,re,ie,K-ie):o(O.check,re,ie,K-ie)),ie=X,(O.flags?B:y(B))!==O.check){C.msg="incorrect data check",O.mode=30;break}D=B=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;D<32;){if(ee===0)break e;ee--,B+=H[U++]<<D,D+=8}if(B!==(4294967295&O.total)){C.msg="incorrect length check",O.mode=30;break}D=B=0}O.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return f}return C.next_out=K,C.avail_out=X,C.next_in=U,C.avail_in=ee,O.hold=B,O.bits=D,(O.wsize||ie!==C.avail_out&&O.mode<30&&(O.mode<27||I!==4))&&M(C,C.output,C.next_out,ie-C.avail_out)?(O.mode=31,-4):(Q-=C.avail_in,ie-=C.avail_out,C.total_in+=Q,C.total_out+=ie,O.total+=ie,O.wrap&&ie&&(C.adler=O.check=O.flags?l(O.check,re,ie,C.next_out-ie):o(O.check,re,ie,C.next_out-ie)),C.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(Q==0&&ie===0||I===4)&&pe===m&&(pe=-5),pe)},a.inflateEnd=function(C){if(!C||!C.state)return f;var I=C.state;return I.window&&(I.window=null),C.state=null,m},a.inflateGetHeader=function(C,I){var O;return C&&C.state?(2&(O=C.state).wrap)==0?f:((O.head=I).done=!1,m):f},a.inflateSetDictionary=function(C,I){var O,H=I.length;return C&&C.state?(O=C.state).wrap!==0&&O.mode!==11?f:O.mode===11&&o(1,I,H,0)!==O.check?-3:M(C,I,H,H)?(O.mode=31,-4):(O.havedict=1,m):f},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,s,a){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(d,h,m,f,x,v,g,y){var j,b,_,S,T,A,L,E,q,M=y.bits,C=0,I=0,O=0,H=0,re=0,U=0,K=0,ee=0,X=0,B=0,D=null,Q=0,ie=new i.Buf16(16),te=new i.Buf16(16),he=null,W=0;for(C=0;C<=15;C++)ie[C]=0;for(I=0;I<f;I++)ie[h[m+I]]++;for(re=M,H=15;1<=H&&ie[H]===0;H--);if(H<re&&(re=H),H===0)return x[v++]=20971520,x[v++]=20971520,y.bits=1,0;for(O=1;O<H&&ie[O]===0;O++);for(re<O&&(re=O),C=ee=1;C<=15;C++)if(ee<<=1,(ee-=ie[C])<0)return-1;if(0<ee&&(d===0||H!==1))return-1;for(te[1]=0,C=1;C<15;C++)te[C+1]=te[C]+ie[C];for(I=0;I<f;I++)h[m+I]!==0&&(g[te[h[m+I]]++]=I);if(A=d===0?(D=he=g,19):d===1?(D=o,Q-=257,he=l,W-=257,256):(D=c,he=u,-1),C=O,T=v,K=I=B=0,_=-1,S=(X=1<<(U=re))-1,d===1&&852<X||d===2&&592<X)return 1;for(;;){for(L=C-K,q=g[I]<A?(E=0,g[I]):g[I]>A?(E=he[W+g[I]],D[Q+g[I]]):(E=96,0),j=1<<C-K,O=b=1<<U;x[T+(B>>K)+(b-=j)]=L<<24|E<<16|q|0,b!==0;);for(j=1<<C-1;B&j;)j>>=1;if(j!==0?(B&=j-1,B+=j):B=0,I++,--ie[C]==0){if(C===H)break;C=h[m+g[I]]}if(re<C&&(B&S)!==_){for(K===0&&(K=re),T+=O,ee=1<<(U=C-K);U+K<H&&!((ee-=ie[U+K])<=0);)U++,ee<<=1;if(X+=1<<U,d===1&&852<X||d===2&&592<X)return 1;x[_=B&S]=re<<24|U<<16|T-v|0}}return B!==0&&(x[T+B]=C-K<<24|64<<16|0),y.bits=re,0}},{"../utils/common":41}],51:[function(r,s,a){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,s,a){var i=r("../utils/common"),o=0,l=1;function c(z){for(var Z=z.length;0<=--Z;)z[Z]=0}var u=0,d=29,h=256,m=h+1+d,f=30,x=19,v=2*m+1,g=15,y=16,j=7,b=256,_=16,S=17,T=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(m+2));c(M);var C=new Array(2*f);c(C);var I=new Array(512);c(I);var O=new Array(256);c(O);var H=new Array(d);c(H);var re,U,K,ee=new Array(f);function X(z,Z,le,ge,we){this.static_tree=z,this.extra_bits=Z,this.extra_base=le,this.elems=ge,this.max_length=we,this.has_stree=z&&z.length}function B(z,Z){this.dyn_tree=z,this.max_code=0,this.stat_desc=Z}function D(z){return z<256?I[z]:I[256+(z>>>7)]}function Q(z,Z){z.pending_buf[z.pending++]=255&Z,z.pending_buf[z.pending++]=Z>>>8&255}function ie(z,Z,le){z.bi_valid>y-le?(z.bi_buf|=Z<<z.bi_valid&65535,Q(z,z.bi_buf),z.bi_buf=Z>>y-z.bi_valid,z.bi_valid+=le-y):(z.bi_buf|=Z<<z.bi_valid&65535,z.bi_valid+=le)}function te(z,Z,le){ie(z,le[2*Z],le[2*Z+1])}function he(z,Z){for(var le=0;le|=1&z,z>>>=1,le<<=1,0<--Z;);return le>>>1}function W(z,Z,le){var ge,we,Me=new Array(g+1),Be=0;for(ge=1;ge<=g;ge++)Me[ge]=Be=Be+le[ge-1]<<1;for(we=0;we<=Z;we++){var Le=z[2*we+1];Le!==0&&(z[2*we]=he(Me[Le]++,Le))}}function V(z){var Z;for(Z=0;Z<m;Z++)z.dyn_ltree[2*Z]=0;for(Z=0;Z<f;Z++)z.dyn_dtree[2*Z]=0;for(Z=0;Z<x;Z++)z.bl_tree[2*Z]=0;z.dyn_ltree[2*b]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function oe(z){8<z.bi_valid?Q(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function me(z,Z,le,ge){var we=2*Z,Me=2*le;return z[we]<z[Me]||z[we]===z[Me]&&ge[Z]<=ge[le]}function de(z,Z,le){for(var ge=z.heap[le],we=le<<1;we<=z.heap_len&&(we<z.heap_len&&me(Z,z.heap[we+1],z.heap[we],z.depth)&&we++,!me(Z,ge,z.heap[we],z.depth));)z.heap[le]=z.heap[we],le=we,we<<=1;z.heap[le]=ge}function ue(z,Z,le){var ge,we,Me,Be,Le=0;if(z.last_lit!==0)for(;ge=z.pending_buf[z.d_buf+2*Le]<<8|z.pending_buf[z.d_buf+2*Le+1],we=z.pending_buf[z.l_buf+Le],Le++,ge===0?te(z,we,Z):(te(z,(Me=O[we])+h+1,Z),(Be=A[Me])!==0&&ie(z,we-=H[Me],Be),te(z,Me=D(--ge),le),(Be=L[Me])!==0&&ie(z,ge-=ee[Me],Be)),Le<z.last_lit;);te(z,b,Z)}function Pe(z,Z){var le,ge,we,Me=Z.dyn_tree,Be=Z.stat_desc.static_tree,Le=Z.stat_desc.has_stree,Ge=Z.stat_desc.elems,it=-1;for(z.heap_len=0,z.heap_max=v,le=0;le<Ge;le++)Me[2*le]!==0?(z.heap[++z.heap_len]=it=le,z.depth[le]=0):Me[2*le+1]=0;for(;z.heap_len<2;)Me[2*(we=z.heap[++z.heap_len]=it<2?++it:0)]=1,z.depth[we]=0,z.opt_len--,Le&&(z.static_len-=Be[2*we+1]);for(Z.max_code=it,le=z.heap_len>>1;1<=le;le--)de(z,Me,le);for(we=Ge;le=z.heap[1],z.heap[1]=z.heap[z.heap_len--],de(z,Me,1),ge=z.heap[1],z.heap[--z.heap_max]=le,z.heap[--z.heap_max]=ge,Me[2*we]=Me[2*le]+Me[2*ge],z.depth[we]=(z.depth[le]>=z.depth[ge]?z.depth[le]:z.depth[ge])+1,Me[2*le+1]=Me[2*ge+1]=we,z.heap[1]=we++,de(z,Me,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(ut,Ct){var Mt,Et,rn,Wt,Dt,ir,_r=Ct.dyn_tree,nr=Ct.max_code,Lr=Ct.stat_desc.static_tree,Ar=Ct.stat_desc.has_stree,Cn=Ct.stat_desc.extra_bits,Sn=Ct.stat_desc.extra_base,Yr=Ct.stat_desc.max_length,Yt=0;for(Wt=0;Wt<=g;Wt++)ut.bl_count[Wt]=0;for(_r[2*ut.heap[ut.heap_max]+1]=0,Mt=ut.heap_max+1;Mt<v;Mt++)Yr<(Wt=_r[2*_r[2*(Et=ut.heap[Mt])+1]+1]+1)&&(Wt=Yr,Yt++),_r[2*Et+1]=Wt,nr<Et||(ut.bl_count[Wt]++,Dt=0,Sn<=Et&&(Dt=Cn[Et-Sn]),ir=_r[2*Et],ut.opt_len+=ir*(Wt+Dt),Ar&&(ut.static_len+=ir*(Lr[2*Et+1]+Dt)));if(Yt!==0){do{for(Wt=Yr-1;ut.bl_count[Wt]===0;)Wt--;ut.bl_count[Wt]--,ut.bl_count[Wt+1]+=2,ut.bl_count[Yr]--,Yt-=2}while(0<Yt);for(Wt=Yr;Wt!==0;Wt--)for(Et=ut.bl_count[Wt];Et!==0;)nr<(rn=ut.heap[--Mt])||(_r[2*rn+1]!==Wt&&(ut.opt_len+=(Wt-_r[2*rn+1])*_r[2*rn],_r[2*rn+1]=Wt),Et--)}})(z,Z),W(Me,it,z.bl_count)}function G(z,Z,le){var ge,we,Me=-1,Be=Z[1],Le=0,Ge=7,it=4;for(Be===0&&(Ge=138,it=3),Z[2*(le+1)+1]=65535,ge=0;ge<=le;ge++)we=Be,Be=Z[2*(ge+1)+1],++Le<Ge&&we===Be||(Le<it?z.bl_tree[2*we]+=Le:we!==0?(we!==Me&&z.bl_tree[2*we]++,z.bl_tree[2*_]++):Le<=10?z.bl_tree[2*S]++:z.bl_tree[2*T]++,Me=we,it=(Le=0)===Be?(Ge=138,3):we===Be?(Ge=6,3):(Ge=7,4))}function pe(z,Z,le){var ge,we,Me=-1,Be=Z[1],Le=0,Ge=7,it=4;for(Be===0&&(Ge=138,it=3),ge=0;ge<=le;ge++)if(we=Be,Be=Z[2*(ge+1)+1],!(++Le<Ge&&we===Be)){if(Le<it)for(;te(z,we,z.bl_tree),--Le!=0;);else we!==0?(we!==Me&&(te(z,we,z.bl_tree),Le--),te(z,_,z.bl_tree),ie(z,Le-3,2)):Le<=10?(te(z,S,z.bl_tree),ie(z,Le-3,3)):(te(z,T,z.bl_tree),ie(z,Le-11,7));Me=we,it=(Le=0)===Be?(Ge=138,3):we===Be?(Ge=6,3):(Ge=7,4)}}c(ee);var ce=!1;function $(z,Z,le,ge){ie(z,(u<<1)+(ge?1:0),3),(function(we,Me,Be,Le){oe(we),Q(we,Be),Q(we,~Be),i.arraySet(we.pending_buf,we.window,Me,Be,we.pending),we.pending+=Be})(z,Z,le)}a._tr_init=function(z){ce||((function(){var Z,le,ge,we,Me,Be=new Array(g+1);for(we=ge=0;we<d-1;we++)for(H[we]=ge,Z=0;Z<1<<A[we];Z++)O[ge++]=we;for(O[ge-1]=we,we=Me=0;we<16;we++)for(ee[we]=Me,Z=0;Z<1<<L[we];Z++)I[Me++]=we;for(Me>>=7;we<f;we++)for(ee[we]=Me<<7,Z=0;Z<1<<L[we]-7;Z++)I[256+Me++]=we;for(le=0;le<=g;le++)Be[le]=0;for(Z=0;Z<=143;)M[2*Z+1]=8,Z++,Be[8]++;for(;Z<=255;)M[2*Z+1]=9,Z++,Be[9]++;for(;Z<=279;)M[2*Z+1]=7,Z++,Be[7]++;for(;Z<=287;)M[2*Z+1]=8,Z++,Be[8]++;for(W(M,m+1,Be),Z=0;Z<f;Z++)C[2*Z+1]=5,C[2*Z]=he(Z,5);re=new X(M,A,h+1,m,g),U=new X(C,L,0,f,g),K=new X(new Array(0),E,0,x,j)})(),ce=!0),z.l_desc=new B(z.dyn_ltree,re),z.d_desc=new B(z.dyn_dtree,U),z.bl_desc=new B(z.bl_tree,K),z.bi_buf=0,z.bi_valid=0,V(z)},a._tr_stored_block=$,a._tr_flush_block=function(z,Z,le,ge){var we,Me,Be=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(Le){var Ge,it=4093624447;for(Ge=0;Ge<=31;Ge++,it>>>=1)if(1&it&&Le.dyn_ltree[2*Ge]!==0)return o;if(Le.dyn_ltree[18]!==0||Le.dyn_ltree[20]!==0||Le.dyn_ltree[26]!==0)return l;for(Ge=32;Ge<h;Ge++)if(Le.dyn_ltree[2*Ge]!==0)return l;return o})(z)),Pe(z,z.l_desc),Pe(z,z.d_desc),Be=(function(Le){var Ge;for(G(Le,Le.dyn_ltree,Le.l_desc.max_code),G(Le,Le.dyn_dtree,Le.d_desc.max_code),Pe(Le,Le.bl_desc),Ge=x-1;3<=Ge&&Le.bl_tree[2*q[Ge]+1]===0;Ge--);return Le.opt_len+=3*(Ge+1)+5+5+4,Ge})(z),we=z.opt_len+3+7>>>3,(Me=z.static_len+3+7>>>3)<=we&&(we=Me)):we=Me=le+5,le+4<=we&&Z!==-1?$(z,Z,le,ge):z.strategy===4||Me===we?(ie(z,2+(ge?1:0),3),ue(z,M,C)):(ie(z,4+(ge?1:0),3),(function(Le,Ge,it,ut){var Ct;for(ie(Le,Ge-257,5),ie(Le,it-1,5),ie(Le,ut-4,4),Ct=0;Ct<ut;Ct++)ie(Le,Le.bl_tree[2*q[Ct]+1],3);pe(Le,Le.dyn_ltree,Ge-1),pe(Le,Le.dyn_dtree,it-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,Be+1),ue(z,z.dyn_ltree,z.dyn_dtree)),V(z),ge&&oe(z)},a._tr_tally=function(z,Z,le){return z.pending_buf[z.d_buf+2*z.last_lit]=Z>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&Z,z.pending_buf[z.l_buf+z.last_lit]=255&le,z.last_lit++,Z===0?z.dyn_ltree[2*le]++:(z.matches++,Z--,z.dyn_ltree[2*(O[le]+h+1)]++,z.dyn_dtree[2*D(Z)]++),z.last_lit===z.lit_bufsize-1},a._tr_align=function(z){ie(z,2,3),te(z,b,M),(function(Z){Z.bi_valid===16?(Q(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(r,s,a){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,s,a){(function(i){(function(o,l){if(!o.setImmediate){var c,u,d,h,m=1,f={},x=!1,v=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,c={}.toString.call(o.process)==="[object process]"?function(_){pn.nextTick(function(){j(_)})}:(function(){if(o.postMessage&&!o.importScripts){var _=!0,S=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=S,_}})()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(_){o.postMessage(h+_,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(_){j(_.data)},function(_){d.port2.postMessage(_)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(_){var S=v.createElement("script");S.onreadystatechange=function(){j(_),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(_){setTimeout(j,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var S=new Array(arguments.length-1),T=0;T<S.length;T++)S[T]=arguments[T+1];var A={callback:_,args:S};return f[m]=A,c(m),m++},g.clearImmediate=y}function y(_){delete f[_]}function j(_){if(x)setTimeout(j,0,_);else{var S=f[_];if(S){x=!0;try{(function(T){var A=T.callback,L=T.args;switch(L.length){case 0:A();break;case 1:A(L[0]);break;case 2:A(L[0],L[1]);break;case 3:A(L[0],L[1],L[2]);break;default:A.apply(l,L)}})(S)}finally{y(_),x=!1}}}}function b(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(h)===0&&j(+_.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(X4)),X4.exports}var dHe=uHe();const hHe=Vae(dHe);var nw={exports:{}},Q4,CW;function fHe(){if(CW)return Q4;CW=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(s,a){return e[a]}):r}return Q4=t,Q4}var EW;function mHe(){if(EW)return nw.exports;EW=1;var e=fHe(),t=_6().Stream,r="    ";function s(u,d){typeof d!="object"&&(d={indent:d});var h=d.stream?new t:null,m="",f=!1,x=d.indent?d.indent===!0?r:d.indent:"",v=!0;function g(S){v?pn.nextTick(S):S()}function y(S,T){if(T!==void 0&&(m+=T),S&&!f&&(h=h||new t,f=!0),S&&f){var A=m;g(function(){h.emit("data",A)}),m=""}}function j(S,T){l(y,o(S,x,x?1:0),T)}function b(){if(h){var S=m;g(function(){h.emit("data",S),h.emit("end"),h.readable=!1,h.emit("close")})}}function _(S){var T=S.encoding||"UTF-8",A={version:"1.0",encoding:T};S.standalone&&(A.standalone=S.standalone),j({"?xml":{_attr:A}}),m=m.replace("/>","?>")}return g(function(){v=!1}),d.declaration&&_(d.declaration),u&&u.forEach?u.forEach(function(S,T){var A;T+1===u.length&&(A=b),j(S,A)}):j(u,b),h?(h.readable=!0,h):m}function a(){var u=Array.prototype.slice.call(arguments),d={_elem:o(u)};return d.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var m=this,f=this._elem.indent;l(this.append,o(h,f,this._elem.icount+(f?1:0)),function(){m.append(!0)})},d.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},d}function i(u,d){return new Array(d||0).join(u||"")}function o(u,d,h){h=h||0;var m=i(d,h),f,x=u,v=!1;if(typeof u=="object"){var g=Object.keys(u);if(f=g[0],x=u[f],x&&x._elem)return x._elem.name=f,x._elem.icount=h,x._elem.indent=d,x._elem.indents=m,x._elem.interrupt=x,x._elem}var y=[],j=[],b;function _(S){var T=Object.keys(S);T.forEach(function(A){y.push(c(A,S[A]))})}switch(typeof x){case"object":if(x===null)break;x._attr&&_(x._attr),x._cdata&&j.push(("<![CDATA["+x._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),x.forEach&&(b=!1,j.push(""),x.forEach(function(S){if(typeof S=="object"){var T=Object.keys(S)[0];T=="_attr"?_(S._attr):j.push(o(S,d,h+1))}else j.pop(),b=!0,j.push(e(S))}),b||j.push(""));break;default:j.push(e(x))}return{name:f,interrupt:v,attributes:y,content:j,icount:h,indents:m,indent:d}}function l(u,d,h){if(typeof d!="object")return u(!1,d);var m=d.interrupt?1:d.content.length;function f(){for(;d.content.length;){var v=d.content.shift();if(v!==void 0){if(x(v))return;l(u,v)}}u(!1,(m>1?d.indents:"")+(d.name?"</"+d.name+">":"")+(d.indent&&!h?`
`:"")),h&&h()}function x(v){return v.interrupt?(v.interrupt.append=u,v.interrupt.end=f,v.interrupt=!1,u(!0),!0):!1}if(u(!1,d.indents+(d.name?"<"+d.name:"")+(d.attributes.length?" "+d.attributes.join(" "):"")+(m?d.name?">":"":d.name?"/>":"")+(d.indent&&m>1?`
`:"")),!m)return u(!1,d.indent?`
`:"");x(d)||f()}function c(u,d){return u+'="'+e(d)+'"'}return nw.exports=s,nw.exports.element=nw.exports.Element=a,nw.exports}var pHe=mHe();const Ta=Vae(pHe),sw=0,Z4=32,gHe=32,vHe=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==gHe)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const a=r.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));a.reverse();const o=e.slice(sw,Z4).map((c,u)=>c^a[u%a.length]),l=new Uint8Array(sw+o.length+Math.max(0,e.length-Z4));return l.set(e.slice(0,sw)),l.set(o,sw),l.set(e.slice(Z4),sw+o.length),l};class xHe{format(t,r={stack:[]}){const s=t.prepForXml(r);if(s)return s;throw Error("XMLComponent did not format correctly")}}class yHe{replace(t,r,s){let a=t;return r.forEach((i,o)=>{a=a.replace(new RegExp(`{${i.fileName}}`,"g"),(s+o).toString())}),a}getMediaData(t,r){return r.Array.filter(s=>t.search(`{${s.fileName}}`)>0)}}class wHe{replace(t,r){let s=t;for(const a of r)s=s.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return s}}class bHe{constructor(){pt(this,"formatter"),pt(this,"imageReplacer"),pt(this,"numberingReplacer"),this.formatter=new xHe,this.imageReplacer=new yHe,this.numberingReplacer=new wHe}compile(t,r,s=[]){const a=new hHe,i=this.xmlifyFile(t,r),o=new Map(Object.entries(i));for(const[,l]of o)if(Array.isArray(l))for(const c of l)a.file(c.path,c.data);else a.file(l.path,l.data);for(const l of s)a.file(l.path,l.data);for(const l of t.Media.Array)l.type!=="svg"?a.file(`word/media/${l.fileName}`,l.data):(a.file(`word/media/${l.fileName}`,l.data),a.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:c,fontKey:u}of t.FontTable.fontOptionsWithKey){const[d]=c.split(".");a.file(`word/fonts/${d}.odttf`,vHe(l,u))}return a}xmlifyFile(t,r){const s=t.Document.Relationships.RelationshipCount+1,a=Ta(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),i=t.Comments.Relationships.RelationshipCount+1,o=Ta(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(a,t.Media),c=this.imageReplacer.getMediaData(o,t.Media);return{Relationships:{data:(l.forEach((u,d)=>{t.Document.Relationships.createRelationship(s+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Ta(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(a,l,s);return this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=Ta(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Ta(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Ta(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Ta(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((u,d)=>{const h=Ta(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((f,x)=>{u.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:Ta(this.formatter.format(u.Relationships,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${d+1}.xml.rels`}}),FooterRelationships:t.Footers.map((u,d)=>{const h=Ta(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((f,x)=>{u.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:Ta(this.formatter.format(u.Relationships,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${d+1}.xml.rels`}}),Headers:t.Headers.map((u,d)=>{const h=Ta(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(h,t.Media),f=this.imageReplacer.replace(h,m,0);return{data:this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering),path:`word/header${d+1}.xml`}}),Footers:t.Footers.map((u,d)=>{const h=Ta(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(h,t.Media),f=this.imageReplacer.replace(h,m,0);return{data:this.numberingReplacer.replace(f,t.Numbering.ConcreteNumbering),path:`word/footer${d+1}.xml`}}),ContentTypes:{data:Ta(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Ta(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Ta(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Ta(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Ta(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Ta(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(o,c,i);return this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((u,d)=>{t.Comments.Relationships.createRelationship(i+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),Ta(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Ta(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Ta(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const jHe={WITH_2_BLANKS:"  "},AW=e=>e===!0?jHe.WITH_2_BLANKS:e===!1?void 0:e,Aie=class mx{static pack(t,r,s){return Q$e(this,arguments,function*(a,i,o,l=[]){return this.compiler.compile(a,AW(o),l).generateAsync({type:i,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,s=[]){return mx.pack(t,"string",r,s)}static toBuffer(t,r,s=[]){return mx.pack(t,"nodebuffer",r,s)}static toBase64String(t,r,s=[]){return mx.pack(t,"base64",r,s)}static toBlob(t,r,s=[]){return mx.pack(t,"blob",r,s)}static toArrayBuffer(t,r,s=[]){return mx.pack(t,"arraybuffer",r,s)}static toStream(t,r,s=[]){const a=new cHe.Stream;return this.compiler.compile(t,AW(r),s).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{a.emit("data",o),a.emit("end")}),a}};pt(Aie,"compiler",new bHe);let Pie=Aie;var D2={exports:{}},NHe=D2.exports,PW;function _He(){return PW||(PW=1,(function(e,t){(function(r,s){s()})(NHe,function(){function r(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function s(u,d,h){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){c(m.response,d,h)},m.onerror=function(){console.error("could not download file")},m.send()}function a(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof rj=="object"&&rj.global===rj?rj:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,d,h){var m=o.URL||o.webkitURL,f=document.createElement("a");d=d||u.name||"download",f.download=d,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?i(f):a(f.href)?s(u,d,h):i(f,f.target="_blank")):(f.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(f.href)},4e4),setTimeout(function(){i(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,h){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,h),d);else if(a(u))s(u,d,h);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){i(m)})}}:function(u,d,h,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return s(u,d,h);var f=u.type==="application/octet-stream",x=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||f&&x||l)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var b=g.result;b=v?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=b:location=b,m=null},g.readAsDataURL(u)}else{var y=o.URL||o.webkitURL,j=y.createObjectURL(u);m?m.location=j:location.href=j,m=null,setTimeout(function(){y.revokeObjectURL(j)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(D2)),D2.exports}var Tie=_He();const SHe=async(e,t)=>{const r=new br("p","mm","a4"),s=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=15;let o=i;const l=(u,d=11,h=!1)=>{r.setFontSize(d),h?r.setFont("helvetica","bold"):r.setFont("helvetica","normal"),r.splitTextToSize(u,s-2*i).forEach(f=>{o>a-i&&(r.addPage(),o=i),r.text(f,i,o),o+=d*.5}),o+=3};l(e.title||"Resume",18,!0),(e.sections||[]).forEach(u=>{if(!u.isVisible)return;l(u.title||u.type,14,!0);const d=typeof u.content=="string"?u.content:JSON.stringify(u.content);l(d,11)}),r.save(t||`resume-${e.title||"document"}.pdf`)},kHe=async(e,t)=>{const r=new br("p","mm","a4"),s=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=20;let o=i;r.setFontSize(11),r.setFont("helvetica","normal");const l=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});r.text(l,i,o),o+=10;const c=typeof e=="string"?e:e.content||"";r.splitTextToSize(c,s-2*i).forEach(d=>{o>a-i&&(r.addPage(),o=i),r.text(d,i,o),o+=6}),r.save(t||`cover-letter-${Date.now()}.pdf`)},CHe=(e,t)=>{let r=`${e.title||"Resume"}
${"=".repeat(50)}

`;(e.sections||[]).forEach(l=>{if(!l.isVisible)return;r+=`${l.title||l.type}
${"-".repeat(30)}
`;const c=typeof l.content=="string"?l.content:JSON.stringify(l.content);r+=`${c}

`});const a=new Blob([r],{type:"text/plain"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=t||`resume-${e.title||"document"}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},EHe=(e,t)=>{const s=`${typeof e=="string"?e:e.content||""}

Generated by JobHuntr`,a=new Blob([s],{type:"text/plain"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=t||`cover-letter-${Date.now()}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},AHe=async(e,t)=>{const r=e.sections||[],s=[];s.push(new nf({text:e.title||"Resume",heading:B3.HEADING_1,alignment:Ql.CENTER})),r.forEach(o=>{if(!o.isVisible)return;s.push(new nf({text:o.title||o.type,heading:B3.HEADING_2,spacing:{before:200,after:100}}));const l=typeof o.content=="string"?o.content:JSON.stringify(o.content);s.push(new nf({text:l,spacing:{after:100}}))});const a=new Eie({sections:[{properties:{},children:s}]}),i=await Pie.toBlob(a);Tie.saveAs(i,t||`resume-${e.title||"document"}.docx`)},PHe=async(e,t)=>{const r=typeof e=="string"?e:e.content||"",s=new Eie({sections:[{properties:{},children:[new nf({text:"Cover Letter",heading:B3.HEADING_1,alignment:Ql.CENTER,spacing:{after:200}}),new nf({text:r,spacing:{after:100}}),new nf({children:[new L3({text:"Generated by JobHuntr",italics:!0})],alignment:Ql.RIGHT})]}]}),a=await Pie.toBlob(s);Tie.saveAs(a,t||`cover-letter-${Date.now()}.docx`)},THe=(e,t,r="professional")=>{const s=e.sections||[];let a=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${e.title||"Resume"}</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }
    h1 { text-align: center; color: #333; }
    h2 { color: #555; border-bottom: 2px solid #ddd; padding-bottom: 5px; margin-top: 30px; }
    p { line-height: 1.6; color: #666; }
  </style>
</head>
<body>
  <h1>${e.title||"Resume"}</h1>`;s.forEach(c=>{if(!c.isVisible)return;a+=`<h2>${c.title||c.type}</h2>`;const u=typeof c.content=="string"?c.content:JSON.stringify(c.content);a+=`<p>${u.replace(/\n/g,"<br>")}</p>`}),a+=`<p style="text-align: right; font-style: italic; margin-top: 40px;">Generated by JobHuntr</p>
</body>
</html>`;const i=new Blob([a],{type:"text/html"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=t||`resume-${e.title||"document"}.html`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)},OHe=(e,t)=>{const s=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cover Letter</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }
    h1 { text-align: center; color: #333; }
    p { line-height: 1.6; color: #666; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h1>Cover Letter</h1>
  <p>${typeof e=="string"?e:e.content||""}</p>
  <p style="text-align: right; font-style: italic; margin-top: 40px;">Generated by JobHuntr</p>
</body>
</html>`,a=new Blob([s],{type:"text/html"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=t||`cover-letter-${Date.now()}.html`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},IHe=(e,t)=>{const r=["Job Title","Company","Location","Status","Salary","Applied Date","Deadline"],s=e.map(c=>{var u;return[c.jobTitle||"",((u=c.company)==null?void 0:u.name)||"",c.location||"",c.status||"",c.salaryMin&&c.salaryMax?`${c.salaryMin}-${c.salaryMax}`:"",c.appliedDate||"",c.applicationDeadline||""]}),a=[r,...s].map(c=>c.join(",")).join(`
`),i=new Blob([a],{type:"text/csv"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=t||`jobs-${Date.now()}.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)},b5=()=>({exportResumeToPDF:SHe,exportCoverLetterToPDF:kHe,exportResumeToText:CHe,exportCoverLetterToText:EHe,exportResumeToWord:AHe,exportCoverLetterToWord:PHe,exportResumeToHTML:THe,exportCoverLetterToHTML:OHe,exportJobsToCSV:IHe});function RHe({jobId:e,currentResumeId:t,currentCoverLetterId:r,isOpen:s,onClose:a,onUpdate:i}){const[o,l]=N.useState([]),[c,u]=N.useState([]),[d,h]=N.useState(t||""),[m,f]=N.useState(r||""),[x,v]=N.useState(!1),{exportResumeToPDF:g,exportCoverLetterToPDF:y}=b5();N.useEffect(()=>{s&&j()},[s]);const j=async()=>{try{const[T,A]=await Promise.all([Hn.resumes.getAll(!1),Hn.coverLetters.getAll(!1)]);l(T),u(A)}catch{xe.error("Failed to load materials")}},b=async()=>{v(!0);try{await Hn.jobs.update(e,{resume_id:d||null,cover_letter_id:m||null}),xe.success("Application materials updated"),i(),a()}catch{xe.error("Failed to update materials")}finally{v(!1)}},_=async()=>{if(!d)return;const T=o.find(A=>A.id===d);T&&await g(T)},S=async()=>{if(!m)return;const T=c.find(A=>A.id===m);T&&await y(T)};return n.jsx(Wr,{open:s,onOpenChange:a,children:n.jsxs(Br,{className:"max-w-2xl",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Application Materials"}),n.jsx(no,{children:"Select which resume and cover letter versions to use for this application"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Resume"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs($t,{value:d,onValueChange:h,children:[n.jsx(Ft,{className:"flex-1",children:n.jsx(qt,{placeholder:"Select a resume..."})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"none",children:"None"}),o.map(T=>n.jsx(qe,{value:T.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),T.title,T.is_default&&n.jsx($e,{variant:"secondary",className:"ml-2",children:"Default"})]})},T.id))]})]}),d&&d!=="none"&&n.jsx(ve,{variant:"outline",size:"icon",onClick:_,children:n.jsx(af,{className:"h-4 w-4"})})]}),d&&d!=="none"&&n.jsx("div",{className:"text-sm text-muted-foreground",children:(()=>{var A;const T=o.find(L=>L.id===d);return T?n.jsxs("div",{className:"flex items-center gap-4 p-2 bg-muted/50 rounded",children:[n.jsxs("span",{children:["Template: ",T.template]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Sections: ",((A=T.sections)==null?void 0:A.length)||0]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Last used: ",T.last_used?new Date(T.last_used).toLocaleDateString():"Never"]})]}):null})()})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Cover Letter"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs($t,{value:m,onValueChange:f,children:[n.jsx(Ft,{className:"flex-1",children:n.jsx(qt,{placeholder:"Select a cover letter..."})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"none",children:"None"}),c.map(T=>n.jsx(qe,{value:T.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),T.title]})},T.id))]})]}),m&&m!=="none"&&n.jsx(ve,{variant:"outline",size:"icon",onClick:S,children:n.jsx(af,{className:"h-4 w-4"})})]}),m&&m!=="none"&&n.jsx("div",{className:"text-sm text-muted-foreground",children:(()=>{const T=c.find(A=>A.id===m);return T?n.jsxs("div",{className:"flex items-center gap-4 p-2 bg-muted/50 rounded",children:[n.jsxs("span",{children:["Template: ",T.template]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Tone: ",T.tone]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Last used: ",T.last_used?new Date(T.last_used).toLocaleDateString():"Never"]})]}):null})()})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[n.jsx(ve,{variant:"outline",onClick:a,disabled:x,children:"Cancel"}),n.jsx(ve,{onClick:b,disabled:x,children:x?"Saving...":"Save Selection"})]})]})]})})}const DHe=({job:e,contact:t,request:r,onSuccess:s,onCancel:a})=>{const[i,o]=N.useState([]),[l,c]=N.useState({contact_id:(t==null?void 0:t.id)||"",status:"draft",notes:"",next_followup_at:"",message_sent:""}),[u,d]=N.useState(!1);N.useEffect(()=>{t||h()},[t]),N.useEffect(()=>{r&&c({contact_id:r.contact_id,status:r.status,notes:r.notes||"",next_followup_at:r.next_followup_at?Lt(new Date(r.next_followup_at),"yyyy-MM-dd'T'HH:mm"):"",message_sent:r.message_sent||""})},[r]);const h=async()=>{try{const{data:f,error:x}=await se.from("contacts").select("id, name, company, role").order("name");if(x)throw x;o(f||[])}catch(f){console.error("Failed to load contacts:",f)}},m=async f=>{f.preventDefault(),d(!0);try{const{data:{user:x}}=await se.auth.getUser();if(!x)throw new Error("Not authenticated");if(!l.contact_id)throw new Error("Please select a contact");const v={user_id:x.id,job_id:e.id,contact_id:l.contact_id,status:l.status,notes:l.notes||null,next_followup_at:l.next_followup_at||null,message_sent:l.message_sent||null,last_action_at:new Date().toISOString()};if(r){const{error:g}=await se.from("referral_requests").update(v).eq("id",r.id);if(g)throw g;xe.success("Referral request updated")}else{const{error:g}=await se.from("referral_requests").insert(v);if(g)throw g;xe.success("Referral request created")}s()}catch(x){xe.error(r?"Failed to update request":"Failed to create request",{description:x.message})}finally{d(!1)}};return n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:r?"Update Referral Request":"Request Referral"})}),n.jsxs("div",{className:"space-y-4",children:[t?n.jsxs("div",{className:"p-3 rounded-lg border bg-muted/50",children:[n.jsx("p",{className:"font-medium",children:t.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.company," ",t.role&&` ${t.role}`]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"contact_id",children:"Select Contact *"}),n.jsxs($t,{value:l.contact_id,onValueChange:f=>c({...l,contact_id:f}),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Choose a contact"})}),n.jsx(Bt,{children:i.map(f=>n.jsxs(qe,{value:f.id,children:[f.name," ",f.company&&`- ${f.company}`]},f.id))})]})]}),n.jsxs("div",{className:"p-3 rounded-lg border bg-muted/50",children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:e.job_title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.company_name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"status",children:"Status *"}),n.jsxs($t,{value:l.status,onValueChange:f=>c({...l,status:f}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"draft",children:"Draft"}),n.jsx(qe,{value:"sent",children:"Sent"}),n.jsx(qe,{value:"followup",children:"Follow-up"}),n.jsx(qe,{value:"accepted",children:"Accepted"}),n.jsx(qe,{value:"declined",children:"Declined"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"next_followup_at",children:"Next Follow-up"}),n.jsx(Je,{id:"next_followup_at",type:"datetime-local",value:l.next_followup_at,onChange:f=>c({...l,next_followup_at:f.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"message_sent",children:"Message Sent"}),n.jsx(dr,{id:"message_sent",rows:4,placeholder:"Paste the message you sent to your contact...",value:l.message_sent,onChange:f=>c({...l,message_sent:f.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"notes",children:"Notes"}),n.jsx(dr,{id:"notes",rows:3,placeholder:"Any additional notes or context...",value:l.notes,onChange:f=>c({...l,notes:f.target.value})})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:a,disabled:u,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:u,children:u?"Saving...":r?"Update Request":"Create Request"})]})]})},TW={casual:{name:"Casual",template:`Hey [CONTACT_NAME],

I hope you're doing well! I wanted to reach out because I saw an opening for [JOB_TITLE] at [COMPANY_NAME] and I'm really excited about it.

Given your experience at [COMPANY_NAME], I'd love to hear your thoughts about the role and the team. If you think I'd be a good fit, I'd really appreciate any guidance or a referral.

I've attached my resume for your reference. Let me know if you need any additional information!

Thanks so much,
[YOUR_NAME]`},professional:{name:"Professional",template:`Dear [CONTACT_NAME],

I hope this message finds you well. I am reaching out to express my interest in the [JOB_TITLE] position at [COMPANY_NAME].

With my background in [YOUR_FIELD/EXPERIENCE], I believe I would be a strong fit for this role. Given your experience at [COMPANY_NAME], I would greatly appreciate any insights you could share about the position and team culture.

If you feel comfortable providing a referral or introduction, I would be very grateful. I have attached my resume for your review.

Thank you for considering my request.

Best regards,
[YOUR_NAME]`},brief:{name:"Brief",template:`Hi [CONTACT_NAME],

Quick note - I'm applying for the [JOB_TITLE] role at [COMPANY_NAME] and thought of you!

Would you be open to providing a referral or sharing any insights about the position? I think it's a great match for my skills.

Resume attached. Thanks for considering!

[YOUR_NAME]`}},MHe=({job:e,contact:t,onClose:r})=>{const[s,a]=N.useState("casual"),[i,o]=N.useState(""),[l,c]=N.useState(!1),u=h=>{const f=TW[h].template.replace(/\[CONTACT_NAME\]/g,(t==null?void 0:t.name)||"[Contact Name]").replace(/\[JOB_TITLE\]/g,e.job_title).replace(/\[COMPANY_NAME\]/g,e.company_name).replace(/\[YOUR_NAME\]/g,"[Your Name]").replace(/\[YOUR_FIELD\/EXPERIENCE\]/g,"[Your Field/Experience]");o(f),a(h)},d=()=>{navigator.clipboard.writeText(i),c(!0),xe.success("Message copied to clipboard"),setTimeout(()=>c(!1),2e3)};return i||u("casual"),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Generate Referral Message"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 rounded-lg border bg-muted/50",children:[n.jsxs("p",{className:"text-sm font-medium mb-1",children:["To: ",(t==null?void 0:t.name)||"Contact"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.job_title," at ",e.company_name]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Template Style"}),n.jsx("div",{className:"flex gap-2",children:Object.entries(TW).map(([h,{name:m}])=>n.jsx(ve,{type:"button",variant:s===h?"default":"outline",size:"sm",onClick:()=>u(h),children:m},h))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ee,{children:"Generated Message"}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:n.jsx($e,{variant:"secondary",className:"text-xs",children:"Editable"})})]}),n.jsx(dr,{rows:12,value:i,onChange:h=>o(h.target.value),className:"font-mono text-sm"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip: Replace placeholders in [brackets] with your information before sending"})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:r,children:"Close"}),n.jsx(ve,{onClick:d,children:l?n.jsxs(n.Fragment,{children:[n.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),"Copy Message"]})})]})]})},LHe={draft:"secondary",sent:"default",followup:"outline",accepted:"default",declined:"destructive"},FHe=({job:e})=>{const[t,r]=N.useState([]),[s,a]=N.useState([]),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(null),[h,m]=N.useState(null),[f,x]=N.useState(!0);N.useEffect(()=>{v(),g()},[e.id]);const v=async()=>{try{const{data:S,error:T}=await se.from("contacts").select("*").or(`company.ilike.%${e.company_name}%,tags.cs.{${e.industry||"tech"}}`).order("relationship_strength",{ascending:!1}).limit(10);if(T)throw T;const{data:A}=await se.from("referral_requests").select("contact_id").eq("job_id",e.id),L=new Set((A==null?void 0:A.map(q=>q.contact_id))||[]),E=(S==null?void 0:S.filter(q=>!L.has(q.id)))||[];r(E)}catch(S){console.error("Failed to load suggested contacts:",S)}finally{x(!1)}},g=async()=>{try{const{data:S,error:T}=await se.from("referral_requests").select(`
          *,
          contact:contact_id (
            id,
            name,
            email,
            company,
            role,
            relationship_strength
          )
        `).eq("job_id",e.id).order("created_at",{ascending:!1});if(T)throw T;a(S||[])}catch(S){console.error("Failed to load referral requests:",S)}},y=S=>{d(S),m(null),o(!0)},j=S=>{m(S),d(S.contact),o(!0)},b=()=>{o(!1),d(null),m(null),v(),g()},_=S=>{d(S),c(!0)};return n.jsxs(n.Fragment,{children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-5 w-5"}),"Referrals"]}),n.jsxs(ve,{size:"sm",onClick:()=>y(),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Request Referral"]})]})}),n.jsxs(_e,{className:"space-y-6",children:[s.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-medium",children:"Active Requests"}),n.jsx("div",{className:"space-y-2",children:s.map(S=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:S.contact.name}),n.jsx($e,{variant:LHe[S.status],children:S.status})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.contact.company,"  ",S.contact.role]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last action: ",Fg(new Date(S.last_action_at),{addSuffix:!0})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[S.status==="draft"&&n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>_(S.contact),children:[n.jsx(qi,{className:"h-3 w-3 mr-1"}),"Template"]}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>j(S),children:"Update"})]})]},S.id))})]}),t.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-sm font-medium",children:["Suggested Contacts (",t.length,")"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["People who work at ",e.company_name," or in similar roles"]}),n.jsx("div",{className:"space-y-2",children:t.slice(0,5).map(S=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:S.name}),S.relationship_strength&&S.relationship_strength>=4&&n.jsx($e,{variant:"secondary",className:"text-xs",children:"Strong"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.company," ",S.role&&` ${S.role}`]})]}),n.jsxs(ve,{size:"sm",onClick:()=>y(S),children:["Request",n.jsx(Yh,{className:"h-3 w-3 ml-1"})]})]},S.id))})]}),f?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded mx-auto"})}):t.length===0&&s.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No suggested contacts found"}),n.jsxs("p",{className:"text-xs mt-1",children:["Add contacts at ",e.company_name," to get referral suggestions"]})]}):null]})]}),n.jsx(Wr,{open:i,onOpenChange:o,children:n.jsx(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(DHe,{job:e,contact:u,request:h,onSuccess:b,onCancel:()=>o(!1)})})}),n.jsx(Wr,{open:l,onOpenChange:c,children:n.jsx(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(MHe,{job:e,contact:u,onClose:()=>c(!1)})})})]})},BHe=e=>{const{user:t}=un(),[r,s]=N.useState([]),[a,i]=N.useState(!0);N.useEffect(()=>{t&&o()},[t,e]);const o=async()=>{if(t)try{let d=se.from("interviews").select("*").eq("user_id",t.id).order("interview_date",{ascending:!0});e&&(d=d.eq("job_id",e));const{data:h,error:m}=await d;if(m)throw m;s(h||[])}catch(d){console.error("Error loading interviews:",d),xe.error("Failed to load interviews")}finally{i(!1)}};return{interviews:r,loading:a,createInterview:async d=>{if(!t)return null;try{const{data:h,error:m}=await se.from("interviews").insert({user_id:t.id,...d}).select().single();if(m)throw m;const{data:f}=await se.from("calendar_integrations").select("*").eq("user_id",t.id).eq("provider","google").single();if(f!=null&&f.access_token)try{const{data:x}=await se.from("jobs").select("job_title, company_name").eq("id",d.job_id).single(),v=new Date(d.interview_date),g=new Date(v.getTime()+3600*1e3),{data:y,error:j}=await se.functions.invoke("calendar-sync",{body:{action:"create",event:{interviewId:h.id,title:`Interview: ${x==null?void 0:x.job_title} at ${x==null?void 0:x.company_name}`,description:`${d.interview_type} interview

${d.notes||""}`,startTime:v.toISOString(),endTime:g.toISOString(),location:d.location}}});!j&&(y!=null&&y.eventId)?(await se.from("interviews").update({calendar_event_id:y.eventId}).eq("id",h.id),xe.success("Interview scheduled and added to Google Calendar")):xe.success("Interview scheduled")}catch(x){console.error("Calendar sync error:",x),xe.success("Interview scheduled (calendar sync failed)")}else xe.success("Interview scheduled");return await o(),h}catch(h){return console.error("Error creating interview:",h),xe.error("Failed to schedule interview"),null}},updateInterview:async(d,h,m)=>{if(!t)return null;try{const{data:f,error:x}=await se.from("interviews").update(h).eq("id",d).select().single();if(x)throw x;if(m&&h.interview_date)try{const{data:v}=await se.from("interviews").select("job_id").eq("id",d).single();if(v!=null&&v.job_id){const{data:g}=await se.from("jobs").select("job_title, company_name").eq("id",v.job_id).single(),y=new Date(h.interview_date),j=new Date(y.getTime()+3600*1e3),{error:b}=await se.functions.invoke("calendar-sync",{body:{action:"update",event:{eventId:m,event:{title:`Interview: ${g==null?void 0:g.job_title} at ${g==null?void 0:g.company_name}`,description:`${h.interview_type||f.interview_type} interview

${h.notes||f.notes||""}`,startTime:y.toISOString(),endTime:j.toISOString(),location:h.location||f.location}}}});b?xe.success("Interview updated (calendar sync failed)"):xe.success("Interview updated and calendar synced")}}catch(v){console.error("Calendar sync error:",v),xe.success("Interview updated (calendar sync failed)")}else xe.success("Interview updated");return await o(),f}catch(f){return console.error("Error updating interview:",f),xe.error("Failed to update interview"),null}},deleteInterview:async(d,h)=>{if(t)try{h&&await se.functions.invoke("calendar-sync",{body:{action:"delete",event:{eventId:h}}});const{error:m}=await se.from("interviews").delete().eq("id",d);if(m)throw m;xe.success("Interview deleted"),await o()}catch(m){console.error("Error deleting interview:",m),xe.error("Failed to delete interview")}},refresh:o}},UHe=({job:e,isOpen:t,onClose:r,onUpdate:s})=>{var q,M,C;const{user:a}=un(),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState({}),[h,m]=N.useState({}),[f,x]=N.useState(!1),{interviews:v,createInterview:g,deleteInterview:y,loading:j}=BHe(e==null?void 0:e.id);if(!e)return null;const b=async()=>{if(!e.id){xe.error("Job ID is missing");return}c(!0);try{const I={};u.jobTitle!==void 0&&(I.job_title=u.jobTitle),u.job_title!==void 0&&(I.job_title=u.job_title),u.status!==void 0&&(I.status=u.status),u.notes!==void 0&&(I.notes=u.notes),u.jobDescription!==void 0&&(I.job_description=u.jobDescription),u.location!==void 0&&(I.location=u.location),u.jobType!==void 0&&(I.job_type=u.jobType),u.salaryMin!==void 0&&(I.salary_min=u.salaryMin),u.salaryMax!==void 0&&(I.salary_max=u.salaryMax),u.applicationDeadline!==void 0&&(I.application_deadline=u.applicationDeadline),u.contacts!==void 0&&(I.contacts=u.contacts),u.salaryNegotiationNotes!==void 0&&(I.salary_notes=u.salaryNegotiationNotes),u.interviewNotes!==void 0&&(I.interview_notes=u.interviewNotes),I.updated_at=new Date().toISOString(),await Hn.jobs.update(e.id,I),Object.assign(e,u),xe.success("Job updated successfully"),o(!1),d({}),s()}catch(I){console.error("Update error:",I),xe.error("Failed to update job")}finally{c(!1)}},_=()=>{if(!h.name){xe.error("Contact name is required");return}const I=[...u.contacts||e.contacts||[],h];d({...u,contacts:I}),m({})},S=I=>{const O=(u.contacts||e.contacts||[]).filter((H,re)=>re!==I);d({...u,contacts:O})},T=async I=>{if(!a)return;const O=new Date(I.date),[H,re]=I.time.split(":");O.setHours(parseInt(H),parseInt(re));const U=new Date(O.getTime()+I.duration*6e4),K=I.interviewers?I.interviewers.split(",").map(X=>X.trim()).filter(Boolean):[],ee=await g({job_id:e.id,interview_type:I.type,interview_date:O.toISOString(),location:I.location,interviewer_name:I.interviewers||null,notes:I.notes});if(ee){await se.from("interviews").update({scheduled_start:O.toISOString(),scheduled_end:U.toISOString(),video_link:I.videoLink||null,interviewer_names:K.length>0?K:null,duration_minutes:I.duration,status:"scheduled",outcome:"pending"}).eq("id",ee.id);const B=[{label:"Research company background and recent news",category:"Research",is_required:!0},{label:"Review job description and requirements",category:"Research",is_required:!0},{label:"Prepare answers to common behavioral questions",category:"Preparation",is_required:!0},{label:"Prepare 3-5 questions for the interviewer",category:"Preparation",is_required:!0},{label:"Review your resume and be ready to discuss experience",category:"Preparation",is_required:!0},{label:"Prepare portfolio or work samples (if applicable)",category:"Materials",is_required:!1},{label:"Test video/audio setup (for virtual interviews)",category:"Logistics",is_required:I.type==="video"},{label:"Plan your route and arrival time (for onsite)",category:"Logistics",is_required:I.type==="onsite"},{label:"Choose professional attire",category:"Logistics",is_required:!0}].map(Q=>({interview_id:ee.id,user_id:a.id,...Q})),{error:D}=await se.from("interview_checklists").insert(B);D&&console.error("Error creating prep checklist:",D)}},A={Interested:"bg-muted text-muted-foreground",Applied:"bg-primary/10 text-primary","Phone Screen":"bg-accent/10 text-accent",Interview:"bg-warning/10 text-warning",Offer:"bg-success/10 text-success",Rejected:"bg-destructive/10 text-destructive"},L=i?{...e,...u}:e,E=typeof L.company=="string"?L.company:(q=L.company)==null?void 0:q.name;return n.jsxs(Wr,{open:t,onOpenChange:r,children:[n.jsxs(Br,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Xr,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Qr,{className:"text-2xl font-display",children:L.jobTitle||L.title}),n.jsx("p",{className:"text-muted-foreground mt-1",children:E})]}),n.jsx("div",{className:"flex gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>o(!1),children:[n.jsx(Rl,{className:"h-4 w-4 mr-1"}),"Cancel"]}),n.jsxs(ve,{size:"sm",onClick:b,disabled:l,children:[n.jsx(tp,{className:"h-4 w-4 mr-1"}),l?"Saving...":"Save"]})]}):n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[n.jsx(xf,{className:"h-4 w-4 mr-1"}),"Edit"]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 text-sm",children:n.jsx($e,{className:A[L.status],children:L.status})}),L.location&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Ao,{className:"h-4 w-4"}),n.jsx("span",{children:L.location})]}),(L.salaryMin||L.salaryMax)&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(mc,{className:"h-4 w-4"}),n.jsx("span",{children:L.salaryMin&&L.salaryMax?`$${L.salaryMin.toLocaleString()} - $${L.salaryMax.toLocaleString()}`:L.salaryMin?`$${L.salaryMin.toLocaleString()}+`:`Up to $${(M=L.salaryMax)==null?void 0:M.toLocaleString()}`})]}),L.jobType&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Fa,{className:"h-4 w-4"}),n.jsx("span",{children:L.jobType})]})]}),L.applicationDeadline&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(mr,{className:"h-4 w-4"}),n.jsxs("span",{children:["Deadline: ",Lt(new Date(L.applicationDeadline),"PPP")]})]}),L.jobUrl&&n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>window.open(L.jobUrl,"_blank"),children:[n.jsx(El,{className:"h-4 w-4 mr-2"}),"View Job Posting"]}),n.jsx(Bi,{}),n.jsxs(ss,{defaultValue:"description",className:"w-full",children:[n.jsxs(Kn,{className:"w-full flex flex-wrap gap-1 h-auto justify-start",children:[n.jsx(vt,{value:"description",children:"Description"}),n.jsx(vt,{value:"materials",children:"Materials"}),n.jsx(vt,{value:"notes",children:"Notes"}),n.jsx(vt,{value:"contacts",children:"Contacts"}),n.jsx(vt,{value:"schedule",children:"Schedule"}),n.jsx(vt,{value:"interview",children:"Interview"}),n.jsx(vt,{value:"match",children:"Match"}),n.jsx(vt,{value:"skills",children:"Skills"}),n.jsx(vt,{value:"salary",children:"Salary"}),n.jsx(vt,{value:"prep",children:"Prep"}),n.jsx(vt,{value:"research",children:"Research"}),n.jsx(vt,{value:"referrals",children:"Referrals"}),n.jsx(vt,{value:"history",children:"History"})]}),n.jsxs(xt,{value:"description",className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Job Description"}),i?n.jsx(dr,{value:u.jobDescription??L.jobDescription??"",onChange:I=>d({...u,jobDescription:I.target.value}),rows:10,placeholder:"Enter job description..."}):n.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:L.jobDescription||"No description available"})]}),typeof L.company!="string"&&((C=L.company)==null?void 0:C.description)&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"About the Company"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:L.company.description})]})]}),n.jsxs(xt,{value:"notes",className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{children:"General Notes"}),i?n.jsx(dr,{value:u.notes??L.notes??"",onChange:I=>d({...u,notes:I.target.value}),rows:6,placeholder:"Add your notes about this job..."}):n.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap min-h-[100px] p-3 border rounded-md",children:L.notes||"No notes added yet"})]}),n.jsxs("div",{children:[n.jsx(Ee,{children:"Salary Negotiation Notes"}),i?n.jsx(dr,{value:u.salaryNegotiationNotes??L.salaryNegotiationNotes??"",onChange:I=>d({...u,salaryNegotiationNotes:I.target.value}),rows:4,placeholder:"Notes about salary discussions..."}):n.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap min-h-[80px] p-3 border rounded-md",children:L.salaryNegotiationNotes||"No salary notes yet"})]})]}),n.jsx(xt,{value:"materials",className:"space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold",children:"Application Materials"}),n.jsxs(ve,{size:"sm",onClick:()=>x(!0),children:[n.jsx(bs,{className:"h-4 w-4 mr-2"}),"Manage Materials"]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(bs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h4",{className:"font-medium",children:"Resume"})]}),L.resume_id?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Resume attached"}):n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No resume selected"})]}),n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(bs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("h4",{className:"font-medium",children:"Cover Letter"})]}),L.cover_letter_id?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Cover letter attached"}):n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No cover letter selected"})]})]})]})}),n.jsxs(xt,{value:"contacts",className:"space-y-4",children:[i&&n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsx("h4",{className:"font-semibold",children:"Add New Contact"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Je,{placeholder:"Name *",value:h.name||"",onChange:I=>m({...h,name:I.target.value})}),n.jsx(Je,{placeholder:"Role (e.g., Recruiter)",value:h.role||"",onChange:I=>m({...h,role:I.target.value})}),n.jsx(Je,{placeholder:"Email",type:"email",value:h.email||"",onChange:I=>m({...h,email:I.target.value})}),n.jsx(Je,{placeholder:"Phone",value:h.phone||"",onChange:I=>m({...h,phone:I.target.value})})]}),n.jsxs(ve,{size:"sm",onClick:_,children:[n.jsx(Jr,{className:"h-4 w-4 mr-1"}),"Add Contact"]})]}),n.jsxs("div",{className:"space-y-3",children:[(u.contacts||L.contacts||[]).map((I,O)=>n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"font-semibold",children:I.name}),I.role&&n.jsx("p",{className:"text-sm text-muted-foreground",children:I.role}),I.email&&n.jsx("p",{className:"text-sm",children:I.email}),I.phone&&n.jsx("p",{className:"text-sm",children:I.phone}),I.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:I.notes})]}),i&&n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>S(O),children:n.jsx(Ws,{className:"h-4 w-4 text-destructive"})})]})},O)),(!L.contacts||L.contacts.length===0)&&n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No contacts added yet"})]})]}),n.jsxs(xt,{value:"schedule",className:"space-y-4",children:[n.jsx(r9e,{jobId:e.id,jobTitle:L.jobTitle||L.title||"",companyName:E||"",onSchedule:T}),j?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading interviews..."}):v.length>0?n.jsxs("div",{className:"space-y-3 mt-6",children:[n.jsx("h3",{className:"font-semibold",children:"Scheduled Interviews"}),v.map(I=>n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:"outline",children:I.interview_type}),n.jsx("span",{className:"text-sm",children:Lt(new Date(I.interview_date),"PPP 'at' p")})]}),I.location&&n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Ao,{className:"h-3 w-3"}),I.location]}),I.interviewer_name&&n.jsxs("p",{className:"text-sm",children:["Interviewer: ",I.interviewer_name]}),I.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:I.notes}),I.calendar_event_id&&n.jsxs($e,{variant:"secondary",className:"mt-2",children:[n.jsx(mr,{className:"h-3 w-3 mr-1"}),"Synced to Calendar"]})]}),n.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[n.jsx(Sr,{to:`/interview/${I.id}`,children:n.jsxs(ve,{variant:"outline",size:"sm",children:[n.jsx(af,{className:"h-4 w-4 mr-1"}),"Details"]})}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>y(I.id,I.calendar_event_id||void 0),children:n.jsx(Ws,{className:"h-4 w-4 text-destructive"})})]})]})},I.id))]}):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No interviews scheduled yet"})]}),n.jsx(xt,{value:"interview",className:"space-y-4",children:n.jsxs("div",{children:[n.jsx(Ee,{children:"Interview Notes"}),i?n.jsx(dr,{value:u.interviewNotes??L.interviewNotes??"",onChange:I=>d({...u,interviewNotes:I.target.value}),rows:8,placeholder:"Track interview questions, observations, and feedback..."}):n.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:L.interviewNotes||"No interview notes yet"})]})}),n.jsx(xt,{value:"match",children:n.jsx(TBe,{jobId:e.id})}),n.jsx(xt,{value:"skills",children:n.jsx(OBe,{jobId:e.id})}),n.jsx(xt,{value:"salary",children:n.jsx(IBe,{jobId:e.id})}),n.jsx(xt,{value:"prep",children:n.jsx(QBe,{jobId:e.id})}),n.jsxs(xt,{value:"research",className:"space-y-4",children:[n.jsx(ZBe,{jobId:e.id}),typeof L.company!="string"&&L.company&&n.jsxs(n.Fragment,{children:[n.jsx(e9e,{company:L.company}),L.company.recentNews&&L.company.recentNews.length>0&&n.jsx(t9e,{companyName:L.company.name,news:L.company.recentNews})]})]}),n.jsx(xt,{value:"referrals",className:"space-y-4",children:n.jsx(FHe,{job:L})}),n.jsx(xt,{value:"history",className:"space-y-3",children:L.statusHistory&&L.statusHistory.length>0?L.statusHistory.map((I,O)=>n.jsxs("div",{className:"flex items-start gap-3 border-l-2 pl-3",children:[n.jsx(Gn,{className:"h-4 w-4 mt-1 text-muted-foreground"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{className:A[I.status],children:I.status}),n.jsx("span",{className:"text-sm text-muted-foreground",children:Lt(new Date(I.changedAt),"PPP 'at' p")})]}),I.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:I.notes})]})]},O)):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No status history available"})})]})]})]}),n.jsx(RHe,{jobId:e.id,currentResumeId:e.resume_id,currentCoverLetterId:e.cover_letter_id,isOpen:f,onClose:()=>x(!1),onUpdate:s})]})},$He=({jobId:e,onSelectOffer:t})=>{const[r,s]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState({base_salary:"",bonus:"",equity:"",location:"",level:"",notes:"",status:"pending"});N.useEffect(()=>{d()},[e]);const d=async()=>{const{data:v,error:g}=await se.from("offers").select("*").eq("job_id",e).order("created_at",{ascending:!1});if(g){xe.error("Failed to load offers");return}s(v||[])},h=async v=>{v.preventDefault(),l(!0);const{data:{user:g}}=await se.auth.getUser();if(!g)return;const{error:y}=await se.from("offers").insert({user_id:g.id,job_id:e,base_salary:c.base_salary?parseFloat(c.base_salary):null,bonus:c.bonus?parseFloat(c.bonus):null,equity:c.equity||null,location:c.location||null,level:c.level||null,notes:c.notes||null,status:c.status});y?xe.error("Failed to create offer"):(xe.success("Offer created successfully"),i(!1),u({base_salary:"",bonus:"",equity:"",location:"",level:"",notes:"",status:"pending"}),d()),l(!1)},m=async v=>{const{error:g}=await se.from("offers").delete().eq("id",v);g?xe.error("Failed to delete offer"):(xe.success("Offer deleted"),d())},f=v=>v?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(v):"Not specified",x=v=>{switch(v){case"accepted":return"default";case"rejected":return"destructive";case"negotiating":return"secondary";default:return"outline"}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Offers"}),n.jsxs(Wr,{open:a,onOpenChange:i,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{size:"sm",children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Offer"]})}),n.jsxs(Br,{className:"max-w-lg",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Add New Offer"})}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"base_salary",children:"Base Salary"}),n.jsx(Je,{id:"base_salary",type:"number",placeholder:"120000",value:c.base_salary,onChange:v=>u({...c,base_salary:v.target.value})})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"bonus",children:"Bonus"}),n.jsx(Je,{id:"bonus",type:"number",placeholder:"15000",value:c.bonus,onChange:v=>u({...c,bonus:v.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"equity",children:"Equity"}),n.jsx(Je,{id:"equity",placeholder:"50,000 RSUs",value:c.equity,onChange:v=>u({...c,equity:v.target.value})})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"level",children:"Level"}),n.jsx(Je,{id:"level",placeholder:"Senior Engineer",value:c.level,onChange:v=>u({...c,level:v.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"location",children:"Location"}),n.jsx(Je,{id:"location",placeholder:"San Francisco, CA",value:c.location,onChange:v=>u({...c,location:v.target.value})})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"status",children:"Status"}),n.jsxs($t,{value:c.status,onValueChange:v=>u({...c,status:v}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"pending",children:"Pending"}),n.jsx(qe,{value:"negotiating",children:"Negotiating"}),n.jsx(qe,{value:"accepted",children:"Accepted"}),n.jsx(qe,{value:"rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"notes",children:"Notes"}),n.jsx(dr,{id:"notes",placeholder:"Additional details about the offer...",value:c.notes,onChange:v=>u({...c,notes:v.target.value})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:o,children:o?"Creating...":"Create Offer"})]})]})]})]})]}),r.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-8 text-center",children:[n.jsx(mc,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No offers yet"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an offer to start negotiation prep"})]})}):n.jsx("div",{className:"space-y-3",children:r.map(v=>n.jsxs(ye,{className:"hover:border-primary/50 transition-colors cursor-pointer",children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(De,{className:"text-base",children:[v.level||"Position"," ",v.location&&` ${v.location}`]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:x(v.status),children:v.status}),n.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(v.created_at).toLocaleDateString()})]})]}),n.jsx(ve,{variant:"ghost",size:"icon",onClick:g=>{g.stopPropagation(),m(v.id)},children:n.jsx(Ws,{className:"h-4 w-4"})})]})}),n.jsxs(_e,{className:"pt-0",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Base Salary"}),n.jsx("p",{className:"font-semibold",children:f(v.base_salary)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Bonus"}),n.jsx("p",{className:"font-semibold",children:f(v.bonus)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Equity"}),n.jsx("p",{className:"font-semibold",children:v.equity||"Not specified"})]})]}),n.jsx(ve,{onClick:()=>t(v.id),className:"w-full",variant:"outline",children:"View Negotiation Prep"})]})]},v.id))})]})},qHe=({offerId:e,onBack:t})=>{var E,q,M,C;const[r,s]=N.useState(null),[a,i]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[m,f]=N.useState({title:"",url:""});N.useEffect(()=>{x()},[e]);const x=async()=>{var re,U;const{data:I,error:O}=await se.from("offers").select("*").eq("id",e).single();if(O){xe.error("Failed to load offer");return}s(I);const H=I.market_data;u(((re=H==null?void 0:H.min)==null?void 0:re.toString())||""),h(((U=H==null?void 0:H.max)==null?void 0:U.toString())||"")},v=async()=>{if(!r)return;i(!0);const{error:I}=await se.from("offers").update({market_data:{...r.market_data,min:c?parseFloat(c):null,max:d?parseFloat(d):null}}).eq("id",e);I?xe.error("Failed to update market data"):(xe.success("Market data updated"),x()),i(!1)},g=async()=>{var O;if(!r||!m.title||!m.url)return;i(!0);const{error:I}=await se.from("offers").update({market_data:{...r.market_data,sources:[...((O=r.market_data)==null?void 0:O.sources)||[],m]}}).eq("id",e);I?xe.error("Failed to add source"):(xe.success("Source added"),f({title:"",url:""}),x()),i(!1)},y=async I=>{if(!r)return;const{error:O}=await se.from("offers").update({confidence_checklist:{...r.confidence_checklist,[I]:!r.confidence_checklist[I]}}).eq("id",e);O?xe.error("Failed to update checklist"):x()},j=I=>I?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(I):"$0",b=()=>{if(!r)return 0;const I=r.base_salary||0,O=r.bonus||0;return I+O},_=()=>{var ee,X;if(!r||!((ee=r.market_data)!=null&&ee.min)||!((X=r.market_data)!=null&&X.max))return{percentage:null,position:"No market data"};const I=b(),O=r.market_data.min,re=r.market_data.max-O,U=(I-O)/re*100;let K="";return U<25?K="Below market":U<50?K="Lower market":U<75?K="Mid market":K="Upper market",{percentage:U,position:K}},S={initial:`Thank you for the offer. I'm excited about the opportunity to join [Company] as [Level]. Based on my research of market rates for this position in [Location], particularly for someone with my [X years] experience in [key skills], I was expecting a compensation package in the range of [target range].

Given my background in [specific achievements] and the value I can bring to [specific company initiatives], I'd like to discuss adjusting the base salary to [target number].`,counteroffer:`I appreciate you coming back with [revised offer]. While this is closer to my expectations, I'd like to propose [your counter]. Here's my reasoning:

1. [Key accomplishment/skill]
2. [Market data point]
3. [Unique value proposition]

Is there flexibility to meet at [specific number]?`,stalling:"Thank you for the offer. I'm very interested in the position and want to give this the consideration it deserves. Would it be possible to have until [specific date] to review the details and get back to you? This will allow me to [legitimate reason: discuss with family/review other options/etc.].",competing:"I wanted to be transparent with you - I have another offer that I'm considering. However, [Company] remains my top choice because of [specific reasons: team/mission/growth opportunity]. The other offer includes [relevant details without specifics]. Is there any flexibility in your offer to help me make this decision?"},T=[{key:"researched_market",label:"Researched market rates for my role and location"},{key:"practiced_scripts",label:"Practiced negotiation scripts and responses"},{key:"identified_leverage",label:"Identified my unique value and leverage points"},{key:"set_walkaway",label:"Set my walk-away number and priorities"},{key:"prepared_questions",label:"Prepared questions about benefits, equity, and growth"}];if(!r)return n.jsx("div",{children:"Loading..."});const A=_(),L=Object.values(r.confidence_checklist).filter(Boolean).length/5*100;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ve,{variant:"ghost",onClick:t,className:"mb-4",children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Offers"]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(mc,{className:"h-5 w-5"}),"Offer Overview"]})}),n.jsx(_e,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base Salary"}),n.jsx("p",{className:"text-xl font-semibold",children:j(r.base_salary)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bonus"}),n.jsx("p",{className:"text-xl font-semibold",children:j(r.bonus)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Cash"}),n.jsx("p",{className:"text-xl font-semibold",children:j(b())})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Equity"}),n.jsx("p",{className:"text-xl font-semibold",children:r.equity||"N/A"})]})]})})]}),n.jsxs(ss,{defaultValue:"market",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-4",children:[n.jsx(vt,{value:"market",children:"Market Data"}),n.jsx(vt,{value:"scripts",children:"Scripts"}),n.jsx(vt,{value:"talking",children:"Talking Points"}),n.jsx(vt,{value:"checklist",children:"Checklist"})]}),n.jsx(xt,{value:"market",className:"space-y-4",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Market Positioning"]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"market_min",children:"Market Min"}),n.jsx(Je,{id:"market_min",type:"number",placeholder:"100000",value:c,onChange:I=>u(I.target.value)})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"market_max",children:"Market Max"}),n.jsx(Je,{id:"market_max",type:"number",placeholder:"150000",value:d,onChange:I=>h(I.target.value)})]})]}),n.jsx(ve,{onClick:v,disabled:a,children:"Update Market Range"}),A.percentage!==null&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Your Offer Position"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${A.percentage}%`}})}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[n.jsx("span",{children:j(((E=r.market_data)==null?void 0:E.min)||0)}),n.jsx("span",{children:j(((q=r.market_data)==null?void 0:q.max)||0)})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold",children:A.position}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.percentage.toFixed(0),"th percentile"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Research Sources"}),(C=(M=r.market_data)==null?void 0:M.sources)==null?void 0:C.map((I,O)=>n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium hover:underline",children:I.title})},O)),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Je,{placeholder:"Source title",value:m.title,onChange:I=>f({...m,title:I.target.value})}),n.jsx(Je,{placeholder:"URL",value:m.url,onChange:I=>f({...m,url:I.target.value})})]}),n.jsx(ve,{onClick:g,variant:"outline",disabled:a,children:"Add Source"})]})]})]})}),n.jsx(xt,{value:"scripts",className:"space-y-4",children:Object.entries(S).map(([I,O])=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-base capitalize",children:I.replace("_"," ")})}),n.jsxs(_e,{children:[n.jsx(dr,{value:O,readOnly:!0,className:"min-h-[150px] font-mono text-sm"}),n.jsx(ve,{onClick:()=>{navigator.clipboard.writeText(O),xe.success("Script copied to clipboard")},variant:"outline",className:"mt-2",children:"Copy Script"})]})]},I))}),n.jsx(xt,{value:"talking",className:"space-y-4",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-5 w-5"}),"Your Talking Points"]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2 text-sm",children:[n.jsx("p",{className:"font-medium",children:"Suggested topics to prepare:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[n.jsx("li",{children:"Specific achievements from past roles with metrics"}),n.jsx("li",{children:"Unique skills or certifications that add value"}),n.jsx("li",{children:"Industry knowledge or domain expertise"}),n.jsx("li",{children:"Leadership or mentorship experience"}),n.jsx("li",{children:"How you'll contribute to company goals"})]})]}),n.jsx(dr,{placeholder:"Write your key talking points here... (e.g., 'Led team that increased revenue by 40%', 'Expert in X technology with 5+ years', etc.)",value:o,onChange:I=>l(I.target.value),className:"min-h-[200px]"})]})]})}),n.jsx(xt,{value:"checklist",className:"space-y-4",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(pa,{className:"h-5 w-5"}),"Confidence Checklist"]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Preparation Progress"}),n.jsxs("p",{className:"text-sm font-semibold",children:[L.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${L}%`}})})]}),n.jsx("div",{className:"space-y-3",children:T.map(I=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted rounded-lg",children:[n.jsx(ga,{checked:r.confidence_checklist[I.key],onCheckedChange:()=>y(I.key),className:"mt-1"}),n.jsx("label",{className:"text-sm flex-1 cursor-pointer",onClick:()=>y(I.key),children:I.label})]},I.key))})]})]})})]})]})},eP={async getAll(){const{data:e,error:t}=await se.from("saved_searches").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async create(e,t){const{data:{user:r},error:s}=await se.auth.getUser();if(s||!r)throw new Error("Not authenticated");const{data:a,error:i}=await se.from("saved_searches").insert([{name:e,filters:t,user_id:r.id}]).select().single();if(i)throw i;return a},async delete(e){const{error:t}=await se.from("saved_searches").delete().eq("id",e);if(t)throw t}};function zHe({open:e,onOpenChange:t,currentFilters:r,onApplySearch:s}){const[a,i]=N.useState([]),[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,h]=N.useState(!1),m=async()=>{u(!0);try{const g=await eP.getAll();i(g)}catch{xe.error("Failed to load saved searches")}finally{u(!1)}};N.useEffect(()=>{e&&m()},[e]);const f=async()=>{if(!o.trim()){xe.error("Please enter a name for your search");return}h(!0);try{await eP.create(o,r),xe.success("Search saved successfully"),l(""),m()}catch{xe.error("Failed to save search")}finally{h(!1)}},x=g=>{s(g.filters),xe.success(`Applied search: ${g.name}`),t(!1)},v=async g=>{if(confirm("Delete this saved search?"))try{await eP.delete(g),xe.success("Search deleted"),m()}catch{xe.error("Failed to delete search")}};return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"max-w-md",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Saved Searches"}),n.jsx(no,{children:"Save your current filters or apply a saved search"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2 pb-4 border-b",children:[n.jsx(Ee,{children:"Save Current Filters"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{placeholder:"Search name...",value:o,onChange:g=>l(g.target.value),onKeyDown:g=>g.key==="Enter"&&f()}),n.jsx(ve,{onClick:f,disabled:d||!o.trim(),children:"Save"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Your Saved Searches"}),c?n.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"Loading..."}):a.length===0?n.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No saved searches yet"}):n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(g=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsxs(ve,{variant:"ghost",className:"flex-1 justify-start h-auto py-2",onClick:()=>x(g),children:[n.jsx(vc,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"font-medium",children:g.name})]}),n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>v(g.id),className:"h-8 w-8 text-destructive hover:text-destructive",children:n.jsx(Ws,{className:"h-4 w-4"})})]},g.id))})]})]})]})})}const WHe=[{value:"createdAt",label:"Date Added"},{value:"applicationDeadline",label:"Deadline"},{value:"jobTitle",label:"Job Title"},{value:"company.name",label:"Company"},{value:"salaryMax",label:"Salary"}],VHe=({filters:e,onFiltersChange:t,onClearFilters:r})=>{const[s,a]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState(e.status?[e.status]:[]),u=e.search||e.status||e.salaryMin!==void 0||e.salaryMax!==void 0||e.deadlineFrom!==void 0||e.deadlineTo!==void 0||e.isArchived!==void 0||e.sortBy,d=f=>{t({...e,search:f||void 0})},h=(f,x)=>{t({...e,[f]:x||void 0})},m=f=>{const x=l.includes(f)?l.filter(v=>v!==f):[...l,f];c(x),t({...e,status:x[0]||void 0})};return n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search jobs by title, company, or location...",value:e.search||"",onChange:f=>d(f.target.value),className:"pl-10"})]}),n.jsxs(ve,{variant:"outline",onClick:()=>o(!0),children:[n.jsx(tp,{className:"h-4 w-4 mr-2"}),"Saved Searches"]}),n.jsxs(aI,{open:s,onOpenChange:a,children:[n.jsx(gY,{asChild:!0,children:n.jsxs(ve,{variant:"outline",className:"relative",children:[n.jsx(_b,{className:"h-4 w-4 mr-2"}),"Filters",u&&n.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary"})]})}),n.jsxs(K_,{children:[n.jsxs(Y_,{children:[n.jsx(J_,{children:"Filter Jobs"}),n.jsx(xY,{children:"Refine your job search with these filters"})]}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Status (Select Multiple)"}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:JD.map(f=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:`status-${f.id}`,checked:l.includes(f.id),onCheckedChange:()=>m(f.id)}),n.jsx(Ee,{htmlFor:`status-${f.id}`,className:"text-sm font-normal cursor-pointer flex-1",children:f.label})]},f.id))}),l.length>0&&n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{c([]),h("status",void 0)},className:"h-7 text-xs",children:"Clear Status Filters"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Salary Range"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ee,{htmlFor:"salaryMin",className:"text-xs text-muted-foreground",children:"Min ($)"}),n.jsx(Je,{id:"salaryMin",type:"number",placeholder:"e.g., 50000",value:e.salaryMin||"",onChange:f=>h("salaryMin",f.target.value?Number(f.target.value):void 0)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ee,{htmlFor:"salaryMax",className:"text-xs text-muted-foreground",children:"Max ($)"}),n.jsx(Je,{id:"salaryMax",type:"number",placeholder:"e.g., 150000",value:e.salaryMax||"",onChange:f=>h("salaryMax",f.target.value?Number(f.target.value):void 0)})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Application Deadline"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ee,{htmlFor:"deadlineFrom",className:"text-xs text-muted-foreground",children:"From"}),n.jsx(Je,{id:"deadlineFrom",type:"date",value:e.deadlineFrom||"",onChange:f=>h("deadlineFrom",f.target.value||void 0)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Ee,{htmlFor:"deadlineTo",className:"text-xs text-muted-foreground",children:"To"}),n.jsx(Je,{id:"deadlineTo",type:"date",value:e.deadlineTo||"",onChange:f=>h("deadlineTo",f.target.value||void 0)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Show"}),n.jsxs($t,{value:e.isArchived===void 0?"active":e.isArchived?"archived":"active",onValueChange:f=>h("isArchived",f==="all"?void 0:f==="archived"),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"active",children:"Active Jobs"}),n.jsx(qe,{value:"archived",children:"Archived Jobs"}),n.jsx(qe,{value:"all",children:"All Jobs"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Sort By"}),n.jsxs($t,{value:e.sortBy||"createdAt",onValueChange:f=>h("sortBy",f),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:WHe.map(f=>n.jsx(qe,{value:f.value,children:f.label},f.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Sort Order"}),n.jsxs($t,{value:e.sortOrder||"desc",onValueChange:f=>h("sortOrder",f),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"desc",children:"Newest First"}),n.jsx(qe,{value:"asc",children:"Oldest First"})]})]})]}),u&&n.jsxs(ve,{variant:"outline",onClick:()=>{r(),a(!1)},className:"w-full",children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Clear All Filters"]})]})]})]}),n.jsx(zHe,{open:i,onOpenChange:o,currentFilters:e,onApplySearch:f=>{t(f)}})]})};function HHe({jobs:e,onJobClick:t}){const[r,s]=N.useState(new Date),a=m=>{const f=kg(new Date(m),new Date);return f<0?"overdue":f<=2?"urgent":f<=7?"soon":"normal"},i=e.filter(m=>m.applicationDeadline),o=r?i.filter(m=>Yo(new Date(m.applicationDeadline),r)):[],l=i.map(m=>({...m,daysUntil:kg(new Date(m.applicationDeadline),new Date),urgency:a(m.applicationDeadline)})).filter(m=>m.daysUntil>=0&&m.daysUntil<=7).sort((m,f)=>m.daysUntil-f.daysUntil),c={overdue:"bg-destructive text-destructive-foreground",urgent:"bg-warning text-warning-foreground",soon:"bg-accent text-accent-foreground",normal:"bg-muted text-muted-foreground"},u={overdue:"Overdue",urgent:"Urgent (2 days)",soon:"Soon (7 days)",normal:"Normal"},d={hasDeadline:i.map(m=>new Date(m.applicationDeadline))},h={hasDeadline:{fontWeight:"bold",backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",borderRadius:"50%"}};return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5"}),"Application Deadlines"]})}),n.jsxs(_e,{children:[n.jsx(gf,{mode:"single",selected:r,onSelect:s,modifiers:d,modifiersStyles:h,className:"rounded-md border"}),o.length>0&&n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx("h3",{className:"font-semibold text-sm",children:Lt(r,"MMMM d, yyyy")}),o.map(m=>{var f;return n.jsxs("div",{onClick:()=>t==null?void 0:t(m),className:"p-3 border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[n.jsx("div",{className:"font-medium",children:m.jobTitle}),n.jsx("div",{className:"text-sm text-muted-foreground",children:typeof m.company=="string"?m.company:(f=m.company)==null?void 0:f.name})]},m.id)})]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"h-5 w-5"}),"Upcoming Deadlines (Next 7 Days)"]})}),n.jsxs(_e,{className:"space-y-3",children:[l.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No upcoming deadlines in the next 7 days"}):l.map(m=>{var f;return n.jsx("div",{onClick:()=>t==null?void 0:t(m),className:"p-4 border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:m.jobTitle}),n.jsx("div",{className:"text-sm text-muted-foreground",children:typeof m.company=="string"?m.company:(f=m.company)==null?void 0:f.name}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Lt(new Date(m.applicationDeadline),"MMMM d, yyyy")})]}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[n.jsx($e,{className:c[m.urgency],children:m.daysUntil===0?"Today":m.daysUntil===1?"Tomorrow":`${m.daysUntil} days`}),m.urgency==="overdue"&&n.jsx("span",{className:"text-xs text-destructive font-medium",children:"Overdue"})]})]})},m.id)}),n.jsxs("div",{className:"pt-4 border-t space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Urgency Levels:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(u).map(([m,f])=>n.jsx("div",{className:"flex items-center gap-2",children:n.jsx($e,{className:c[m],variant:"outline",children:f})},m))})]})]})]})]})}function GHe({jobs:e,onJobUpdate:t}){const[r,s]=N.useState(!1),a=l=>e.filter(c=>c.status===l&&!c.is_archived),i=()=>{s(!0)},o=async l=>{s(!1);const{destination:c,source:u,draggableId:d}=l;if(!c||c.droppableId===u.droppableId&&c.index===u.index)return;const h=Bne(c.droppableId),m=d;try{await Hn.jobs.update(m,{status:h,status_updated_at:new Date().toISOString()}),xe.success("Job status updated"),t()}catch(f){xe.error("Failed to update job status"),console.error("Error updating job:",f)}};return n.jsx(PX,{onDragStart:i,onDragEnd:o,children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:JD.map(l=>{const c=a(l.id);return n.jsxs(ye,{className:`${r?"ring-2 ring-primary":""}`,children:[n.jsx(Ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${l.color}`}),l.label]}),n.jsx($e,{variant:"secondary",className:"text-xs",children:c.length})]})}),n.jsx(II,{droppableId:l.id,children:(u,d)=>n.jsxs(_e,{ref:u.innerRef,...u.droppableProps,className:`p-2 min-h-[200px] space-y-2 ${d.isDraggingOver?"bg-accent/50":""}`,children:[c.map((h,m)=>n.jsx(MX,{draggableId:h.id,index:m,children:(f,x)=>n.jsx("div",{ref:f.innerRef,...f.draggableProps,...f.dragHandleProps,className:x.isDragging?"opacity-50":"",children:n.jsx(Ise,{job:h,className:"mb-2"})})},h.id)),u.placeholder,c.length===0&&n.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:"No jobs in this stage"})]})})]},l.id)})})})}const KHe=()=>{const{user:e}=un(),t=ns(),[r,s]=Eb(),[a,i]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(!1),[d,h]=N.useState(null),[m,f]=N.useState(!1),[x,v]=N.useState(null),[g,y]=N.useState("all"),[j,b]=N.useState(r.get("view")||"grid"),[_,S]=N.useState(()=>{const U={isArchived:!1,sortBy:"created_at",sortOrder:"desc"};return r.get("search")&&(U.search=r.get("search")),r.get("status")&&(U.status=r.get("status")),r.get("salaryMin")&&(U.salaryMin=Number(r.get("salaryMin"))),r.get("salaryMax")&&(U.salaryMax=Number(r.get("salaryMax"))),r.get("deadlineFrom")&&(U.deadlineFrom=r.get("deadlineFrom")),r.get("deadlineTo")&&(U.deadlineTo=r.get("deadlineTo")),r.get("sortBy")&&(U.sortBy=r.get("sortBy")),r.get("sortOrder")&&(U.sortOrder=r.get("sortOrder")),U}),[T,A]=N.useState(_);N.useEffect(()=>{const U=new URLSearchParams;_.search&&U.set("search",_.search),_.status&&U.set("status",_.status),_.salaryMin&&U.set("salaryMin",_.salaryMin.toString()),_.salaryMax&&U.set("salaryMax",_.salaryMax.toString()),_.deadlineFrom&&U.set("deadlineFrom",_.deadlineFrom),_.deadlineTo&&U.set("deadlineTo",_.deadlineTo),_.sortBy&&U.set("sortBy",_.sortBy),_.sortOrder&&U.set("sortOrder",_.sortOrder),j!=="grid"&&U.set("view",j),s(U,{replace:!0})},[_,j]);const L=[{value:"all",label:"All Jobs",count:a.length},...JD.map(U=>({value:U.id,label:U.label,count:a.filter(K=>K.status===U.id).length}))];N.useEffect(()=>{const U=setTimeout(()=>{A(_)},300);return()=>clearTimeout(U)},[_]);const E=async()=>{if(e){l(!0);try{const U=await Hn.jobs.getAll(T);i(U)}catch(U){console.error("Error loading jobs:",U),xe.error((U==null?void 0:U.message)||"Failed to load jobs")}finally{l(!1)}}};N.useEffect(()=>{E()},[e,T]);const q=()=>{u(!1),E()},M=async U=>{if(confirm("Are you sure you want to delete this job?"))try{await Hn.jobs.delete(U.id),xe.success("Job deleted successfully"),E()}catch{xe.error("Failed to delete job")}},C=async U=>{try{await Hn.jobs.archive(U.id),xe.success("Job archived successfully"),E()}catch{xe.error("Failed to archive job")}},I=U=>{h(U),f(!0),v(null)},O=U=>{v(U)},H=()=>{v(null)},re=g==="all"?a.filter(U=>!U.is_archived):a.filter(U=>U.status===g&&!U.is_archived);return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Job Tracker"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Manage your job applications and track your progress"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex gap-1 border rounded-md",children:[n.jsx(ve,{variant:j==="grid"?"default":"ghost",size:"sm",onClick:()=>b("grid"),className:"rounded-r-none",children:n.jsx(pce,{className:"h-4 w-4"})}),n.jsx(ve,{variant:j==="pipeline"?"default":"ghost",size:"sm",onClick:()=>b("pipeline"),className:"rounded-none",children:n.jsx(Gr,{className:"h-4 w-4"})}),n.jsx(ve,{variant:j==="calendar"?"default":"ghost",size:"sm",onClick:()=>b("calendar"),className:"rounded-l-none",children:n.jsx(mr,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>t("/jobs/map"),className:"rounded-l-none border-l",title:"Map View",children:n.jsx(Ao,{className:"h-4 w-4"})})]}),n.jsxs(ve,{onClick:()=>u(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Job"]})]})]}),n.jsx(VHe,{filters:_,onFiltersChange:S,onClearFilters:()=>S({isArchived:!1,sortBy:"created_at",sortOrder:"desc"})}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:L.map(U=>n.jsxs("button",{onClick:()=>y(U.value),className:`p-4 rounded-lg border transition-all ${g===U.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[n.jsx("div",{className:"text-2xl font-bold",children:U.count}),n.jsx("div",{className:"text-sm text-muted-foreground",children:U.label})]},U.value))}),o?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading jobs..."})}):re.length===0&&j!=="calendar"?n.jsxs("div",{className:"text-center py-12 border border-dashed rounded-lg",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:g==="all"?"No jobs yet":`No jobs in ${g} status`}),n.jsxs(ve,{onClick:()=>u(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Your First Job"]})]}):j==="calendar"?n.jsx(HHe,{jobs:a.filter(U=>!U.is_archived),onJobClick:h}):j==="pipeline"?n.jsx(GHe,{jobs:a.filter(U=>!U.is_archived),onJobUpdate:E}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:re.map(U=>n.jsx(Ise,{job:U,onView:h,onEdit:h,onDelete:M,onArchive:C,onViewOffers:I},U.id))})]})}),n.jsx(Wr,{open:c,onOpenChange:u,children:n.jsxs(Br,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Add New Job"}),n.jsx(no,{children:"Enter the details of the job you're interested in or paste a job posting URL to auto-fill"})]}),n.jsx(m7e,{onSuccess:q,onCancel:()=>u(!1)})]})}),n.jsx(UHe,{job:d,isOpen:!!d,onClose:()=>h(null),onUpdate:E}),n.jsx(Wr,{open:m,onOpenChange:f,children:n.jsx(Br,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:x?n.jsx(qHe,{offerId:x,onBack:H}):d&&n.jsx($He,{jobId:d.id,onSelectOffer:O})})})]})};function YHe({result:e,onApply:t,onDismiss:r}){if(!e)return null;const s=c=>{navigator.clipboard.writeText(c),xe.success("Copied to clipboard")},a=()=>{t(e.data),xe.success("Applied AI suggestions")},i=()=>{var h,m,f,x;const{summary:c,experience:u,skills:d}=e.data;return n.jsxs(ss,{defaultValue:"summary",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-3",children:[n.jsx(vt,{value:"summary",children:"Summary"}),n.jsx(vt,{value:"experience",children:"Experience"}),n.jsx(vt,{value:"skills",children:"Skills"})]}),n.jsx(xt,{value:"summary",className:"space-y-3",children:(h=c==null?void 0:c.suggestions)==null?void 0:h.map((v,g)=>n.jsx("div",{className:"p-3 border rounded-lg bg-muted/50",children:n.jsxs("div",{className:"flex justify-between items-start gap-2",children:[n.jsx("p",{className:"text-sm flex-1",children:v}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>s(v),children:n.jsx(fc,{className:"h-3 w-3"})})]})},g))}),n.jsx(xt,{value:"experience",className:"space-y-3",children:(m=u==null?void 0:u.bulletPoints)==null?void 0:m.map((v,g)=>{var y;return n.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:"secondary",children:v.role||"Position"}),v.relevance&&n.jsxs($e,{variant:v.relevance>=80?"default":"outline",children:[v.relevance,"% match"]})]}),n.jsx("ul",{className:"space-y-1 list-disc list-inside text-sm",children:(y=v.points)==null?void 0:y.map((j,b)=>n.jsx("li",{className:"text-muted-foreground",children:j},b))})]},g)})}),n.jsxs(xt,{value:"skills",className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Recommended Skills to Highlight:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(f=d==null?void 0:d.highlighted)==null?void 0:f.map((v,g)=>n.jsx($e,{variant:"default",children:v},g))})]}),((x=d==null?void 0:d.suggested)==null?void 0:x.length)>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Consider Adding:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.suggested.map((v,g)=>n.jsx($e,{variant:"outline",children:v},g))})]})]})]})},o=()=>{const{optimized:c,suggested:u,relevanceScores:d}=e.data;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Optimized Skills Order"}),n.jsx("div",{className:"space-y-2",children:c==null?void 0:c.map((h,m)=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[n.jsx("span",{className:"text-sm",children:h.name}),n.jsxs($e,{variant:h.relevance>=80?"default":"secondary",children:[h.relevance,"% relevant"]})]},m))})]}),(u==null?void 0:u.length)>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-3",children:"Skills to Add"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((h,m)=>n.jsx($e,{variant:"outline",className:"cursor-pointer hover:bg-primary/10",children:h},m))})]})]})},l=()=>{const{tailored:c}=e.data;return n.jsx("div",{className:"space-y-4",children:c==null?void 0:c.map((u,d)=>{var h;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:u.role}),n.jsx("p",{className:"text-sm text-muted-foreground",children:u.company})]}),n.jsxs($e,{variant:u.relevance>=70?"default":"secondary",children:[u.relevance,"% match"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Tailored Descriptions:"}),n.jsx("ul",{className:"space-y-1 list-disc list-inside text-sm text-muted-foreground",children:(h=u.descriptions)==null?void 0:h.map((m,f)=>n.jsx("li",{children:m},f))})]})]},d)})})};return n.jsxs(ye,{className:"border-primary",children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Co,{className:"h-5 w-5 text-primary"}),"AI-Generated Suggestions"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{size:"sm",onClick:a,children:[n.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Apply All"]}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:r,children:n.jsx(Rl,{className:"h-4 w-4"})})]})]})}),n.jsxs(_e,{children:[e.type==="content"&&i(),e.type==="skills"&&o(),e.type==="experience"&&l()]})]})}var j5="Switch",[JHe]=di(j5),[XHe,QHe]=JHe(j5),Oie=N.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,f]=N.useState(null),x=Tr(t,b=>f(b)),v=N.useRef(!1),g=m?d||!!m.closest("form"):!0,[y,j]=Xo({prop:a,defaultProp:i??!1,onChange:u,caller:j5});return n.jsxs(XHe,{scope:r,checked:y,disabled:l,children:[n.jsx(zt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Mie(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:St(e.onClick,b=>{j(_=>!_),g&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),g&&n.jsx(Die,{control:m,bubbles:!v.current,name:s,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Oie.displayName=j5;var Iie="SwitchThumb",Rie=N.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=QHe(Iie,r);return n.jsx(zt.span,{"data-state":Mie(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});Rie.displayName=Iie;var ZHe="SwitchBubbleInput",Die=N.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=N.useRef(null),l=Tr(o,i),c=Z_(r),u=E_(t);return N.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const x=new Event("click",{bubbles:s});f.call(d,r),d.dispatchEvent(x)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Die.displayName=ZHe;function Mie(e){return e?"checked":"unchecked"}var Lie=Oie,eGe=Rie;const rd=N.forwardRef(({className:e,...t},r)=>n.jsx(Lie,{className:Pt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:n.jsx(eGe,{className:Pt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rd.displayName=Lie.displayName;const tGe=({onTemplateSelect:e})=>{const[t,r]=N.useState([]),[s,a]=N.useState(!0),[i,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(""),[h,m]=N.useState(!1),{toast:f}=Nc();N.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:{user:b}}=await se.auth.getUser();if(!b)return;const{data:_,error:S}=await se.from("resume_templates").select("*").eq("user_id",b.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(S)throw S;r(_||[])}catch(b){console.error("Failed to load templates:",b)}finally{a(!1)}},v=async()=>{if(!l.trim()||!u.trim()){f({title:"Validation Error",description:"Please provide both template name and content",variant:"destructive"});return}try{const{data:{user:b}}=await se.auth.getUser();if(!b)throw new Error("Not authenticated");h&&await se.from("resume_templates").update({is_default:!1}).eq("user_id",b.id);const{error:_}=await se.from("resume_templates").insert({user_id:b.id,name:l.trim(),content_markdown:u.trim(),is_default:h});if(_)throw _;f({title:"Success",description:"Template imported successfully"}),o(!1),c(""),d(""),m(!1),x()}catch(b){console.error("Failed to import template:",b),f({title:"Error",description:"Failed to import template",variant:"destructive"})}},g=async b=>{try{const{data:{user:_}}=await se.auth.getUser();if(!_)throw new Error("Not authenticated");await se.from("resume_templates").update({is_default:!1}).eq("user_id",_.id);const{error:S}=await se.from("resume_templates").update({is_default:!0}).eq("id",b);if(S)throw S;f({title:"Success",description:"Default template updated"}),x()}catch(_){console.error("Failed to set default:",_),f({title:"Error",description:"Failed to set default template",variant:"destructive"})}},y=async b=>{if(confirm("Are you sure you want to delete this template?"))try{const{error:_}=await se.from("resume_templates").delete().eq("id",b);if(_)throw _;f({title:"Success",description:"Template deleted"}),x()}catch(_){console.error("Failed to delete template:",_),f({title:"Error",description:"Failed to delete template",variant:"destructive"})}},j=async(b,_)=>{try{const{error:S}=await se.from("resume_templates").update({name:_.trim()}).eq("id",b);if(S)throw S;f({title:"Success",description:"Template renamed"}),x()}catch(S){console.error("Failed to rename template:",S),f({title:"Error",description:"Failed to rename template",variant:"destructive"})}};return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(De,{children:"My Templates"}),n.jsxs(Wr,{open:i,onOpenChange:o,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{size:"sm",children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Import Template"]})}),n.jsxs(Br,{className:"max-w-2xl",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Import Resume Template"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"template-name",children:"Template Name"}),n.jsx(Je,{id:"template-name",value:l,onChange:b=>c(b.target.value),placeholder:"e.g., Technical Resume",maxLength:100})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"template-content",children:"Content (Markdown or Plain Text)"}),n.jsx(dr,{id:"template-content",value:u,onChange:b=>d(b.target.value),placeholder:"Paste your resume content here...",rows:12,maxLength:1e4})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rd,{id:"make-default",checked:h,onCheckedChange:m}),n.jsx(Ee,{htmlFor:"make-default",children:"Set as default template"})]}),n.jsx(ve,{onClick:v,className:"w-full",children:"Import Template"})]})]})]})]})}),n.jsxs(_e,{children:[s&&n.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Loading..."}),!s&&t.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No templates yet. Import your first template to get started."}),!s&&t.length>0&&n.jsx("div",{className:"space-y-2",children:t.map(b=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md hover:bg-accent/50",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[b.is_default&&n.jsx(xc,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),n.jsx("span",{className:"font-medium",children:b.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(b.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[!b.is_default&&n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>g(b.id),title:"Set as default",children:n.jsx(xc,{className:"h-4 w-4"})}),e&&n.jsx(ve,{size:"sm",variant:"outline",onClick:()=>e(b),children:"Use"}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>{const _=prompt("Enter new name:",b.name);_&&_.trim()&&j(b.id,_)},children:"Rename"}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>y(b.id),children:n.jsx(Ws,{className:"h-4 w-4 text-destructive"})})]})]},b.id))})]})]})},rGe=({jobId:e,currentSkills:t,onApplySkills:r})=>{const[s,a]=N.useState(!1),[i,o]=N.useState(null),[l,c]=N.useState([]),{toast:u}=Nc(),d=async()=>{var x,v,g,y;a(!0);try{const{data:j,error:b}=await se.functions.invoke("ai-optimize-skills",{body:{jobId:e}});if(b)throw(x=b.message)!=null&&x.includes("429")||(v=b.message)!=null&&v.includes("Rate limit")?new Error("Rate limit exceeded. Please try again later."):(g=b.message)!=null&&g.includes("402")||(y=b.message)!=null&&y.includes("credits")?new Error("AI credits exhausted. Please add credits to continue."):b;if(!j||typeof j!="object")throw new Error("Invalid response from AI service");o(j);const _=[...t.filter(S=>{var T;return(T=j.emphasize)==null?void 0:T.includes(S)}),...j.add||[]];c(_),u({title:"Optimization Complete",description:`Match score: ${j.score||0}%`})}catch(j){console.error("Optimization failed:",j),u({title:"Error",description:j.message||"Failed to optimize skills",variant:"destructive"})}finally{a(!1)}},h=()=>{l.length>0&&(r(l),u({title:"Skills Updated",description:`${l.length} skills applied to resume`}))},m=x=>x>=80?"text-green-600":x>=60?"text-yellow-600":"text-red-600",f=x=>x>=80?"default":x>=60?"secondary":"destructive";return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Skills Optimization"}),n.jsxs(ve,{onClick:d,disabled:s,children:[s&&n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyze Skills"]})]})}),n.jsxs(_e,{className:"space-y-4",children:[s&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(en,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Analyzing your skills..."})]}),i&&!s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent rounded-md",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Match Score"}),n.jsxs("p",{className:`text-3xl font-bold ${m(i.score)}`,children:[i.score,"%"]})]}),n.jsx($e,{variant:f(i.score),className:"text-lg px-4 py-2",children:i.score>=80?"Excellent":i.score>=60?"Good":"Needs Work"})]}),i.technical.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[n.jsx(pa,{className:"h-4 w-4 mr-2 text-blue-600"}),"Technical Skills"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.technical.map(x=>n.jsx($e,{variant:"secondary",children:x},x))})]}),i.soft.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[n.jsx(pa,{className:"h-4 w-4 mr-2 text-green-600"}),"Soft Skills"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.soft.map(x=>n.jsx($e,{variant:"outline",children:x},x))})]}),i.emphasize.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Skills to Emphasize"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.emphasize.map(x=>n.jsx($e,{variant:"default",children:x},x))})]}),i.add.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Recommended Skills to Add"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.add.map(x=>n.jsxs($e,{className:"bg-purple-600",children:["+ ",x]},x))})]}),i.gaps.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[n.jsx(Nn,{className:"h-4 w-4 mr-2 text-orange-600"}),"Skill Gaps"]}),n.jsx("div",{className:"space-y-2",children:i.gaps.map((x,v)=>n.jsxs("div",{className:"p-2 bg-orange-50 dark:bg-orange-950 rounded border border-orange-200 dark:border-orange-800",children:[n.jsx("p",{className:"font-medium text-sm",children:x.skill}),n.jsx("p",{className:"text-xs text-muted-foreground",children:x.reason})]},v))})]}),l.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Preview Optimized Skills"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.map(x=>n.jsx($e,{variant:"outline",children:x},x))}),n.jsx(ve,{onClick:h,className:"w-full",children:"Apply to Resume"})]})]}),!i&&!s&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:'Click "Analyze Skills" to get optimization suggestions for this job'})]})]})},nGe=({jobId:e,experiences:t,onAcceptSuggestion:r})=>{var b;const[s,a]=N.useState(!1),[i,o]=N.useState([]),[l,c]=N.useState(null),[u,d]=N.useState(!1),{toast:h}=Nc(),m=async()=>{var _,S,T,A,L,E;a(!0);try{const{data:q,error:M}=await se.functions.invoke("ai-tailor-experience",{body:{jobId:e}});if(M)throw(_=M.message)!=null&&_.includes("429")||(S=M.message)!=null&&S.includes("Rate limit")?new Error("Rate limit exceeded. Please try again later."):(T=M.message)!=null&&T.includes("402")||(A=M.message)!=null&&A.includes("credits")?new Error("AI credits exhausted. Please add credits to continue."):(L=M.message)!=null&&L.includes("PROFILE_REQUIRED")?new Error("Please complete your profile first"):M;if(!q||!q.entries)throw new Error("Invalid response from AI service");o(q.entries||[]),h({title:"Tailoring Complete",description:`Generated ${((E=q.entries)==null?void 0:E.length)||0} suggestions`})}catch(q){console.error("Tailoring failed:",q),h({title:"Error",description:q.message||"Failed to tailor experiences",variant:"destructive"})}finally{a(!1)}},f=_=>{c(_),d(!0)},x=async _=>{try{const{data:{user:S}}=await se.auth.getUser();if(!S)throw new Error("Not authenticated");const{error:T}=await se.from("resume_experience_variants").insert({user_id:S.id,resume_experience_id:_.experience_id,job_id:e,content_markdown:_.suggested_markdown,relevance_score:_.relevance_score,accepted:!0});if(T)throw T;r(_.experience_id,_.suggested_markdown),h({title:"Success",description:"Suggestion applied and saved as variant"}),o(A=>A.filter(L=>L.experience_id!==_.experience_id))}catch(S){console.error("Failed to accept suggestion:",S),h({title:"Error",description:S.message||"Failed to save variant",variant:"destructive"})}},v=async _=>{try{const{data:{user:S}}=await se.auth.getUser();if(!S)throw new Error("Not authenticated");const{error:T}=await se.from("resume_experience_variants").insert({user_id:S.id,resume_experience_id:_.experience_id,job_id:e,content_markdown:_.suggested_markdown,relevance_score:_.relevance_score,accepted:!1});if(T)throw T;h({title:"Rejected",description:"Suggestion saved to history"}),o(A=>A.filter(L=>L.experience_id!==_.experience_id))}catch(S){console.error("Failed to reject suggestion:",S),h({title:"Error",description:S.message||"Failed to save rejection",variant:"destructive"})}},g=_=>_>=80?"bg-green-600":_>=60?"bg-yellow-600":"bg-orange-600",y=_=>t.find(S=>S.id===_),j=(_,S)=>{const T=_.split(`
`),A=S.split(`
`);return n.jsxs("div",{className:"space-y-1 font-mono text-sm",children:[n.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-950 border-l-4 border-red-500",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Original:"}),T.map((L,E)=>n.jsxs("div",{className:"text-red-700 dark:text-red-300",children:["- ",L]},`orig-${E}`))]}),n.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-950 border-l-4 border-green-500",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Suggested:"}),A.map((L,E)=>n.jsxs("div",{className:"text-green-700 dark:text-green-300",children:["+ ",L]},`sugg-${E}`))]})]})};return n.jsxs(n.Fragment,{children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Experience Tailoring"}),n.jsxs(ve,{onClick:m,disabled:s,children:[s&&n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Tailor Experiences"]})]})}),n.jsxs(_e,{className:"space-y-4",children:[s&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(en,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Analyzing experiences..."})]}),i.length>0&&!s&&n.jsx("div",{className:"space-y-3",children:i.map(_=>{const S=y(_.experience_id);return n.jsxs("div",{className:"border rounded-md p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:(S==null?void 0:S.role)||"Experience"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S==null?void 0:S.company})]}),n.jsxs($e,{className:g(_.relevance_score),children:[_.relevance_score,"% match"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>f(_),children:[n.jsx(af,{className:"h-4 w-4 mr-2"}),"View Diff"]}),n.jsxs(ve,{size:"sm",onClick:()=>x(_),children:[n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Accept"]}),n.jsxs(ve,{size:"sm",variant:"ghost",onClick:()=>v(_),children:[n.jsx(nd,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]},_.experience_id)})}),i.length===0&&!s&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:'Click "Tailor Experiences" to get suggestions optimized for this job'})]})]}),n.jsx(Wr,{open:u,onOpenChange:d,children:n.jsxs(Br,{className:"max-w-3xl max-h-[80vh] overflow-auto",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Experience Comparison"})}),l&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Relevance Score: ",n.jsxs("strong",{children:[l.relevance_score,"%"]})]})}),j(((b=y(l.experience_id))==null?void 0:b.description)||"",l.suggested_markdown),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(ve,{className:"flex-1",onClick:()=>{x(l),d(!1)},children:[n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Accept Changes"]}),n.jsxs(ve,{className:"flex-1",variant:"outline",onClick:()=>{v(l),d(!1)},children:[n.jsx(nd,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]})})]})},sGe=[{id:"chronological",name:"Chronological",description:"Traditional format highlighting work history"},{id:"functional",name:"Functional",description:"Skills-focused format for career changers"},{id:"hybrid",name:"Hybrid",description:"Combination of chronological and functional"},{id:"modern",name:"Modern",description:"Contemporary design with visual elements"},{id:"classic",name:"Classic",description:"Professional and conservative style"}];function aGe({resumeId:e,onSave:t}){var U;const[r,s]=N.useState(""),[a,i]=N.useState("chronological"),[o,l]=N.useState([]),[c,u]=N.useState(""),[d,h]=N.useState([]),[m,f]=N.useState(!1),[x,v]=N.useState(!1),[g,y]=N.useState(null),[j,b]=N.useState(!1),{exportResumeToPDF:_,exportResumeToWord:S,exportResumeToText:T}=b5();N.useEffect(()=>{A()},[]);const A=async()=>{try{const K=await Hn.jobs.getAll();h(K)}catch(K){console.error("Error loading jobs:",K)}},L=async()=>{var K,ee;if(!c){xe.error("Please select a job to tailor your resume for");return}f(!0);try{const B=await Hn.resumes.generateContent(e||"",c,["summary","experience","skills"])||{},D=ie=>ie?Array.isArray(ie)?ie.filter(Boolean).map(te=>typeof te=="string"?te:typeof te=="object"&&te.content?te.content:String(te)):typeof ie=="string"?ie.split(/\n+/).map(te=>te.replace(/^[-]\s*/,"").trim()).filter(Boolean):[]:[],Q={summary:{suggestions:D(B.summary)},experience:{bulletPoints:(()=>{const ie=D(B.experience);return ie.length===0?[]:ie.map(te=>({role:"Experience",points:te.split(/\n/).filter(Boolean),relevance:85}))})()},skills:{highlighted:D(B.skills),suggested:[]}};y({type:"content",data:Q}),xe.success("AI content generated successfully!"),v(!1)}catch(X){(K=X.message)!=null&&K.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(ee=X.message)!=null&&ee.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error((X==null?void 0:X.message)||"Failed to generate content"),console.error("Error:",X)}finally{f(!1)}},E=async()=>{var K,ee;if(!c){xe.error("Please select a job to optimize skills for");return}f(!0);try{const X=await Hn.resumes.optimizeSkills(c);y({type:"skills",data:X}),xe.success("Skills optimized!")}catch(X){(K=X.message)!=null&&K.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(ee=X.message)!=null&&ee.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to optimize skills"),console.error("Error:",X)}finally{f(!1)}},q=async()=>{var K,ee;if(!c){xe.error("Please select a job to tailor experience for");return}f(!0);try{const X=await Hn.resumes.tailorExperience(c);y({type:"experience",data:X}),xe.success("Experience tailored!")}catch(X){(K=X.message)!=null&&K.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(ee=X.message)!=null&&ee.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to tailor experience"),console.error("Error:",X)}finally{f(!1)}},M=K=>{var ee,X,B,D,Q,ie;if((g==null?void 0:g.type)==="content"){const te=[...o];if((ee=K.summary)!=null&&ee.suggestions&&K.summary.suggestions.length>0){const he=te.findIndex(V=>V.type==="summary"),W=K.summary.suggestions.join(`

`);he>=0?te[he].content=W:te.unshift({id:`summary_${Date.now()}`,type:"summary",title:"Summary",content:W,order:0,isVisible:!0})}if((X=K.experience)!=null&&X.bulletPoints&&K.experience.bulletPoints.length>0){const he=te.findIndex(V=>V.type==="experience"),W=K.experience.bulletPoints.map(V=>`### ${V.role}
${V.points.map(oe=>` ${oe}`).join(`
`)}`).join(`

`);he>=0?te[he].content=W:te.push({id:`experience_${Date.now()}`,type:"experience",title:"Experience",content:W,order:te.length,isVisible:!0})}if((B=K.skills)!=null&&B.highlighted||(D=K.skills)!=null&&D.suggested){const he=[...K.skills.highlighted||[],...K.skills.suggested||[]],W=te.findIndex(oe=>oe.type==="skills"),V=he.join(", ");W>=0?te[W].content=V:te.push({id:`skills_${Date.now()}`,type:"skills",title:"Skills",content:V,order:te.length,isVisible:!0})}l(te),xe.success("All AI-generated content applied successfully!")}else if((g==null?void 0:g.type)==="skills"){const te=[...o],he=te.findIndex(V=>V.type==="skills"),W=((Q=K.optimized)==null?void 0:Q.map(V=>V.name).join(", "))||"";he>=0?te[he].content=W:te.push({id:`skills_${Date.now()}`,type:"skills",title:"Skills",content:W,order:te.length,isVisible:!0}),l(te),xe.success("Optimized skills applied!")}else if((g==null?void 0:g.type)==="experience"){const te=[...o],he=te.findIndex(V=>V.type==="experience"),W=((ie=K.tailored)==null?void 0:ie.map(V=>{var oe;return`${V.role} at ${V.company}
${((oe=V.descriptions)==null?void 0:oe.join(`
 `))||""}`}).join(`

`))||"";he>=0?te[he].content=W:te.push({id:`experience_${Date.now()}`,type:"experience",title:"Experience",content:W,order:te.length,isVisible:!0}),l(te),xe.success("Tailored experience applied!")}y(null)},C=async K=>{const ee={id:e,title:r,template:a,sections:o};try{K==="pdf"?await _(ee):K==="docx"?await S(ee):T(ee),xe.success(`Resume exported as ${K.toUpperCase()}`)}catch{xe.error(`Failed to export as ${K.toUpperCase()}`)}},I=async()=>{try{e?await Hn.resumes.update(e,{title:r,template:a,sections:o}):await Hn.resumes.create({title:r,template:a,sections:o}),xe.success("Resume saved successfully!"),t==null||t()}catch(K){xe.error("Failed to save resume"),console.error("Error:",K)}},O=o.filter(K=>K.type==="experience").map((K,ee)=>({id:K.id||`exp_${ee}`,company:"Company",role:"Role",description:K.content})),H=K=>{const ee=[...o],X=ee.findIndex(B=>B.type==="skills");X>=0?ee[X].content=K.join(", "):ee.push({id:`skills_${Date.now()}`,type:"skills",title:"Skills",content:K.join(", "),order:o.length,isVisible:!0}),l(ee)},re=(K,ee)=>{const X=[...o],B=X.findIndex(D=>D.id===K);B>=0&&(X[B].content=ee,l(X))};return n.jsxs("div",{className:"space-y-6",children:[g&&n.jsx(YHe,{result:g,onApply:M,onDismiss:()=>y(null)}),n.jsxs(ss,{defaultValue:"builder",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-4",children:[n.jsx(vt,{value:"builder",children:"Builder"}),n.jsx(vt,{value:"templates",children:"Templates"}),n.jsx(vt,{value:"skills",children:"Skills"}),n.jsx(vt,{value:"experience",children:"Experience"})]}),n.jsx(xt,{value:"builder",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Resume Builder"})}),n.jsxs(_e,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"title",children:"Resume Title"}),n.jsx(Je,{id:"title",placeholder:"e.g., Software Engineer Resume - Tech Startup",value:r,onChange:K=>s(K.target.value)})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"template",children:"Template"}),n.jsxs($t,{value:a,onValueChange:i,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:sGe.map(K=>n.jsx(qe,{value:K.id,children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:K.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:K.description})]})},K.id))})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Co,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"font-semibold",children:"AI-Powered Features"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:()=>v(!0),children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),"Generate Content"]}),n.jsxs(ve,{variant:"outline",onClick:E,children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),"Optimize Skills"]}),n.jsxs(ve,{variant:"outline",onClick:q,children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),"Tailor Experience"]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold",children:"Resume Sections"}),n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>{const K={id:`section_${Date.now()}`,type:"custom",title:"",content:"",order:o.length,isVisible:!0};l([...o,K]),xe.success("Section added")},children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Section"]})]}),n.jsx("div",{className:"space-y-2",children:o.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No sections added yet. Click "Add Section" to get started.'}):o.map((K,ee)=>n.jsx(ye,{children:n.jsxs(_e,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Je,{value:K.title,onChange:X=>{const B=[...o];B[ee].title=X.target.value,l(B)},placeholder:"Enter section title...",className:"font-medium max-w-xs"}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>{l(o.filter((X,B)=>B!==ee)),xe.success("Section removed")},children:n.jsx(Ws,{className:"h-4 w-4"})})]}),n.jsx(dr,{value:K.content,onChange:X=>{const B=[...o];B[ee].content=X.target.value,l(B)},placeholder:"Enter section content...",rows:8,className:"min-h-[200px]"})]})},K.id||ee))})]}),n.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[n.jsx("div",{className:"flex gap-2",children:n.jsxs(ve,{variant:"outline",onClick:()=>b(!0),children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsxs(ve,{onClick:I,children:[n.jsx(tp,{className:"h-4 w-4 mr-2"}),"Save Resume"]})]})]})]})}),n.jsx(xt,{value:"templates",children:n.jsx(tGe,{onTemplateSelect:K=>{const ee={id:`section_${Date.now()}`,type:"imported",title:K.name,content:K.content_markdown,order:o.length,isVisible:!0};l([...o,ee]),xe.success(`Template "${K.name}" applied`)}})}),n.jsx(xt,{value:"skills",children:c?n.jsx(rGe,{jobId:c,currentSkills:((U=o.find(K=>K.type==="skills"))==null?void 0:U.content.split(",").map(K=>K.trim()).filter(Boolean))||[],onApplySkills:H}):n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center text-muted-foreground",children:"Please select a job first to optimize skills"})})}),n.jsx(xt,{value:"experience",children:c&&O.length>0?n.jsx(nGe,{jobId:c,experiences:O,onAcceptSuggestion:re}):n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center text-muted-foreground",children:c?"No experience sections found":"Please select a job first to tailor experiences"})})})]}),n.jsx(Wr,{open:x,onOpenChange:v,children:n.jsxs(Br,{children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Generate AI Content"}),n.jsx(no,{children:"Select a job to tailor your resume content for, and AI will generate optimized content based on the job requirements."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"job-select",children:"Select Job"}),n.jsxs($t,{value:c,onValueChange:u,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Choose a job..."})}),n.jsx(Bt,{children:d.map(K=>n.jsxs(qe,{value:K.id,children:[K.job_title," at ",K.company_name]},K.id))})]})]}),n.jsx(ve,{className:"w-full",onClick:L,disabled:m||!c,children:m?n.jsx(n.Fragment,{children:"Generating..."}):n.jsxs(n.Fragment,{children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),"Generate Content"]})})]})]})}),n.jsx(Wr,{open:j,onOpenChange:b,children:n.jsxs(Br,{children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Export Resume"}),n.jsx(no,{children:"Choose the format for exporting your resume"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(ve,{variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{C("pdf"),b(!1)},children:[n.jsx(bs,{className:"h-8 w-8"}),n.jsx("span",{children:"PDF"})]}),n.jsxs(ve,{variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{C("docx"),b(!1)},children:[n.jsx(bs,{className:"h-8 w-8"}),n.jsx("span",{children:"Word"})]}),n.jsxs(ve,{variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{C("txt"),b(!1)},children:[n.jsx(bs,{className:"h-8 w-8"}),n.jsx("span",{children:"Text"})]})]})]})})]})}const iGe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"AI Resume Builder"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Create tailored resumes with AI-powered content generation"})]}),n.jsx(aGe,{})]})})]}),oGe=Lse,lGe=o6,cGe=c6,uGe=({companyName:e,onContentUpdate:t,initialContent:r})=>{const[s,a]=N.useState(!1),[i,o]=N.useState(null),[l,c]=N.useState([]),[u,d]=N.useState(!0),[h,m]=N.useState(!0),{toast:f}=Nc(),x=async()=>{var y,j,b,_,S,T;a(!0);try{const[A,L]=await Promise.all([se.functions.invoke("ai-company-research",{body:{companyName:e}}),se.functions.invoke("ai-company-news",{body:{companyName:e}})]);if(A.error)throw A.error;if(L.error)throw L.error;o(A.data),c(((j=(y=L.data)==null?void 0:y.items)==null?void 0:j.slice(0,2))||[]),u&&v(A.data,((_=(b=L.data)==null?void 0:b.items)==null?void 0:_.slice(0,2))||[]),f({title:"Research Loaded",description:`Found ${((T=(S=L.data)==null?void 0:S.items)==null?void 0:T.length)||0} recent news items`})}catch(A){console.error("Failed to fetch research:",A),f({title:"Error",description:A.message||"Failed to fetch company research",variant:"destructive"})}finally{a(!1)}},v=(y,j)=>{if(!u)return;let b=`

--- Research Insights ---

`;y.mission&&(b+=`${e}'s mission to ${y.mission.toLowerCase()} aligns with my professional goals.

`),j.length>0&&(b+=`Recent developments:
`,j.forEach(_=>{b+=` ${_.date}  ${_.source}: ${_.summary}
`})),b+=`
--- End Research ---
`,t(r+b)},g=y=>{if(d(y),y)i&&l.length>0&&v(i,l);else{const j=r.replace(/\n\n--- Research Insights ---[\s\S]*?--- End Research ---\n/g,"");t(j)}};return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"flex items-center",children:[n.jsx(to,{className:"h-5 w-5 mr-2"}),"Company Research"]}),n.jsxs(ve,{onClick:x,disabled:s,size:"sm",children:[s&&n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Load Research"]})]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rd,{id:"include-research",checked:u,onCheckedChange:g,disabled:!i}),n.jsx(Ee,{htmlFor:"include-research",children:"Include research in cover letter"})]}),i&&n.jsxs(oGe,{open:h,onOpenChange:m,children:[n.jsxs(lGe,{className:"flex items-center w-full justify-between p-3 bg-accent rounded-md",children:[n.jsx("span",{className:"font-semibold",children:"Research Insights"}),n.jsx(w_,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]}),n.jsxs(cGe,{className:"mt-2 space-y-3",children:[i.mission&&n.jsxs("div",{className:"p-3 border rounded-md",children:[n.jsx("p",{className:"text-sm font-semibold mb-1",children:"Mission"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i.mission})]}),i.industry&&n.jsxs("div",{className:"p-3 border rounded-md",children:[n.jsx("p",{className:"text-sm font-semibold mb-1",children:"Industry"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i.industry})]}),l.length>0&&n.jsxs("div",{className:"p-3 border rounded-md",children:[n.jsxs("p",{className:"text-sm font-semibold mb-2 flex items-center",children:[n.jsx(eH,{className:"h-4 w-4 mr-2"}),"Recent News"]}),n.jsx("div",{className:"space-y-2",children:l.map((y,j)=>n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:y.title}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.date,"  ",y.source]}),n.jsx("p",{className:"text-sm mt-1",children:y.summary})]},j))})]})]})]}),!i&&!s&&n.jsx("p",{className:"text-center text-muted-foreground py-4",children:'Click "Load Research" to fetch company insights and recent news'})]})]})},dGe=({content:e,companyName:t,jobTitle:r})=>{const{toast:s}=Nc(),a=()=>{const o=`Dear Hiring Manager,

${e}

Sincerely,
[Your Name]
[Your Email]
[Your Phone]`;navigator.clipboard.writeText(o).then(()=>{s({title:"Copied!",description:"Cover letter copied to clipboard"})}).catch(l=>{console.error("Failed to copy:",l),s({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})})},i=()=>{const o=t.replace(/[^a-zA-Z0-9]/g,"_"),l=r.replace(/[^a-zA-Z0-9]/g,"_"),c=`CoverLetter_${o}_${l}.eml`,u=`From: 
To: 
Subject: Application for ${r}  ${t}
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8

Dear Hiring Manager,

${e}

Sincerely,
[Your Name]
[Your Email]
[Your Phone]
`,d=new Blob([u],{type:"message/rfc822"}),h=URL.createObjectURL(d),m=document.createElement("a");m.href=h,m.download=c,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h),s({title:"Downloaded",description:`${c} saved`})};return n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ve,{onClick:a,variant:"outline",size:"sm",children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),"Copy to Email"]}),n.jsxs(ve,{onClick:i,variant:"outline",size:"sm",children:[n.jsx(gc,{className:"h-4 w-4 mr-2"}),"Download .eml"]})]})},hGe=[{id:"formal",name:"Formal",description:"Traditional business letter format"},{id:"creative",name:"Creative",description:"Unique format for creative industries"},{id:"technical",name:"Technical",description:"Focus on technical skills and achievements"},{id:"casual",name:"Casual",description:"Conversational tone for startups"}],fGe=[{id:"formal",name:"Formal",description:"Professional and traditional"},{id:"casual",name:"Casual",description:"Friendly and approachable"},{id:"enthusiastic",name:"Enthusiastic",description:"Energetic and passionate"},{id:"analytical",name:"Analytical",description:"Data-driven and logical"}];function mGe(){var O,H;const[e,t]=N.useState(""),[r,s]=N.useState("formal"),[a,i]=N.useState("formal"),[o,l]=N.useState(""),[c,u]=N.useState([]),[d,h]=N.useState(""),[m,f]=N.useState(!1),[x,v]=N.useState(null),[g,y]=N.useState(!1),[j,b]=N.useState(!1),{exportCoverLetterToPDF:_,exportCoverLetterToWord:S,exportCoverLetterToText:T}=b5();N.useEffect(()=>{A()},[]);const A=async()=>{try{const re=await Hn.jobs.getAll();u(re)}catch(re){console.error("Error fetching jobs:",re)}},L=async()=>{var U,K,ee,X,B;const re=c.find(D=>D.id===o);if(!re){xe.error("Please select a job first");return}y(!0);try{const D=await Hn.company.research(re.company_name,(U=re.company_info)==null?void 0:U.website);v(D),xe.success("Company research completed")}catch(D){(K=D.message)!=null&&K.includes("Rate limit")||(ee=D.message)!=null&&ee.includes("429")?xe.error("Rate limit exceeded. Please try again later."):(X=D.message)!=null&&X.includes("credits")||(B=D.message)!=null&&B.includes("402")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to research company"),console.error("Error:",D)}finally{y(!1)}},E=async()=>{var re,U,K;if(!o){xe.error("Please select a job");return}f(!0);try{const ee=c.find(D=>D.id===o);let X="";if(x){const D=((re=x.companyInfo)==null?void 0:re.name)||(ee==null?void 0:ee.company_name),Q=(U=x.companyInfo)==null?void 0:U.industry,ie=x.mission||"",te=(K=x.recentNews)==null?void 0:K[0];X=`COMPANY RESEARCH CONTEXT:
`,X+=`Company: ${D}
`,Q&&(X+=`Industry: ${Q}
`),ie&&(X+=`Mission: ${ie}
`),te!=null&&te.title&&(X+=`Recent Development: ${te.title}`,te.summary&&(X+=` - ${te.summary}`),X+=`
`),X+=`
USE THIS RESEARCH to write a personalized opening paragraph that demonstrates genuine interest in the company's current work and mission. Reference specific recent developments naturally.

`}const B=await Hn.coverLetters.generate(o,a,r,X);if(!B||!B.content)throw new Error("No content generated");h(B.content),xe.success("Cover letter generated successfully!")}catch(ee){const X=ee.message||"Unknown error";X.includes("Rate limit")||X.includes("429")?xe.error("Rate limit exceeded. Please try again later."):X.includes("credits")||X.includes("402")?xe.error("AI credits exhausted. Please add credits to continue."):X.includes("non-2xx")?xe.error("Failed to generate cover letter. Please try again."):X.includes("PROFILE_REQUIRED")?xe.error("Please complete your profile first"):xe.error(`Failed to generate cover letter: ${X}`),console.error("Error:",ee)}finally{f(!1)}};N.useEffect(()=>{d&&o&&!m&&E()},[a]);const q=async()=>{if(!e||!d){xe.error("Please provide a title and generate content first");return}try{const re=await Hn.coverLetters.create({title:e,template:r,tone:a,content:d,job_id:o||null});o&&(re!=null&&re.id)&&await Hn.jobs.update(o,{cover_letter_id:re.id}),xe.success("Cover letter saved and linked to job!")}catch(re){xe.error("Failed to save cover letter"),console.error("Error:",re)}},M=()=>{navigator.clipboard.writeText(d),xe.success("Copied to clipboard!")},C=async re=>{const U={title:e,content:d,template:r,tone:a};try{re==="pdf"?await _(U):re==="docx"?await S(U):T(U),xe.success(`Cover letter exported as ${re.toUpperCase()}`)}catch{xe.error(`Failed to export as ${re.toUpperCase()}`)}},I=c.find(re=>re.id===o);return n.jsxs(ss,{defaultValue:"generator",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-3",children:[n.jsx(vt,{value:"generator",children:"Generator"}),n.jsx(vt,{value:"research",children:"Research"}),n.jsx(vt,{value:"export",children:"Export"})]}),n.jsx(xt,{value:"generator",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Cover Letter Configuration"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"cl-title",children:"Title"}),n.jsx(Je,{id:"cl-title",placeholder:"e.g., Software Engineer - TechCorp",value:e,onChange:re=>t(re.target.value)})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"job-select",children:"Select Job"}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Choose a job..."})}),n.jsx(Bt,{children:c.map(re=>n.jsxs(qe,{value:re.id,children:[re.job_title," at ",re.company_name]},re.id))})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"template",children:"Template"}),n.jsxs($t,{value:r,onValueChange:s,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:hGe.map(re=>n.jsx(qe,{value:re.id,children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:re.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:re.description})]})},re.id))})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"tone",children:"Tone & Style"}),n.jsxs($t,{value:a,onValueChange:i,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:fGe.map(re=>n.jsx(qe,{value:re.id,children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:re.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:re.description})]})},re.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"w-full",variant:"outline",onClick:L,disabled:g||!o,children:g?n.jsx(n.Fragment,{children:"Researching..."}):n.jsxs(n.Fragment,{children:[n.jsx(to,{className:"h-4 w-4 mr-2"}),"Research Company"]})}),x&&n.jsxs("div",{className:"p-3 border rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Research Complete"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(O=x.companyInfo)==null?void 0:O.name," - ",(H=x.companyInfo)==null?void 0:H.industry]})]})]}),n.jsx(ve,{className:"w-full",onClick:E,disabled:m||!o,children:m?n.jsx(n.Fragment,{children:"Generating..."}):n.jsxs(n.Fragment,{children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),"Generate Cover Letter"]})})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Preview & Edit"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx(dr,{placeholder:"Your AI-generated cover letter will appear here...",value:d,onChange:re=>h(re.target.value),className:"min-h-[400px] font-serif"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.split(/\s+/).filter(Boolean).length," words"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:M,disabled:!d,children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),"Copy"]}),n.jsxs(ve,{variant:"outline",onClick:()=>C("pdf"),disabled:!d,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"PDF"]}),n.jsxs(ve,{variant:"outline",onClick:()=>C("docx"),disabled:!d,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"DOCX"]}),n.jsxs(ve,{onClick:q,disabled:!d,children:[n.jsx(tp,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]}),n.jsx(Wr,{open:j,onOpenChange:b,children:n.jsxs(Br,{children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Export Cover Letter"}),n.jsx(no,{children:"Choose the format for exporting your cover letter"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(ve,{variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{C("pdf"),b(!1)},children:[n.jsx(bs,{className:"h-8 w-8"}),n.jsx("span",{children:"PDF"})]}),n.jsxs(ve,{variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{C("docx"),b(!1)},children:[n.jsx(bs,{className:"h-8 w-8"}),n.jsx("span",{children:"Word"})]}),n.jsxs(ve,{variant:"outline",className:"h-24 flex flex-col items-center justify-center gap-2",onClick:()=>{C("txt"),b(!1)},children:[n.jsx(bs,{className:"h-8 w-8"}),n.jsx("span",{children:"Text"})]})]})]})})]})}),n.jsx(xt,{value:"research",children:o&&I?n.jsx(uGe,{companyName:I.company_name,onContentUpdate:re=>{h(re),xe.success("Research injected into cover letter")},initialContent:d}):n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center text-muted-foreground",children:"Please select a job and generate a cover letter first"})})}),n.jsx(xt,{value:"export",children:d?n.jsx(dGe,{content:d,jobTitle:(I==null?void 0:I.job_title)||"Position",companyName:(I==null?void 0:I.company_name)||"Company"}):n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center text-muted-foreground",children:"Generate a cover letter first to enable export options"})})})]})}const pGe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"AI Cover Letter Generator"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Generate personalized cover letters tailored to each job opportunity"})]}),n.jsx(mGe,{})]})})]}),gGe=()=>{const[e,t]=N.useState([]),[r,s]=N.useState(!0),[a,i]=N.useState(""),[o,l]=N.useState("");N.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:f}}=await se.auth.getUser();if(!f)return;const{data:x,error:v}=await se.from("cover_letters").select("id, title").eq("user_id",f.id);if(v)throw v;const{data:g,error:y}=await se.from("cover_letter_analytics").select("*").eq("user_id",f.id);if(y)throw y;const j=(x||[]).map(b=>{const _=(g||[]).filter(C=>C.cover_letter_id===b.id),S=_.length,T=_.filter(C=>C.outcome==="response").length,A=_.filter(C=>C.outcome==="interview").length,L=_.filter(C=>C.outcome==="offer").length,E=_.filter(C=>C.outcome==="rejected").length,q=T+A+L,M=S>0?Math.round(q/S*100):0;return{templateId:b.id,templateName:b.title,sent:S,response:T,interview:A,offer:L,rejected:E,responseRate:M}}).filter(b=>b.sent>0);t(j),j.length>=2&&(i(j[0].templateId),l(j[1].templateId))}catch(f){console.error("Failed to load performance data:",f)}finally{s(!1)}},u=f=>e.find(x=>x.templateId===f),d=(f,x)=>f>x?n.jsx(Gr,{className:"h-4 w-4 text-green-600"}):f<x?n.jsx(__,{className:"h-4 w-4 text-red-600"}):n.jsx(ZV,{className:"h-4 w-4 text-gray-600"});if(r)return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Performance Tracker"})}),n.jsx(_e,{children:n.jsx("p",{className:"text-center text-muted-foreground",children:"Loading performance data..."})})]});if(e.length===0)return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Performance Tracker"})}),n.jsx(_e,{children:n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No performance data yet. Start sending cover letters to track their effectiveness."})})]});const h=a?u(a):void 0,m=o?u(o):void 0;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Cover Letter Performance"})}),n.jsx(_e,{className:"space-y-4",children:e.map(f=>n.jsxs("div",{className:"border rounded-md p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold",children:f.templateName}),n.jsxs($e,{variant:f.responseRate>=50?"default":"secondary",children:[f.responseRate,"% response"]})]}),n.jsx(La,{value:f.responseRate,className:"h-2 mb-2"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Sent"}),n.jsx("p",{className:"font-semibold",children:f.sent})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Responses"}),n.jsx("p",{className:"font-semibold",children:f.response})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Interviews"}),n.jsx("p",{className:"font-semibold",children:f.interview})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Offers"}),n.jsx("p",{className:"font-semibold",children:f.offer})]})]})]},f.templateId))})]}),e.length>=2&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"A/B Comparison"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(OW,{className:"text-sm text-muted-foreground",children:"Template A"}),n.jsxs($t,{value:a,onValueChange:i,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:e.map(f=>n.jsx(qe,{value:f.templateId,children:f.templateName},f.templateId))})]})]}),n.jsxs("div",{children:[n.jsx(OW,{className:"text-sm text-muted-foreground",children:"Template B"}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:e.map(f=>n.jsx(qe,{value:f.templateId,children:f.templateName},f.templateId))})]})]})]}),h&&m&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{className:"border rounded-md p-4",children:[n.jsx("h5",{className:"font-semibold mb-3",children:h.templateName}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Response Rate:"}),n.jsxs("span",{className:"font-semibold flex items-center gap-2",children:[h.responseRate,"%",d(h.responseRate,m.responseRate)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Sent:"}),n.jsx("span",{className:"font-semibold",children:h.sent})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Interviews:"}),n.jsx("span",{className:"font-semibold",children:h.interview})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Offers:"}),n.jsx("span",{className:"font-semibold",children:h.offer})]})]})]}),n.jsxs("div",{className:"border rounded-md p-4",children:[n.jsx("h5",{className:"font-semibold mb-3",children:m.templateName}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Response Rate:"}),n.jsxs("span",{className:"font-semibold flex items-center gap-2",children:[m.responseRate,"%",d(m.responseRate,h.responseRate)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Sent:"}),n.jsx("span",{className:"font-semibold",children:m.sent})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Interviews:"}),n.jsx("span",{className:"font-semibold",children:m.interview})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Offers:"}),n.jsx("span",{className:"font-semibold",children:m.offer})]})]})]})]})]})]})]})},OW=({children:e,className:t})=>n.jsx("div",{className:t,children:e}),vGe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Cover Letter Performance"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Track response rates and compare template effectiveness"})]}),n.jsx(gGe,{})]})})]}),xGe=(e,t,r)=>{try{const s=t.map(u=>u.header).join(","),a=e.map(u=>t.map(d=>{let h;return typeof d.accessor=="function"?h=d.accessor(u):h=u[d.accessor],h==null?"":(typeof h=="object"&&(h=JSON.stringify(h)),h=String(h),(h.includes(",")||h.includes(`
`)||h.includes('"'))&&(h=`"${h.replace(/"/g,'""')}"`),h)}).join(",")).join(`
`),i=`${s}
${a}`,o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);l.setAttribute("href",c),l.setAttribute("download",`${r}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),xe.success("CSV exported successfully!")}catch(s){console.error("Error exporting CSV:",s),xe.error("Failed to export CSV")}},yGe=e=>{const t=[{metric:"Total Applications",value:e.totalApplications},{metric:"Interview Rate",value:`${e.interviewRate}%`},{metric:"Offer Rate",value:`${e.offerRate}%`},{metric:"Rejection Rate",value:`${e.rejectionRate}%`},{metric:"Active Applications",value:e.activeApplications},{metric:"Average Time to Interview (days)",value:e.avgTimeToInterview||"N/A"},{metric:"Average Time to Offer (days)",value:e.avgTimeToOffer||"N/A"},{metric:"Deadline Adherence",value:`${e.deadlineAdherence||0}%`}];xGe(t,[{header:"Metric",accessor:"metric"},{header:"Value",accessor:"value"}],"job-search-analytics")};function wGe({startDate:e,endDate:t,company:r,role:s,industry:a,companies:i,roles:o,industries:l,onStartDateChange:c,onEndDateChange:u,onCompanyChange:d,onRoleChange:h,onIndustryChange:m,onClearFilters:f}){const x=e||t||r||s||a;return n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Start Date"}),n.jsxs(Dg,{children:[n.jsx(Mg,{asChild:!0,children:n.jsxs(ve,{variant:"outline",className:Pt("w-full justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[n.jsx(mr,{className:"mr-2 h-4 w-4"}),e?Lt(e,"PPP"):"Pick date"]})}),n.jsx(Vm,{className:"w-auto p-0",align:"start",children:n.jsx(gf,{mode:"single",selected:e||void 0,onSelect:v=>c(v||null),initialFocus:!0})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"End Date"}),n.jsxs(Dg,{children:[n.jsx(Mg,{asChild:!0,children:n.jsxs(ve,{variant:"outline",className:Pt("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[n.jsx(mr,{className:"mr-2 h-4 w-4"}),t?Lt(t,"PPP"):"Pick date"]})}),n.jsx(Vm,{className:"w-auto p-0",align:"start",children:n.jsx(gf,{mode:"single",selected:t||void 0,onSelect:v=>u(v||null),initialFocus:!0})})]})]}),i.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Company"}),n.jsxs($t,{value:r||"all",onValueChange:v=>d(v==="all"?null:v),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"All companies"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All companies"}),i.map(v=>n.jsx(qe,{value:v,children:v},v))]})]})]}),o.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Role"}),n.jsxs($t,{value:s||"all",onValueChange:v=>h(v==="all"?null:v),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"All roles"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All roles"}),o.map(v=>n.jsx(qe,{value:v,children:v},v))]})]})]}),l.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Industry"}),n.jsxs($t,{value:a||"all",onValueChange:v=>m(v==="all"?null:v),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"All industries"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All industries"}),l.map(v=>n.jsx(qe,{value:v,children:v},v))]})]})]})]}),x&&n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs(ve,{variant:"ghost",size:"sm",onClick:f,children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})}const N5=e=>e.filter(t=>["Applied","applied","Phone Screen","phone_screen","Interview","interview","Offer","offer","Rejected","rejected"].includes(t.status)).length,O6=e=>e.filter(t=>t.scheduled_start||t.interview_date).length,_5=(e,t)=>e.filter(r=>r.status==="Offer"||r.status==="offer").length,I6=e=>{const t=N5(e),r=e.filter(a=>["Interview","interview","Offer","offer"].includes(a.status)).length,s=_5(e);return{appliedToInterview:t>0?Math.round(r/t*100):0,interviewToOffer:r>0?Math.round(s/r*100):0,appliedToOffer:t>0?Math.round(s/t*100):0}},bGe=(e,t)=>{const r=t.reduce((i,o)=>(i[o.job_id]||(i[o.job_id]=[]),i[o.job_id].push(o),i),{}),s=[];if(e.forEach(i=>{const o=r[i.id];if(!o||o.length<2)return;const l=o.sort((d,h)=>new Date(d.changed_at).getTime()-new Date(h.changed_at).getTime()),c=l.find(d=>d.to_status==="Applied"||d.to_status==="applied"),u=l.find(d=>["Phone Screen","phone_screen","Interview","interview","Offer","offer","Rejected","rejected"].includes(d.to_status));if(c&&u){const d=Math.floor((new Date(u.changed_at).getTime()-new Date(c.changed_at).getTime())/864e5);d>0&&s.push(d)}}),s.length===0)return null;s.sort((i,o)=>i-o);const a=Math.floor(s.length/2);return s.length%2===0?Math.round((s[a-1]+s[a])/2):s[a]},q3=(e,t,r)=>!t&&!r?e:e.filter(s=>{const a=new Date(s.created_at);return!(t&&a<t||r&&a>r)}),IW=(e,t)=>t?e.filter(r=>{var s;return(s=r.company_name)==null?void 0:s.toLowerCase().includes(t.toLowerCase())}):e,RW=(e,t)=>t?e.filter(r=>{var s;return(s=r.job_title)==null?void 0:s.toLowerCase().includes(t.toLowerCase())}):e,DW=(e,t)=>t?e.filter(r=>{var s;return(s=r.industry)==null?void 0:s.toLowerCase().includes(t.toLowerCase())}):e,jGe=e=>[...new Set(e.map(t=>t.company_name).filter(Boolean))].sort(),NGe=e=>[...new Set(e.map(t=>t.job_title).filter(Boolean))].sort(),_Ge=e=>[...new Set(e.map(t=>t.industry).filter(Boolean))].sort(),SGe=(e,t)=>{const r={},s=t.reduce((i,o)=>(i[o.job_id]||(i[o.job_id]=[]),i[o.job_id].push(o),i),{});e.forEach(i=>{const o=s[i.id];if(!o||o.length<2)return;const l=o.sort((c,u)=>new Date(c.changed_at).getTime()-new Date(u.changed_at).getTime());for(let c=1;c<l.length;c++){const u=l[c],d=l[c-1],h=Math.floor((new Date(u.changed_at).getTime()-new Date(d.changed_at).getTime())/(1e3*60*60*24));r[d.to_status]||(r[d.to_status]=[]),r[d.to_status].push(h)}});const a={};return Object.keys(r).forEach(i=>{const o=r[i];a[i]=Math.round(o.reduce((l,c)=>l+c,0)/o.length)}),a},kGe=(e,t)=>{const r=e.filter(i=>i.application_deadline);if(r.length===0)return 100;const s=t.reduce((i,o)=>(i[o.job_id]||(i[o.job_id]=[]),i[o.job_id].push(o),i),{}),a=r.filter(i=>{const o=s[i.id];if(!o)return!1;const l=o.find(d=>d.to_status==="Applied");if(!l)return!1;const c=new Date(l.changed_at),u=new Date(i.application_deadline);return c<=u});return Math.round(a.length/r.length*100)},CGe=(e,t)=>{const r=e.filter(i=>i.status==="Offer");if(r.length===0)return null;const s=t.reduce((i,o)=>(i[o.job_id]||(i[o.job_id]=[]),i[o.job_id].push(o),i),{}),a=r.map(i=>{const o=s[i.id];if(!o)return null;const l=o.find(h=>h.to_status==="Applied"),c=o.find(h=>h.to_status==="Offer");if(!l||!c)return null;const u=new Date(l.changed_at),d=new Date(c.changed_at);return Math.floor((d.getTime()-u.getTime())/(1e3*60*60*24))}).filter(i=>i!==null);return a.length===0?null:Math.round(a.reduce((i,o)=>i+o,0)/a.length)},EGe=(e,t=6)=>{const r=new Date,s={};for(let a=t-1;a>=0;a--){const o=new Date(r.getFullYear(),r.getMonth()-a,1).toLocaleDateString("en-US",{month:"short",year:"numeric"});s[o]=0}return e.forEach(a=>{const o=new Date(a.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"});s.hasOwnProperty(o)&&s[o]++}),Object.entries(s).map(([a,i])=>({month:a,count:i}))};function AGe(){const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(null),[d,h]=N.useState(null),[m,f]=N.useState(null),[x,v]=N.useState(null),[g,y]=N.useState(null),[j,b]=N.useState({totalJobs:0,applicationsSent:0,interviewsScheduled:0,offersReceived:0,conversionRates:{appliedToInterview:0,interviewToOffer:0,appliedToOffer:0},medianTimeToResponse:null,avgTimePerStage:{},deadlineAdherence:0,timeToOffer:0}),{exportJobsToCSV:_}=b5();N.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:{user:U}}=await Hn.auth.getUser();if(!U)throw new Error("Not authenticated");const[{data:K,error:ee},{data:X,error:B},{data:D,error:Q}]=await Promise.all([se.from("jobs").select("*").eq("user_id",U.id).eq("is_archived",!1),se.from("interviews").select("*").eq("user_id",U.id),se.from("application_status_history").select("*").eq("user_id",U.id)]);if(ee)throw ee;if(B)throw B;if(Q)throw Q;t(K||[]),s(X||[]),i(D||[])}catch(U){console.error("Failed to load data:",U)}finally{l(!1)}};N.useEffect(()=>{if(e.length===0)return;let U=e;U=q3(U,c,d),U=IW(U,m),U=RW(U,x),U=DW(U,g);const K=N5(U),ee=O6(r),X=_5(U),B=I6(U),D=bGe(U,a),Q=SGe(U,a),ie=kGe(U,a),te=CGe(U,a);b({totalJobs:U.length,applicationsSent:K,interviewsScheduled:ee,offersReceived:X,conversionRates:B,medianTimeToResponse:D,avgTimePerStage:Q,deadlineAdherence:ie,timeToOffer:te})},[e,r,a,c,d,m,x,g]);const T=()=>{u(null),h(null),f(null),v(null),y(null)};if(o)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});let A=e;A=q3(A,c,d),A=IW(A,m),A=RW(A,x),A=DW(A,g);const L=A.reduce((U,K)=>{const ee=(K.status||"unknown").toLowerCase().replace(/\s+/g,"_");return U[ee]=(U[ee]||0)+1,U},{}),E=jGe(e),q=NGe(e),M=_Ge(e),C=[{name:"Interested",value:L.interested||0},{name:"Applied",value:L.applied||0},{name:"Phone Screen",value:L.phone_screen||0},{name:"Interview",value:L.interview||0},{name:"Offer",value:L.offer||0},{name:"Rejected",value:L.rejected||0}].filter(U=>U.value>0),I=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#ef4444"],O=EGe(A,6),H=()=>{const U={totalApplications:j.applicationsSent,interviewRate:j.conversionRates.appliedToInterview,offerRate:j.conversionRates.appliedToOffer,rejectionRate:((L.Rejected||0)/(j.totalJobs||1)*100).toFixed(1),activeApplications:L.Applied||0,avgTimeToInterview:j.avgTimePerStage.Interview||null,avgTimeToOffer:j.timeToOffer,deadlineAdherence:j.deadlineAdherence,medianTimeToResponse:j.medianTimeToResponse};yGe(U)},re=()=>{_(A,`jobs-${new Date().toISOString().split("T")[0]}.csv`)};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Analytics Dashboard"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{onClick:H,variant:"outline",children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Export Analytics"]}),n.jsxs(ve,{onClick:re,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Export Jobs"]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Specialized Analytics"})}),n.jsx(_e,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/analytics/application-success",children:[n.jsx(xn,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Application Success"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"By industry, role, customization"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/analytics/interview-performance",children:[n.jsx(tn,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Interview Performance"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Trends, formats, practice impact"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/analytics/network-roi",children:[n.jsx(tn,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Network ROI"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Referrals, outcomes, relationships"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/analytics/salary-progression",children:[n.jsx(Eo,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Salary Progression"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Offers, negotiation outcomes"})]})]})]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Advanced Tools"})}),n.jsx(_e,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/goals",children:[n.jsx(xn,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"SMART Goals"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Track milestones & progress"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/time-investment",children:[n.jsx(xn,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Time Investment"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Track time vs outcomes"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/custom-reports",children:[n.jsx(xn,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Custom Reports"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Build & save report templates"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/forecasting",children:[n.jsx(Gr,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Forecasting"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Predict outcomes, track accuracy"})]})]})]})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Advanced Insights"}),n.jsx(_t,{children:"Pattern detection and market intelligence"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/market-intelligence",children:[n.jsx(Gr,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Market Intelligence"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Curate & analyze trends"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/benchmarking",children:[n.jsx(xn,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Personal Benchmarking"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Set & track targets"})]})]}),n.jsxs(ve,{variant:"outline",className:"h-auto flex-col items-start p-4",onClick:()=>window.location.href="/success-patterns",children:[n.jsx(Gr,{className:"h-6 w-6 mb-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"Success Patterns"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Learn from your history"})]})]})]})})]}),n.jsx(wGe,{startDate:c,endDate:d,company:m,role:x,industry:g,companies:E,roles:q,industries:M,onStartDateChange:u,onEndDateChange:h,onCompanyChange:f,onRoleChange:v,onIndustryChange:y,onClearFilters:T}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Total Jobs"}),n.jsx(xn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(_e,{children:n.jsx("div",{className:"text-2xl font-bold",children:j.totalJobs})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Applications Sent"}),n.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:j.applicationsSent}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total submitted"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Interviews Scheduled"}),n.jsx(tn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:j.interviewsScheduled}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j.applicationsSent>0?`${j.conversionRates.appliedToInterview}% conversion`:"No data"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Offers Received"}),n.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:j.offersReceived}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j.applicationsSent>0?`${j.conversionRates.appliedToOffer}% conversion`:"No data"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Median Response Time"}),n.jsx(ma,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:j.medianTimeToResponse!==null?`${j.medianTimeToResponse}d`:"N/A"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From application"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Application Pipeline"})}),n.jsx(_e,{children:n.jsx(es,{width:"100%",height:300,children:C.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No data to display. Add jobs to see the pipeline."}):n.jsxs(Tl,{data:C,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"name"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(Ja,{dataKey:"value",fill:"#8b5cf6"})]})})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Status Distribution"})}),n.jsx(_e,{children:n.jsx(es,{width:"100%",height:300,children:C.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No data to display. Add jobs to see the distribution."}):n.jsxs(Jm,{children:[n.jsx(mf,{data:C,cx:"50%",cy:"50%",labelLine:!1,label:({name:U,value:K,percent:ee})=>`${U}: ${((ee||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:C.map((U,K)=>n.jsx(bc,{fill:I[K%I.length]},`cell-${K}`))}),n.jsx(ts,{})]})})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Monthly Applications"})}),n.jsx(_e,{children:n.jsx(es,{width:"100%",height:300,children:n.jsxs(iv,{data:O,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"month"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(du,{type:"monotone",dataKey:"count",stroke:"#8b5cf6",strokeWidth:2})]})})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Avg Time in Stage (Days)"})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-3",children:[Object.entries(j.avgTimePerStage).map(([U,K])=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:U}),n.jsxs("span",{className:"font-semibold",children:[K," days"]})]},U)),Object.keys(j.avgTimePerStage).length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Not enough data yet"})]})})]})]})]})]})}const PGe=Sy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Is=N.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:Pt(PGe({variant:t}),e),...r}));Is.displayName="Alert";const fv=N.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:Pt("mb-1 font-medium leading-none tracking-tight",e),...t}));fv.displayName="AlertTitle";const Rs=N.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Pt("text-sm [&_p]:leading-relaxed",e),...t}));Rs.displayName="AlertDescription";function TGe(){const[e,t]=N.useState(!0),[r,s]=N.useState([]),[a,i]=N.useState({byIndustry:[],byJobType:[],customizationImpact:{withResume:{total:0,success:0,rate:0},withoutResume:{total:0,success:0,rate:0},withCoverLetter:{total:0,success:0,rate:0},withoutCoverLetter:{total:0,success:0,rate:0}}});N.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:u}}=await se.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:h}=await se.from("jobs").select("*").eq("user_id",u.id).eq("is_archived",!1);if(h)throw h;s(d||[]),l(d||[])}catch(u){console.error("Failed to load data:",u)}finally{t(!1)}},l=u=>{const d=_=>["interview","phone_screen","offer"].includes(_.toLowerCase()),h=new Map;u.forEach(_=>{const S=_.industry||"Not specified";h.has(S)||h.set(S,{total:0,success:0});const T=h.get(S);T.total++,d(_.status)&&T.success++});const m=Array.from(h.entries()).map(([_,S])=>({name:_,total:S.total,success:S.success,rate:S.total>0?Math.round(S.success/S.total*100):0})).sort((_,S)=>S.total-_.total),f=new Map;u.forEach(_=>{const S=_.job_type||"Not specified";f.has(S)||f.set(S,{total:0,success:0});const T=f.get(S);T.total++,d(_.status)&&T.success++});const x=Array.from(f.entries()).map(([_,S])=>({name:_,total:S.total,success:S.success,rate:S.total>0?Math.round(S.success/S.total*100):0})).sort((_,S)=>S.total-_.total),v=u.filter(_=>_.resume_id),g=u.filter(_=>!_.resume_id),y=u.filter(_=>_.cover_letter_id),j=u.filter(_=>!_.cover_letter_id),b={withResume:{total:v.length,success:v.filter(_=>d(_.status)).length,rate:v.length>0?Math.round(v.filter(_=>d(_.status)).length/v.length*100):0},withoutResume:{total:g.length,success:g.filter(_=>d(_.status)).length,rate:g.length>0?Math.round(g.filter(_=>d(_.status)).length/g.length*100):0},withCoverLetter:{total:y.length,success:y.filter(_=>d(_.status)).length,rate:y.length>0?Math.round(y.filter(_=>d(_.status)).length/y.length*100):0},withoutCoverLetter:{total:j.length,success:j.filter(_=>d(_.status)).length,rate:j.length>0?Math.round(j.filter(_=>d(_.status)).length/j.length*100):0}};i({byIndustry:m,byJobType:x,customizationImpact:b})};if(e)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const c=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#ef4444"];return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h1",{className:"text-3xl font-bold",children:"Application Success Rate Analysis"})}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"What this means:"})," Success is defined as advancing to Phone Screen, Interview, or Offer stages. Higher success rates indicate better targeting and application quality for specific industries or job types."]})]}),r.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(xn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Application Data Yet"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"Start tracking job applications to see success rate breakdowns by industry, job type, and customization impact."})]})}):n.jsxs(ss,{defaultValue:"industry",className:"space-y-6",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"industry",children:"By Industry"}),n.jsx(vt,{value:"jobtype",children:"By Job Type"}),n.jsx(vt,{value:"customization",children:"Customization Impact"})]}),n.jsx(xt,{value:"industry",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(to,{className:"h-5 w-5"}),"Success Rate by Industry"]})}),n.jsx(_e,{children:a.byIndustry.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No industry data available. Add industry information to your job applications."}):n.jsxs(n.Fragment,{children:[n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:a.byIndustry,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"name"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(cu,{}),n.jsx(Ja,{dataKey:"total",fill:"#3b82f6",name:"Total Applications"}),n.jsx(Ja,{dataKey:"success",fill:"#10b981",name:"Successful"})]})}),n.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.byIndustry.map((u,d)=>n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:u.name}),n.jsxs($e,{variant:u.rate>=30?"default":"secondary",children:[u.rate,"%"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.success," of ",u.total," successful"]})]})},u.name))})]})})]})}),n.jsx(xt,{value:"jobtype",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Fa,{className:"h-5 w-5"}),"Success Rate by Job Type"]})}),n.jsx(_e,{children:a.byJobType.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No job type data available. Add job type information to your applications."}):n.jsxs(n.Fragment,{children:[n.jsx(es,{width:"100%",height:300,children:n.jsxs(Jm,{children:[n.jsx(mf,{data:a.byJobType,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,rate:d})=>`${u}: ${d}%`,outerRadius:100,fill:"#8884d8",dataKey:"total",children:a.byJobType.map((u,d)=>n.jsx(bc,{fill:c[d%c.length]},`cell-${d}`))}),n.jsx(ts,{})]})}),n.jsx("div",{className:"mt-6 space-y-3",children:a.byJobType.map(u=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:u.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.success," of ",u.total," successful"]})]}),n.jsxs($e,{variant:u.rate>=30?"default":"secondary",children:[u.rate,"% success"]})]},u.name))})]})})]})}),n.jsx(xt,{value:"customization",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Impact of Customization"]})}),n.jsxs(_e,{children:[n.jsxs(Is,{className:"mb-6",children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsx(Rs,{children:"Applications with customized resumes and cover letters typically show higher success rates. This data shows the correlation in your applications."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-lg",children:"Resume Attached"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm",children:"With Resume"}),n.jsxs($e,{variant:"default",children:[a.customizationImpact.withResume.rate,"%"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.customizationImpact.withResume.success," of"," ",a.customizationImpact.withResume.total," successful"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm",children:"Without Resume"}),n.jsxs($e,{variant:"secondary",children:[a.customizationImpact.withoutResume.rate,"%"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.customizationImpact.withoutResume.success," of"," ",a.customizationImpact.withoutResume.total," successful"]})]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-lg",children:"Cover Letter Attached"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm",children:"With Cover Letter"}),n.jsxs($e,{variant:"default",children:[a.customizationImpact.withCoverLetter.rate,"%"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.customizationImpact.withCoverLetter.success," of"," ",a.customizationImpact.withCoverLetter.total," successful"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm",children:"Without Cover Letter"}),n.jsxs($e,{variant:"secondary",children:[a.customizationImpact.withoutCoverLetter.rate,"%"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.customizationImpact.withoutCoverLetter.success," of"," ",a.customizationImpact.withoutCoverLetter.total," successful"]})]})]})]})]})]})]})})]})]})]})}function OGe(){const[e,t]=N.useState(!0),[r,s]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState({interviewToOffer:0,byFormat:[],trendData:[],practiceImpact:{withPractice:{total:0,success:0,rate:0},withoutPractice:{total:0,success:0,rate:0}}});N.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:d}}=await se.auth.getUser();if(!d)throw new Error("Not authenticated");const[{data:h,error:m},{data:f,error:x}]=await Promise.all([se.from("interviews").select("*").eq("user_id",d.id),se.from("mock_interview_sessions").select("*").eq("user_id",d.id)]);if(m)throw m;if(x)throw x;s(h||[]),i(f||[]),u(h||[],f||[])}catch(d){console.error("Failed to load data:",d)}finally{t(!1)}},u=(d,h)=>{const m=d.filter(A=>A.outcome),f=m.filter(A=>A.outcome==="offer"),x=m.length>0?Math.round(f.length/m.length*100):0,v=new Map;d.forEach(A=>{const L=A.interview_type||"Not specified";v.has(L)||v.set(L,{total:0,success:0});const E=v.get(L);E.total++,(A.outcome==="offer"||A.outcome==="advanced")&&E.success++});const g=Array.from(v.entries()).map(([A,L])=>({name:A,total:L.total,success:L.success,rate:L.total>0?Math.round(L.success/L.total*100):0})).sort((A,L)=>L.total-A.total),y=new Map;d.forEach(A=>{if(!A.interview_date&&!A.scheduled_start)return;const E=new Date(A.interview_date||A.scheduled_start).toLocaleDateString("en-US",{month:"short",year:"numeric"});y.has(E)||y.set(E,{interviews:0,offers:0});const q=y.get(E);q.interviews++,A.outcome==="offer"&&q.offers++});const j=Array.from(y.entries()).map(([A,L])=>({month:A,interviews:L.interviews,offers:L.offers,rate:L.interviews>0?Math.round(L.offers/L.interviews*100):0})).sort((A,L)=>{const E=new Date(A.month),q=new Date(L.month);return E.getTime()-q.getTime()}),b=new Set(h.map(A=>A.job_id).filter(Boolean)),_=d.filter(A=>A.job_id&&b.has(A.job_id)),S=d.filter(A=>!A.job_id||!b.has(A.job_id)),T={withPractice:{total:_.length,success:_.filter(A=>A.outcome==="offer"||A.outcome==="advanced").length,rate:_.length>0?Math.round(_.filter(A=>A.outcome==="offer"||A.outcome==="advanced").length/_.length*100):0},withoutPractice:{total:S.length,success:S.filter(A=>A.outcome==="offer"||A.outcome==="advanced").length,rate:S.length>0?Math.round(S.filter(A=>A.outcome==="offer"||A.outcome==="advanced").length/S.length*100):0}};l({interviewToOffer:x,byFormat:g,trendData:j,practiceImpact:T})};return e?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h1",{className:"text-3xl font-bold",children:"Interview Performance Tracking"})}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"What this means:"})," Track your interview success across formats and over time. Mock interview practice correlates with better real interview performance."]})]}),r.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(tn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Interview Data Yet"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"Track interviews to see performance trends, format comparisons, and coaching recommendations."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-5 w-5"}),"Interview-to-Offer Conversion"]})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"text-4xl font-bold",children:[o.interviewToOffer,"%"]}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:[r.filter(d=>d.outcome==="offer").length," offers from"," ",r.filter(d=>d.outcome).length," completed interviews"]})]})]}),n.jsxs(ss,{defaultValue:"format",className:"space-y-6",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"format",children:"By Format"}),n.jsx(vt,{value:"trends",children:"Trends Over Time"}),n.jsx(vt,{value:"practice",children:"Practice Impact"})]}),n.jsx(xt,{value:"format",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Performance by Interview Format"})}),n.jsx(_e,{children:o.byFormat.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No format data available. Add interview type to your interviews."}):n.jsxs(n.Fragment,{children:[n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:o.byFormat,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"name"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(cu,{}),n.jsx(Ja,{dataKey:"total",fill:"#3b82f6",name:"Total"}),n.jsx(Ja,{dataKey:"success",fill:"#10b981",name:"Successful"})]})}),n.jsx("div",{className:"mt-6 space-y-3",children:o.byFormat.map(d=>{const h=d.name.toLowerCase().includes("video")?au:d.name.toLowerCase().includes("phone")?ep:su;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(h,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:d.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.success," of ",d.total," successful"]})]})]}),n.jsxs($e,{variant:d.rate>=50?"default":"secondary",children:[d.rate,"% success"]})]},d.name)})})]})})]})}),n.jsx(xt,{value:"trends",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Interview Success Trends"]})}),n.jsx(_e,{children:o.trendData.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Not enough data to show trends. Complete more interviews over time."}):n.jsx(es,{width:"100%",height:300,children:n.jsxs(iv,{data:o.trendData,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"month"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(cu,{}),n.jsx(du,{type:"monotone",dataKey:"interviews",stroke:"#3b82f6",name:"Interviews"}),n.jsx(du,{type:"monotone",dataKey:"offers",stroke:"#10b981",name:"Offers"})]})})})]})}),n.jsx(xt,{value:"practice",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Impact of Mock Interview Practice"})}),n.jsxs(_e,{children:[n.jsxs(Is,{className:"mb-6",children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"Coaching Tip:"})," Candidates who practice with mock interviews before real ones typically see improved performance. Consider practicing for upcoming interviews."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-lg",children:"With Mock Practice"})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"text-3xl font-bold mb-2",children:[o.practiceImpact.withPractice.rate,"%"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.practiceImpact.withPractice.success," of"," ",o.practiceImpact.withPractice.total," successful"]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-lg",children:"Without Practice"})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"text-3xl font-bold mb-2",children:[o.practiceImpact.withoutPractice.rate,"%"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.practiceImpact.withoutPractice.success," of"," ",o.practiceImpact.withoutPractice.total," successful"]})]})]})]}),a.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Your Mock Interview Sessions"}),n.jsx("div",{className:"space-y-2",children:a.slice(0,5).map(d=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:d.target_role}),d.company_name&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[" at ",d.company_name]})]}),n.jsx($e,{variant:d.status==="completed"?"default":"secondary",children:d.status})]},d.id))})]})]})]})})]})]})]})]})}function IGe(){const[e,t]=N.useState(!0),[r,s]=N.useState({totalReferrals:0,interviewsFromNetwork:0,offersFromNetwork:0,relationshipTrends:[],referralStatus:[],topContacts:[]});N.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:{user:l}}=await se.auth.getUser();if(!l)throw new Error("Not authenticated");const[{data:c,error:u},{data:d,error:h},{data:m,error:f},{data:x,error:v}]=await Promise.all([se.from("referral_requests").select("*").eq("user_id",l.id),se.from("event_outcomes").select("*, jobs(status)").eq("user_id",l.id),se.from("contacts").select("*").eq("user_id",l.id),se.from("interviews").select("*, jobs(id)").eq("user_id",l.id)]);if(u)throw u;if(h)throw h;if(f)throw f;if(v)throw v;i(c||[],d||[],m||[],x||[])}catch(l){console.error("Failed to load data:",l)}finally{t(!1)}},i=(l,c,u,d)=>{const h=l.length,m=new Set(l.map(A=>A.job_id).filter(Boolean)),f=new Set(c.map(A=>A.job_id).filter(Boolean)),x=new Set([...m,...f]),v=d.filter(A=>{var L;return((L=A.jobs)==null?void 0:L.id)&&x.has(A.jobs.id)}).length,g=c.filter(A=>{var L;return A.outcome_type==="job_offer"||((L=A.jobs)==null?void 0:L.status)==="offer"}).length,y=new Map;l.forEach(A=>{const L=A.status||"pending";y.set(L,(y.get(L)||0)+1)});const j=Array.from(y.entries()).map(([A,L])=>({name:A,value:L})).sort((A,L)=>L.value-A.value),b=new Map;u.forEach(A=>{const L=A.relationship_strength||3;b.set(L,(b.get(L)||0)+1)});const _=Array.from(b.entries()).map(([A,L])=>({strength:`Level ${A}`,count:L})).sort((A,L)=>{const E=parseInt(A.strength.replace("Level ","")),q=parseInt(L.strength.replace("Level ",""));return E-q}),S=new Map;c.forEach(A=>{A.contact_id&&S.set(A.contact_id,(S.get(A.contact_id)||0)+1)});const T=Array.from(S.entries()).map(([A,L])=>{const E=u.find(q=>q.id===A);return{name:(E==null?void 0:E.name)||"Unknown",company:E==null?void 0:E.company,interactions:L,strength:(E==null?void 0:E.relationship_strength)||3}}).sort((A,L)=>L.interactions-A.interactions).slice(0,5);s({totalReferrals:h,interviewsFromNetwork:v,offersFromNetwork:g,relationshipTrends:_,referralStatus:j,topContacts:T})};if(e)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const o=["#3b82f6","#10b981","#f59e0b","#ec4899","#8b5cf6"];return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h1",{className:"text-3xl font-bold",children:"Network ROI Analytics"})}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"What this means:"})," Your network is a powerful job search asset. Track referrals, interviews sourced through connections, and relationship strength over time to maximize ROI."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Referrals Requested"}),n.jsx(hce,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.totalReferrals}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total requests"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Interviews from Network"}),n.jsx(bce,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.interviewsFromNetwork}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Via connections"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Offers from Network"}),n.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.offersFromNetwork}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Network success"})]})]})]}),r.totalReferrals===0&&r.interviewsFromNetwork===0?n.jsx(ye,{children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(tn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Network Activity Yet"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"Start requesting referrals and tracking network outcomes to see ROI analytics."})]})}):n.jsxs(ss,{defaultValue:"referrals",className:"space-y-6",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"referrals",children:"Referral Status"}),n.jsx(vt,{value:"relationships",children:"Relationship Strength"}),n.jsx(vt,{value:"top",children:"Top Connections"})]}),n.jsx(xt,{value:"referrals",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Referral Request Status"})}),n.jsx(_e,{children:r.referralStatus.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No referral data available."}):n.jsxs(n.Fragment,{children:[n.jsx(es,{width:"100%",height:300,children:n.jsxs(Jm,{children:[n.jsx(mf,{data:r.referralStatus,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,value:c})=>`${l}: ${c}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.referralStatus.map((l,c)=>n.jsx(bc,{fill:o[c%o.length]},`cell-${c}`))}),n.jsx(ts,{})]})}),n.jsx("div",{className:"mt-6 space-y-2",children:r.referralStatus.map((l,c)=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:o[c%o.length]}}),n.jsx("span",{className:"capitalize",children:l.name})]}),n.jsx($e,{children:l.value})]},l.name))})]})})]})}),n.jsx(xt,{value:"relationships",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Relationship Strength Distribution"]})}),n.jsx(_e,{children:r.relationshipTrends.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No relationship data available."}):n.jsxs(n.Fragment,{children:[n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:r.relationshipTrends,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"strength"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(Ja,{dataKey:"count",fill:"#3b82f6",name:"Contacts"})]})}),n.jsxs(Is,{className:"mt-6",children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"Tip:"})," Stronger relationships (Level 4-5) tend to yield better referral outcomes. Consider nurturing connections to strengthen relationships over time."]})]})]})})]})}),n.jsx(xt,{value:"top",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Top Network Contributors"})}),n.jsx(_e,{children:r.topContacts.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No interaction data available. Track event outcomes to see top contributors."}):n.jsx("div",{className:"space-y-3",children:r.topContacts.map((l,c)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:n.jsx("span",{className:"text-sm font-medium",children:c+1})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:l.name}),l.company&&n.jsx("p",{className:"text-sm text-muted-foreground",children:l.company})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs($e,{variant:"outline",children:[l.interactions," outcomes"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Strength: Level ",l.strength]})]})]},c))})})]})})]})]})]})}function RGe(){const[e,t]=N.useState(!0),[r,s]=N.useState([]),[a,i]=N.useState({averageOffer:0,highestOffer:0,lowestOffer:0,offersOverTime:[],negotiationOutcomes:{accepted:0,declined:0,negotiating:0},totalCompensation:[]});N.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:u}}=await se.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:h}=await se.from("offers").select("*, jobs(company_name, job_title)").eq("user_id",u.id);if(h)throw h;s(d||[]),l(d||[])}catch(u){console.error("Failed to load data:",u)}finally{t(!1)}},l=u=>{if(u.length===0){i({averageOffer:0,highestOffer:0,lowestOffer:0,offersOverTime:[],negotiationOutcomes:{accepted:0,declined:0,negotiating:0},totalCompensation:[]});return}const d=u.filter(j=>j.base_salary).map(j=>j.base_salary),h=d.length>0?Math.round(d.reduce((j,b)=>j+b,0)/d.length):0,m=d.length>0?Math.max(...d):0,f=d.length>0?Math.min(...d):0,x=new Map;u.forEach(j=>{if(!j.created_at||!j.base_salary)return;const _=new Date(j.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"});x.has(_)||x.set(_,{total:0,avg:0,count:0});const S=x.get(_);S.total+=j.base_salary,S.count++,S.avg=Math.round(S.total/S.count)});const v=Array.from(x.entries()).map(([j,b])=>({month:j,average:b.avg,count:b.count})).sort((j,b)=>{const _=new Date(j.month),S=new Date(b.month);return _.getTime()-S.getTime()}),g={accepted:u.filter(j=>j.status==="accepted").length,declined:u.filter(j=>j.status==="declined").length,negotiating:u.filter(j=>j.status==="negotiating"||j.status==="pending").length},y=u.filter(j=>j.base_salary).map(j=>{var T,A;const b=j.base_salary||0,_=j.bonus||0;let S=0;if(j.equity&&typeof j.equity=="string"){const L=j.equity.match(/\d+/);L&&(S=parseInt(L[0],10))}return{company:((T=j.jobs)==null?void 0:T.company_name)||"Unknown",title:((A=j.jobs)==null?void 0:A.job_title)||"Unknown",base:b,bonus:_,equity:S,total:b+_+S}}).sort((j,b)=>b.total-j.total);i({averageOffer:h,highestOffer:m,lowestOffer:f,offersOverTime:v,negotiationOutcomes:g,totalCompensation:y})};if(e)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const c=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u);return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h1",{className:"text-3xl font-bold",children:"Salary Progression Analytics"})}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"What this means:"})," Track your compensation growth over time and negotiation outcomes. Understanding your market value helps in future negotiations."]})]}),r.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(mc,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Offer Data Yet"}),n.jsx("p",{className:"text-muted-foreground text-center",children:"Track job offers to analyze salary progression and negotiation outcomes."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Average Offer"}),n.jsx(xn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:c(a.averageOffer)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Base salary"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Highest Offer"}),n.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:c(a.highestOffer)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Top offer received"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(De,{className:"text-sm font-medium",children:"Total Offers"}),n.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.length}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Offers received"})]})]})]}),n.jsxs(ss,{defaultValue:"progression",className:"space-y-6",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"progression",children:"Progression Over Time"}),n.jsx(vt,{value:"negotiation",children:"Negotiation Outcomes"}),n.jsx(vt,{value:"compensation",children:"Total Compensation"})]}),n.jsx(xt,{value:"progression",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Salary Progression Over Time"]})}),n.jsx(_e,{children:a.offersOverTime.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Not enough data to show progression. Receive more offers over time."}):n.jsx(es,{width:"100%",height:300,children:n.jsxs(iv,{data:a.offersOverTime,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"month"}),n.jsx(ya,{}),n.jsx(ts,{formatter:u=>c(u)}),n.jsx(cu,{}),n.jsx(du,{type:"monotone",dataKey:"average",stroke:"#3b82f6",strokeWidth:2,name:"Average Offer"})]})})})]})}),n.jsx(xt,{value:"negotiation",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Negotiation Outcomes"})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:a.negotiationOutcomes.accepted}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Accepted"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:a.negotiationOutcomes.negotiating}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Negotiating"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-red-600",children:a.negotiationOutcomes.declined}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Declined"})]})})})]}),n.jsxs(Is,{className:"mt-6",children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"Negotiation Tip:"})," Most successful candidates negotiate their offers. Research market rates and be prepared to articulate your value."]})]})]})]})}),n.jsx(xt,{value:"compensation",className:"space-y-6",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Total Compensation Breakdown"})}),n.jsx(_e,{children:a.totalCompensation.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No compensation data available."}):n.jsxs(n.Fragment,{children:[n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:a.totalCompensation.slice(0,10),children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"company"}),n.jsx(ya,{}),n.jsx(ts,{formatter:u=>c(u)}),n.jsx(cu,{}),n.jsx(Ja,{dataKey:"base",stackId:"a",fill:"#3b82f6",name:"Base"}),n.jsx(Ja,{dataKey:"bonus",stackId:"a",fill:"#10b981",name:"Bonus"}),n.jsx(Ja,{dataKey:"equity",stackId:"a",fill:"#f59e0b",name:"Equity"})]})}),n.jsx("div",{className:"mt-6 space-y-3",children:a.totalCompensation.slice(0,5).map((u,d)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:u.company}),n.jsx("p",{className:"text-sm text-muted-foreground",children:u.title})]}),n.jsxs("div",{className:"text-right",children:[n.jsx($e,{variant:"default",children:c(u.total)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Base: ",c(u.base)]})]})]},d))})]})})]})})]})]})]})]})}const DGe=()=>{var f,x,v,g,y,j;const[e,t]=N.useState([]),[r,s]=N.useState(null),[a,i]=N.useState(!1),{toast:o}=Nc();N.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:b,error:_}=await se.from("automation_rules").select("*").order("created_at",{ascending:!1});if(_)throw _;const S=(b||[]).map(T=>({id:T.id,user_id:T.user_id,name:T.name,is_enabled:T.is_enabled,trigger:T.trigger,action:T.action}));t(S)}catch(b){console.error("Failed to load rules:",b)}},c=()=>{s({name:"",is_enabled:!0,trigger:{type:"status_change"},action:{type:"send_email"}}),i(!0)},u=async()=>{if(!(r!=null&&r.name)||!r.trigger||!r.action){o({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(r.trigger.type==="status_change"&&!r.trigger.to){o({title:"Validation Error",description:"Please select a status for the trigger",variant:"destructive"});return}if(r.trigger.type==="deadline"&&!r.trigger.days_before){o({title:"Validation Error",description:"Please specify days before deadline",variant:"destructive"});return}if(r.action.type==="send_email"&&(!r.action.subject||!r.action.body)){o({title:"Validation Error",description:"Please provide email subject and body",variant:"destructive"});return}if(r.action.type==="change_status"&&!r.action.to){o({title:"Validation Error",description:"Please select a status for the action",variant:"destructive"});return}try{const{data:{user:b}}=await se.auth.getUser();if(!b)throw new Error("Not authenticated");if(a){const{data:_,error:S}=await se.functions.invoke("automation-rule-upsert",{body:{name:r.name,is_enabled:r.is_enabled??!0,trigger:r.trigger,action:r.action}});if(S)throw console.error("Insert error:",S),S}else{const{data:_,error:S}=await se.functions.invoke("automation-rule-upsert",{body:{id:r.id,name:r.name,is_enabled:r.is_enabled,trigger:r.trigger,action:r.action}});if(S)throw console.error("Update error:",S),S}o({title:"Success",description:`Rule ${a?"created":"updated"} successfully`}),s(null),i(!1),l()}catch(b){console.error("Failed to save rule:",b),o({title:"Error",description:b instanceof Error?b.message:"Failed to save rule",variant:"destructive"})}},d=async b=>{try{const{error:_}=await se.from("automation_rules").delete().eq("id",b);if(_)throw _;o({title:"Success",description:"Rule deleted successfully"}),l()}catch(_){console.error("Failed to delete rule:",_),o({title:"Error",description:"Failed to delete rule",variant:"destructive"})}},h=async b=>{try{const{error:_}=await se.functions.invoke("execute-automation-rules",{body:{mode:"manual",rule_id:b}});if(_)throw _;o({title:"Success",description:"Rule executed successfully"})}catch(_){console.error("Failed to execute rule:",_),o({title:"Error",description:"Failed to execute rule",variant:"destructive"})}},m=async b=>{try{const{error:_}=await se.from("automation_rules").update({is_enabled:!b.is_enabled}).eq("id",b.id);if(_)throw _;l()}catch(_){console.error("Failed to toggle rule:",_)}};return r?n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{children:[a?"Create":"Edit"," Automation Rule"]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"rule-name",children:"Rule Name"}),n.jsx(Je,{id:"rule-name",value:r.name||"",onChange:b=>s({...r,name:b.target.value}),placeholder:"e.g., Send reminder 3 days before deadline"})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"trigger-type",children:"Trigger Type"}),n.jsxs($t,{value:(f=r.trigger)==null?void 0:f.type,onValueChange:b=>s({...r,trigger:{...r.trigger,type:b}}),children:[n.jsx(Ft,{id:"trigger-type",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"status_change",children:"Status Change"}),n.jsx(qe,{value:"deadline",children:"Deadline Reminder"}),n.jsx(qe,{value:"schedule_daily",children:"Daily Schedule"})]})]})]}),((x=r.trigger)==null?void 0:x.type)==="status_change"&&n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"trigger-status",children:"To Status"}),n.jsxs($t,{value:r.trigger.to||"",onValueChange:b=>s({...r,trigger:{...r.trigger,to:b}}),children:[n.jsx(Ft,{id:"trigger-status",children:n.jsx(qt,{placeholder:"Select status"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"Applied",children:"Applied"}),n.jsx(qe,{value:"Phone Screen",children:"Phone Screen"}),n.jsx(qe,{value:"Interview",children:"Interview"}),n.jsx(qe,{value:"Offer",children:"Offer"}),n.jsx(qe,{value:"Rejected",children:"Rejected"})]})]})]}),((v=r.trigger)==null?void 0:v.type)==="deadline"&&n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"trigger-days",children:"Days Before Deadline"}),n.jsx(Je,{id:"trigger-days",type:"number",min:"1",value:r.trigger.days_before||3,onChange:b=>s({...r,trigger:{...r.trigger,days_before:parseInt(b.target.value)}})})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"action-type",children:"Action Type"}),n.jsxs($t,{value:(g=r.action)==null?void 0:g.type,onValueChange:b=>s({...r,action:{...r.action,type:b}}),children:[n.jsx(Ft,{id:"action-type",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"send_email",children:"Send Email"}),n.jsx(qe,{value:"change_status",children:"Change Status"}),n.jsx(qe,{value:"generate_package",children:"Generate Application Package"})]})]})]}),((y=r.action)==null?void 0:y.type)==="send_email"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"email-subject",children:"Email Subject"}),n.jsx(Je,{id:"email-subject",value:r.action.subject||"",onChange:b=>s({...r,action:{...r.action,subject:b.target.value}}),placeholder:"Application deadline reminder"})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"email-body",children:"Email Body"}),n.jsx(dr,{id:"email-body",value:r.action.body||"",onChange:b=>s({...r,action:{...r.action,body:b.target.value}}),placeholder:"Your application deadline is approaching...",rows:4})]})]}),((j=r.action)==null?void 0:j.type)==="change_status"&&n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"action-status",children:"New Status"}),n.jsxs($t,{value:r.action.to||"",onValueChange:b=>s({...r,action:{...r.action,to:b}}),children:[n.jsx(Ft,{id:"action-status",children:n.jsx(qt,{placeholder:"Select status"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"Applied",children:"Applied"}),n.jsx(qe,{value:"Phone Screen",children:"Phone Screen"}),n.jsx(qe,{value:"Interview",children:"Interview"}),n.jsx(qe,{value:"Offer",children:"Offer"}),n.jsx(qe,{value:"Rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{onClick:u,children:"Save Rule"}),n.jsx(ve,{variant:"outline",onClick:()=>{s(null),i(!1)},children:"Cancel"})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Automation Rules"}),n.jsxs(ve,{onClick:c,children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Create Rule"]})]}),n.jsxs("div",{className:"space-y-2",children:[e.map(b=>n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold",children:b.name}),n.jsx(rd,{checked:b.is_enabled,onCheckedChange:()=>m(b)})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Trigger: ",b.trigger.type," | Action: ",b.action.type]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>h(b.id),children:n.jsx(Hd,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>{s(b),i(!1)},children:"Edit"}),n.jsx(ve,{variant:"destructive",size:"sm",onClick:()=>d(b.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]})})},b.id)),e.length===0&&n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center text-muted-foreground",children:"No automation rules yet. Create your first rule to get started."})})]})]})},MGe=()=>{const[e,t]=N.useState([]),[r,s]=N.useState("all"),[a,i]=N.useState(!0);N.useEffect(()=>{o()},[r]);const o=async()=>{try{let c=se.from("automation_rule_runs").select(`
          *,
          automation_rules (name),
          jobs (job_title, company_name)
        `).order("run_at",{ascending:!1}).limit(100);r!=="all"&&(c=c.eq("outcome",r));const{data:u,error:d}=await c;if(d)throw d;t(u||[])}catch(c){console.error("Failed to load execution logs:",c)}finally{i(!1)}},l=c=>{const u={success:"default",skipped:"secondary",error:"destructive"};return n.jsx($e,{variant:u[c],children:c})};return a?n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Execution Logs"})}),n.jsx(_e,{children:n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Loading..."})})]}):n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Execution Logs"}),n.jsxs($t,{value:r,onValueChange:s,children:[n.jsx(Ft,{className:"w-40",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Outcomes"}),n.jsx(qe,{value:"success",children:"Success"}),n.jsx(qe,{value:"skipped",children:"Skipped"}),n.jsx(qe,{value:"error",children:"Error"})]})]})]})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-2",children:[e.map(c=>{var u;return n.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold",children:((u=c.automation_rules)==null?void 0:u.name)||"Unknown Rule"}),c.jobs&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.jobs.job_title," at ",c.jobs.company_name]})]}),l(c.outcome)]}),c.message&&n.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:c.message}),n.jsx("div",{className:"text-xs text-muted-foreground",children:Lt(new Date(c.run_at),"PPpp")})]},c.id)}),e.length===0&&n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No execution logs found"})]})})]})},LGe=()=>n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[n.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Application Automation"}),n.jsxs(ss,{defaultValue:"rules",className:"space-y-6",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"rules",children:"Automation Rules"}),n.jsx(vt,{value:"logs",children:"Execution Logs"})]}),n.jsx(xt,{value:"rules",children:n.jsx(DGe,{})}),n.jsx(xt,{value:"logs",children:n.jsx(MGe,{})})]})]})]});function FGe(){const{user:e}=un(),t=ns(),[r,s]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(!0);N.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{const{data:h}=await se.from("calendar_integrations").select("*").eq("user_id",e.id).eq("provider","google").single();i(!!(h!=null&&h.access_token))}catch(h){console.error("Error checking calendar connection:",h)}finally{l(!1)}},u=async()=>{s(!0);try{const m=`${window.location.origin}/calendar/callback`;xe.error("Google Calendar is not configured");return}catch(h){console.error("Error connecting calendar:",h),xe.error("Failed to connect calendar"),s(!1)}},d=async()=>{if(e)try{const{error:h}=await se.from("calendar_integrations").delete().eq("user_id",e.id).eq("provider","google");if(h)throw h;i(!1),xe.success("Calendar disconnected")}catch(h){console.error("Error disconnecting calendar:",h),xe.error("Failed to disconnect calendar")}};return o?n.jsx("div",{className:"container mx-auto p-6 flex items-center justify-center min-h-[400px]",children:n.jsx(en,{className:"h-8 w-8 animate-spin"})}):n.jsxs("div",{className:"container mx-auto p-6 max-w-2xl",children:[n.jsx("div",{className:"mb-6",children:n.jsx(ve,{variant:"ghost",onClick:()=>t("/jobs"),children:" Back to Jobs"})}),n.jsxs(ye,{className:"p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx(mr,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Calendar Integration"}),n.jsx("p",{className:"text-muted-foreground",children:"Sync your interviews with Google Calendar"})]}),a?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsx(ma,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),n.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Google Calendar Connected"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[n.jsx("p",{children:" Interviews automatically synced to your calendar"}),n.jsx("p",{children:" Email reminders 24 hours before interviews"}),n.jsx("p",{children:" Popup reminders 1 hour before"})]}),n.jsxs(ve,{variant:"destructive",className:"w-full",onClick:d,children:[n.jsx(nd,{className:"h-4 w-4 mr-2"}),"Disconnect Calendar"]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[n.jsx("p",{children:"Connect your Google Calendar to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[n.jsx("li",{children:"Automatically add interview events"}),n.jsx("li",{children:"Get reminders before interviews"}),n.jsx("li",{children:"Sync interview times and locations"}),n.jsx("li",{children:"Never miss an important meeting"})]})]}),n.jsx(ve,{className:"w-full",onClick:u,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"h-4 w-4 mr-2 animate-spin"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mr,{className:"h-4 w-4 mr-2"}),"Connect Google Calendar"]})})]})]})]})}function BGe(){const{user:e}=un(),t=ns(),[r]=Eb(),[s,a]=N.useState("loading"),[i,o]=N.useState("Connecting your calendar...");N.useEffect(()=>{l()},[e]);const l=async()=>{const c=r.get("code"),u=r.get("error"),d=r.get("state");if(u){a("error"),o("Calendar connection was cancelled or failed");return}if(!c||!d||!e){a("error"),o("Invalid callback parameters");return}try{const f=`${window.location.origin}/calendar/callback`,x=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:c,client_id:void 0,client_secret:void 0,redirect_uri:f,grant_type:"authorization_code"})});if(!x.ok)throw new Error("Failed to exchange authorization code");const v=await x.json(),{error:g}=await se.from("calendar_integrations").upsert({user_id:e.id,provider:"google",access_token:v.access_token,refresh_token:v.refresh_token,token_expiry:new Date(Date.now()+v.expires_in*1e3).toISOString(),sync_enabled:!0});if(g)throw g;a("success"),o("Calendar connected successfully!"),xe.success("Google Calendar connected"),setTimeout(()=>{t("/calendar-connect")},2e3)}catch(h){console.error("Calendar callback error:",h),a("error"),o("Failed to connect calendar. Please try again."),xe.error("Failed to connect calendar")}};return n.jsx("div",{className:"container mx-auto p-6 flex items-center justify-center min-h-screen",children:n.jsxs(ye,{className:"p-8 max-w-md w-full text-center",children:[s==="loading"&&n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"h-16 w-16 mx-auto mb-4 animate-spin text-primary"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:i}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"This will only take a moment..."})]}),s==="success"&&n.jsxs(n.Fragment,{children:[n.jsx(ma,{className:"h-16 w-16 mx-auto mb-4 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:i}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Redirecting you back..."})]}),s==="error"&&n.jsxs(n.Fragment,{children:[n.jsx(nd,{className:"h-16 w-16 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-xl font-semibold mb-2 text-destructive",children:i}),n.jsx(ve,{onClick:()=>t("/calendar-connect"),className:"mt-4",children:"Try Again"})]})]})})}function UGe(){const[e,t]=N.useState(!1),[r,s]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(null);N.useEffect(()=>{c()},[]);const c=async()=>{const{data:{user:x}}=await se.auth.getUser();if(!x)return;const{data:v}=await se.from("email_integrations").select("*").eq("user_id",x.id).eq("provider","google").single();t(!!v);const{data:g}=await se.from("calendar_integrations").select("*").eq("user_id",x.id).eq("provider","google").single();s(!!g)},u=async()=>{try{const{data:x,error:v}=await se.functions.invoke("email-oauth-start");if(v)throw v;x!=null&&x.authUrl&&(window.location.href=x.authUrl)}catch(x){console.error("Failed to start Gmail OAuth:",x),xe.error("Failed to connect Gmail")}},d=async()=>{try{const{data:{user:x}}=await se.auth.getUser();if(!x)return;const{error:v}=await se.from("email_integrations").delete().eq("user_id",x.id).eq("provider","google");if(v)throw v;t(!1),xe.success("Gmail disconnected")}catch(x){console.error("Failed to disconnect Gmail:",x),xe.error("Failed to disconnect Gmail")}},h=async()=>{i(!0);try{const{data:x,error:v}=await se.functions.invoke("email-poller");if(v)throw v;l(new Date().toLocaleString()),xe.success(`Synced ${(x==null?void 0:x.detectedCount)||0} job-related emails`)}catch(x){console.error("Failed to sync Gmail:",x),xe.error("Failed to sync emails")}finally{i(!1)}},m=async()=>{try{const{data:x,error:v}=await se.functions.invoke("calendar-oauth-start");if(v)throw v;x!=null&&x.authUrl&&(window.location.href=x.authUrl)}catch(x){console.error("Failed to start Calendar OAuth:",x),xe.error("Failed to connect Calendar")}},f=async()=>{try{const{data:{user:x}}=await se.auth.getUser();if(!x)return;const{error:v}=await se.from("calendar_integrations").delete().eq("user_id",x.id).eq("provider","google");if(v)throw v;s(!1),xe.success("Calendar disconnected")}catch(x){console.error("Failed to disconnect Calendar:",x),xe.error("Failed to disconnect Calendar")}};return n.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Integrations"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gc,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Gmail"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically detect application status updates from emails"})]})]}),e?n.jsxs($e,{variant:"default",className:"flex items-center gap-1",children:[n.jsx(ma,{className:"h-3 w-3"}),"Connected"]}):n.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(nd,{className:"h-3 w-3"}),"Not Connected"]})]}),o&&n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Last synced: ",o]}),n.jsx("div",{className:"flex gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsxs(ve,{onClick:h,disabled:a,children:[n.jsx(lc,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Sync Now"]}),n.jsx(ve,{onClick:d,variant:"outline",children:"Disconnect"})]}):n.jsx(ve,{onClick:u,children:"Connect Gmail"})})]}),n.jsxs(ye,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mr,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Google Calendar"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync interview schedules with your calendar"})]})]}),r?n.jsxs($e,{variant:"default",className:"flex items-center gap-1",children:[n.jsx(ma,{className:"h-3 w-3"}),"Connected"]}):n.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(nd,{className:"h-3 w-3"}),"Not Connected"]})]}),n.jsx("div",{className:"flex gap-2",children:r?n.jsx(ve,{onClick:f,variant:"outline",children:"Disconnect"}):n.jsx(ve,{onClick:m,children:"Connect Calendar"})})]})]})]})}function $Ge(){const[e,t]=N.useState([]),[r,s]=N.useState(!1);N.useEffect(()=>{a()},[]);const a=async()=>{const{data:{user:c}}=await se.auth.getUser();if(!c)return;const{data:u,error:d}=await se.from("email_tracking").select("*").eq("user_id",c.id).order("processed_at",{ascending:!1}).limit(20);if(d){console.error("Error fetching email tracking:",d);return}t(u||[])},i=async()=>{const{data:{user:c}}=await se.auth.getUser();if(!c){xe.error("Please log in first");return}const{data:u}=await se.from("email_integrations").select("*").eq("user_id",c.id).eq("provider","google").single();if(!u){xe.error("Please connect your email in Settings first",{action:{label:"Go to Settings",onClick:()=>window.location.href="/email-integration"}});return}s(!0);try{const{data:d,error:h}=await se.functions.invoke("email-poller",{body:{}});if(h)throw h;xe.success("Email check complete! Found "+((d==null?void 0:d.emailsProcessed)||0)+" job-related emails"),a()}catch(d){console.error("Error checking emails:",d),xe.error(d.message||"Failed to check emails")}finally{s(!1)}},o=c=>{switch(c){case"interview_scheduled":return"default";case"offer_received":return"default";case"rejected":return"destructive";case"application_received":return"secondary";default:return"outline"}},l=c=>c.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");return n.jsxs(ye,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(gc,{className:"h-5 w-5 text-primary"}),"Email Status Monitor"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically detect application status updates from your emails"})]}),n.jsxs(ve,{onClick:i,disabled:r,children:[n.jsx(lc,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Check Emails"]})]}),e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(gc,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No email tracking data yet"}),n.jsx("p",{className:"text-sm",children:'Click "Check Emails" to start monitoring'})]}):n.jsx("div",{className:"space-y-3",children:e.map(c=>n.jsx(ye,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx($e,{variant:o(c.detected_status),children:l(c.detected_status)}),c.confidence_score>=.8?n.jsx(ma,{className:"h-4 w-4 text-green-500"}):n.jsx(Nn,{className:"h-4 w-4 text-yellow-500"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[(c.confidence_score*100).toFixed(0),"% confidence"]})]}),n.jsx("p",{className:"font-medium text-sm truncate mb-1",children:c.email_subject}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["From: ",c.sender_email]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(c.processed_at).toLocaleString()})]})})},c.id))}),n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"Note:"})," Email monitoring requires connecting your email account. The system will automatically scan for job-related emails and update application statuses."]})})]})}function qGe(){return n.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Email Status Monitor"}),n.jsx($Ge,{})]})}function zGe(){const[e,t]=N.useState(!1),[r,s]=N.useState(!1),[a,i]=N.useState(!0),[o,l]=N.useState(null);N.useEffect(()=>{(async()=>{try{const{data:u}=await se.functions.invoke("email-oauth-start",{body:{}});u&&u.configured===!1&&(i(!1),l("Google OAuth is not configured. Please add client ID/secret."))}catch(u){console.warn("Email OAuth config probe failed:",u)}})()},[]);const c=async()=>{var u,d;t(!0);try{const{data:{user:h}}=await se.auth.getUser();if(!h){xe.error("Please log in first");return}const{data:m,error:f}=await se.functions.invoke("email-oauth-start",{body:{user_id:h.id,email:h.email}});if(f){if((u=f.message)!=null&&u.includes("OAUTH_NOT_CONFIGURED")||(d=f.message)!=null&&d.includes("503")){xe.error("Email integration is not configured. Please contact support.");return}throw f}m!=null&&m.authUrl&&(window.location.href=m.authUrl)}catch(h){console.error("Error connecting email:",h),xe.error(h.message||"Failed to start email connection")}finally{t(!1)}};return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Email Integration"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Connect your email to automatically track application status updates"})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(gc,{className:"h-5 w-5 text-primary"}),"Gmail Integration"]}),n.jsx(_t,{children:"Connect your Gmail account to enable automatic email monitoring for job application updates"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(gc,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Google Gmail"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Connected":"Not connected"})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:r?n.jsxs(n.Fragment,{children:[n.jsxs($e,{variant:"default",className:"gap-1",children:[n.jsx(ma,{className:"h-3 w-3"}),"Connected"]}),n.jsx(ve,{variant:"outline",size:"sm",children:"Disconnect"})]}):n.jsx(HH,{children:n.jsxs(_he,{children:[n.jsx(She,{asChild:!0,children:n.jsx(ve,{onClick:c,disabled:e||!a,"aria-disabled":!a,children:e?"Connecting...":"Connect Gmail"})}),!a&&n.jsx(GH,{children:n.jsx("p",{children:o||"Email integration is not configured."})})]})})})]}),n.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[n.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[n.jsx(Nn,{className:"h-4 w-4 text-primary"}),"What happens when you connect?"]}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-6 list-disc",children:[n.jsx("li",{children:"We'll scan your inbox for job-related emails"}),n.jsx("li",{children:"AI will detect application status updates (interview invitations, rejections, etc.)"}),n.jsx("li",{children:"Job statuses in your tracker will be automatically updated"}),n.jsx("li",{children:"You'll receive notifications about important updates"}),n.jsx("li",{children:"We only read job-related emails - we never send emails on your behalf"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Privacy & Security"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"We take your privacy seriously. We only request read-only access to your Gmail inbox to scan for job application updates. Your email content is never stored permanently, and we never send emails on your behalf. You can disconnect at any time."})]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Email Monitoring Features"})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ma,{className:"h-5 w-5 text-green-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Automatic Status Detection"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI automatically detects status changes from recruiter emails"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ma,{className:"h-5 w-5 text-green-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Interview Scheduling"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Detect interview invitations and automatically add to your calendar"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ma,{className:"h-5 w-5 text-green-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Smart Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about important application updates instantly"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ma,{className:"h-5 w-5 text-green-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Response Tracking"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Track response times and success rates by company"})]})]})]})]})]})})]})}function WGe(){const e=ns(),[t,r]=N.useState("loading");return N.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(window.location.search),i=a.get("success"),o=a.get("error");if(o)throw new Error(o);if(i==="true")r("success"),xe.success("Email connected successfully!"),setTimeout(()=>{e("/email-integration")},2e3);else throw new Error("OAuth callback did not complete successfully")}catch(a){console.error("OAuth callback error:",a),r("error"),xe.error(a.message||"Failed to connect email"),setTimeout(()=>{e("/email-integration")},3e3)}})()},[e]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsx(ye,{className:"w-full max-w-md",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t==="loading"&&n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"h-12 w-12 animate-spin text-primary"}),n.jsx("h2",{className:"text-xl font-semibold",children:"Connecting your email..."}),n.jsx("p",{className:"text-muted-foreground",children:"Please wait while we complete the connection"})]}),t==="success"&&n.jsxs(n.Fragment,{children:[n.jsx(ma,{className:"h-12 w-12 text-green-500"}),n.jsx("h2",{className:"text-xl font-semibold",children:"Email connected!"}),n.jsx("p",{className:"text-muted-foreground",children:"Your email has been successfully connected. Redirecting..."})]}),t==="error"&&n.jsxs(n.Fragment,{children:[n.jsx(nd,{className:"h-12 w-12 text-destructive"}),n.jsx("h2",{className:"text-xl font-semibold",children:"Connection failed"}),n.jsx("p",{className:"text-muted-foreground",children:"Failed to connect your email. Please try again."})]})]})})})})}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Fie,setPrototypeOf:MW,isFrozen:VGe,getPrototypeOf:HGe,getOwnPropertyDescriptor:GGe}=Object;let{freeze:el,seal:fu,create:z3}=Object,{apply:W3,construct:V3}=typeof Reflect<"u"&&Reflect;el||(el=function(t){return t});fu||(fu=function(t){return t});W3||(W3=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];return t.apply(r,a)});V3||(V3=function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return new t(...s)});const c2=tl(Array.prototype.forEach),KGe=tl(Array.prototype.lastIndexOf),LW=tl(Array.prototype.pop),aw=tl(Array.prototype.push),YGe=tl(Array.prototype.splice),M2=tl(String.prototype.toLowerCase),tP=tl(String.prototype.toString),rP=tl(String.prototype.match),iw=tl(String.prototype.replace),JGe=tl(String.prototype.indexOf),XGe=tl(String.prototype.trim),zu=tl(Object.prototype.hasOwnProperty),qo=tl(RegExp.prototype.test),ow=QGe(TypeError);function tl(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return W3(e,t,s)}}function QGe(e){return function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return V3(e,r)}}function jn(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M2;MW&&MW(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const i=r(a);i!==a&&(VGe(t)||(t[s]=i),a=i)}e[a]=!0}return e}function ZGe(e){for(let t=0;t<e.length;t++)zu(e,t)||(e[t]=null);return e}function qh(e){const t=z3(null);for(const[r,s]of Fie(e))zu(e,r)&&(Array.isArray(s)?t[r]=ZGe(s):s&&typeof s=="object"&&s.constructor===Object?t[r]=qh(s):t[r]=s);return t}function lw(e,t){for(;e!==null;){const s=GGe(e,t);if(s){if(s.get)return tl(s.get);if(typeof s.value=="function")return tl(s.value)}e=HGe(e)}function r(){return null}return r}const FW=el(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nP=el(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),sP=el(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),eKe=el(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),aP=el(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tKe=el(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),BW=el(["#text"]),UW=el(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),iP=el(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$W=el(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),u2=el(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),rKe=fu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nKe=fu(/<%[\w\W]*|[\w\W]*%>/gm),sKe=fu(/\$\{[\w\W]*/gm),aKe=fu(/^data-[\-\w.\u00B7-\uFFFF]+$/),iKe=fu(/^aria-[\-\w]+$/),Bie=fu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oKe=fu(/^(?:\w+script|data):/i),lKe=fu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Uie=fu(/^html$/i),cKe=fu(/^[a-z][.\w]*(-[.\w]+)+$/i);var qW=Object.freeze({__proto__:null,ARIA_ATTR:iKe,ATTR_WHITESPACE:lKe,CUSTOM_ELEMENT:cKe,DATA_ATTR:aKe,DOCTYPE_NAME:Uie,ERB_EXPR:nKe,IS_ALLOWED_URI:Bie,IS_SCRIPT_OR_DATA:oKe,MUSTACHE_EXPR:rKe,TMPLIT_EXPR:sKe});const cw={element:1,text:3,progressingInstruction:7,comment:8,document:9},uKe=function(){return typeof window>"u"?null:window},dKe=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(s=r.getAttribute(a));const i="dompurify"+(s?"#"+s:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},zW=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $ie(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uKe();const t=er=>$ie(er);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==cw.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const s=r,a=s.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:f}=e,x=c.prototype,v=lw(x,"cloneNode"),g=lw(x,"remove"),y=lw(x,"nextSibling"),j=lw(x,"childNodes"),b=lw(x,"parentNode");if(typeof o=="function"){const er=r.createElement("template");er.content&&er.content.ownerDocument&&(r=er.content.ownerDocument)}let _,S="";const{implementation:T,createNodeIterator:A,createDocumentFragment:L,getElementsByTagName:E}=r,{importNode:q}=s;let M=zW();t.isSupported=typeof Fie=="function"&&typeof b=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:C,ERB_EXPR:I,TMPLIT_EXPR:O,DATA_ATTR:H,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:U,ATTR_WHITESPACE:K,CUSTOM_ELEMENT:ee}=qW;let{IS_ALLOWED_URI:X}=qW,B=null;const D=jn({},[...FW,...nP,...sP,...aP,...BW]);let Q=null;const ie=jn({},[...UW,...iP,...$W,...u2]);let te=Object.seal(z3(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),he=null,W=null;const V=Object.seal(z3(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let oe=!0,me=!0,de=!1,ue=!0,Pe=!1,G=!0,pe=!1,ce=!1,$=!1,z=!1,Z=!1,le=!1,ge=!0,we=!1;const Me="user-content-";let Be=!0,Le=!1,Ge={},it=null;const ut=jn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ct=null;const Mt=jn({},["audio","video","img","source","image","track"]);let Et=null;const rn=jn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",Dt="http://www.w3.org/2000/svg",ir="http://www.w3.org/1999/xhtml";let _r=ir,nr=!1,Lr=null;const Ar=jn({},[Wt,Dt,ir],tP);let Cn=jn({},["mi","mo","mn","ms","mtext"]),Sn=jn({},["annotation-xml"]);const Yr=jn({},["title","style","font","a","script"]);let Yt=null;const wn=["application/xhtml+xml","text/html"],kr="text/html";let Zt=null,nn=null;const hs=r.createElement("form"),Jt=function(We){return We instanceof RegExp||We instanceof Function},fs=function(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(nn&&nn===We)){if((!We||typeof We!="object")&&(We={}),We=qh(We),Yt=wn.indexOf(We.PARSER_MEDIA_TYPE)===-1?kr:We.PARSER_MEDIA_TYPE,Zt=Yt==="application/xhtml+xml"?tP:M2,B=zu(We,"ALLOWED_TAGS")?jn({},We.ALLOWED_TAGS,Zt):D,Q=zu(We,"ALLOWED_ATTR")?jn({},We.ALLOWED_ATTR,Zt):ie,Lr=zu(We,"ALLOWED_NAMESPACES")?jn({},We.ALLOWED_NAMESPACES,tP):Ar,Et=zu(We,"ADD_URI_SAFE_ATTR")?jn(qh(rn),We.ADD_URI_SAFE_ATTR,Zt):rn,Ct=zu(We,"ADD_DATA_URI_TAGS")?jn(qh(Mt),We.ADD_DATA_URI_TAGS,Zt):Mt,it=zu(We,"FORBID_CONTENTS")?jn({},We.FORBID_CONTENTS,Zt):ut,he=zu(We,"FORBID_TAGS")?jn({},We.FORBID_TAGS,Zt):qh({}),W=zu(We,"FORBID_ATTR")?jn({},We.FORBID_ATTR,Zt):qh({}),Ge=zu(We,"USE_PROFILES")?We.USE_PROFILES:!1,oe=We.ALLOW_ARIA_ATTR!==!1,me=We.ALLOW_DATA_ATTR!==!1,de=We.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=We.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Pe=We.SAFE_FOR_TEMPLATES||!1,G=We.SAFE_FOR_XML!==!1,pe=We.WHOLE_DOCUMENT||!1,z=We.RETURN_DOM||!1,Z=We.RETURN_DOM_FRAGMENT||!1,le=We.RETURN_TRUSTED_TYPE||!1,$=We.FORCE_BODY||!1,ge=We.SANITIZE_DOM!==!1,we=We.SANITIZE_NAMED_PROPS||!1,Be=We.KEEP_CONTENT!==!1,Le=We.IN_PLACE||!1,X=We.ALLOWED_URI_REGEXP||Bie,_r=We.NAMESPACE||ir,Cn=We.MATHML_TEXT_INTEGRATION_POINTS||Cn,Sn=We.HTML_INTEGRATION_POINTS||Sn,te=We.CUSTOM_ELEMENT_HANDLING||{},We.CUSTOM_ELEMENT_HANDLING&&Jt(We.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(te.tagNameCheck=We.CUSTOM_ELEMENT_HANDLING.tagNameCheck),We.CUSTOM_ELEMENT_HANDLING&&Jt(We.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(te.attributeNameCheck=We.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),We.CUSTOM_ELEMENT_HANDLING&&typeof We.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(te.allowCustomizedBuiltInElements=We.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(me=!1),Z&&(z=!0),Ge&&(B=jn({},BW),Q=[],Ge.html===!0&&(jn(B,FW),jn(Q,UW)),Ge.svg===!0&&(jn(B,nP),jn(Q,iP),jn(Q,u2)),Ge.svgFilters===!0&&(jn(B,sP),jn(Q,iP),jn(Q,u2)),Ge.mathMl===!0&&(jn(B,aP),jn(Q,$W),jn(Q,u2))),We.ADD_TAGS&&(typeof We.ADD_TAGS=="function"?V.tagCheck=We.ADD_TAGS:(B===D&&(B=qh(B)),jn(B,We.ADD_TAGS,Zt))),We.ADD_ATTR&&(typeof We.ADD_ATTR=="function"?V.attributeCheck=We.ADD_ATTR:(Q===ie&&(Q=qh(Q)),jn(Q,We.ADD_ATTR,Zt))),We.ADD_URI_SAFE_ATTR&&jn(Et,We.ADD_URI_SAFE_ATTR,Zt),We.FORBID_CONTENTS&&(it===ut&&(it=qh(it)),jn(it,We.FORBID_CONTENTS,Zt)),Be&&(B["#text"]=!0),pe&&jn(B,["html","head","body"]),B.table&&(jn(B,["tbody"]),delete he.tbody),We.TRUSTED_TYPES_POLICY){if(typeof We.TRUSTED_TYPES_POLICY.createHTML!="function")throw ow('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof We.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ow('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=We.TRUSTED_TYPES_POLICY,S=_.createHTML("")}else _===void 0&&(_=dKe(f,a)),_!==null&&typeof S=="string"&&(S=_.createHTML(""));el&&el(We),nn=We}},Hs=jn({},[...nP,...sP,...eKe]),Tn=jn({},[...aP,...tKe]),Ms=function(We){let Nt=b(We);(!Nt||!Nt.tagName)&&(Nt={namespaceURI:_r,tagName:"template"});const Vt=M2(We.tagName),Yn=M2(Nt.tagName);return Lr[We.namespaceURI]?We.namespaceURI===Dt?Nt.namespaceURI===ir?Vt==="svg":Nt.namespaceURI===Wt?Vt==="svg"&&(Yn==="annotation-xml"||Cn[Yn]):!!Hs[Vt]:We.namespaceURI===Wt?Nt.namespaceURI===ir?Vt==="math":Nt.namespaceURI===Dt?Vt==="math"&&Sn[Yn]:!!Tn[Vt]:We.namespaceURI===ir?Nt.namespaceURI===Dt&&!Sn[Yn]||Nt.namespaceURI===Wt&&!Cn[Yn]?!1:!Tn[Vt]&&(Yr[Vt]||!Hs[Vt]):!!(Yt==="application/xhtml+xml"&&Lr[We.namespaceURI]):!1},fn=function(We){aw(t.removed,{element:We});try{b(We).removeChild(We)}catch{g(We)}},zn=function(We,Nt){try{aw(t.removed,{attribute:Nt.getAttributeNode(We),from:Nt})}catch{aw(t.removed,{attribute:null,from:Nt})}if(Nt.removeAttribute(We),We==="is")if(z||Z)try{fn(Nt)}catch{}else try{Nt.setAttribute(We,"")}catch{}},Ls=function(We){let Nt=null,Vt=null;if($)We="<remove></remove>"+We;else{const js=rP(We,/^[\r\n\t ]+/);Vt=js&&js[0]}Yt==="application/xhtml+xml"&&_r===ir&&(We='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+We+"</body></html>");const Yn=_?_.createHTML(We):We;if(_r===ir)try{Nt=new m().parseFromString(Yn,Yt)}catch{}if(!Nt||!Nt.documentElement){Nt=T.createDocument(_r,"template",null);try{Nt.documentElement.innerHTML=nr?S:Yn}catch{}}const sn=Nt.body||Nt.documentElement;return We&&Vt&&sn.insertBefore(r.createTextNode(Vt),sn.childNodes[0]||null),_r===ir?E.call(Nt,pe?"html":"body")[0]:pe?Nt.documentElement:sn},sl=function(We){return A.call(We.ownerDocument||We,We,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},al=function(We){return We instanceof h&&(typeof We.nodeName!="string"||typeof We.textContent!="string"||typeof We.removeChild!="function"||!(We.attributes instanceof d)||typeof We.removeAttribute!="function"||typeof We.setAttribute!="function"||typeof We.namespaceURI!="string"||typeof We.insertBefore!="function"||typeof We.hasChildNodes!="function")},ao=function(We){return typeof l=="function"&&We instanceof l};function ja(er,We,Nt){c2(er,Vt=>{Vt.call(t,We,Nt,nn)})}const Na=function(We){let Nt=null;if(ja(M.beforeSanitizeElements,We,null),al(We))return fn(We),!0;const Vt=Zt(We.nodeName);if(ja(M.uponSanitizeElement,We,{tagName:Vt,allowedTags:B}),G&&We.hasChildNodes()&&!ao(We.firstElementChild)&&qo(/<[/\w!]/g,We.innerHTML)&&qo(/<[/\w!]/g,We.textContent)||We.nodeType===cw.progressingInstruction||G&&We.nodeType===cw.comment&&qo(/<[/\w]/g,We.data))return fn(We),!0;if(!(V.tagCheck instanceof Function&&V.tagCheck(Vt))&&(!B[Vt]||he[Vt])){if(!he[Vt]&&Si(Vt)&&(te.tagNameCheck instanceof RegExp&&qo(te.tagNameCheck,Vt)||te.tagNameCheck instanceof Function&&te.tagNameCheck(Vt)))return!1;if(Be&&!it[Vt]){const Yn=b(We)||We.parentNode,sn=j(We)||We.childNodes;if(sn&&Yn){const js=sn.length;for(let sa=js-1;sa>=0;--sa){const Fs=v(sn[sa],!0);Fs.__removalCount=(We.__removalCount||0)+1,Yn.insertBefore(Fs,y(We))}}}return fn(We),!0}return We instanceof c&&!Ms(We)||(Vt==="noscript"||Vt==="noembed"||Vt==="noframes")&&qo(/<\/no(script|embed|frames)/i,We.innerHTML)?(fn(We),!0):(Pe&&We.nodeType===cw.text&&(Nt=We.textContent,c2([C,I,O],Yn=>{Nt=iw(Nt,Yn," ")}),We.textContent!==Nt&&(aw(t.removed,{element:We.cloneNode()}),We.textContent=Nt)),ja(M.afterSanitizeElements,We,null),!1)},Vi=function(We,Nt,Vt){if(ge&&(Nt==="id"||Nt==="name")&&(Vt in r||Vt in hs))return!1;if(!(me&&!W[Nt]&&qo(H,Nt))){if(!(oe&&qo(re,Nt))){if(!(V.attributeCheck instanceof Function&&V.attributeCheck(Nt,We))){if(!Q[Nt]||W[Nt]){if(!(Si(We)&&(te.tagNameCheck instanceof RegExp&&qo(te.tagNameCheck,We)||te.tagNameCheck instanceof Function&&te.tagNameCheck(We))&&(te.attributeNameCheck instanceof RegExp&&qo(te.attributeNameCheck,Nt)||te.attributeNameCheck instanceof Function&&te.attributeNameCheck(Nt,We))||Nt==="is"&&te.allowCustomizedBuiltInElements&&(te.tagNameCheck instanceof RegExp&&qo(te.tagNameCheck,Vt)||te.tagNameCheck instanceof Function&&te.tagNameCheck(Vt))))return!1}else if(!Et[Nt]){if(!qo(X,iw(Vt,K,""))){if(!((Nt==="src"||Nt==="xlink:href"||Nt==="href")&&We!=="script"&&JGe(Vt,"data:")===0&&Ct[We])){if(!(de&&!qo(U,iw(Vt,K,"")))){if(Vt)return!1}}}}}}}return!0},Si=function(We){return We!=="annotation-xml"&&rP(We,ee)},kc=function(We){ja(M.beforeSanitizeAttributes,We,null);const{attributes:Nt}=We;if(!Nt||al(We))return;const Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q,forceKeepAttr:void 0};let Yn=Nt.length;for(;Yn--;){const sn=Nt[Yn],{name:js,namespaceURI:sa,value:Fs}=sn,Hi=Zt(js),fd=Fs;let Cs=js==="value"?fd:XGe(fd);if(Vt.attrName=Hi,Vt.attrValue=Cs,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,ja(M.uponSanitizeAttribute,We,Vt),Cs=Vt.attrValue,we&&(Hi==="id"||Hi==="name")&&(zn(js,We),Cs=Me+Cs),G&&qo(/((--!?|])>)|<\/(style|title|textarea)/i,Cs)){zn(js,We);continue}if(Hi==="attributename"&&rP(Cs,"href")){zn(js,We);continue}if(Vt.forceKeepAttr)continue;if(!Vt.keepAttr){zn(js,We);continue}if(!ue&&qo(/\/>/i,Cs)){zn(js,We);continue}Pe&&c2([C,I,O],ki=>{Cs=iw(Cs,ki," ")});const Cc=Zt(We.nodeName);if(!Vi(Cc,Hi,Cs)){zn(js,We);continue}if(_&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!sa)switch(f.getAttributeType(Cc,Hi)){case"TrustedHTML":{Cs=_.createHTML(Cs);break}case"TrustedScriptURL":{Cs=_.createScriptURL(Cs);break}}if(Cs!==fd)try{sa?We.setAttributeNS(sa,js,Cs):We.setAttribute(js,Cs),al(We)?fn(We):LW(t.removed)}catch{zn(js,We)}}ja(M.afterSanitizeAttributes,We,null)},Oo=function er(We){let Nt=null;const Vt=sl(We);for(ja(M.beforeSanitizeShadowDOM,We,null);Nt=Vt.nextNode();)ja(M.uponSanitizeShadowNode,Nt,null),Na(Nt),kc(Nt),Nt.content instanceof i&&er(Nt.content);ja(M.afterSanitizeShadowDOM,We,null)};return t.sanitize=function(er){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nt=null,Vt=null,Yn=null,sn=null;if(nr=!er,nr&&(er="<!-->"),typeof er!="string"&&!ao(er))if(typeof er.toString=="function"){if(er=er.toString(),typeof er!="string")throw ow("dirty is not a string, aborting")}else throw ow("toString is not a function");if(!t.isSupported)return er;if(ce||fs(We),t.removed=[],typeof er=="string"&&(Le=!1),Le){if(er.nodeName){const Fs=Zt(er.nodeName);if(!B[Fs]||he[Fs])throw ow("root node is forbidden and cannot be sanitized in-place")}}else if(er instanceof l)Nt=Ls("<!---->"),Vt=Nt.ownerDocument.importNode(er,!0),Vt.nodeType===cw.element&&Vt.nodeName==="BODY"||Vt.nodeName==="HTML"?Nt=Vt:Nt.appendChild(Vt);else{if(!z&&!Pe&&!pe&&er.indexOf("<")===-1)return _&&le?_.createHTML(er):er;if(Nt=Ls(er),!Nt)return z?null:le?S:""}Nt&&$&&fn(Nt.firstChild);const js=sl(Le?er:Nt);for(;Yn=js.nextNode();)Na(Yn),kc(Yn),Yn.content instanceof i&&Oo(Yn.content);if(Le)return er;if(z){if(Z)for(sn=L.call(Nt.ownerDocument);Nt.firstChild;)sn.appendChild(Nt.firstChild);else sn=Nt;return(Q.shadowroot||Q.shadowrootmode)&&(sn=q.call(s,sn,!0)),sn}let sa=pe?Nt.outerHTML:Nt.innerHTML;return pe&&B["!doctype"]&&Nt.ownerDocument&&Nt.ownerDocument.doctype&&Nt.ownerDocument.doctype.name&&qo(Uie,Nt.ownerDocument.doctype.name)&&(sa="<!DOCTYPE "+Nt.ownerDocument.doctype.name+`>
`+sa),Pe&&c2([C,I,O],Fs=>{sa=iw(sa,Fs," ")}),_&&le?_.createHTML(sa):sa},t.setConfig=function(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fs(er),ce=!0},t.clearConfig=function(){nn=null,ce=!1},t.isValidAttribute=function(er,We,Nt){nn||fs({});const Vt=Zt(er),Yn=Zt(We);return Vi(Vt,Yn,Nt)},t.addHook=function(er,We){typeof We=="function"&&aw(M[er],We)},t.removeHook=function(er,We){if(We!==void 0){const Nt=KGe(M[er],We);return Nt===-1?void 0:YGe(M[er],Nt,1)[0]}return LW(M[er])},t.removeHooks=function(er){M[er]=[]},t.removeAllHooks=function(){M=zW()},t}var R6=$ie();const hKe=Object.freeze(Object.defineProperty({__proto__:null,default:R6},Symbol.toStringTag,{value:"Module"}));function fKe(){var b;const{token:e}=_c(),[t,r]=N.useState(!0),[s,a]=N.useState(null),[i,o]=N.useState([]),[l,c]=N.useState(!1),[u,d]=N.useState(""),[h,m]=N.useState(""),[f,x]=N.useState(!1),[v,g]=N.useState(null);N.useEffect(()=>{e&&y()},[e]);const y=async()=>{r(!0),g(null);try{const{data:_,error:S}=await se.functions.invoke("resume-share-resolve",{body:{share_token:e}});if(S)throw S;if(_!=null&&_.error){g(_.error.message);return}a(_.resume),o(_.comments||[]),c(_.can_comment)}catch(_){console.error("Failed to load resume share:",_),g("Failed to load resume. The link may be invalid or expired.")}finally{r(!1)}},j=async _=>{if(_.preventDefault(),!u.trim()||!h.trim()){xe.error("Please fill in all fields");return}x(!0);try{const{data:S,error:T}=await se.functions.invoke("resume-share-comment",{body:{share_token:e,author_name:u.trim(),body:h.trim()}});if(T)throw T;if(S!=null&&S.error)throw new Error(S.error.message);o([...i,S.comment]),m(""),xe.success("Comment posted successfully")}catch(S){console.error("Failed to post comment:",S),xe.error(S instanceof Error?S.message:"Failed to post comment")}finally{x(!1)}};return t?n.jsx("div",{className:"container mx-auto py-16 px-4 max-w-4xl text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading resume..."})}):v||!s?n.jsx("div",{className:"container mx-auto py-16 px-4 max-w-4xl",children:n.jsxs(ye,{className:"p-8 text-center",children:[n.jsx(Nn,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Unable to Load Resume"}),n.jsx("p",{className:"text-muted-foreground",children:v||"Resume not found"})]})}):n.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[n.jsx(ye,{className:"p-6 mb-6 bg-muted/50 border-primary/20",children:n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(Nn,{className:"h-4 w-4"}),"This resume has been shared with you for review. Please do not distribute this link."]})}),n.jsxs(ye,{className:"p-8 mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6",children:s.title}),(b=s.sections)==null?void 0:b.map((_,S)=>n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-3 text-primary",children:_.title}),n.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:R6.sanitize(_.content||"",{ALLOWED_TAGS:["p","br","strong","em","ul","ol","li","h1","h2","h3","h4","h5","h6","span","div","a"],ALLOWED_ATTR:["href","target","rel","class"]})}})]},S))]}),n.jsxs(ye,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(qi,{className:"h-5 w-5 text-primary"}),n.jsx("h2",{className:"text-xl font-semibold",children:"Feedback & Comments"}),n.jsx($e,{variant:"secondary",children:i.length})]}),i.length>0&&n.jsx("div",{className:"space-y-4 mb-6",children:i.map(_=>n.jsx(ye,{className:"p-4 bg-muted/30",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(su,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[n.jsx("span",{className:"font-medium text-sm",children:_.author_name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(_.created_at).toLocaleString()})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.body})]})]})},_.id))}),l?n.jsxs(n.Fragment,{children:[i.length>0&&n.jsx(Bi,{className:"mb-6"}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"authorName",children:"Your Name"}),n.jsx(Je,{id:"authorName",value:u,onChange:_=>d(_.target.value),placeholder:"Enter your name",maxLength:100,required:!0})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"commentBody",children:"Your Feedback"}),n.jsx(dr,{id:"commentBody",value:h,onChange:_=>m(_.target.value),placeholder:"Share your feedback or suggestions...",rows:4,maxLength:2e3,required:!0})]}),n.jsx(ve,{type:"submit",disabled:f,children:f?"Posting...":"Post Comment"})]})]}):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Comments are not enabled for this resume share."})]})]})}const mKe=()=>{const e=sp();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),n.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},pKe=()=>{const e=ns();return N.useEffect(()=>{const t=new URL(window.location.href),r=new URLSearchParams(t.hash.replace(/^#/,"")),s=t.searchParams,a=s.get("error")||r.get("error"),i=s.get("error_description")||r.get("error_description");if(window.history.replaceState({},document.title,window.location.pathname),a){xe.error(decodeURIComponent(i||"Authentication failed")),e("/login",{replace:!0});return}se.auth.getSession().then(({data:{session:c}})=>{c!=null&&c.user&&e("/dashboard",{replace:!0})});const{data:{subscription:o}}=se.auth.onAuthStateChange((c,u)=>{u!=null&&u.user&&e("/dashboard",{replace:!0})}),l=setTimeout(()=>{xe.info("Sign-in redirected. If not signed in, please try again."),e("/login",{replace:!0})},4e3);return()=>{clearTimeout(l),o.unsubscribe()}},[e]),n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:"Completing sign-in"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we finish authentication."})]})})]})};async function gKe(e){const{data:t,error:r}=await se.from("interviews").select("*, jobs(id, job_title, company_name, status)").eq("user_id",e).order("scheduled_start",{ascending:!1,nullsFirst:!1});if(r)throw r;return t}const vKe=({interviews:e})=>{const[t,r]=N.useState([]);if(N.useEffect(()=>{const a=()=>{const o=new Date,l=[];e.forEach(c=>{if(!c.scheduled_start||c.status!=="scheduled")return;const u=new Date(c.scheduled_start),d=axe(u,o),h=ixe(u,o);if(d>=0&&d<24){let m,f;d<2?(f="high",h<60?m=`in ${h} minute${h!==1?"s":""}`:m=`in ${d} hour${d!==1?"s":""}`):(f="medium",m=`in ${d} hour${d!==1?"s":""}`),l.push({interview:c,timeUntil:m,urgency:f})}}),l.sort((c,u)=>{const d=new Date(c.interview.scheduled_start).getTime(),h=new Date(u.interview.scheduled_start).getTime();return d-h}),r(l)};a();const i=setInterval(a,6e4);return()=>clearInterval(i)},[e]),t.length===0)return null;const s=a=>{switch(a){case"video":case"remote":return n.jsx(au,{className:"h-5 w-5"});case"onsite":return n.jsx(Ow,{className:"h-5 w-5"});case"phone":return n.jsx(ep,{className:"h-5 w-5"});default:return n.jsx(mr,{className:"h-5 w-5"})}};return n.jsx("div",{className:"space-y-3",children:t.map(({interview:a,timeUntil:i,urgency:o})=>n.jsxs(Is,{variant:o==="high"?"destructive":"default",className:"animate-in fade-in-50 slide-in-from-top-2",children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(fv,{className:"flex items-center gap-2",children:[s(a.interview_type||""),"Upcoming Interview ",i]}),n.jsxs(Rs,{className:"mt-2 space-y-2",children:[n.jsx("div",{className:"font-medium",children:a.job_id?"Interview for job":"Interview scheduled"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Gn,{className:"h-3 w-3"}),a.scheduled_start&&Lt(new Date(a.scheduled_start),"PPP p")]}),a.location&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ow,{className:"h-3 w-3"}),a.location]})]}),a.video_link&&n.jsxs(ve,{size:"sm",variant:"secondary",className:"mt-2",onClick:()=>window.open(a.video_link,"_blank"),children:[n.jsx(au,{className:"h-3 w-3 mr-1"}),"Join Video Call"]}),n.jsx(Sr,{to:`/interview/${a.id}`,children:n.jsxs(ve,{size:"sm",variant:"outline",className:"mt-2",children:[n.jsx(af,{className:"h-3 w-3 mr-1"}),"View Prep Checklist"]})}),a.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:a.notes})]})]},a.id))})};function xKe({open:e,onOpenChange:t}){const{user:r}=un(),{toast:s}=Nc(),a=ns(),[i,o]=N.useState(!1),[l,c]=N.useState([]),[u,d]=N.useState(""),[h,m]=N.useState(""),[f,x]=N.useState("behavioral"),[v,g]=N.useState(10);N.useEffect(()=>{e&&(async()=>{if(!r)return;const{data:b}=await se.from("jobs").select("id, job_title, company_name").eq("user_id",r.id).eq("is_archived",!1).order("created_at",{ascending:!1}).limit(20);b&&c(b)})()},[r,e]);const y=async()=>{if(!r||!u.trim()){s({title:"Missing information",description:"Please enter a target role",variant:"destructive"});return}o(!0);try{const{data:{session:j}}=await se.auth.getSession();if(!(j!=null&&j.user))throw new Error("Authentication required. Please log in again.");const b=h?l.find(T=>T.id===h):null,{data:_,error:S}=await se.from("mock_interview_sessions").insert({user_id:j.user.id,job_id:h||null,target_role:u,company_name:(b==null?void 0:b.company_name)||null,format:f,question_count:v,status:"in_progress"}).select().single();if(S)throw S;if(!_)throw new Error("Failed to create interview session");s({title:"Mock interview started",description:"Get ready to answer your questions!"}),t(!1),await new Promise(T=>setTimeout(T,100)),a(`/mock-interview/${_.id}`)}catch(j){console.error("Error starting mock interview:",j),s({title:"Error",description:j instanceof Error?j.message:"Failed to start mock interview. Please try again.",variant:"destructive"})}finally{o(!1)}};return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"sm:max-w-[500px]",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Start Mock Interview"}),n.jsx(no,{children:"Configure your mock interview session. You'll answer questions in written format."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"role",children:"Target Role *"}),n.jsx(Je,{id:"role",placeholder:"e.g., Senior Software Engineer",value:u,onChange:j=>d(j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"job",children:"Company (Optional)"}),n.jsxs($t,{value:h,onValueChange:j=>m(j==="none"?"":j),children:[n.jsx(Ft,{id:"job",children:n.jsx(qt,{placeholder:"Select a job application"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"none",children:"None"}),l.map(j=>n.jsxs(qe,{value:j.id,children:[j.job_title," - ",j.company_name]},j.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"format",children:"Interview Format"}),n.jsxs($t,{value:f,onValueChange:j=>x(j),children:[n.jsx(Ft,{id:"format",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"behavioral",children:"Behavioral"}),n.jsx(qe,{value:"technical",children:"Technical"}),n.jsx(qe,{value:"case",children:"Case Study"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"length",children:"Number of Questions"}),n.jsxs($t,{value:v.toString(),onValueChange:j=>g(parseInt(j)),children:[n.jsx(Ft,{id:"length",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"5",children:"5 questions (~15 min)"}),n.jsx(qe,{value:"10",children:"10 questions (~30 min)"}),n.jsx(qe,{value:"15",children:"15 questions (~45 min)"})]})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(ve,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),n.jsxs(ve,{onClick:y,disabled:i,children:[i&&n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Start Interview"]})]})]})})}const yKe=()=>{const{user:e}=un(),[t,r]=N.useState([]),[s,a]=N.useState(!0),[i,o]=N.useState(!1);N.useEffect(()=>{(async()=>{if(e)try{const h=await gKe(e.id);r(h)}catch(h){console.error("Error loading interviews:",h)}finally{a(!1)}})()},[e]);const l=t.filter(d=>d.scheduled_start&&QK(new Date(d.scheduled_start))&&d.status==="scheduled"),c=t.filter(d=>d.scheduled_start&&Q2(new Date(d.scheduled_start))||d.status==="completed"),u=d=>{switch(d){case"video":case"remote":return n.jsx(au,{className:"h-4 w-4"});case"onsite":return n.jsx(Ow,{className:"h-4 w-4"});case"phone":return n.jsx(ep,{className:"h-4 w-4"});default:return n.jsx(mr,{className:"h-4 w-4"})}};return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(mr,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Interview Prep"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage interview schedules and preparation"})]})]}),!s&&n.jsx(vKe,{interviews:t}),n.jsxs(ye,{className:"border-primary/20 bg-primary/5",children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Practice with Mock Interviews"}),n.jsx(_t,{children:"Simulate real interview scenarios and get AI-powered feedback on your responses"})]}),n.jsx(_e,{children:n.jsxs(ve,{onClick:()=>o(!0),size:"lg",className:"w-full sm:w-auto",children:[n.jsx(Hd,{className:"mr-2 h-5 w-5"}),"Start Mock Interview"]})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Upcoming Interviews"}),n.jsx(_t,{children:"Interviews scheduled in the future"})]}),n.jsx(_e,{children:s?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading interviews..."}):l.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No upcoming interviews. Schedule one from your job applications."}):n.jsx("div",{className:"space-y-3",children:l.map(d=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/30 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u(d.interview_type||""),n.jsx($e,{variant:"outline",className:"capitalize",children:d.interview_type}),n.jsx($e,{variant:"secondary",children:d.status||"scheduled"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:d.scheduled_start&&Lt(new Date(d.scheduled_start),"PPP p")})]}),d.location&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Location: ",d.location]}),d.interviewer_names&&d.interviewer_names.length>0&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Interviewers: ",d.interviewer_names.join(", ")]})]}),n.jsx(Sr,{to:`/interview/${d.id}`,children:n.jsxs(ve,{size:"sm",children:[n.jsx(af,{className:"h-4 w-4 mr-1"}),"View Details"]})})]})},d.id))})})]}),c.length>0&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Past Interviews"}),n.jsx(_t,{children:"Completed or past interviews"})]}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-3",children:c.map(d=>n.jsx("div",{className:"border rounded-lg p-4 opacity-75 hover:opacity-100 transition-opacity",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u(d.interview_type||""),n.jsx($e,{variant:"outline",className:"capitalize",children:d.interview_type}),n.jsx($e,{variant:d.status==="completed"?"default":"secondary",children:d.status||"scheduled"}),d.outcome&&d.outcome!=="pending"&&n.jsx($e,{variant:d.outcome==="pass"||d.outcome==="offer"?"default":"destructive",children:d.outcome})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.scheduled_start&&Lt(new Date(d.scheduled_start),"PPP")})]})]}),n.jsx(Sr,{to:`/interview/${d.id}`,children:n.jsxs(ve,{size:"sm",variant:"outline",children:[n.jsx(af,{className:"h-4 w-4 mr-1"}),"View"]})})]})},d.id))})})]})]})}),n.jsx(xKe,{open:i,onOpenChange:o})]})},wKe=()=>{const e=ns();return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(tn,{className:"h-6 w-6 text-primary"})}),n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Network"})]}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Manage your professional contacts, track referrals, and leverage your network to unlock new opportunities."}),n.jsxs("div",{className:"mt-8 rounded-lg border border-border bg-card p-8",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Professional Contacts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Build and maintain relationships with your professional network"}),n.jsxs(ve,{onClick:()=>e("/contacts"),className:"w-full",children:["Go to Contacts",n.jsx(Yh,{className:"h-4 w-4 ml-2"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Networking Events"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Track events and measure your networking ROI"}),n.jsxs(ve,{onClick:()=>e("/events"),className:"w-full",children:["Go to Events",n.jsx(Yh,{className:"h-4 w-4 ml-2"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"LinkedIn Tools"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Templates and optimization checklist"}),n.jsxs(ve,{onClick:()=>e("/linkedin-optimization"),className:"w-full",children:["View Resources",n.jsx(Yh,{className:"h-4 w-4 ml-2"})]})]})]}),n.jsx("div",{className:"mt-6 pt-6 border-t",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Network Power Features"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Informational interviews, relationship maintenance, campaigns & references"}),n.jsxs(ve,{onClick:()=>e("/network-power"),className:"w-full",variant:"default",children:["Unlock Advanced Features",n.jsx(Yh,{className:"h-4 w-4 ml-2"})]})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3 text-center mt-6",children:[n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Track"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact details, roles, companies"})]}),n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Engage"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Log interactions, set reminders"})]}),n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Connect"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Link to job applications"})]})]})]})]})})]})},bKe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(hO,{className:"h-6 w-6 text-primary"})}),n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Collaboration"})]}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Collaborate with mentors, coaches, and team members on your job search journey."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[n.jsxs("div",{className:"rounded-lg border border-border bg-card p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tn,{className:"h-8 w-8 text-primary"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Teams"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Create teams with role-based access for admins, mentors, and candidates. Collaborate securely with proper permissions."}),n.jsx(ve,{asChild:!0,children:n.jsx(Sr,{to:"/teams",children:"Go to Teams"})})]}),n.jsxs("div",{className:"rounded-lg border border-border bg-card p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(bs,{className:"h-8 w-8 text-primary"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Document Review"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Share resumes and cover letters with team members for collaborative review and feedback."}),n.jsx(ve,{asChild:!0,children:n.jsx(Sr,{to:"/documents",children:"Go to Documents"})})]}),n.jsxs("div",{className:"rounded-lg border border-border bg-card p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cy,{className:"h-8 w-8 text-primary"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Progress Sharing"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Share your job search progress with accountability partners and family members with privacy controls."}),n.jsx(ve,{asChild:!0,children:n.jsx(Sr,{to:"/family-dashboard",children:"Go to Progress"})})]})]})]})})]});function jKe(e){switch(e){case"pass":case"offer":return"default";case"fail":return"destructive";case"pending":return"secondary";case"unknown":default:return"outline"}}function NKe(e){switch(e){case"scheduled":return"default";case"completed":return"secondary";case"canceled":return"destructive";default:return"outline"}}const _Ke=({interview:e,onUpdate:t})=>{const{user:r}=un(),[s,a]=N.useState(!1),[i,o]=N.useState(""),[l,c]=N.useState("Preparation"),[u,d]=N.useState(!1),[h,m]=N.useState(new Set),f=e.checklists||[],x=f.filter(L=>L.completed_at).length,v=f.length,g=v>0?Math.round(x/v*100):0,j=Array.from(new Set(f.map(L=>L.category||"Other"))).reduce((L,E)=>(L[E]=f.filter(q=>(q.category||"Other")===E),L),{}),_=(()=>{var M,C;const L=[];(e.interview_type==="remote"||e.interview_type==="video")&&L.push({label:"Test video and audio setup 30 minutes early",category:"Logistics"},{label:"Ensure stable internet connection",category:"Logistics"},{label:"Prepare backup device/internet plan",category:"Logistics"}),e.interview_type==="onsite"&&L.push({label:"Plan transportation and arrive 10-15 minutes early",category:"Logistics"},{label:"Bring physical copies of resume",category:"Materials"},{label:"Research office location and parking",category:"Logistics"}),e.interview_type==="phone"&&L.push({label:"Find quiet location with good signal",category:"Logistics"},{label:"Have resume and notes in front of you",category:"Materials"});const E=((C=(M=e.job)==null?void 0:M.job_title)==null?void 0:C.toLowerCase())||"";(E.includes("senior")||E.includes("lead")||E.includes("manager"))&&L.push({label:"Prepare examples of leadership and mentoring",category:"Preparation"},{label:"Review team scaling and architecture decisions",category:"Preparation"}),(E.includes("junior")||E.includes("entry"))&&L.push({label:"Emphasize willingness to learn and grow",category:"Preparation"},{label:"Prepare questions about training and mentorship",category:"Preparation"});const q=f.map(I=>I.label.toLowerCase());return L.filter(I=>!q.some(O=>O.includes(I.label.toLowerCase().substring(0,20))))})(),S=async L=>{if(!r)return;const E=L.id;m(I=>new Set(I).add(E));const q=L.completed_at,M=L.completed_at?null:new Date().toISOString(),C=f.map(I=>I.id===L.id?{...I,completed_at:M}:I);e.checklists=C;try{const{error:I}=await se.from("interview_checklists").update({completed_at:M}).eq("id",L.id);if(I)throw I;t()}catch(I){console.error("Error toggling checklist item:",I),xe.error("Failed to update checklist item"),e.checklists=f.map(O=>O.id===L.id?{...O,completed_at:q}:O)}finally{m(I=>{const O=new Set(I);return O.delete(E),O})}},T=async()=>{if(!r||!i.trim()){xe.error("Please enter a checklist item");return}d(!0);try{const{error:L}=await se.from("interview_checklists").insert({interview_id:e.id,user_id:r.id,label:i.trim(),category:l,is_required:!1});if(L)throw L;xe.success("Checklist item added"),o(""),c("Preparation"),a(!1),t()}catch(L){console.error("Error adding checklist item:",L),xe.error("Failed to add checklist item")}finally{d(!1)}},A=async L=>{if(r)try{const{error:E}=await se.from("interview_checklists").insert({interview_id:e.id,user_id:r.id,label:L.label,category:L.category,is_required:!1});if(E)throw E;xe.success("Checklist item added"),t()}catch(E){console.error("Error adding suggested item:",E),xe.error("Failed to add item")}};return n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Interview Preparation Checklist"}),n.jsxs(_t,{children:[x," of ",v," items completed"]})]}),n.jsxs("div",{className:"text-2xl font-bold text-primary",children:[g,"%"]})]}),n.jsx(La,{value:g,className:"mt-4"})]}),n.jsxs(_e,{className:"space-y-6",children:[v===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No checklist items yet. Add your first item below!"})}):Object.entries(j).map(([L,E])=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:L}),n.jsx("div",{className:"space-y-2",children:E.map(q=>n.jsxs("div",{className:Pt("flex items-start gap-3 p-3 rounded-lg border transition-colors",q.completed_at?"bg-muted/50":"hover:bg-muted/30"),children:[n.jsx(ga,{checked:!!q.completed_at,onCheckedChange:()=>S(q),disabled:h.has(q.id),className:"mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:Pt("text-sm",q.completed_at&&"line-through text-muted-foreground"),children:[q.label,q.is_required&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),q.completed_at&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Completed ",new Date(q.completed_at).toLocaleDateString()]})]}),q.completed_at?n.jsx(pa,{className:"h-5 w-5 text-primary flex-shrink-0"}):n.jsx(nO,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"})]},q.id))})]},L)),_.length>0&&n.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Suggested Checklist Items"}),n.jsx("div",{className:"space-y-2",children:_.map((L,E)=>n.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border border-dashed hover:bg-muted/30 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:L.label}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:L.category})]}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>A(L),children:n.jsx(Jr,{className:"h-4 w-4"})})]},E))})]}),n.jsx("div",{className:"pt-4 border-t",children:s?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Je,{placeholder:"Enter checklist item...",value:i,onChange:L=>o(L.target.value),onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),T())},autoFocus:!0}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs($t,{value:l,onValueChange:c,children:[n.jsx(Ft,{className:"w-[180px]",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"Research",children:"Research"}),n.jsx(qe,{value:"Preparation",children:"Preparation"}),n.jsx(qe,{value:"Materials",children:"Materials"}),n.jsx(qe,{value:"Logistics",children:"Logistics"}),n.jsx(qe,{value:"Other",children:"Other"})]})]}),n.jsx(ve,{onClick:T,disabled:u,size:"sm",children:u?n.jsx(en,{className:"h-4 w-4 animate-spin"}):"Add"}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{a(!1),o("")},children:"Cancel"})]})]}):n.jsxs(ve,{variant:"outline",className:"w-full",onClick:()=>a(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Custom Checklist Item"]})})]})]})},SKe=({interviewId:e,companyName:t,jobTitle:r,currentResearch:s,onUpdate:a})=>{var I,O;const[i,o]=N.useState(""),[l,c]=N.useState([]),[u,d]=N.useState(""),[h,m]=N.useState(""),[f,x]=N.useState(""),[v,g]=N.useState(!1),[y,j]=N.useState(((O=(I=s==null?void 0:s.versions)==null?void 0:I[0])==null?void 0:O.report)||null),[b,_]=N.useState(0),[S,T]=N.useState(!1),A=(s==null?void 0:s.versions)||[],L=()=>{if(!f){xe.error("Please provide a label for the source");return}if(!u&&!h){xe.error("Please provide either a URL or text content");return}c([...l,{url:u||void 0,text:h||void 0,label:f}]),d(""),m(""),x(""),xe.success("Source added")},E=H=>{c(l.filter((re,U)=>U!==H))},q=async()=>{var H,re;if(!i&&l.length===0){xe.error("Please provide at least a company website or additional sources");return}g(!0);try{const{data:U,error:K}=await se.functions.invoke("ai-interview-research",{body:{interviewId:e,companyName:t,jobTitle:r,companyWebsite:i||void 0,sources:l.length>0?l:void 0}});if(K)throw K;j(U.report),xe.success("Research report generated successfully"),a()}catch(U){console.error("Research generation error:",U),(H=U.message)!=null&&H.includes("Rate limit")?xe.error("Rate limit exceeded. Please try again later."):(re=U.message)!=null&&re.includes("credits")?xe.error("AI credits exhausted. Please add credits to continue."):xe.error("Failed to generate research report")}finally{g(!1)}},M=H=>{var re;_(H),j(((re=A[H])==null?void 0:re.report)||null)},C=()=>{T(!0),setTimeout(()=>{window.print(),T(!1)},100)};return S&&y?n.jsx("div",{className:"p-8 bg-background print:bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[t," - Interview Research"]}),n.jsx("p",{className:"text-lg text-muted-foreground mb-1",children:r}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-8",children:["Generated: ",Lt(new Date(y.generatedAt),"PPP p")]}),n.jsx(Bi,{className:"my-6"}),y.overview&&(y.overview.mission||y.overview.values)&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Overview"}),y.overview.mission&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Mission"}),n.jsx("p",{className:"text-sm",children:y.overview.mission}),y.overview.source&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Source: ",y.overview.source]})]}),y.overview.values&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Values"}),n.jsx("p",{className:"text-sm",children:y.overview.values})]})]}),y.recentDevelopments&&y.recentDevelopments.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recent Developments"}),y.recentDevelopments.map((H,re)=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold",children:H.title}),H.date&&n.jsx("p",{className:"text-xs text-muted-foreground",children:H.date}),n.jsx("p",{className:"text-sm mt-1",children:H.summary}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Source: ",H.source]})]},re))]}),y.leadership&&y.leadership.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Leadership"}),y.leadership.map((H,re)=>n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"font-semibold",children:H.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:H.title}),H.bio&&n.jsx("p",{className:"text-sm mt-1",children:H.bio}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Source: ",H.source]})]},re))]}),y.competitiveLandscape&&y.competitiveLandscape.content&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Competitive Landscape"}),n.jsx("p",{className:"text-sm",children:y.competitiveLandscape.content}),y.competitiveLandscape.source?n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Source: ",y.competitiveLandscape.source]}):n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unverified (needs source)"})]}),y.talkingPoints&&y.talkingPoints.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Talking Points"}),n.jsx("ul",{className:"list-disc pl-5 space-y-2",children:y.talkingPoints.map((H,re)=>n.jsx("li",{className:"text-sm",children:H},re))})]}),y.questions&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Questions to Ask"}),y.questions.roleSpecific&&y.questions.roleSpecific.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Role-Specific Questions"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:y.questions.roleSpecific.map((H,re)=>n.jsx("li",{className:"text-sm",children:H},re))})]}),y.questions.companySpecific&&y.questions.companySpecific.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Company-Specific Questions"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:y.questions.companySpecific.map((H,re)=>n.jsx("li",{className:"text-sm",children:H},re))})]})]})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-5 w-5"}),"Generate Research Report"]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Company Website (Optional)"}),n.jsx(Je,{type:"url",placeholder:"https://company.com",value:i,onChange:H=>o(H.target.value)})]}),n.jsx(Bi,{}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Additional Sources"}),n.jsxs("div",{className:"space-y-3",children:[l.map((H,re)=>n.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:H.label}),H.url&&n.jsxs("a",{href:H.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1",children:[H.url," ",n.jsx(El,{className:"h-3 w-3"})]}),H.text&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:H.text})]}),n.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>E(re),children:n.jsx(Rl,{className:"h-4 w-4"})})]},re)),n.jsxs("div",{className:"space-y-2 p-3 border-2 border-dashed rounded-lg",children:[n.jsx(Je,{placeholder:"Source label (e.g., 'LinkedIn About Page')",value:f,onChange:H=>x(H.target.value)}),n.jsx(Je,{type:"url",placeholder:"Source URL (optional)",value:u,onChange:H=>d(H.target.value)}),n.jsx(dr,{placeholder:"Or paste text content...",value:h,onChange:H=>m(H.target.value),rows:3}),n.jsxs(ve,{onClick:L,size:"sm",variant:"outline",className:"w-full",children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Source"]})]})]})]}),n.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[n.jsx(Nn,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:'All information in the report will be cited from your provided sources. Claims without sources will be marked as "Unverified (needs source)".'})]}),n.jsxs(ve,{onClick:q,disabled:v||!i&&l.length===0,className:"w-full",children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),v?"Generating Report...":"Generate Report"]})]})]}),A.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2 text-lg",children:[n.jsx(KV,{className:"h-4 w-4"}),"Version History (",A.length,"/3)"]})}),n.jsx(_e,{children:n.jsxs($t,{value:b.toString(),onValueChange:H=>M(parseInt(H)),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:A.map((H,re)=>n.jsxs(qe,{value:re.toString(),children:["Version ",A.length-re," - ",Lt(new Date(H.generatedAt),"PPp")]},re))})]})})]}),y&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(to,{className:"h-5 w-5"}),"Research Report"]}),n.jsxs(ve,{onClick:C,variant:"outline",size:"sm",children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Print / Export"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated: ",Lt(new Date(y.generatedAt),"PPP p")]})]}),n.jsxs(_e,{className:"space-y-6",children:[y.overview&&(y.overview.mission||y.overview.values)&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Overview"]}),n.jsxs("div",{className:"space-y-3 pl-6",children:[y.overview.mission&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Mission"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:y.overview.mission}),y.overview.source?n.jsxs("a",{href:y.overview.source,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-1",children:["Source ",n.jsx(El,{className:"h-3 w-3"})]}):n.jsx($e,{variant:"outline",className:"mt-1 text-xs",children:"Unverified (needs source)"})]}),y.overview.values&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Values"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:y.overview.values})]})]})]}),n.jsx(Bi,{}),y.recentDevelopments&&y.recentDevelopments.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),"Recent Developments"]}),n.jsx("div",{className:"space-y-3 pl-6",children:y.recentDevelopments.map((H,re)=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsx("h4",{className:"font-medium text-sm",children:H.title}),H.date&&n.jsx("p",{className:"text-xs text-muted-foreground",children:H.date}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:H.summary}),n.jsxs("a",{href:H.source,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-2",children:["Source ",n.jsx(El,{className:"h-3 w-3"})]})]},re))})]}),n.jsx(Bi,{}),y.leadership&&y.leadership.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),"Leadership"]}),n.jsx("div",{className:"space-y-3 pl-6",children:y.leadership.map((H,re)=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsx("h4",{className:"font-medium text-sm",children:H.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:H.title}),H.bio&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:H.bio}),n.jsxs("a",{href:H.source,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-2",children:["Source ",n.jsx(El,{className:"h-3 w-3"})]})]},re))})]}),n.jsx(Bi,{}),y.competitiveLandscape&&y.competitiveLandscape.content&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Competitive Landscape"}),n.jsxs("div",{className:"pl-6",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:y.competitiveLandscape.content}),y.competitiveLandscape.source?n.jsxs("a",{href:y.competitiveLandscape.source,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-2",children:["Source ",n.jsx(El,{className:"h-3 w-3"})]}):n.jsx($e,{variant:"outline",className:"mt-2 text-xs",children:"Unverified (needs source)"})]})]}),n.jsx(Bi,{}),y.talkingPoints&&y.talkingPoints.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Talking Points"}),n.jsx("ul",{className:"space-y-2 pl-6",children:y.talkingPoints.map((H,re)=>n.jsxs("li",{className:"text-sm text-muted-foreground flex gap-2",children:[n.jsx("span",{className:"text-primary",children:""}),n.jsx("span",{children:H})]},re))})]}),n.jsx(Bi,{}),y.questions&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Intelligent Questions to Ask"}),n.jsxs("div",{className:"space-y-4 pl-6",children:[y.questions.roleSpecific&&y.questions.roleSpecific.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Role-Specific Questions"}),n.jsx("ul",{className:"space-y-2",children:y.questions.roleSpecific.map((H,re)=>n.jsxs("li",{className:"text-sm text-muted-foreground flex gap-2",children:[n.jsx("span",{className:"text-primary",children:""}),n.jsx("span",{children:H})]},re))})]}),y.questions.companySpecific&&y.questions.companySpecific.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Company-Specific Questions"}),n.jsx("ul",{className:"space-y-2",children:y.questions.companySpecific.map((H,re)=>n.jsxs("li",{className:"text-sm text-muted-foreground flex gap-2",children:[n.jsx("span",{className:"text-primary",children:""}),n.jsx("span",{children:H})]},re))})]})]})]})]})]})]})},oP=[{value:"thank-you",label:"Thank You Note",timing:"Send within 24 hours"},{value:"status-inquiry",label:"Status Inquiry",timing:"Send after 1-2 weeks"},{value:"feedback-request",label:"Feedback Request",timing:"Send if rejected"},{value:"networking",label:"Networking Follow-up",timing:"Send after rejection"}];function kKe({interview:e,onFollowupUpdate:t}){const{user:r}=un(),{toast:s}=Nc(),[a,i]=N.useState([]),[o,l]=N.useState("thank-you"),[c,u]=N.useState(""),[d,h]=N.useState(""),[m,f]=N.useState(!1),[x,v]=N.useState(!1),[g,y]=N.useState(!1),[j,b]=N.useState("");N.useEffect(()=>{_(),S()},[e.id]),N.useEffect(()=>{T()},[o,e]);const _=async()=>{if(r)try{const{data:M,error:C}=await se.from("interview_followups").select("*").eq("interview_id",e.id).order("created_at",{ascending:!1});if(C)throw C;i(M||[])}catch(M){console.error("Error loading followups:",M)}},S=async()=>{if(r)try{const{data:M,error:C}=await se.from("email_integrations").select("id").eq("user_id",r.id).maybeSingle();!C&&M&&y(!0)}catch(M){console.error("Error checking email integration:",M)}},T=()=>{var U,K,ee;const M=((U=e.interviewer_names)==null?void 0:U[0])||"the interviewer",C=((K=e.jobs)==null?void 0:K.job_title)||"the position",I=((ee=e.jobs)==null?void 0:ee.company_name)||"your company",O=e.notes||"our discussion";let H="",re="";switch(o){case"thank-you":H=`Thank you for the ${C} interview`,re=`Dear ${M},

Thank you for taking the time to meet with me yesterday regarding the ${C} position at ${I}. I enjoyed learning more about the role and the team.

I was particularly interested in ${O}. The conversation reinforced my enthusiasm for the opportunity and my belief that I would be a strong fit for the team.

Please let me know if you need any additional information from me. I look forward to hearing about the next steps in the process.

Best regards,
[Your Name]`;break;case"status-inquiry":H=`Following up on ${C} interview`,re=`Dear ${M},

I hope this message finds you well. I wanted to follow up on my interview for the ${C} position at ${I}.

I remain very interested in the opportunity and would appreciate any update on the hiring timeline and next steps in the process.

Thank you for your time and consideration.

Best regards,
[Your Name]`;break;case"feedback-request":H=`Request for feedback - ${C} interview`,re=`Dear ${M},

Thank you for considering me for the ${C} position at ${I}. While I'm disappointed not to move forward, I'm committed to continuous improvement.

If possible, I would greatly appreciate any feedback you could share about my interview or application. Any insights would be valuable as I continue my job search.

Thank you again for the opportunity and your time.

Best regards,
[Your Name]`;break;case"networking":H=`Staying connected - ${I}`,re=`Dear ${M},

Thank you for the opportunity to interview for the ${C} position at ${I}. While I understand the role wasn't the right fit, I greatly enjoyed learning about your work and the company.

I'd love to stay connected and hear about future opportunities that might be a better match. I'm also happy to be a resource if there's any way I can be helpful to you or the team.

Best regards,
[Your Name]`;break}u(H),h(re)},A=async()=>{const M=`Subject: ${c}

${d}`;try{await navigator.clipboard.writeText(M),s({title:"Copied to clipboard",description:"Follow-up template has been copied"})}catch{s({title:"Failed to copy",description:"Please copy manually",variant:"destructive"})}},L=async M=>{if(r){v(!0);try{const{error:C}=await se.from("interview_followups").insert({interview_id:e.id,user_id:r.id,type:o,template_subject:c,template_body:d,status:M,...M==="sent"&&{sent_at:new Date().toISOString()}});if(C)throw C;s({title:"Follow-up saved",description:M==="sent"?"Marked as sent":"Saved as draft"}),_(),t==null||t()}catch(C){console.error("Error saving followup:",C),s({title:"Error",description:"Failed to save follow-up",variant:"destructive"})}finally{v(!1)}}},E=async(M,C)=>{try{const{error:I}=await se.from("interview_followups").update({status:C}).eq("id",M);if(I)throw I;s({title:"Outcome updated",description:"Follow-up response outcome has been recorded"}),_(),t==null||t()}catch(I){console.error("Error updating outcome:",I),s({title:"Error",description:"Failed to update outcome",variant:"destructive"})}},q=oP.find(M=>M.value===o);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Generate Follow-up Email"}),n.jsx(_t,{children:"Create a personalized follow-up email using interview details"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Follow-up Type"}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:oP.map(M=>n.jsx(qe,{value:M.value,children:n.jsxs("div",{className:"flex flex-col items-start",children:[n.jsx("span",{className:"font-medium",children:M.label}),n.jsx("span",{className:"text-xs text-muted-foreground",children:M.timing})]})},M.value))})]}),q&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Gn,{className:"h-3 w-3"}),q.timing]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Subject Line"}),n.jsx(dr,{value:c,onChange:M=>u(M.target.value),className:"min-h-[60px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Email Body"}),n.jsx(dr,{value:d,onChange:M=>h(M.target.value),className:"min-h-[300px] font-mono text-sm"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip: Replace [Your Name] with your actual name before sending"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:A,disabled:!c||!d,children:[n.jsx(fc,{className:"mr-2 h-4 w-4"}),"Copy to Clipboard"]}),n.jsxs(ve,{variant:"outline",onClick:()=>L("draft"),disabled:x||!c||!d,children:[x?n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(gc,{className:"mr-2 h-4 w-4"}),"Save Draft"]}),n.jsxs(ve,{onClick:()=>L("sent"),disabled:x||!c||!d,children:[x?n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(ma,{className:"mr-2 h-4 w-4"}),"Mark as Sent"]}),g&&n.jsxs(ve,{variant:"default",disabled:!0,className:"bg-primary/50",children:[n.jsx(cO,{className:"mr-2 h-4 w-4"}),"Send Email (Coming Soon)"]})]}),!g&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Connect your email to send directly from the app. For now, copy the template and send it from your email client."})]})]}),a.length>0&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Follow-up History"}),n.jsx(_t,{children:"Track your sent follow-ups and response outcomes"})]}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-4",children:a.map(M=>{var C;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($e,{variant:"outline",className:"capitalize",children:((C=oP.find(I=>I.value===M.type))==null?void 0:C.label)||M.type}),M.status==="sent"&&n.jsx($e,{variant:"default",className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Sent"}),M.status==="draft"&&n.jsx($e,{variant:"secondary",children:"Draft"})]}),n.jsx("p",{className:"text-sm font-medium truncate",children:M.template_subject}),M.sent_at&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sent ",Lt(new Date(M.sent_at),"PPP")]})]})}),M.status==="sent"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{className:"text-xs",children:"Response Outcome"}),n.jsxs($t,{value:M.status,onValueChange:I=>E(M.id,I),children:[n.jsx(Ft,{className:"h-8 text-xs",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"sent",children:"No Response Yet"}),n.jsx(qe,{value:"replied",children:"Replied"}),n.jsx(qe,{value:"positive",children:"Positive Response"}),n.jsx(qe,{value:"negative",children:"Negative Response"})]})]})]}),n.jsxs("details",{className:"text-xs",children:[n.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"View template"}),n.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[n.jsxs("p",{className:"font-medium mb-2",children:["Subject: ",M.template_subject]}),n.jsx("pre",{className:"whitespace-pre-wrap text-muted-foreground",children:M.template_body})]})]})]},M.id)})})})]})]})}const CKe=({interviewId:e,interviewDate:t})=>{var d,h;const[r,s]=N.useState(null),[a,i]=N.useState(!1);N.useEffect(()=>{o()},[e]);const o=async()=>{const{data:m,error:f}=await se.from("interview_success_predictions").select("*").eq("interview_id",e).order("created_at",{ascending:!1}).limit(1).single();m&&s(m)},l=async()=>{i(!0);try{const{data:{user:m}}=await se.auth.getUser();if(!m)return;const{data:f}=await se.from("interview_checklists").select("*").eq("interview_id",e),x=(f==null?void 0:f.length)||0,v=(f==null?void 0:f.filter(Q=>Q.completed_at).length)||0,g=x>0?v/x*100:0,{data:y}=await se.from("question_practice_responses").select("*").eq("user_id",m.id).eq("status","submitted"),j=(y==null?void 0:y.length)||0,{data:b}=await se.from("mock_interview_sessions").select("*").eq("user_id",m.id).eq("status","completed"),_=(b==null?void 0:b.length)||0,S=t?kg(new Date(t),new Date):0,{data:T}=await se.from("interviews").select("outcome").eq("user_id",m.id).neq("outcome","pending").not("outcome","is",null),A=(T==null?void 0:T.length)||0,L=(T==null?void 0:T.filter(Q=>Q.outcome==="offer").length)||0,E=A>0?L/A*100:50,q={checklist:25,practice:20,mock:20,time:15,history:20},M=g/100*q.checklist,C=Math.min(j/10*q.practice,q.practice),I=Math.min(_/3*q.mock,q.mock);let O=q.time;S<1?O=q.time*.5:S<=7?O=q.time:S<=14?O=q.time*.85:O=q.time*.7;const H=E/100*q.history,re=Math.round(M+C+I+O+H);let U;A<3?U="low":A<10?U="medium":U="high";const K=[];g<80&&K.push({score:q.checklist-M,action:`Complete interview checklist (${v}/${x} done)`}),j<10&&K.push({score:q.practice-C,action:`Practice more questions (${j}/10 recommended)`}),_<3&&K.push({score:q.mock-I,action:`Complete mock interviews (${_}/3 recommended)`}),S<1?K.push({score:q.time*.5,action:"Schedule interview with more lead time for better preparation"}):S>14&&K.push({score:q.time*.3,action:"Keep practicing regularly as interview approaches"});const ee=K.sort((Q,ie)=>ie.score-Q.score).slice(0,3).map(Q=>Q.action),X={checklistCompletion:g,checklistWeight:q.checklist,practiceCount:j,practiceWeight:q.practice,mockSessionCount:_,mockWeight:q.mock,daysUntilInterview:S,timeWeight:q.time,historicalSuccessRate:E,historyWeight:q.history},{data:B,error:D}=await se.from("interview_success_predictions").insert({user_id:m.id,interview_id:e,predicted_score:re,confidence_band:U,score_factors:X,top_actions:ee}).select().single();if(D)throw D;s(B),xe.success("Success score calculated")}catch(m){console.error("Error calculating score:",m),xe.error("Failed to calculate success score")}finally{i(!1)}},c=m=>m>=75?"text-green-600":m>=50?"text-yellow-600":"text-red-600",u=m=>{switch(m){case"high":return"bg-green-100 text-green-800 border-green-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Success Probability Score"]}),n.jsxs(Wr,{children:[n.jsx(rl,{asChild:!0,children:n.jsx(ve,{variant:"ghost",size:"icon",children:n.jsx(oO,{className:"h-4 w-4"})})}),n.jsxs(Br,{className:"max-w-2xl",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"How This Score Is Calculated"}),n.jsx(no,{children:"Transparent formula breakdown"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Score Components (Total: 100 points)"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsxs("li",{className:"flex justify-between",children:[n.jsx("span",{children:" Interview Checklist Completion"}),n.jsx("span",{className:"font-mono",children:"25 points"})]}),n.jsxs("li",{className:"flex justify-between",children:[n.jsx("span",{children:" Question Practice Sessions (max 10)"}),n.jsx("span",{className:"font-mono",children:"20 points"})]}),n.jsxs("li",{className:"flex justify-between",children:[n.jsx("span",{children:" Mock Interview Sessions (max 3)"}),n.jsx("span",{className:"font-mono",children:"20 points"})]}),n.jsxs("li",{className:"flex justify-between",children:[n.jsx("span",{children:" Days Until Interview (optimal: 3-7)"}),n.jsx("span",{className:"font-mono",children:"15 points"})]}),n.jsxs("li",{className:"flex justify-between",children:[n.jsx("span",{children:" Historical Success Rate"}),n.jsx("span",{className:"font-mono",children:"20 points"})]})]})]}),n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Confidence Band"}),n.jsxs("ul",{className:"space-y-1 text-sm",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"High:"})," 10+ past interviews"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Medium:"})," 3-9 past interviews"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Low:"})," Less than 3 past interviews"]})]})]}),n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Time Scoring Logic"}),n.jsxs("ul",{className:"space-y-1 text-sm",children:[n.jsx("li",{children:" 3-7 days before: 100% of time score"}),n.jsx("li",{children:" 1-3 or 7-14 days: 85% of time score"}),n.jsx("li",{children:" Less than 1 day: 50% of time score"}),n.jsx("li",{children:" More than 14 days: 70% of time score"})]})]})]})]})]})]})}),n.jsx(_e,{className:"space-y-4",children:r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:`text-5xl font-bold ${c(r.predicted_score)}`,children:r.predicted_score}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"out of 100"})]}),n.jsxs($e,{className:u(r.confidence_band),variant:"outline",children:[r.confidence_band," confidence"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[n.jsx(pa,{className:"h-4 w-4"}),"Top Actions to Raise Your Score"]}),r.top_actions&&r.top_actions.length>0?n.jsx("ul",{className:"space-y-2",children:r.top_actions.map((m,f)=>n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsxs("span",{className:"text-primary font-semibold",children:[f+1,"."]}),n.jsx("span",{children:m})]},f))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"You're well prepared!"})]}),r.score_factors&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2 text-sm",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Score Breakdown:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:["Checklist: ",(d=r.score_factors.checklistCompletion)==null?void 0:d.toFixed(0),"%"]}),n.jsxs("div",{children:["Practice: ",r.score_factors.practiceCount," sessions"]}),n.jsxs("div",{children:["Mocks: ",r.score_factors.mockSessionCount," completed"]}),n.jsxs("div",{children:["Days until: ",r.score_factors.daysUntilInterview]}),n.jsxs("div",{children:["History: ",(h=r.score_factors.historicalSuccessRate)==null?void 0:h.toFixed(0),"% success"]})]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx(ve,{onClick:l,disabled:a,variant:"outline",className:"flex-1",children:a?"Recalculating...":"Recalculate"})}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last calculated: ",new Date(r.created_at).toLocaleString()]})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"Get an AI-powered prediction of your interview success probability"}),n.jsx(ve,{onClick:l,disabled:a,children:a?"Calculating...":"Calculate Success Score"})]})})]})};function EKe(e){const t=l=>l.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",r=e.uid||`${Date.now()}@jobtracker.demo`,s=t(e.startTime),a=t(e.endTime),i=t(new Date);return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Job Tracker//Interview Calendar//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${r}`,`DTSTAMP:${i}`,`DTSTART:${s}`,`DTEND:${a}`,`SUMMARY:${e.summary}`,e.description?`DESCRIPTION:${e.description.replace(/\n/g,"\\n")}`:"",e.location?`LOCATION:${e.location}`:"","STATUS:CONFIRMED","SEQUENCE:0","END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`\r
`)}function AKe(e,t="interview.ics"){const r=EKe(e),s=new Blob([r],{type:"text/calendar;charset=utf-8"}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href)}const PKe=()=>{var g,y;const{interviewId:e}=_c(),{user:t}=un(),r=ns(),[s,a]=N.useState(null),[i,o]=N.useState(!0),[l,c]=N.useState(!1);N.useEffect(()=>{u()},[e,t]);const u=async()=>{if(!(!t||!e))try{o(!0);const{data:j,error:b}=await se.from("interviews").select("*, jobs(id, job_title, company_name)").eq("id",e).eq("user_id",t.id).single();if(b)throw b;const{data:_,error:S}=await se.from("interview_checklists").select("*").eq("interview_id",e).order("created_at",{ascending:!0});if(S)throw S;const{data:T,error:A}=await se.from("interview_followups").select("*").eq("interview_id",e).order("created_at",{ascending:!1});if(A)throw A;a({...j,checklists:_||[],followups:T||[]})}catch(j){console.error("Error loading interview:",j),xe.error("Failed to load interview details")}finally{o(!1)}},d=async j=>{if(s){c(!0);try{const{error:b}=await se.from("interviews").update({status:j}).eq("id",s.id);if(b)throw b;a({...s,status:j}),xe.success("Interview status updated")}catch(b){console.error("Error updating status:",b),xe.error("Failed to update status")}finally{c(!1)}}},h=async j=>{if(s){c(!0);try{const{error:b}=await se.from("interviews").update({outcome:j}).eq("id",s.id);if(b)throw b;a({...s,outcome:j}),xe.success("Interview outcome updated")}catch(b){console.error("Error updating outcome:",b),xe.error("Failed to update outcome")}finally{c(!1)}}},m=j=>{switch(j){case"video":case"remote":return n.jsx(au,{className:"h-5 w-5"});case"onsite":return n.jsx(Ow,{className:"h-5 w-5"});case"phone":return n.jsx(ep,{className:"h-5 w-5"});default:return n.jsx(mr,{className:"h-5 w-5"})}},f=()=>{var _,S;if(!s||!s.scheduled_start||!s.scheduled_end){xe.error("Interview must have start and end times");return}const j=((_=s.job)==null?void 0:_.job_title)||"Interview",b=((S=s.job)==null?void 0:S.company_name)||"";AKe({summary:`${j} Interview - ${b}`,description:`Interview for ${j} at ${b}
Type: ${s.interview_type||"Not specified"}
${s.video_link?`Video Link: ${s.video_link}`:""}`,location:s.location||s.video_link||"",startTime:new Date(s.scheduled_start),endTime:new Date(s.scheduled_end),uid:`interview-${s.id}@jobtracker.demo`},`interview-${b.replace(/\s+/g,"-")}.ics`),xe.success("Calendar event file downloaded")};if(i)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 flex items-center justify-center",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})})]});if(!s)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Interview Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"The interview you're looking for doesn't exist or you don't have access to it."}),n.jsxs(ve,{onClick:()=>r("/jobs"),children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]})]})})]});const x=((g=s.job)==null?void 0:g.job_title)||"Interview",v=((y=s.job)==null?void 0:y.company_name)||"";return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/jobs"),children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:x}),n.jsx("p",{className:"text-xl text-muted-foreground",children:v})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($e,{variant:NKe(s.status||"scheduled"),children:s.status||"scheduled"}),n.jsx($e,{variant:jKe(s.outcome||"pending"),children:s.outcome||"pending"})]})]}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[m(s.interview_type||""),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),n.jsx("p",{className:"font-medium capitalize",children:s.interview_type||"Not specified"})]})]}),s.scheduled_start&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mr,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Date & Time"}),n.jsx("p",{className:"font-medium",children:Lt(new Date(s.scheduled_start),"PPP")}),n.jsxs("p",{className:"text-sm",children:[Lt(new Date(s.scheduled_start),"p"),s.duration_minutes&&` (${s.duration_minutes} min)`]})]})]}),s.location&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ao,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),n.jsx("p",{className:"font-medium",children:s.location})]})]}),s.video_link&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(au,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Video Link"}),n.jsx(ve,{variant:"link",className:"h-auto p-0 font-medium",onClick:()=>window.open(s.video_link,"_blank"),children:"Join Meeting"})]})]}),s.interviewer_names&&s.interviewer_names.length>0&&n.jsxs("div",{className:"flex items-center gap-3 md:col-span-2",children:[n.jsx("div",{className:"h-5 w-5"})," ",n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Interviewers"}),n.jsx("p",{className:"font-medium",children:s.interviewer_names.join(", ")})]})]}),s.notes&&n.jsxs("div",{className:"md:col-span-2 pt-4 border-t",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.notes})]})]})})}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-lg",children:"Update Interview Status"})}),n.jsx(_e,{className:"space-y-4",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),n.jsxs($t,{value:s.status||"scheduled",onValueChange:d,disabled:l,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"scheduled",children:"Scheduled"}),n.jsx(qe,{value:"completed",children:"Completed"}),n.jsx(qe,{value:"canceled",children:"Canceled"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Outcome"}),n.jsxs($t,{value:s.outcome||"pending",onValueChange:h,disabled:l,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"pending",children:"Pending"}),n.jsx(qe,{value:"pass",children:"Passed / Next Round"}),n.jsx(qe,{value:"fail",children:"Not Selected"}),n.jsx(qe,{value:"offer",children:"Received Offer"}),n.jsx(qe,{value:"unknown",children:"Unknown"})]})]})]})]})})]}),s.scheduled_start&&s.scheduled_end&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{className:"text-lg",children:"Add to Calendar"}),n.jsx(_t,{children:"Download .ics file to import into your calendar app"})]}),n.jsx(_e,{children:n.jsxs(ve,{onClick:f,variant:"outline",children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Download Calendar Event (.ics)"]})})]}),s.scheduled_start&&new Date(s.scheduled_start)>new Date&&n.jsx(CKe,{interviewId:s.id,interviewDate:s.scheduled_start})]}),n.jsx(Bi,{}),n.jsxs(ss,{defaultValue:"checklist",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-3",children:[n.jsx(vt,{value:"checklist",children:"Preparation"}),n.jsx(vt,{value:"research",children:"Company Research"}),n.jsx(vt,{value:"followup",children:"Follow-ups"})]}),n.jsx(xt,{value:"checklist",className:"mt-6",children:n.jsx(_Ke,{interview:s,onUpdate:u})}),n.jsx(xt,{value:"research",className:"mt-6",children:n.jsx(SKe,{interviewId:s.id,companyName:v,jobTitle:x,currentResearch:s.company_research,onUpdate:u})}),n.jsx(xt,{value:"followup",className:"mt-6",children:n.jsx(kKe,{interview:s,onFollowupUpdate:u})})]})]})})]})},TKe=({question:e,open:t,onOpenChange:r,onUpdate:s,onStartPractice:a})=>{const{user:i}=un(),[o,l]=N.useState(!1),c=h=>{switch(h){case"behavioral":return n.jsx(tn,{className:"h-5 w-5"});case"technical":return n.jsx(Nb,{className:"h-5 w-5"});case"situational":return n.jsx(xn,{className:"h-5 w-5"});default:return n.jsx(Tw,{className:"h-5 w-5"})}},u=h=>{switch(h){case"entry":return"default";case"mid":return"secondary";case"senior":return"destructive";default:return"outline"}},d=async()=>{if(!i){xe.error("Please sign in to practice questions");return}l(!0);try{const{data:h,error:m}=await se.from("question_practice").select("*").eq("user_id",i.id).eq("question_id",e.id).single();if(m&&m.code!=="PGRST116")throw m;if(h){const{error:f}=await se.from("question_practice").update({last_practiced_at:new Date().toISOString(),response_count:h.response_count+1}).eq("id",h.id);if(f)throw f}else{const{error:f}=await se.from("question_practice").insert({user_id:i.id,question_id:e.id,last_practiced_at:new Date().toISOString(),response_count:1});if(f)throw f}xe.success("Starting practice session!"),s==null||s(),r(!1),a&&a(e.id)}catch(h){console.error("Error starting practice:",h),xe.error("Failed to start practice session")}finally{l(!1)}};return n.jsx(aI,{open:t,onOpenChange:r,children:n.jsxs(K_,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[n.jsx(Y_,{children:n.jsx(J_,{className:"text-2xl",children:"Question Details"})}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Question"}),n.jsx("p",{className:"text-base leading-relaxed",children:e.question_text})]}),n.jsx(Bi,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Role"}),n.jsx("p",{className:"font-medium",children:e.role_title})]}),e.industry&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Industry"}),n.jsx("p",{className:"font-medium",children:e.industry})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Category"}),n.jsxs($e,{variant:"outline",className:"flex items-center gap-1 w-fit",children:[c(e.category),e.category]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Difficulty"}),n.jsx($e,{variant:u(e.difficulty),className:"w-fit",children:e.difficulty})]})]})]}),e.linked_skills.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Bi,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Skills Assessed"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.linked_skills.map((h,m)=>n.jsx($e,{variant:"secondary",children:h},m))})]})]}),e.star_framework_hint&&n.jsxs(n.Fragment,{children:[n.jsx(Bi,{}),n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(xc,{className:"h-5 w-5 text-yellow-500"}),"STAR Framework Guide"]}),n.jsx("p",{className:"text-sm whitespace-pre-line leading-relaxed",children:e.star_framework_hint})]})]}),e.source&&n.jsxs(n.Fragment,{children:[n.jsx(Bi,{}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Source"}),n.jsx("p",{className:"text-sm",children:e.source})]})]}),n.jsxs("div",{className:"pt-4",children:[n.jsxs(ve,{onClick:d,disabled:o||!i,className:"w-full",size:"lg",children:[n.jsx(Hd,{className:"h-5 w-5 mr-2"}),o?"Starting Practice...":"Practice This Question"]}),!i&&n.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Sign in to track your practice progress"})]}),n.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gn,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Take Your Time"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Think through your answer before responding. It's okay to pause and organize your thoughts."})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(pa,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Be Specific"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Use concrete examples and quantify results when possible. Specifics make your answer memorable."})]})]})]})]})]})})},OKe=()=>{const{user:e}=un(),t=ns(),[r,s]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(null),[d,h]=N.useState(!1),[m,f]=N.useState(""),[x,v]=N.useState("all"),[g,y]=N.useState("all"),[j,b]=N.useState("all"),[_,S]=N.useState("all"),[T,A]=N.useState(""),L=Array.from(new Set(r.map(U=>U.role_title))).sort(),E=Array.from(new Set(r.map(U=>U.industry).filter(Boolean))).sort();N.useEffect(()=>{q()},[]),N.useEffect(()=>{M()},[r,m,x,g,j,_,T]);const q=async()=>{try{l(!0);const{data:U,error:K}=await se.from("question_bank_items").select("*").order("role_title",{ascending:!0}).order("difficulty",{ascending:!0});if(K)throw K;s(U||[])}catch(U){console.error("Error loading questions:",U),xe.error("Failed to load question bank")}finally{l(!1)}},M=()=>{let U=[...r];if(m){const K=m.toLowerCase();U=U.filter(ee=>ee.question_text.toLowerCase().includes(K)||ee.linked_skills.some(X=>X.toLowerCase().includes(K)))}if(x!=="all"&&(U=U.filter(K=>K.role_title===x)),g!=="all"&&(U=U.filter(K=>K.industry===g)),j!=="all"&&(U=U.filter(K=>K.category===j)),_!=="all"&&(U=U.filter(K=>K.difficulty===_)),T){const K=T.toLowerCase();U=U.filter(ee=>ee.linked_skills.some(X=>X.toLowerCase().includes(K)))}i(U)},C=()=>{f(""),v("all"),y("all"),b("all"),S("all"),A("")},I=U=>{u(U),h(!0)},O=U=>{t(`/question-practice/${U}`)},H=U=>{switch(U){case"behavioral":return n.jsx(tn,{className:"h-4 w-4"});case"technical":return n.jsx(Nb,{className:"h-4 w-4"});case"situational":return n.jsx(xn,{className:"h-4 w-4"});default:return n.jsx(Tw,{className:"h-4 w-4"})}},re=U=>{switch(U){case"entry":return"default";case"mid":return"secondary";case"senior":return"destructive";default:return"outline"}};return o?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 flex items-center justify-center",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-display font-bold mb-2 flex items-center gap-3",children:[n.jsx(Tw,{className:"h-8 w-8 text-primary"}),"Interview Question Bank"]}),n.jsx("p",{className:"text-muted-foreground",children:"Browse and practice interview questions by role, industry, and difficulty"})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2 text-lg",children:[n.jsx(_b,{className:"h-5 w-5"}),"Filters"]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search questions or skills...",value:m,onChange:U=>f(U.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Role"}),n.jsxs($t,{value:x,onValueChange:v,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Roles"}),L.map(U=>n.jsx(qe,{value:U,children:U},U))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Industry"}),n.jsxs($t,{value:g,onValueChange:y,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Industries"}),E.map(U=>n.jsx(qe,{value:U,children:U},U))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),n.jsxs($t,{value:j,onValueChange:b,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Categories"}),n.jsx(qe,{value:"behavioral",children:"Behavioral"}),n.jsx(qe,{value:"technical",children:"Technical"}),n.jsx(qe,{value:"situational",children:"Situational"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty"}),n.jsxs($t,{value:_,onValueChange:S,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Levels"}),n.jsx(qe,{value:"entry",children:"Entry Level"}),n.jsx(qe,{value:"mid",children:"Mid Level"}),n.jsx(qe,{value:"senior",children:"Senior Level"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Skill"}),n.jsx(Je,{placeholder:"Filter by skill...",value:T,onChange:U=>A(U.target.value)})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(ve,{variant:"outline",onClick:C,className:"w-full",children:"Reset Filters"})})]})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",a.length," of ",r.length," questions"]})}),a.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Vx,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"No questions found matching your filters"})]})}):n.jsx("div",{className:"grid gap-4",children:a.map(U=>n.jsx(ye,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(U),children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium mb-2",children:U.question_text}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:U.role_title}),U.industry&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsx("span",{children:U.industry})]})]})]}),n.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[n.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[H(U.category),U.category]}),n.jsx($e,{variant:re(U.difficulty),children:U.difficulty})]})]}),U.linked_skills.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:U.linked_skills.map((K,ee)=>n.jsx($e,{variant:"secondary",className:"text-xs",children:K},ee))})]})})},U.id))})]})}),c&&n.jsx(TKe,{question:c,open:d,onOpenChange:h,onUpdate:q,onStartPractice:O})]})},IKe=({responseId:e,question:t,onBack:r})=>{const[s,a]=N.useState(!0),[i,o]=N.useState(null),[l,c]=N.useState(null);N.useEffect(()=>{u()},[e]);const u=async()=>{try{a(!0);const{data:f,error:x}=await se.from("question_practice_responses").select("*").eq("id",e).single();if(x)throw x;o(f);const{data:v,error:g}=await se.from("question_practice_feedback").select("*").eq("response_id",e).single();if(g)throw g;c(v)}catch(f){console.error("Error loading feedback:",f),xe.error("Failed to load feedback")}finally{a(!1)}},d=f=>f>=8?"text-green-600":f>=6?"text-yellow-600":"text-red-600",h=f=>f>=8?"Excellent":f>=6?"Good":f>=4?"Fair":"Needs Improvement",m=f=>{const x=Math.floor(f/60),v=f%60;return`${x}:${v.toString().padStart(2,"0")}`};return s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{children:"Loading feedback..."})}):!l||!i?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{children:"No feedback available"}),n.jsxs(ve,{onClick:r,className:"mt-4",children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back"]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(ve,{variant:"ghost",onClick:r,children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Practice"]})}),n.jsx(ye,{className:"border-yellow-500/50 bg-yellow-50/50 dark:bg-yellow-950/20",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nn,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm mb-1",children:"Practice Feedback"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This is AI-generated practice feedback to help you improve. It does not represent actual interview outcomes or scoring from real companies."})]})]})})}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(xc,{className:"h-5 w-5 text-yellow-500"}),"Overall Score"]})}),n.jsx(_e,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`text-6xl font-bold mb-2 ${d(l.overall_score)}`,children:l.overall_score.toFixed(1)}),n.jsxs("p",{className:"text-lg text-muted-foreground mb-4",children:[h(l.overall_score)," / 10"]}),n.jsx(La,{value:l.overall_score*10,className:"h-2"})]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Score Breakdown"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-3",children:"Understanding the Rubric:"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Relevance (0-10):"})," How directly you answered the question"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Specificity (0-10):"})," Use of concrete examples and details"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Impact (0-10):"})," Demonstration of meaningful results"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Clarity (0-10):"})," Structure and ease of understanding"]})]})]}),n.jsx(Bi,{}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{label:"Relevance",score:l.relevance_score},{label:"Specificity",score:l.specificity_score},{label:"Impact",score:l.impact_score},{label:"Clarity",score:l.clarity_score}].map(f=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:f.label}),n.jsxs("span",{className:`text-lg font-bold ${d(f.score)}`,children:[f.score,"/10"]})]}),n.jsx(La,{value:f.score*10,className:"h-2"})]},f.label))})]})]}),l.star_adherence&&t.category==="behavioral"&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(xc,{className:"h-5 w-5 text-yellow-500"}),"STAR Framework Analysis"]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Situation",present:l.star_adherence.situation},{label:"Task",present:l.star_adherence.task},{label:"Action",present:l.star_adherence.action},{label:"Result",present:l.star_adherence.result}].map(f=>n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg",children:[f.present?n.jsx(pa,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):n.jsx(nd,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm",children:f.label})]},f.label))}),n.jsx("div",{className:"p-4 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm",children:l.star_adherence.feedback})})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"General Feedback"]})}),n.jsx(_e,{children:n.jsx("p",{className:"text-sm leading-relaxed",children:l.general_feedback})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5"}),"Speaking Time Estimate"]})}),n.jsxs(_e,{children:[n.jsx("p",{className:"text-2xl font-bold mb-2",children:m(l.speaking_time_estimate)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Estimated time to speak this response at a natural pace"}),i.time_taken>0&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["You wrote this in ",m(i.time_taken)]})]})]}),l.alternative_approaches&&l.alternative_approaches.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(j_,{className:"h-5 w-5 text-yellow-500"}),"Alternative Approaches"]})}),n.jsx(_e,{className:"space-y-3",children:l.alternative_approaches.map((f,x)=>n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsxs("p",{className:"font-medium text-sm mb-2",children:["Approach ",x+1]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:f})]},x))})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Your Response"})}),n.jsx(_e,{children:n.jsx("div",{className:"p-4 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:i.response_text})})})]})]})},RKe=({questionId:e,question:t,onBack:r})=>{const{user:s}=un(),[a,i]=N.useState(!0),[o,l]=N.useState([]),[c,u]=N.useState(null);N.useEffect(()=>{d()},[e,s]);const d=async()=>{if(s)try{i(!0);const{data:x,error:v}=await se.from("question_practice_responses").select("*").eq("user_id",s.id).eq("question_id",e).order("created_at",{ascending:!1});if(v)throw v;const g=await Promise.all((x||[]).map(async y=>{const{data:j}=await se.from("question_practice_feedback").select("*").eq("response_id",y.id).single();return{...y,feedback:j||null}}));l(g)}catch(x){console.error("Error loading history:",x),xe.error("Failed to load practice history")}finally{i(!1)}},h=x=>{const v=Math.floor(x/60),g=x%60;return`${v}:${g.toString().padStart(2,"0")}`},m=o.filter(x=>x.feedback).reverse().map((x,v)=>({attempt:v+1,score:x.feedback.overall_score,date:Lt(new Date(x.created_at),"MM/dd")})),f=x=>x>=8?"text-green-600":x>=6?"text-yellow-600":"text-red-600";return a?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{children:"Loading history..."})}):c?n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>u(null),children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to History"]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Response Details"}),n.jsx($e,{variant:"outline",children:Lt(new Date(c.created_at),"PPp")})]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Your Response:"}),n.jsx("div",{className:"p-4 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:c.response_text})})]}),c.time_taken>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Gn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Time taken: ",h(c.time_taken)]}),c.timer_duration&&n.jsxs("span",{children:["(Timer: ",c.timer_duration," min)"]})]}),c.feedback&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Scores:"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[n.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Overall"}),n.jsx("p",{className:`text-2xl font-bold ${f(c.feedback.overall_score)}`,children:c.feedback.overall_score.toFixed(1)})]}),n.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Relevance"}),n.jsx("p",{className:"text-xl font-bold",children:c.feedback.relevance_score})]}),n.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Specificity"}),n.jsx("p",{className:"text-xl font-bold",children:c.feedback.specificity_score})]}),n.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Impact"}),n.jsx("p",{className:"text-xl font-bold",children:c.feedback.impact_score})]}),n.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Clarity"}),n.jsx("p",{className:"text-xl font-bold",children:c.feedback.clarity_score})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Feedback:"}),n.jsx("div",{className:"p-4 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm",children:c.feedback.general_feedback})})]})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(ve,{variant:"ghost",onClick:r,children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Practice"]})}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Practice History"})}),n.jsxs(_e,{children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Question:"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.question_text})]})]}),o.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(bs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),n.jsx("p",{className:"text-muted-foreground",children:"No practice attempts yet"})]})}):n.jsxs(n.Fragment,{children:[m.length>1&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Score Trend"]})}),n.jsx(_e,{children:n.jsx(es,{width:"100%",height:300,children:n.jsxs(iv,{data:m,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"attempt",label:{value:"Attempt",position:"insideBottom",offset:-5}}),n.jsx(ya,{domain:[0,10],label:{value:"Score",angle:-90,position:"insideLeft"}}),n.jsx(ts,{}),n.jsx(du,{type:"monotone",dataKey:"score",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{r:4}})]})})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{children:["All Attempts (",o.length,")"]})}),n.jsx(_e,{className:"space-y-3",children:o.map((x,v)=>n.jsx("div",{className:"p-4 border rounded-lg cursor-pointer hover:shadow-md transition-shadow",onClick:()=>u(x),children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:Lt(new Date(x.created_at),"PPp")}),n.jsx($e,{variant:x.status==="submitted"?"default":"secondary",children:x.status})]}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:x.response_text}),x.time_taken>0&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[n.jsx(Gn,{className:"h-3 w-3"}),n.jsx("span",{children:h(x.time_taken)})]})]}),x.feedback&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Score"}),n.jsx("p",{className:`text-2xl font-bold ${f(x.feedback.overall_score)}`,children:x.feedback.overall_score.toFixed(1)})]})]})},x.id))})]})]})]})},DKe=()=>{const{questionId:e}=_c(),{user:t}=un(),r=ns(),[s,a]=N.useState(null),[i,o]=N.useState(!0),[l,c]=N.useState(""),[u,d]=N.useState(!1),[h,m]=N.useState(!1),[f,x]=N.useState(null),[v,g]=N.useState(0),[y,j]=N.useState(!1),b=N.useRef(null),[_,S]=N.useState(null),[T,A]=N.useState(!1),[L,E]=N.useState(!1);N.useEffect(()=>(q(),()=>{b.current&&clearInterval(b.current)}),[e,t]),N.useEffect(()=>(y?b.current=window.setInterval(()=>{g(K=>{const ee=K+1;return f&&ee>=f*60?(j(!1),xe.info("Time is up!"),f*60):ee})},1e3):b.current&&clearInterval(b.current),()=>{b.current&&clearInterval(b.current)}),[y,f]);const q=async()=>{if(!(!t||!e))try{o(!0);const{data:K,error:ee}=await se.from("question_bank_items").select("*").eq("id",e).single();if(ee)throw ee;a(K)}catch(K){console.error("Error loading question:",K),xe.error("Failed to load question")}finally{o(!1)}},M=K=>{const ee=Math.floor(K/60),X=K%60;return`${ee}:${X.toString().padStart(2,"0")}`},C=()=>{if(!f){xe.error("Please select a timer duration");return}g(0),j(!0)},I=()=>{j(!y)},O=()=>{g(0),j(!1)},H=async()=>{if(!t||!e||!l.trim()){xe.error("Please write a response before saving");return}d(!0);try{const{data:K,error:ee}=await se.from("question_practice_responses").insert({user_id:t.id,question_id:e,response_text:l,timer_duration:f,time_taken:v,status:"draft"}).select().single();if(ee)throw ee;S(K.id),xe.success("Draft saved successfully")}catch(K){console.error("Error saving draft:",K),xe.error("Failed to save draft")}finally{d(!1)}},re=async K=>{const ee=l.trim(),X=ee.split(/\s+/).length,B=ee.split(/[.!?]+/).filter(ge=>ge.trim().length>0),Q=["example","for instance","such as","specifically","in particular"].filter(ge=>ee.toLowerCase().includes(ge)).length,ie=ee.match(/\d+/g),te=ie?ie.length:0,he=["maybe","i think","sort of","kind of","basically","just","really","very"],W=he.filter(ge=>ee.toLowerCase().includes(ge)).length,V={situation:ee.toLowerCase().includes("when")||ee.toLowerCase().includes("situation")||ee.toLowerCase().includes("during"),task:ee.toLowerCase().includes("task")||ee.toLowerCase().includes("responsible")||ee.toLowerCase().includes("needed to"),action:ee.toLowerCase().includes("action")||ee.toLowerCase().includes("did")||ee.toLowerCase().includes("implemented")||ee.toLowerCase().includes("created"),result:ee.toLowerCase().includes("result")||ee.toLowerCase().includes("outcome")||ee.toLowerCase().includes("achieved")||ee.toLowerCase().includes("led to")},oe=Object.values(V).filter(Boolean).length,me=X<30?3:X<60?5:X<150?8:X<250?7:5,de=Math.min(10,Math.max(3,me+(B.length>3?1:0))),ue=Math.min(10,3+Q*2+(te>0?2:0)+(te>2?1:0)),G=["improved","increased","reduced","saved","generated","achieved","delivered"].filter(ge=>ee.toLowerCase().includes(ge)).length,pe=Math.min(10,3+(te>0?3:0)+G*2),ce=X/Math.max(B.length,1),$=Math.min(10,Math.max(3,8-W*1-(ce>30?1:0)+(ce>10&&ce<25?1:0))),z=Math.round(de*.25+ue*.25+pe*.3+$*.2),Z=[];X<50&&Z.push("Consider expanding your response with more detail and context."),Q===0&&Z.push("Add specific examples to illustrate your points and make your response more concrete."),te===0&&Z.push("Include quantifiable metrics or numbers to demonstrate the impact of your work."),W>2&&Z.push('Reduce weak language ("maybe", "I think", "sort of") to sound more confident.'),G===0&&Z.push('Emphasize the results and impact of your actions using words like "achieved", "improved", or "delivered".');const le={relevance_score:de,specificity_score:ue,impact_score:pe,clarity_score:$,overall_score:z,star_adherence:(s==null?void 0:s.category)==="behavioral"?{situation:V.situation,task:V.task,action:V.action,result:V.result,feedback:oe<3?"Try to include all STAR components (Situation, Task, Action, Result) with specific details.":"Good STAR structure! Make sure each component is detailed and quantifiable."}:null,weak_language:he.filter(ge=>ee.toLowerCase().includes(ge)),speaking_time_estimate:Math.floor(X/2.5),alternative_approaches:Z.length>0?Z:["Your response is solid. Consider adding even more specific details and quantifiable results to make it outstanding."],general_feedback:`Your response received a score of ${z}/10. ${Z.join(" ")}`};return await se.from("question_practice_feedback").insert({response_id:K,...le}),!0},U=async()=>{var K;if(!t||!e||!l.trim()){xe.error("Please write a response before submitting");return}m(!0);try{const{data:ee,error:X}=await se.from("question_practice_responses").insert({user_id:t.id,question_id:e,response_text:l,timer_duration:f,time_taken:v,status:"submitted"}).select().single();if(X)throw X;S(ee.id);try{const B=await se.auth.getSession();if(!((K=B.data.session)!=null&&K.access_token))throw new Error("Not authenticated");const{data:D,error:Q}=await se.functions.invoke("ai-question-feedback",{body:{responseId:ee.id},headers:{Authorization:`Bearer ${B.data.session.access_token}`}});if(Q)throw console.error("AI feedback error:",Q),Q;xe.success("Feedback generated successfully!"),A(!0),j(!1)}catch(B){console.error("AI feedback failed, using fallback:",B),await re(ee.id),xe.success("Feedback generated successfully!"),A(!0),j(!1)}}catch(ee){console.error("Error submitting for feedback:",ee),xe.error("Failed to save your response. Please try again.")}finally{m(!1)}};return i?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 flex items-center justify-center",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})})]}):s?T&&_?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 max-w-5xl mx-auto px-4",children:n.jsx(IKe,{responseId:_,question:s,onBack:()=>{A(!1),c(""),g(0),j(!1),S(null)}})})]}):L?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 max-w-5xl mx-auto px-4",children:n.jsx(RKe,{questionId:e,question:s,onBack:()=>E(!1)})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 max-w-5xl mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/question-bank"),children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Question Bank"]}),n.jsxs(ve,{variant:"outline",onClick:()=>E(!0),children:[n.jsx(KV,{className:"h-4 w-4 mr-2"}),"View History"]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(De,{className:"text-xl mb-3 break-words",children:s.question_text}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx($e,{children:s.category}),n.jsx($e,{variant:"outline",children:s.difficulty}),n.jsx($e,{variant:"secondary",className:"break-words",children:s.role_title})]})]})})}),s.star_framework_hint&&n.jsx(_e,{children:n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-sm font-semibold mb-2",children:"STAR Framework Guide:"}),n.jsx("p",{className:"text-sm whitespace-pre-line break-words",children:s.star_framework_hint})]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Gn,{className:"h-5 w-5"}),"Practice Timer (Optional)"]})}),n.jsx(_e,{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[n.jsx("div",{className:"flex-1 w-full sm:w-auto min-w-0",children:n.jsxs($t,{value:(f==null?void 0:f.toString())||"",onValueChange:K=>x(K?parseInt(K):null),disabled:y,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select duration"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"3",children:"3 minutes"}),n.jsx(qe,{value:"5",children:"5 minutes"}),n.jsx(qe,{value:"8",children:"8 minutes"})]})]})}),n.jsx("div",{className:"text-2xl font-mono font-bold min-w-[80px]",children:M(v)}),n.jsxs("div",{className:"flex gap-2",children:[y?n.jsxs(ve,{onClick:I,variant:"outline",children:[n.jsx(tH,{className:"h-4 w-4 mr-2"}),"Pause"]}):n.jsxs(ve,{onClick:v===0?C:I,variant:"outline",children:[n.jsx(Hd,{className:"h-4 w-4 mr-2"}),v===0?"Start":"Resume"]}),n.jsx(ve,{onClick:O,variant:"ghost",size:"icon",children:n.jsx(nH,{className:"h-4 w-4"})})]})]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-lg",children:"Your Response"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx(dr,{placeholder:"Type your response here...",value:l,onChange:K=>c(K.target.value),className:"min-h-[300px] font-mono text-sm w-full"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs(ve,{onClick:H,disabled:u||!l.trim(),variant:"outline",className:"flex-1",children:[n.jsx(tp,{className:"h-4 w-4 mr-2"}),u?"Saving...":"Save Draft"]}),n.jsxs(ve,{onClick:U,disabled:h||!l.trim(),className:"flex-1",children:[n.jsx(cO,{className:"h-4 w-4 mr-2"}),h?"Generating Feedback...":"Submit for Feedback"]})]})]})]})]})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 max-w-4xl mx-auto px-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Question Not Found"}),n.jsxs(ve,{onClick:()=>r("/question-bank"),children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Question Bank"]})]})})]})};class MKe extends at.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("MockInterview Error:",t,r)}render(){var t;return this.state.hasError?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"max-w-md w-full",children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"h-5 w-5 text-destructive"}),n.jsx(De,{children:"Something went wrong"})]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{onClick:()=>window.location.href="/interview-prep",className:"flex-1",children:"Back to Interview Prep"}),n.jsxs(ve,{variant:"outline",onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset()},className:"flex-1",children:[n.jsx(lc,{className:"mr-2 h-4 w-4"}),"Retry"]})]})]})]})})]}):this.props.children}}function LKe(){const{sessionId:e}=_c(),{user:t,isLoading:r}=un(),s=ns(),{toast:a}=Nc(),[i,o]=N.useState(!0),[l,c]=N.useState(null),[u,d]=N.useState([]),[h,m]=N.useState(0),[f,x]=N.useState(""),[v,g]=N.useState(Date.now()),[y,j]=N.useState(!1),[b,_]=N.useState(null),S=N.useCallback(async()=>{if(!e){_("No session ID provided"),o(!1);return}if(t){o(!0),_(null);try{const{data:q,error:M}=await se.from("mock_interview_sessions").select("*").eq("id",e).eq("user_id",t.id).maybeSingle();if(M)throw console.error("Session error:",M),new Error("Failed to load session");if(!q){_("Session not found. It may have been deleted or you may not have permission to access it."),o(!1);return}c(q);const{data:C}=await se.from("mock_interview_responses").select("*").eq("session_id",e).order("question_order");C&&C.length>0&&m(C.length);let I=[];const{data:O}=await se.from("question_bank_items").select("id, question_text, category, difficulty, star_framework_hint").eq("category",q.format||"behavioral").eq("role_title",q.target_role).limit(q.question_count||10);if(O&&O.length>0&&(I=O),I.length===0){const{data:H}=await se.from("question_bank_items").select("id, question_text, category, difficulty, star_framework_hint").eq("category",q.format||"behavioral").limit(q.question_count||10);H&&H.length>0&&(I=H)}if(I.length===0){const{data:H}=await se.from("question_bank_items").select("id, question_text, category, difficulty, star_framework_hint").limit(q.question_count||10);H&&H.length>0&&(I=H)}if(I.length===0){_("No questions available in the question bank. Please add some questions first."),o(!1);return}d(I),g(Date.now())}catch(q){console.error("Error loading session:",q),_(q instanceof Error?q.message:"Failed to load interview session")}finally{o(!1)}}},[e,t]);N.useEffect(()=>{r||S()},[r,S]);const T=async()=>{if(!f.trim()){a({title:"Response required",description:"Please provide an answer before continuing",variant:"destructive"});return}if(!u[h]){a({title:"Error",description:"Question not found",variant:"destructive"});return}j(!0);try{const q=Math.floor((Date.now()-v)/1e3),M=u[h],{error:C}=await se.from("mock_interview_responses").insert({session_id:e,question_id:M.id,question_order:h,is_followup:!1,response_text:f,time_taken:q,started_at:new Date(v).toISOString(),answered_at:new Date().toISOString()});if(C)throw C;x(""),g(Date.now());const I=h+1;I<u.length?m(I):(await se.from("mock_interview_sessions").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",e),a({title:"Interview Complete!",description:"View your summary and feedback"}),s(`/mock-interview/${e}/summary`))}catch(q){console.error("Error saving response:",q),a({title:"Error",description:"Failed to save your response. Please try again.",variant:"destructive"})}finally{j(!1)}};if(r||i)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx(en,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading interview..."})]})})]});if(b)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"max-w-md w-full",children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"h-5 w-5 text-destructive"}),n.jsx(De,{children:"Unable to Load Interview"})]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:b}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{onClick:()=>s("/interview-prep"),className:"flex-1",children:"Back to Interview Prep"}),n.jsxs(ve,{variant:"outline",onClick:()=>S(),className:"flex-1",children:[n.jsx(lc,{className:"mr-2 h-4 w-4"}),"Retry"]})]})]})]})})]});if(!l||u.length===0)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:n.jsxs(ye,{className:"max-w-md w-full",children:[n.jsx(Ie,{children:n.jsx(De,{children:"No Questions Available"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"There are no questions available. Please add questions to the question bank first."}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{onClick:()=>s("/question-bank"),className:"flex-1",children:"Go to Question Bank"}),n.jsx(ve,{variant:"outline",onClick:()=>s("/interview-prep"),className:"flex-1",children:"Back"})]})]})]})})]});const A=u[Math.min(h,u.length-1)],L=(h+1)/u.length*100,E=h>=u.length-1;return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold",children:"Mock Interview"}),n.jsxs("p",{className:"text-muted-foreground",children:[(l==null?void 0:l.target_role)||"Interview"," ",(l==null?void 0:l.company_name)&&`at ${l.company_name}`]})]}),n.jsx($e,{variant:"secondary",className:"capitalize",children:(l==null?void 0:l.format)||"behavioral"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Question ",h+1," of ",u.length]}),n.jsxs("span",{className:"font-medium",children:[Math.round(L),"% Complete"]})]}),n.jsx(La,{value:L})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(De,{className:"text-lg md:text-xl mb-2",children:(A==null?void 0:A.question_text)||"Question unavailable"}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx($e,{variant:"outline",className:"capitalize",children:(A==null?void 0:A.category)||"general"}),n.jsx($e,{variant:"secondary",className:"capitalize",children:(A==null?void 0:A.difficulty)||"medium"})]})]}),n.jsx(Gn,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"})]})}),n.jsxs(_e,{className:"space-y-4",children:[(A==null?void 0:A.star_framework_hint)&&n.jsxs("div",{className:"p-4 rounded-lg bg-muted",children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:" STAR Framework Tip:"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.star_framework_hint})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Your Response"}),n.jsx(dr,{value:f,onChange:q=>x(q.target.value),placeholder:"Type your answer here. Be specific and use examples...",className:"min-h-[200px] md:min-h-[250px]"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," characters"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 pt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Take your time. There's no timer."}),n.jsx(ve,{onClick:T,disabled:y||!f.trim(),className:"w-full sm:w-auto",children:y?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):E?n.jsxs(n.Fragment,{children:["Finish Interview",n.jsx(ma,{className:"ml-2 h-4 w-4"})]}):n.jsxs(n.Fragment,{children:["Next Question",n.jsx(Yh,{className:"ml-2 h-4 w-4"})]})})]})]})]}),n.jsx("div",{className:"flex gap-1 justify-center flex-wrap",children:u.map((q,M)=>n.jsx("div",{className:`h-2 w-6 md:w-8 rounded-full transition-colors ${M<h?"bg-primary":M===h?"bg-primary/50":"bg-muted"}`},M))})]})})]})}function FKe(){const[e,t]=N.useState(0);return n.jsx(MKe,{onReset:()=>t(r=>r+1),children:n.jsx(LKe,{},e)})}function BKe(){var v;const{sessionId:e}=_c(),{user:t}=un(),r=ns(),{toast:s}=Nc(),[a,i]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,h]=N.useState(null);N.useEffect(()=>{m()},[e,t]);const m=async()=>{if(!(!t||!e))try{const{data:g,error:y}=await se.from("mock_interview_sessions").select("*").eq("id",e).eq("user_id",t.id).single();if(y)throw y;u(g);const{data:j}=await se.from("mock_interview_summaries").select("*").eq("session_id",e).single();j?h(j):await f(e)}catch(g){console.error("Error loading summary:",g),s({title:"Error",description:"Failed to load interview summary",variant:"destructive"})}finally{i(!1)}},f=async g=>{try{const{data:y,error:j}=await se.from("mock_interview_responses").select(`
          *,
          question:question_bank_items(category, difficulty)
        `).eq("session_id",g);if(j)throw j;const b=(y==null?void 0:y.filter(I=>I.response_text))||[],_=b.length/((y==null?void 0:y.length)||1)*100,S=b.length>0?b.reduce((I,O)=>{var H;return I+(((H=O.response_text)==null?void 0:H.length)||0)},0)/b.length:0,T={};b.forEach(I=>{var H,re;const O=((H=I.question)==null?void 0:H.category)||"unknown";T[O]||(T[O]={count:0,totalLength:0}),T[O].count++,T[O].totalLength+=((re=I.response_text)==null?void 0:re.length)||0});const A=Object.entries(T).map(([I,O])=>({category:I,avgLength:O.totalLength/O.count})),L=A.reduce((I,O)=>I.avgLength>O.avgLength?I:O,A[0]),E=A.reduce((I,O)=>I.avgLength<O.avgLength?I:O,A[0]),q=[];S<200&&q.push("Provide more detailed responses with specific examples"),_<100&&q.push("Complete all questions in future practice sessions"),E&&q.push(`Focus on improving ${E.category} question responses`);const{data:M,error:C}=await se.from("mock_interview_summaries").insert({session_id:g,completion_rate:_,avg_response_length:S,strongest_category:(L==null?void 0:L.category)||null,weakest_category:(E==null?void 0:E.category)||null,top_improvements:q.slice(0,3)}).select().single();if(C)throw C;h(M)}catch(y){console.error("Error generating summary:",y)}},x=async()=>{var g,y,j,b;if(e){l(!0);try{const{data:_,error:S}=await se.functions.invoke("ai-mock-interview-summary",{body:{sessionId:e}});if(S)throw S;if(_!=null&&_.summary)h(T=>({...T,ai_summary:_.summary})),s({title:"AI Summary Generated",description:"Your personalized feedback is now visible below"});else{const{data:T}=await se.from("mock_interview_summaries").select("*").eq("session_id",e).single();T&&h(T),s({title:"AI Summary Generated",description:"Your personalized feedback is ready"})}}catch(_){console.error("Error generating AI summary:",_),(g=_.message)!=null&&g.includes("Rate limits exceeded")||(y=_.message)!=null&&y.includes("429")?s({title:"Rate limit reached",description:"Please try again in a few moments",variant:"destructive"}):(j=_.message)!=null&&j.includes("402")||(b=_.message)!=null&&b.includes("Payment")?s({title:"Usage limit reached",description:"Please add credits to continue using AI features",variant:"destructive"}):s({title:"AI summary unavailable",description:"The rule-based summary is still available",variant:"destructive"})}finally{l(!1)}}};return a?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-muted-foreground"})})]}):!c||!d?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Summary not available"})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ve,{variant:"ghost",size:"sm",onClick:()=>r("/interview-prep"),children:[n.jsx(ro,{className:"h-4 w-4 mr-1"}),"Back"]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl font-display font-bold",children:"Interview Complete!"}),n.jsxs("p",{className:"text-muted-foreground",children:[c.target_role," ",c.company_name&&`at ${c.company_name}`]})]}),n.jsx($e,{variant:"secondary",className:"capitalize",children:c.format})]}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsx(Rs,{children:"This is practice feedback only. Scores and suggestions are meant to help you improve, not to predict actual interview outcomes."})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsx(_t,{children:"Completion Rate"})}),n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ma,{className:"h-5 w-5 text-primary"}),n.jsxs("span",{className:"text-3xl font-bold",children:[Math.round(d.completion_rate),"%"]})]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsx(_t,{children:"Avg Response Length"})}),n.jsx(_e,{children:n.jsxs("div",{className:"text-3xl font-bold",children:[d.avg_response_length?Math.round(d.avg_response_length):0," chars"]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsx(_t,{children:"Questions Answered"})}),n.jsx(_e,{children:n.jsxs("div",{className:"text-3xl font-bold",children:[Math.round(d.completion_rate/100*c.question_count)," / ",c.question_count]})})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Category Performance"}),n.jsx(_t,{children:"Your strongest and weakest areas"})]}),n.jsxs(_e,{className:"space-y-4",children:[d.strongest_category&&n.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-primary/5",children:[n.jsx(Gr,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Strongest Category"}),n.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.strongest_category})]})]}),d.weakest_category&&d.weakest_category!==d.strongest_category&&n.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-muted",children:[n.jsx(__,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Area for Improvement"}),n.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.weakest_category})]})]})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Top 3 Improvement Actions"}),n.jsx(_t,{children:"Focus on these areas for your next practice"})]}),n.jsx(_e,{children:n.jsx("ol",{className:"space-y-3",children:(v=d.top_improvements)==null?void 0:v.map((g,y)=>n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"flex-shrink-0 flex items-center justify-center w-6 h-6 rounded-full bg-primary/10 text-primary text-sm font-medium",children:y+1}),n.jsx("span",{className:"pt-0.5",children:g})]},y))})})]}),d.ai_summary?n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Co,{className:"h-5 w-5 text-primary"}),n.jsx(De,{children:"AI-Powered Insights"})]}),n.jsx(_t,{children:"Personalized feedback based on your responses"})]}),n.jsx(_e,{children:n.jsx("p",{className:"whitespace-pre-wrap",children:d.ai_summary})})]}):n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Generate AI Insights"}),n.jsx(_t,{children:"Get personalized feedback powered by AI"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get deeper insights into your responses with AI analysis. This will provide personalized recommendations based on your actual answers."}),n.jsx(ve,{onClick:x,disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Co,{className:"mr-2 h-4 w-4"}),"Generate AI Insights"]})})]})]}),n.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[n.jsx(ve,{variant:"outline",onClick:()=>r("/interview-prep"),children:"Back to Interview Prep"}),n.jsx(ve,{onClick:()=>window.location.reload(),children:"Start Another Mock Interview"})]})]})})]})}const UKe=["javascript","typescript","python","java","react","node","sql","aws","docker","kubernetes","go","rust","c++"],$Ke=["algorithms","data-structures","system-design","coding","debugging","optimization","database"];function qKe({open:e,onOpenChange:t,onSuccess:r}){const{user:s}=un(),[a,i]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState("medium"),[m,f]=N.useState(""),[x,v]=N.useState([]),g=b=>{x.includes(b)||v([...x,b])},y=b=>{v(x.filter(_=>_!==b))},j=async()=>{if(!s||!o.trim()||!c.trim()||!m){xe.error("Please fill in all required fields");return}i(!0);try{const{error:b}=await se.from("technical_challenges").insert({title:o.trim(),problem_statement:c.trim(),difficulty:d,category:m,tech_stack:x,best_practices:null,hints:null,solution_framework:null});if(b)throw b;xe.success("Challenge created successfully!"),r(),t(!1),l(""),u(""),h("medium"),f(""),v([])}catch(b){console.error("Error creating challenge:",b),xe.error("Failed to create challenge")}finally{i(!1)}};return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Create Technical Challenge"}),n.jsx(no,{children:"Add a new coding challenge to practice with"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"title",children:"Challenge Title *"}),n.jsx(Je,{id:"title",placeholder:"e.g., Two Sum, Binary Tree Traversal",value:o,onChange:b=>l(b.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"description",children:"Description *"}),n.jsx(dr,{id:"description",placeholder:"Describe the problem statement, constraints, and expected output...",value:c,onChange:b=>u(b.target.value),className:"min-h-[120px]"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"difficulty",children:"Difficulty *"}),n.jsxs($t,{value:d,onValueChange:b=>h(b),children:[n.jsx(Ft,{id:"difficulty",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"easy",children:"Easy"}),n.jsx(qe,{value:"medium",children:"Medium"}),n.jsx(qe,{value:"hard",children:"Hard"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"category",children:"Category *"}),n.jsxs($t,{value:m,onValueChange:f,children:[n.jsx(Ft,{id:"category",children:n.jsx(qt,{placeholder:"Select category"})}),n.jsx(Bt,{children:$Ke.map(b=>n.jsx(qe,{value:b,className:"capitalize",children:b.replace("-"," ")},b))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Tech Stack (Optional)"}),n.jsxs($t,{onValueChange:g,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Add technologies"})}),n.jsx(Bt,{children:UKe.filter(b=>!x.includes(b)).map(b=>n.jsx(qe,{value:b,className:"capitalize",children:b},b))})]}),x.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.map(b=>n.jsxs($e,{variant:"secondary",className:"capitalize",children:[b,n.jsx("button",{onClick:()=>y(b),className:"ml-1 hover:text-destructive",children:n.jsx(Rl,{className:"h-3 w-3"})})]},b))})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(ve,{variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),n.jsxs(ve,{onClick:j,disabled:a,children:[a&&n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Challenge"]})]})]})})}function zKe(){const{user:e}=un(),t=ns(),[r,s]=N.useState(!0),[a,i]=N.useState([]),[o,l]=N.useState([]),[c,u]=N.useState(""),[d,h]=N.useState("all"),[m,f]=N.useState("all"),[x,v]=N.useState([]),[g,y]=N.useState({}),[j,b]=N.useState(!1);N.useEffect(()=>{_(),S(),T()},[e]),N.useEffect(()=>{A()},[a,c,d,m]);const _=async()=>{try{const{data:M,error:C}=await se.from("technical_challenges").select("*").order("category").order("difficulty");if(C)throw C;i(M||[]),l(M||[])}catch(M){console.error("Error loading challenges:",M)}finally{s(!1)}},S=async()=>{if(e)try{const{data:M}=await se.from("jobs").select("job_description").eq("user_id",e.id).not("job_description","is",null).limit(10);if(M){const C=["javascript","typescript","python","java","react","node","sql","aws","docker"],I=new Set;M.forEach(O=>{var re;const H=((re=O.job_description)==null?void 0:re.toLowerCase())||"";C.forEach(U=>{H.includes(U)&&I.add(U)})}),v(Array.from(I))}}catch(M){console.error("Error loading tech stack:",M)}},T=async()=>{if(e)try{const{data:M}=await se.from("technical_practice_attempts").select("challenge_id").eq("user_id",e.id);if(M){const C={};M.forEach(I=>{C[I.challenge_id]=(C[I.challenge_id]||0)+1}),y(C)}}catch(M){console.error("Error loading attempt counts:",M)}},A=()=>{let M=[...a];c&&(M=M.filter(C=>C.title.toLowerCase().includes(c.toLowerCase())||C.category.toLowerCase().includes(c.toLowerCase()))),d!=="all"&&(M=M.filter(C=>C.category===d)),m!=="all"&&(M=M.filter(C=>C.difficulty===m)),l(M)},L=Array.from(new Set(a.map(M=>M.category))),E=M=>{switch(M){case"easy":return"bg-green-500/10 text-green-500 border-green-500/20";case"medium":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"hard":return"bg-red-500/10 text-red-500 border-red-500/20";default:return""}},q=M=>M.tech_stack.some(C=>x.includes(C.toLowerCase()));return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 max-w-7xl mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(b_,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Technical Prep"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Practice coding challenges and track your solutions"})]})]}),n.jsxs(ve,{onClick:()=>b(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Challenge"]})]}),n.jsxs(ye,{className:"border-yellow-500/20 bg-yellow-500/5",children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2 text-base",children:[n.jsx(oO,{className:"h-5 w-5"}),"How Technical Prep Works"]})}),n.jsxs(_e,{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a practice environment for organizing and tracking your coding challenge solutions."}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground ml-4",children:[n.jsx("li",{children:"Challenges are curated based on common interview patterns"}),n.jsx("li",{children:"Questions are recommended based on your job applications and tech stack"}),n.jsx("li",{children:"Write and store your solutions for future reference"}),n.jsx("li",{children:"Use the rubric checklist to self-evaluate your approach"}),n.jsxs("li",{children:[n.jsx("strong",{children:"Note:"})," Code is not executed or automatically graded"]})]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-lg",children:"Filter Challenges"})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search challenges...",value:c,onChange:M=>u(M.target.value),className:"pl-9"})]}),n.jsxs($t,{value:d,onValueChange:h,children:[n.jsxs(Ft,{className:"w-full sm:w-[200px]",children:[n.jsx(_b,{className:"h-4 w-4 mr-2"}),n.jsx(qt,{placeholder:"Category"})]}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Categories"}),L.map(M=>n.jsx(qe,{value:M,children:M},M))]})]}),n.jsxs($t,{value:m,onValueChange:f,children:[n.jsx(Ft,{className:"w-full sm:w-[150px]",children:n.jsx(qt,{placeholder:"Difficulty"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Levels"}),n.jsx(qe,{value:"easy",children:"Easy"}),n.jsx(qe,{value:"medium",children:"Medium"}),n.jsx(qe,{value:"hard",children:"Hard"})]})]})]}),x.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Your tech stack:"}),x.map(M=>n.jsx($e,{variant:"secondary",className:"capitalize",children:M},M))]})]})]}),r?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.length===0?n.jsx(ye,{children:n.jsx(_e,{className:"py-12 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No challenges found matching your filters"})})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.map(M=>n.jsxs(ye,{className:`hover:border-primary/50 transition-colors cursor-pointer ${q(M)?"border-primary/30 bg-primary/5":""}`,onClick:()=>t(`/technical-prep/${M.id}`),children:[n.jsx(Ie,{children:n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(De,{className:"text-lg mb-2 break-words",children:M.title}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx($e,{variant:"outline",className:E(M.difficulty),children:M.difficulty}),n.jsx($e,{variant:"outline",className:"capitalize",children:M.category}),q(M)&&n.jsx($e,{variant:"default",className:"bg-primary/20 text-primary border-primary/30",children:"Recommended"})]})]})})}),n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:g[M.id]?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pa,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{children:[g[M.id]," attempt",g[M.id]>1?"s":""]})]}):n.jsx("span",{children:"Not attempted"})}),n.jsx(ve,{size:"sm",variant:"ghost",children:"Start "})]})})]},M.id))})]})}),n.jsx(qKe,{open:j,onOpenChange:b,onSuccess:_})]})}function WW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function WKe(e){if(Array.isArray(e))return e}function VKe(e,t,r){return(t=QKe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function HW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VW(Object(r),!0).forEach(function(s){VKe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VW(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KKe(e,t){if(e==null)return{};var r,s,a=YKe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YKe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function JKe(e,t){return WKe(e)||HKe(e,t)||ZKe(e,t)||GKe()}function XKe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QKe(e){var t=XKe(e,"string");return typeof t=="symbol"?t:t+""}function ZKe(e,t){if(e){if(typeof e=="string")return WW(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?WW(e,t):void 0}}function eYe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function KW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GW(Object(r),!0).forEach(function(s){eYe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tYe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(a,i){return i(a)},s)}}function vw(e){return function t(){for(var r=this,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(a,l))}}}function p_(e){return{}.toString.call(e).includes("Object")}function rYe(e){return!Object.keys(e).length}function vb(e){return typeof e=="function"}function nYe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sYe(e,t){return p_(t)||$m("changeType"),Object.keys(t).some(function(r){return!nYe(e,r)})&&$m("changeField"),t}function aYe(e){vb(e)||$m("selectorType")}function iYe(e){vb(e)||p_(e)||$m("handlerType"),p_(e)&&Object.values(e).some(function(t){return!vb(t)})&&$m("handlersType")}function oYe(e){e||$m("initialIsRequired"),p_(e)||$m("initialType"),rYe(e)&&$m("initialContent")}function lYe(e,t){throw new Error(e[t]||e.default)}var cYe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},$m=vw(lYe)(cYe),d2={changes:sYe,selector:aYe,handler:iYe,initial:oYe};function uYe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d2.initial(e),d2.handler(t);var r={current:e},s=vw(fYe)(r,t),a=vw(hYe)(r),i=vw(d2.changes)(e),o=vw(dYe)(r);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return d2.selector(u),u(r.current)}function c(u){tYe(s,a,i,o)(u)}return[l,c]}function dYe(e,t){return vb(t)?t(e.current):t}function hYe(e,t){return e.current=KW(KW({},e.current),t),t}function fYe(e,t,r){return vb(t)?t(e.current):Object.keys(r).forEach(function(s){var a;return(a=t[s])===null||a===void 0?void 0:a.call(t,e.current[s])}),r}var mYe={create:uYe},pYe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function gYe(e){return function t(){for(var r=this,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(a,l))}}}function vYe(e){return{}.toString.call(e).includes("Object")}function xYe(e){return e||YW("configIsRequired"),vYe(e)||YW("configType"),e.urls?(yYe(),{paths:{vs:e.urls.monacoBase}}):e}function yYe(){console.warn(qie.deprecation)}function wYe(e,t){throw new Error(e[t]||e.default)}var qie={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},YW=gYe(wYe)(qie),bYe={config:xYe},jYe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return function(a){return r.reduceRight(function(i,o){return o(i)},a)}};function zie(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],zie(e[r],t[r]))}),HW(HW({},e),t)}var NYe={type:"cancelation",msg:"operation is manually canceled"};function lP(e){var t=!1,r=new Promise(function(s,a){e.then(function(i){return t?a(NYe):s(i)}),e.catch(a)});return r.cancel=function(){return t=!0},r}var _Ye=["monaco"],SYe=mYe.create({config:pYe,isInitialized:!1,resolve:null,reject:null,monaco:null}),Wie=JKe(SYe,2),w1=Wie[0],S5=Wie[1];function kYe(e){var t=bYe.config(e),r=t.monaco,s=KKe(t,_Ye);S5(function(a){return{config:zie(a.config,s),monaco:r}})}function CYe(){var e=w1(function(t){var r=t.monaco,s=t.isInitialized,a=t.resolve;return{monaco:r,isInitialized:s,resolve:a}});if(!e.isInitialized){if(S5({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),lP(cP);if(window.monaco&&window.monaco.editor)return Vie(window.monaco),e.resolve(window.monaco),lP(cP);jYe(EYe,PYe)(TYe)}return lP(cP)}function EYe(e){return document.body.appendChild(e)}function AYe(e){var t=document.createElement("script");return e&&(t.src=e),t}function PYe(e){var t=w1(function(s){var a=s.config,i=s.reject;return{config:a,reject:i}}),r=AYe("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function TYe(){var e=w1(function(r){var s=r.config,a=r.resolve,i=r.reject;return{config:s,resolve:a,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var s=r.m||r;Vie(s),e.resolve(s)},function(r){e.reject(r)})}function Vie(e){w1().monaco||S5({monaco:e})}function OYe(){return w1(function(e){var t=e.monaco;return t})}var cP=new Promise(function(e,t){return S5({resolve:e,reject:t})}),Hie={config:kYe,init:CYe,__getMonacoInstance:OYe},IYe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},uP=IYe,RYe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},DYe=RYe;function MYe({children:e}){return at.createElement("div",{style:DYe.container},e)}var LYe=MYe,FYe=LYe;function BYe({width:e,height:t,isEditorReady:r,loading:s,_ref:a,className:i,wrapperProps:o}){return at.createElement("section",{style:{...uP.wrapper,width:e,height:t},...o},!r&&at.createElement(FYe,null,s),at.createElement("div",{ref:a,style:{...uP.fullWidth,...!r&&uP.hide},className:i}))}var UYe=BYe,Gie=N.memo(UYe);function $Ye(e){N.useEffect(e,[])}var Kie=$Ye;function qYe(e,t,r=!0){let s=N.useRef(!0);N.useEffect(s.current||!r?()=>{s.current=!1}:e,t)}var ec=qYe;function Pw(){}function vx(e,t,r,s){return zYe(e,s)||WYe(e,t,r,s)}function zYe(e,t){return e.editor.getModel(Yie(e,t))}function WYe(e,t,r,s){return e.editor.createModel(t,r,s?Yie(e,s):void 0)}function Yie(e,t){return e.Uri.parse(t)}function VYe({original:e,modified:t,language:r,originalLanguage:s,modifiedLanguage:a,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:h={},height:m="100%",width:f="100%",className:x,wrapperProps:v={},beforeMount:g=Pw,onMount:y=Pw}){let[j,b]=N.useState(!1),[_,S]=N.useState(!0),T=N.useRef(null),A=N.useRef(null),L=N.useRef(null),E=N.useRef(y),q=N.useRef(g),M=N.useRef(!1);Kie(()=>{let H=Hie.init();return H.then(re=>(A.current=re)&&S(!1)).catch(re=>(re==null?void 0:re.type)!=="cancelation"&&console.error("Monaco initialization: error:",re)),()=>T.current?O():H.cancel()}),ec(()=>{if(T.current&&A.current){let H=T.current.getOriginalEditor(),re=vx(A.current,e||"",s||r||"text",i||"");re!==H.getModel()&&H.setModel(re)}},[i],j),ec(()=>{if(T.current&&A.current){let H=T.current.getModifiedEditor(),re=vx(A.current,t||"",a||r||"text",o||"");re!==H.getModel()&&H.setModel(re)}},[o],j),ec(()=>{let H=T.current.getModifiedEditor();H.getOption(A.current.editor.EditorOption.readOnly)?H.setValue(t||""):t!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[t],j),ec(()=>{var H,re;(re=(H=T.current)==null?void 0:H.getModel())==null||re.original.setValue(e||"")},[e],j),ec(()=>{let{original:H,modified:re}=T.current.getModel();A.current.editor.setModelLanguage(H,s||r||"text"),A.current.editor.setModelLanguage(re,a||r||"text")},[r,s,a],j),ec(()=>{var H;(H=A.current)==null||H.editor.setTheme(u)},[u],j),ec(()=>{var H;(H=T.current)==null||H.updateOptions(h)},[h],j);let C=N.useCallback(()=>{var U;if(!A.current)return;q.current(A.current);let H=vx(A.current,e||"",s||r||"text",i||""),re=vx(A.current,t||"",a||r||"text",o||"");(U=T.current)==null||U.setModel({original:H,modified:re})},[r,t,a,e,s,i,o]),I=N.useCallback(()=>{var H;!M.current&&L.current&&(T.current=A.current.editor.createDiffEditor(L.current,{automaticLayout:!0,...h}),C(),(H=A.current)==null||H.editor.setTheme(u),b(!0),M.current=!0)},[h,u,C]);N.useEffect(()=>{j&&E.current(T.current,A.current)},[j]),N.useEffect(()=>{!_&&!j&&I()},[_,j,I]);function O(){var re,U,K,ee;let H=(re=T.current)==null?void 0:re.getModel();l||((U=H==null?void 0:H.original)==null||U.dispose()),c||((K=H==null?void 0:H.modified)==null||K.dispose()),(ee=T.current)==null||ee.dispose()}return at.createElement(Gie,{width:f,height:m,isEditorReady:j,loading:d,_ref:L,className:x,wrapperProps:v})}var HYe=VYe;N.memo(HYe);function GYe(e){let t=N.useRef();return N.useEffect(()=>{t.current=e},[e]),t.current}var KYe=GYe,h2=new Map;function YYe({defaultValue:e,defaultLanguage:t,defaultPath:r,value:s,language:a,path:i,theme:o="light",line:l,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:m=!1,width:f="100%",height:x="100%",className:v,wrapperProps:g={},beforeMount:y=Pw,onMount:j=Pw,onChange:b,onValidate:_=Pw}){let[S,T]=N.useState(!1),[A,L]=N.useState(!0),E=N.useRef(null),q=N.useRef(null),M=N.useRef(null),C=N.useRef(j),I=N.useRef(y),O=N.useRef(),H=N.useRef(s),re=KYe(i),U=N.useRef(!1),K=N.useRef(!1);Kie(()=>{let B=Hie.init();return B.then(D=>(E.current=D)&&L(!1)).catch(D=>(D==null?void 0:D.type)!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>q.current?X():B.cancel()}),ec(()=>{var D,Q,ie,te;let B=vx(E.current,e||s||"",t||a||"",i||r||"");B!==((D=q.current)==null?void 0:D.getModel())&&(h&&h2.set(re,(Q=q.current)==null?void 0:Q.saveViewState()),(ie=q.current)==null||ie.setModel(B),h&&((te=q.current)==null||te.restoreViewState(h2.get(i))))},[i],S),ec(()=>{var B;(B=q.current)==null||B.updateOptions(u)},[u],S),ec(()=>{!q.current||s===void 0||(q.current.getOption(E.current.editor.EditorOption.readOnly)?q.current.setValue(s):s!==q.current.getValue()&&(K.current=!0,q.current.executeEdits("",[{range:q.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),q.current.pushUndoStop(),K.current=!1))},[s],S),ec(()=>{var D,Q;let B=(D=q.current)==null?void 0:D.getModel();B&&a&&((Q=E.current)==null||Q.editor.setModelLanguage(B,a))},[a],S),ec(()=>{var B;l!==void 0&&((B=q.current)==null||B.revealLine(l))},[l],S),ec(()=>{var B;(B=E.current)==null||B.editor.setTheme(o)},[o],S);let ee=N.useCallback(()=>{var B;if(!(!M.current||!E.current)&&!U.current){I.current(E.current);let D=i||r,Q=vx(E.current,s||e||"",t||a||"",D||"");q.current=(B=E.current)==null?void 0:B.editor.create(M.current,{model:Q,automaticLayout:!0,...u},d),h&&q.current.restoreViewState(h2.get(D)),E.current.editor.setTheme(o),l!==void 0&&q.current.revealLine(l),T(!0),U.current=!0}},[e,t,r,s,a,i,u,d,h,o,l]);N.useEffect(()=>{S&&C.current(q.current,E.current)},[S]),N.useEffect(()=>{!A&&!S&&ee()},[A,S,ee]),H.current=s,N.useEffect(()=>{var B,D;S&&b&&((B=O.current)==null||B.dispose(),O.current=(D=q.current)==null?void 0:D.onDidChangeModelContent(Q=>{K.current||b(q.current.getValue(),Q)}))},[S,b]),N.useEffect(()=>{if(S){let B=E.current.editor.onDidChangeMarkers(D=>{var ie;let Q=(ie=q.current.getModel())==null?void 0:ie.uri;if(Q&&D.find(te=>te.path===Q.path)){let te=E.current.editor.getModelMarkers({resource:Q});_==null||_(te)}});return()=>{B==null||B.dispose()}}return()=>{}},[S,_]);function X(){var B,D;(B=O.current)==null||B.dispose(),m?h&&h2.set(i,q.current.saveViewState()):(D=q.current.getModel())==null||D.dispose(),q.current.dispose()}return at.createElement(Gie,{width:f,height:x,isEditorReady:S,loading:c,_ref:M,className:v,wrapperProps:g})}var JYe=YYe,XYe=N.memo(JYe),QYe=XYe;function ZYe(){const{challengeId:e}=_c(),{user:t}=un(),r=ns(),{toast:s}=Nc(),[a,i]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,h]=N.useState(null),[m,f]=N.useState(""),[x,v]=N.useState("javascript"),[g,y]=N.useState(""),[j,b]=N.useState({correctness:!1,complexity:!1,edge_cases:!1,explanation:!1}),[_,S]=N.useState(!1),[T,A]=N.useState(0),[L,E]=N.useState(null),[q,M]=N.useState(!1),[C,I]=N.useState([]);N.useEffect(()=>{O(),H()},[e,t]),N.useEffect(()=>{let X;return _&&L&&(X=setInterval(()=>{A(Math.floor((Date.now()-L)/1e3))},1e3)),()=>clearInterval(X)},[_,L]);const O=async()=>{if(e)try{const{data:X,error:B}=await se.from("technical_challenges").select("*").eq("id",e).single();if(B)throw B;u(X)}catch(X){console.error("Error loading challenge:",X),s({title:"Error",description:"Failed to load challenge",variant:"destructive"}),r("/technical-prep")}finally{i(!1)}},H=async()=>{if(!(!t||!e))try{const{data:X}=await se.from("technical_practice_attempts").select("*").eq("user_id",t.id).eq("challenge_id",e).order("created_at",{ascending:!1});if(X&&X.length>0){I(X);const B=X[0];B.status==="draft"&&(h(B),f(B.solution_code||""),v(B.language||"javascript"),y(B.notes||""),b(B.rubric_checklist||j))}}catch(X){console.error("Error loading attempts:",X)}},re=()=>{S(!0),E(Date.now()-T*1e3)},U=()=>{S(!1)},K=async X=>{if(!(!t||!e)){l(!0);try{const B={user_id:t.id,challenge_id:e,solution_code:m,language:x,notes:g,rubric_checklist:j,status:X,time_taken:_?T:null,...X==="submitted"&&{submitted_at:new Date().toISOString()}};if(d){const{error:D}=await se.from("technical_practice_attempts").update(B).eq("id",d.id);if(D)throw D}else{const{data:D,error:Q}=await se.from("technical_practice_attempts").insert(B).select().single();if(Q)throw Q;h(D)}s({title:X==="draft"?"Draft saved":"Solution submitted",description:X==="draft"?"Your progress has been saved":"Your solution has been recorded"}),X==="submitted"&&(U(),H())}catch(B){console.error("Error saving attempt:",B),s({title:"Error",description:"Failed to save your solution",variant:"destructive"})}finally{l(!1)}}},ee=X=>{const B=Math.floor(X/60),D=X%60;return`${B}:${D.toString().padStart(2,"0")}`};return a?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-muted-foreground"})})]}):c?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs(ve,{variant:"ghost",size:"sm",onClick:()=>r("/technical-prep"),children:[n.jsx(ro,{className:"h-4 w-4 mr-1"}),"Back to Challenges"]}),n.jsx("h1",{className:"text-3xl font-display font-bold",children:c.title}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx($e,{variant:"outline",className:"capitalize",children:c.difficulty}),n.jsx($e,{variant:"secondary",className:"capitalize",children:c.category})]})]}),n.jsx(ye,{className:"w-[200px]",children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(Gn,{className:"h-6 w-6 mx-auto text-muted-foreground"}),n.jsx("div",{className:"text-2xl font-mono font-bold",children:ee(T)}),n.jsx(ve,{size:"sm",variant:_?"destructive":"default",onClick:_?U:re,className:"w-full",children:_?"Stop":"Start Timer"})]})})})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Problem Statement"})}),n.jsx(_e,{className:"prose prose-sm max-w-none dark:prose-invert",children:n.jsx("div",{className:"whitespace-pre-wrap",children:c.problem_statement})})]}),c.hints&&Array.isArray(c.hints)&&c.hints.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(j_,{className:"h-5 w-5"}),"Hints"]})}),n.jsx(_e,{children:n.jsx("ul",{className:"space-y-2",children:c.hints.map((X,B)=>n.jsxs("li",{className:"text-sm text-muted-foreground",children:[B+1,". ",X]},B))})})]}),(c.solution_framework||c.best_practices)&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Vx,{className:"h-5 w-5"}),"Solution Guide"]}),n.jsx(ve,{size:"sm",variant:"outline",onClick:()=>M(!q),children:q?"Hide":"Show"})]})}),q&&n.jsxs(_e,{className:"space-y-4",children:[c.solution_framework&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Solution Framework"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:c.solution_framework})]}),c.best_practices&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Best Practices"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:c.best_practices})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"My Solution"}),n.jsxs($t,{value:x,onValueChange:v,children:[n.jsx(Ft,{className:"w-[150px]",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"javascript",children:"JavaScript"}),n.jsx(qe,{value:"typescript",children:"TypeScript"}),n.jsx(qe,{value:"python",children:"Python"}),n.jsx(qe,{value:"java",children:"Java"}),n.jsx(qe,{value:"cpp",children:"C++"})]})]})]}),n.jsx(_t,{children:"Write your solution below. Code is not executed - this is for practice and reference."})]}),n.jsx(_e,{children:n.jsx("div",{className:"border rounded-md overflow-hidden",children:n.jsx(QYe,{height:"400px",language:x,value:m,onChange:X=>f(X||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on"}})})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Self-Evaluation Rubric"}),n.jsx(_t,{children:"Check off aspects you've covered in your solution"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"correctness",checked:j.correctness,onCheckedChange:X=>b({...j,correctness:X})}),n.jsxs(Ee,{htmlFor:"correctness",className:"cursor-pointer",children:[n.jsx("span",{className:"font-medium",children:"Correctness"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Solution handles the main problem correctly"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"complexity",checked:j.complexity,onCheckedChange:X=>b({...j,complexity:X})}),n.jsxs(Ee,{htmlFor:"complexity",className:"cursor-pointer",children:[n.jsx("span",{className:"font-medium",children:"Time/Space Complexity"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzed and optimized for efficiency"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"edge_cases",checked:j.edge_cases,onCheckedChange:X=>b({...j,edge_cases:X})}),n.jsxs(Ee,{htmlFor:"edge_cases",className:"cursor-pointer",children:[n.jsx("span",{className:"font-medium",children:"Edge Cases"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Handles empty inputs, nulls, boundaries, etc."})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"explanation",checked:j.explanation,onCheckedChange:X=>b({...j,explanation:X})}),n.jsxs(Ee,{htmlFor:"explanation",className:"cursor-pointer",children:[n.jsx("span",{className:"font-medium",children:"Clear Explanation"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Can explain approach and trade-offs"})]})]})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Notes"}),n.jsx(_t,{children:"Additional thoughts or approaches"})]}),n.jsx(_e,{children:n.jsx(dr,{value:g,onChange:X=>y(X.target.value),placeholder:"Write any notes about your solution, alternative approaches, or things to remember...",className:"min-h-[100px]"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:()=>K("draft"),disabled:o,className:"flex-1",children:[o?n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(tp,{className:"mr-2 h-4 w-4"}),"Save Draft"]}),n.jsxs(ve,{onClick:()=>K("submitted"),disabled:o||!m.trim(),className:"flex-1",children:[o?n.jsx(en,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(cO,{className:"mr-2 h-4 w-4"}),"Submit Solution"]})]}),C.length>0&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{children:["Previous Attempts (",C.length,")"]}),n.jsx(_t,{children:"Click on any attempt to view its details"})]}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-2",children:C.slice(0,5).map(X=>n.jsxs("button",{onClick:()=>{f(X.solution_code||""),v(X.language||"javascript"),y(X.notes||""),b(X.rubric_checklist||j),A(X.time_taken||0),s({title:"Attempt Loaded",description:"Previous attempt has been loaded into the editor"})},className:"w-full flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors text-left",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-medium",children:[X.status==="submitted"?"Submitted":"Draft"," - ",X.language]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[X.time_taken?ee(X.time_taken):"No time recorded","  ",Object.values(X.rubric_checklist).filter(Boolean).length,"/4 criteria"]})]}),n.jsx($e,{variant:"outline",children:"View"})]},X.id))})})]})]})]})]})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Challenge not found"})})]})}const f2=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"],eJe=()=>{const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(!0);N.useEffect(()=>{c()},[]);const c=async()=>{l(!0);try{const{data:{user:E}}=await se.auth.getUser();if(!E)return;const[q,M,C]=await Promise.all([se.from("interviews").select("*").eq("user_id",E.id),se.from("mock_interview_sessions").select("*").eq("user_id",E.id),se.from("question_practice_responses").select("*").eq("user_id",E.id)]);q.data&&t(q.data),M.data&&s(M.data),C.data&&i(C.data)}catch{xe.error("Failed to load analytics data")}finally{l(!1)}},u=e.length,d=e.filter(E=>E.outcome&&E.outcome!=="pending").length,h=e.filter(E=>E.outcome==="offer").length,m=d>0?h/d*100:0,f=r.length,x=r.filter(E=>E.status==="completed").length,v=a.length,g=e.reduce((E,q)=>{const M=q.interview_type||"other";return E[M]=(E[M]||0)+1,E},{}),y=Object.entries(g).map(([E,q])=>({name:E.replace("_"," ").charAt(0).toUpperCase()+E.replace("_"," ").slice(1),value:q})),j=e.reduce((E,q)=>(q.outcome&&q.outcome!=="pending"&&(E[q.outcome]=(E[q.outcome]||0)+1),E),{}),b=Object.entries(j).map(([E,q])=>({name:E.charAt(0).toUpperCase()+E.slice(1),value:q})),_=Array.from({length:6},(E,q)=>{const M=fye(new Date,5-q);return{month:Lt(M,"MMM yyyy"),monthStart:Po(M).toISOString()}}),S=_.map(E=>{const q=e.filter(C=>{var I;return C.created_at>=E.monthStart&&C.created_at<(((I=_[_.indexOf(E)+1])==null?void 0:I.monthStart)||new Date().toISOString())}).length,M=a.filter(C=>{var I;return C.created_at>=E.monthStart&&C.created_at<(((I=_[_.indexOf(E)+1])==null?void 0:I.monthStart)||new Date().toISOString())}).length;return{month:E.month,interviews:q,practice:M}}),T=e.filter(E=>E.outcome&&E.outcome!=="pending").map(E=>{const q=a.filter(M=>new Date(M.created_at)<new Date(E.scheduled_start||E.created_at)).length;return{interview:E.interview_type||"interview",practiceCount:q,outcome:E.outcome,success:E.outcome==="offer"?1:0}}),A={offer:T.filter(E=>E.outcome==="offer").reduce((E,q)=>E+q.practiceCount,0)/(T.filter(E=>E.outcome==="offer").length||1),rejected:T.filter(E=>E.outcome==="rejected").reduce((E,q)=>E+q.practiceCount,0)/(T.filter(E=>E.outcome==="rejected").length||1)},L=[{outcome:"Offer",avgPractice:Math.round(A.offer)},{outcome:"Rejected",avgPractice:Math.round(A.rejected)}];return o?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})})]}):n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Interview Analytics"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Track your interview performance and identify areas for improvement"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Conversion Rate"]})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"text-3xl font-bold",children:[m.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[h," offers from ",d," interviews"]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4"}),"Total Interviews"]})}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-3xl font-bold",children:u}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d," completed"]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),"Mock Sessions"]})}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-3xl font-bold",children:f}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[x," completed"]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[n.jsx(pa,{className:"h-4 w-4"}),"Practice Responses"]})}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-3xl font-bold",children:v}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Question practice sessions"})]})]})]}),n.jsxs(ss,{defaultValue:"trends",className:"w-full",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"trends",children:"Trends"}),n.jsx(vt,{value:"breakdown",children:"Breakdown"}),n.jsx(vt,{value:"correlation",children:"Practice Impact"})]}),n.jsx(xt,{value:"trends",className:"space-y-4",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tO,{className:"h-5 w-5"}),"Activity Over Time"]})}),n.jsx(_e,{children:n.jsx(es,{width:"100%",height:300,children:n.jsxs(iv,{data:S,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"month"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(cu,{}),n.jsx(du,{type:"monotone",dataKey:"interviews",stroke:"hsl(var(--primary))",name:"Interviews"}),n.jsx(du,{type:"monotone",dataKey:"practice",stroke:"hsl(var(--secondary))",name:"Practice Sessions"})]})})})]})}),n.jsx(xt,{value:"breakdown",className:"space-y-4",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Interview Format Breakdown"})}),n.jsx(_e,{children:y.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Jm,{children:[n.jsx(mf,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percent:q})=>`${E} ${(q*100).toFixed(0)}%`,outerRadius:80,fill:"hsl(var(--primary))",dataKey:"value",children:y.map((E,q)=>n.jsx(bc,{fill:f2[q%f2.length]},`cell-${q}`))}),n.jsx(ts,{})]})}):n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No interview data available"})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Interview Outcomes"})}),n.jsx(_e,{children:b.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Jm,{children:[n.jsx(mf,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percent:q})=>`${E} ${(q*100).toFixed(0)}%`,outerRadius:80,fill:"hsl(var(--primary))",dataKey:"value",children:b.map((E,q)=>n.jsx(bc,{fill:f2[q%f2.length]},`cell-${q}`))}),n.jsx(ts,{})]})}):n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No outcome data available"})})]})]})}),n.jsxs(xt,{value:"correlation",className:"space-y-4",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Practice Sessions vs Outcomes"})}),n.jsxs(_e,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Average practice sessions completed before interviews by outcome"}),L.some(E=>E.avgPractice>0)?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:L,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"outcome"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(cu,{}),n.jsx(Ja,{dataKey:"avgPractice",fill:"hsl(var(--primary))",name:"Avg Practice Sessions"})]})}):n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Complete some interviews with outcomes to see correlations"})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-5 w-5"}),"Key Insights"]})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"font-medium mb-2",children:"Practice Impact"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.offer>A.rejected?`Successful candidates practiced ${Math.round((A.offer-A.rejected)/A.rejected*100)}% more on average`:"More data needed to identify practice patterns"})]}),n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"font-medium mb-2",children:"Conversion Performance"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:m>25?"Your conversion rate is above average! Keep up the great work.":m>15?"Your conversion rate is on track. Focus on preparation to improve further.":"Consider increasing practice sessions and mock interviews to boost your success rate."})]})]})]})]})]})]})})]})},tJe=({contact:e,onEdit:t,onDelete:r,onView:s})=>{const a=()=>{const i=e.relationship_strength||3;return n.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((o,l)=>n.jsx(xc,{className:`h-3 w-3 ${l<i?"fill-primary text-primary":"text-muted-foreground"}`},l))})};return n.jsxs(ye,{className:"hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>s(e.id),children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:n.jsx(su,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:e.name}),e.relationship_type&&n.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e.relationship_type})]})]}),n.jsxs(s6,{children:[n.jsx(a6,{asChild:!0,onClick:i=>i.stopPropagation(),children:n.jsx(ve,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(aO,{className:"h-4 w-4"})})}),n.jsxs(i5,{align:"end",children:[n.jsx(td,{onClick:i=>{i.stopPropagation(),s(e.id)},children:"View Details"}),n.jsx(td,{onClick:i=>{i.stopPropagation(),t(e)},children:"Edit"}),n.jsx(td,{className:"text-destructive",onClick:i=>{i.stopPropagation(),confirm("Are you sure you want to delete this contact?")&&r(e.id)},children:"Delete"})]})]})]})}),n.jsxs(_e,{className:"space-y-3",children:[e.company&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(to,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:e.company}),e.role&&n.jsxs("span",{className:"text-muted-foreground",children:[" ",e.role]})]}),n.jsxs("div",{className:"space-y-1",children:[e.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(gc,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:e.email})]}),e.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ep,{className:"h-4 w-4"}),n.jsx("span",{children:e.phone})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Strength:"}),a()]}),e.last_contacted_at&&n.jsx("span",{className:"text-xs text-muted-foreground",children:Fg(new Date(e.last_contacted_at),{addSuffix:!0})})]}),e.tags&&e.tags.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 pt-2",children:[e.tags.slice(0,3).map((i,o)=>n.jsx($e,{variant:"secondary",className:"text-xs",children:i},o)),e.tags.length>3&&n.jsxs($e,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})]})]})};var Jie=["PageUp","PageDown"],Xie=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qie={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},o0="Slider",[H3,rJe,nJe]=Ny(o0),[Zie]=di(o0,[nJe]),[sJe,k5]=Zie(o0),eoe=N.forwardRef((e,t)=>{const{name:r,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[s],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:x,...v}=e,g=N.useRef(new Set),y=N.useRef(0),b=o==="horizontal"?aJe:iJe,[_=[],S]=Xo({prop:d,defaultProp:u,onChange:M=>{var I;(I=[...g.current][y.current])==null||I.focus(),h(M)}}),T=N.useRef(_);function A(M){const C=dJe(_,M);q(M,C)}function L(M){q(M,y.current)}function E(){const M=T.current[y.current];_[y.current]!==M&&m(_)}function q(M,C,{commit:I}={commit:!1}){const O=pJe(i),H=gJe(Math.round((M-s)/i)*i+s,O),re=Ww(H,[s,a]);S((U=[])=>{const K=cJe(U,re,C);if(mJe(K,c*i)){y.current=K.indexOf(re);const ee=String(K)!==String(U);return ee&&I&&m(K),ee?K:U}else return U})}return n.jsx(sJe,{scope:e.__scopeSlider,name:r,disabled:l,min:s,max:a,valueIndexToChangeRef:y,thumbs:g.current,values:_,orientation:o,form:x,children:n.jsx(H3.Provider,{scope:e.__scopeSlider,children:n.jsx(H3.Slot,{scope:e.__scopeSlider,children:n.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:t,onPointerDown:St(v.onPointerDown,()=>{l||(T.current=_)}),min:s,max:a,inverted:f,onSlideStart:l?void 0:A,onSlideMove:l?void 0:L,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&q(s,0,{commit:!0}),onEndKeyDown:()=>!l&&q(a,_.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:C})=>{if(!l){const H=Jie.includes(M.key)||M.shiftKey&&Xie.includes(M.key)?10:1,re=y.current,U=_[re],K=i*H*C;q(U+K,re,{commit:!0})}}})})})})});eoe.displayName=o0;var[toe,roe]=Zie(o0,{startEdge:"left",endEdge:"right",size:"width",direction:1}),aJe=N.forwardRef((e,t)=>{const{min:r,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,m]=N.useState(null),f=Tr(t,b=>m(b)),x=N.useRef(void 0),v=nv(a),g=v==="ltr",y=g&&!i||!g&&i;function j(b){const _=x.current||h.getBoundingClientRect(),S=[0,_.width],A=D6(S,y?[r,s]:[s,r]);return x.current=_,A(b-_.left)}return n.jsx(toe,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:n.jsx(noe,{dir:v,"data-orientation":"horizontal",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=j(b.clientX);o==null||o(_)},onSlideMove:b=>{const _=j(b.clientX);l==null||l(_)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=Qie[y?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:S?-1:1})}})})}),iJe=N.forwardRef((e,t)=>{const{min:r,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=N.useRef(null),h=Tr(t,d),m=N.useRef(void 0),f=!a;function x(v){const g=m.current||d.current.getBoundingClientRect(),y=[0,g.height],b=D6(y,f?[s,r]:[r,s]);return m.current=g,b(v-g.top)}return n.jsx(toe,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:n.jsx(noe,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const g=x(v.clientY);i==null||i(g)},onSlideMove:v=>{const g=x(v.clientY);o==null||o(g)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:v=>{const y=Qie[f?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:y?-1:1})}})})}),noe=N.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=k5(o0,r);return n.jsx(zt.span,{...u,ref:t,onKeyDown:St(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Jie.concat(Xie).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:St(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():s(h)}),onPointerMove:St(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:St(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),soe="SliderTrack",aoe=N.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=k5(soe,r);return n.jsx(zt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})});aoe.displayName=soe;var G3="SliderRange",ioe=N.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=k5(G3,r),i=roe(G3,r),o=N.useRef(null),l=Tr(t,o),c=a.values.length,u=a.values.map(m=>coe(m,a.min,a.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return n.jsx(zt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});ioe.displayName=G3;var K3="SliderThumb",ooe=N.forwardRef((e,t)=>{const r=rJe(e.__scopeSlider),[s,a]=N.useState(null),i=Tr(t,l=>a(l)),o=N.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return n.jsx(oJe,{...e,ref:i,index:o})}),oJe=N.forwardRef((e,t)=>{const{__scopeSlider:r,index:s,name:a,...i}=e,o=k5(K3,r),l=roe(K3,r),[c,u]=N.useState(null),d=Tr(t,j=>u(j)),h=c?o.form||!!c.closest("form"):!0,m=E_(c),f=o.values[s],x=f===void 0?0:coe(f,o.min,o.max),v=uJe(s,o.values.length),g=m==null?void 0:m[l.size],y=g?hJe(g,x,l.direction):0;return N.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${y}px)`},children:[n.jsx(H3.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(zt.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:f===void 0?{display:"none"}:e.style,onFocus:St(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&n.jsx(loe,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},s)]})});ooe.displayName=K3;var lJe="RadioBubbleInput",loe=N.forwardRef(({__scopeSlider:e,value:t,...r},s)=>{const a=N.useRef(null),i=Tr(a,s),o=Z_(t);return N.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),n.jsx(zt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});loe.displayName=lJe;function cJe(e=[],t,r){const s=[...e];return s[r]=t,s.sort((a,i)=>a-i)}function coe(e,t,r){const i=100/(r-t)*(e-t);return Ww(i,[0,100])}function uJe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function dJe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),s=Math.min(...r);return r.indexOf(s)}function hJe(e,t,r){const s=e/2,i=D6([0,50],[0,s]);return(s-i(t)*r)*r}function fJe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function mJe(e,t){if(t>0){const r=fJe(e);return Math.min(...r)>=t}return!0}function D6(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function pJe(e){return(String(e).split(".")[1]||"").length}function gJe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var uoe=eoe,vJe=aoe,xJe=ioe,yJe=ooe;const ym=N.forwardRef(({className:e,...t},r)=>n.jsxs(uoe,{ref:r,className:Pt("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(vJe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(xJe,{className:"absolute h-full bg-primary"})}),n.jsx(yJe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ym.displayName=uoe.displayName;const doe=({contact:e,onSuccess:t,onCancel:r})=>{const[s,a]=N.useState({name:"",email:"",phone:"",company:"",role:"",relationship_type:"professional",tags:"",notes:"",interests:"",relationship_strength:3,linkedin_url:""}),[i,o]=N.useState(!1);N.useEffect(()=>{var c;e&&a({name:e.name||"",email:e.email||"",phone:e.phone||"",company:e.company||"",role:e.role||"",relationship_type:e.relationship_type||"professional",tags:((c=e.tags)==null?void 0:c.join(", "))||"",notes:e.notes||"",interests:e.interests||"",relationship_strength:e.relationship_strength||3,linkedin_url:e.linkedin_url||""})},[e]);const l=async c=>{c.preventDefault(),o(!0);try{const{data:{user:u}}=await se.auth.getUser();if(!u)throw new Error("Not authenticated");const d=s.tags.split(",").map(m=>m.trim()).filter(m=>m.length>0),h={name:s.name,email:s.email||null,phone:s.phone||null,company:s.company||null,role:s.role||null,relationship_type:s.relationship_type,tags:d,notes:s.notes||null,interests:s.interests||null,relationship_strength:s.relationship_strength,linkedin_url:s.linkedin_url||null,user_id:u.id};if(e){const{error:m}=await se.from("contacts").update(h).eq("id",e.id);if(m)throw m;xe.success("Contact updated successfully")}else{const{error:m}=await se.from("contacts").insert(h);if(m)throw m;xe.success("Contact created successfully")}t()}catch(u){xe.error(e?"Failed to update contact":"Failed to create contact",{description:u.message})}finally{o(!1)}};return n.jsxs("form",{onSubmit:l,className:"space-y-6",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:e?"Edit Contact":"Add New Contact"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"name",children:"Name *"}),n.jsx(Je,{id:"name",value:s.name,onChange:c=>a({...s,name:c.target.value}),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"email",children:"Email"}),n.jsx(Je,{id:"email",type:"email",value:s.email,onChange:c=>a({...s,email:c.target.value})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"phone",children:"Phone"}),n.jsx(Je,{id:"phone",type:"tel",value:s.phone,onChange:c=>a({...s,phone:c.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"linkedin_url",children:"LinkedIn Profile"}),n.jsx(Je,{id:"linkedin_url",type:"url",placeholder:"https://linkedin.com/in/username",value:s.linkedin_url,onChange:c=>a({...s,linkedin_url:c.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"relationship_type",children:"Relationship Type"}),n.jsxs($t,{value:s.relationship_type,onValueChange:c=>a({...s,relationship_type:c}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"professional",children:"Professional"}),n.jsx(qe,{value:"personal",children:"Personal"}),n.jsx(qe,{value:"mentor",children:"Mentor"}),n.jsx(qe,{value:"mentee",children:"Mentee"}),n.jsx(qe,{value:"colleague",children:"Colleague"}),n.jsx(qe,{value:"recruiter",children:"Recruiter"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"company",children:"Company"}),n.jsx(Je,{id:"company",value:s.company,onChange:c=>a({...s,company:c.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"role",children:"Role"}),n.jsx(Je,{id:"role",value:s.role,onChange:c=>a({...s,role:c.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"tags",children:"Tags (comma-separated)"}),n.jsx(Je,{id:"tags",placeholder:"engineering, react, startup",value:s.tags,onChange:c=>a({...s,tags:c.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"interests",children:"Interests"}),n.jsx(Je,{id:"interests",placeholder:"What are they interested in?",value:s.interests,onChange:c=>a({...s,interests:c.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"notes",children:"Notes"}),n.jsx(dr,{id:"notes",rows:3,placeholder:"Any additional notes about this contact...",value:s.notes,onChange:c=>a({...s,notes:c.target.value})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Relationship Strength"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ym,{value:[s.relationship_strength],onValueChange:([c])=>a({...s,relationship_strength:c}),min:1,max:5,step:1,className:"flex-1"}),n.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((c,u)=>n.jsx(xc,{className:`h-4 w-4 ${u<s.relationship_strength?"fill-primary text-primary":"text-muted-foreground"}`},u))})]})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:i,children:i?"Saving...":e?"Update Contact":"Create Contact"})]})]})},wJe=({open:e,onOpenChange:t,onImportComplete:r})=>{const[s,a]=N.useState(!1),[i,o]=N.useState(null),l=async()=>{a(!0);try{const{data:u,error:d}=await se.functions.invoke("google-contacts-import",{body:{action:"start_oauth"}});if(d)throw d;u.authUrl&&(window.location.href=u.authUrl)}catch(u){xe.error("Failed to start Google import",{description:u.message})}finally{a(!1)}},c=async()=>{if(!i){xe.error("Please select a CSV file");return}a(!0);try{const{data:{user:u}}=await se.auth.getUser();if(!u)throw new Error("Not authenticated");const h=(await i.text()).split(`
`),m=h[0].toLowerCase().split(",").map(v=>v.trim()),f=[],x=[];for(let v=1;v<h.length;v++){const g=h[v].split(",").map(j=>j.trim());if(g.length<2)continue;const y={user_id:u.id};if(m.forEach((j,b)=>{const _=g[b]||"";j==="name"||j==="full name"?y.name=_:j==="email"?y.email=_||null:j==="phone"?y.phone=_||null:j==="company"?y.company=_||null:(j==="role"||j==="title")&&(y.role=_||null)}),!!y.name){if(y.email){const{data:j}=await se.from("contacts").select("id, name").eq("user_id",u.id).eq("email",y.email).single();if(j){x.push({...y,existingName:j.name});continue}}f.push(y)}}if(f.length>0){const{error:v}=await se.from("contacts").insert(f);if(v)throw v}xe.success(`Imported ${f.length} contacts${x.length>0?`, skipped ${x.length} duplicates`:""}`),r(),t(!1)}catch(u){xe.error("Failed to import CSV",{description:u.message})}finally{a(!1)}};return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"max-w-2xl",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Import Contacts"})}),n.jsxs(ss,{defaultValue:"google",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-2",children:[n.jsxs(vt,{value:"google",children:[n.jsx(JV,{className:"h-4 w-4 mr-2"}),"Google Contacts"]}),n.jsxs(vt,{value:"csv",children:[n.jsx(bs,{className:"h-4 w-4 mr-2"}),"CSV File"]})]}),n.jsxs(xt,{value:"google",className:"space-y-4",children:[n.jsx(Is,{children:n.jsx(Rs,{children:"Connect your Google account to import contacts. Duplicates will be automatically detected by email."})}),n.jsxs(ve,{onClick:l,disabled:s,className:"w-full",children:[n.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Connecting...":"Import from Google Contacts"]})]}),n.jsxs(xt,{value:"csv",className:"space-y-4",children:[n.jsx(Is,{children:n.jsx(Rs,{children:"Upload a CSV file with headers: name, email, phone, company, role. Duplicates by email will be skipped."})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Select CSV File"}),n.jsx(Je,{type:"file",accept:".csv",onChange:u=>{var d;return o(((d=u.target.files)==null?void 0:d[0])||null)},disabled:s})]}),n.jsxs(ve,{onClick:c,disabled:s||!i,className:"w-full",children:[n.jsx(aH,{className:"h-4 w-4 mr-2"}),s?"Importing...":"Import CSV"]})]})]})]})})},bJe=({open:e,onOpenChange:t,onContactAdded:r})=>{const[s,a]=N.useState(""),[i,o]=N.useState(""),[l,c]=N.useState([]),[u,d]=N.useState([]),[h,m]=N.useState([]),[f,x]=N.useState(!1);N.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const{data:{user:y}}=await se.auth.getUser();if(!y)return;const{data:j}=await se.from("contacts").select("*").eq("user_id",y.id);if(j&&j.length>0){const b=j.filter(_=>{if(!_.tags||_.tags.length===0)return!1;const S=_.tags.map(T=>T.toLowerCase());return j.some(T=>T.id!==_.id&&T.tags&&Array.isArray(T.tags)&&T.tags.some(A=>S.includes(A.toLowerCase())))}).slice(0,5);d(b)}}catch(y){console.error("Failed to load discovery data:",y)}},g=async()=>{if(!s&&!i){xe.error("Please enter a company or role");return}x(!0);try{const{data:{user:y}}=await se.auth.getUser();if(!y)throw new Error("Not authenticated");let j=se.from("contacts").select("*").eq("user_id",y.id);s&&(j=j.ilike("company",`%${s}%`)),i&&(j=j.ilike("role",`%${i}%`));const{data:b,error:_}=await j.limit(10);if(_)throw _;if(c(b||[]),b&&b.length>0){const S=b.map(T=>({contact:T,path:"1st degree connection",strength:T.relationship_strength||3}));m(S)}}catch(y){xe.error("Search failed",{description:y.message})}finally{x(!1)}};return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Discover Industry Contacts"})}),n.jsxs(ss,{defaultValue:"targeted",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-3",children:[n.jsxs(vt,{value:"targeted",children:[n.jsx(to,{className:"h-4 w-4 mr-2"}),"Targeted"]}),n.jsxs(vt,{value:"mutual",children:[n.jsx(tn,{className:"h-4 w-4 mr-2"}),"Mutual Interests"]}),n.jsxs(vt,{value:"paths",children:[n.jsx(Gr,{className:"h-4 w-4 mr-2"}),"Connection Paths"]})]}),n.jsxs(xt,{value:"targeted",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Company"}),n.jsx(Je,{placeholder:"e.g., Google, Microsoft",value:s,onChange:y=>a(y.target.value),onKeyDown:y=>y.key==="Enter"&&g()})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Role"}),n.jsx(Je,{placeholder:"e.g., Software Engineer, Product Manager",value:i,onChange:y=>o(y.target.value),onKeyDown:y=>y.key==="Enter"&&g()})]})]}),n.jsxs(ve,{onClick:g,disabled:f,className:"w-full",children:[n.jsx(vc,{className:"h-4 w-4 mr-2"}),f?"Searching...":"Find Contacts"]}),l.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"font-semibold",children:["Suggested Contacts (",l.length,")"]}),l.map(y=>n.jsx(ye,{children:n.jsx(_e,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx("h4",{className:"font-semibold",children:y.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.role&&`${y.role}  `,y.company]}),y.tags&&y.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:y.tags.slice(0,3).map((j,b)=>n.jsx($e,{variant:"secondary",className:"text-xs",children:j},b))})]}),n.jsx($e,{variant:"outline",children:"In Network"})]})})},y.id))]})]}),n.jsxs(xt,{value:"mutual",className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Contacts who share similar interests or tags with you"}),u.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No mutual interest matches found"})]}):n.jsx("div",{className:"space-y-3",children:u.map(y=>n.jsx(ye,{children:n.jsx(_e,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx("h4",{className:"font-semibold",children:y.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.company," ",y.role&&` ${y.role}`]}),y.tags&&y.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:y.tags.map((j,b)=>n.jsx($e,{variant:"secondary",className:"text-xs",children:j},b))})]}),n.jsx($e,{children:"Match"})]})})},y.id))})]}),n.jsxs(xt,{value:"paths",className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection paths to target contacts"}),h.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Gr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No connection paths found. Search for targets first."})]}):n.jsx("div",{className:"space-y-3",children:h.map((y,j)=>n.jsx(ye,{children:n.jsx(_e,{className:"p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:y.contact.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.contact.company," ",y.contact.role&&` ${y.contact.role}`]})]}),n.jsx($e,{variant:"outline",children:y.path})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx("span",{children:"Strength:"}),n.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((b,_)=>n.jsx("div",{className:`h-2 w-2 rounded-full ${_<y.strength?"bg-primary":"bg-muted"}`},_))})]})]})})},j))})]})]})]})})},jJe=()=>{const e=ns(),[t,r]=N.useState([]),[s,a]=N.useState([]),[i,o]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(),[h,m]=N.useState(!0),[f,x]=N.useState(!1),[v,g]=N.useState(!1);N.useEffect(()=>{y()},[]),N.useEffect(()=>{if(i){const A=t.filter(L=>{var E,q,M;return L.name.toLowerCase().includes(i.toLowerCase())||((E=L.company)==null?void 0:E.toLowerCase().includes(i.toLowerCase()))||((q=L.role)==null?void 0:q.toLowerCase().includes(i.toLowerCase()))||((M=L.email)==null?void 0:M.toLowerCase().includes(i.toLowerCase()))});a(A)}else a(t)},[i,t]);const y=async()=>{try{const{data:A,error:L}=await se.from("contacts").select("*").order("created_at",{ascending:!1});if(L)throw L;r(A||[]),a(A||[])}catch(A){xe.error("Failed to load contacts",{description:A.message})}finally{m(!1)}},j=()=>{d(void 0),c(!0)},b=A=>{d(A),c(!0)},_=async A=>{try{const{error:L}=await se.from("contacts").delete().eq("id",A);if(L)throw L;xe.success("Contact deleted successfully"),y()}catch(L){xe.error("Failed to delete contact",{description:L.message})}},S=()=>{c(!1),d(void 0),y()},T=A=>{e(`/contacts/${A}`)};return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(tn,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Contacts"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your professional network"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:()=>g(!0),children:[n.jsx(vc,{className:"h-4 w-4 mr-2"}),"Discover"]}),n.jsx(ve,{variant:"outline",onClick:()=>x(!0),children:"Import"}),n.jsxs(ve,{onClick:j,children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Contact"]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search contacts by name, company, role, or email...",value:i,onChange:A=>o(A.target.value),className:"pl-10"})]}),h?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((A,L)=>n.jsx("div",{className:"h-48 rounded-lg border bg-card animate-pulse"},L))}):s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(tn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:i?"No contacts found":"No contacts yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:i?"Try adjusting your search query":"Start building your professional network by adding your first contact"}),!i&&n.jsxs(ve,{onClick:j,children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Your First Contact"]})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(A=>n.jsx(tJe,{contact:A,onEdit:b,onDelete:_,onView:T},A.id))})]})}),n.jsx(Wr,{open:l,onOpenChange:c,children:n.jsx(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(doe,{contact:u,onSuccess:S,onCancel:()=>c(!1)})})}),n.jsx(wJe,{open:f,onOpenChange:x,onImportComplete:y}),n.jsx(bJe,{open:v,onOpenChange:g,onContactAdded:y})]})},NJe={email:gc,call:ep,coffee:ice,linkedin:qi,meeting:au,other:qi},_Je=({contactId:e,onUpdate:t})=>{const[r,s]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState({interaction_type:"email",interaction_date:Lt(new Date,"yyyy-MM-dd'T'HH:mm"),notes:"",outcome:""}),[c,u]=N.useState(!1);N.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:m,error:f}=await se.from("contact_interactions").select("*").eq("contact_id",e).order("interaction_date",{ascending:!1});if(f)throw f;s(m||[])}catch(m){console.error("Failed to load interactions:",m)}},h=async m=>{m.preventDefault(),u(!0);try{const{data:{user:f}}=await se.auth.getUser();if(!f)throw new Error("Not authenticated");const{error:x}=await se.from("contact_interactions").insert({contact_id:e,user_id:f.id,interaction_type:o.interaction_type,interaction_date:o.interaction_date,notes:o.notes||null,outcome:o.outcome||null});if(x)throw x;await se.from("contacts").update({last_contacted_at:o.interaction_date}).eq("id",e),xe.success("Interaction logged successfully"),i(!1),l({interaction_type:"email",interaction_date:Lt(new Date,"yyyy-MM-dd'T'HH:mm"),notes:"",outcome:""}),d(),t==null||t()}catch(f){xe.error("Failed to log interaction",{description:f.message})}finally{u(!1)}};return n.jsxs(n.Fragment,{children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Interaction Timeline"}),n.jsxs(ve,{size:"sm",onClick:()=>i(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Log Interaction"]})]})}),n.jsx(_e,{children:r.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qi,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No interactions logged yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Start tracking your conversations"})]}):n.jsx("div",{className:"space-y-4",children:r.map(m=>{const f=NJe[m.interaction_type]||qi;return n.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0 last:pb-0",children:[n.jsx("div",{className:"rounded-full bg-primary/10 p-2 h-fit",children:n.jsx(f,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium capitalize",children:m.interaction_type}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Lt(new Date(m.interaction_date),"MMM d, yyyy h:mm a")})]}),m.notes&&n.jsx("p",{className:"text-sm text-muted-foreground",children:m.notes}),m.outcome&&n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Outcome:"})," ",m.outcome]})]})]},m.id)})})})]}),n.jsx(Wr,{open:a,onOpenChange:i,children:n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Log Interaction"})}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"interaction_type",children:"Interaction Type *"}),n.jsxs($t,{value:o.interaction_type,onValueChange:m=>l({...o,interaction_type:m}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"email",children:"Email"}),n.jsx(qe,{value:"call",children:"Phone Call"}),n.jsx(qe,{value:"coffee",children:"Coffee/Meal"}),n.jsx(qe,{value:"linkedin",children:"LinkedIn Message"}),n.jsx(qe,{value:"meeting",children:"Meeting"}),n.jsx(qe,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"interaction_date",children:"Date & Time *"}),n.jsx(Je,{id:"interaction_date",type:"datetime-local",value:o.interaction_date,onChange:m=>l({...o,interaction_date:m.target.value}),required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"notes",children:"Notes"}),n.jsx(dr,{id:"notes",rows:3,placeholder:"What did you discuss?",value:o.notes,onChange:m=>l({...o,notes:m.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"outcome",children:"Outcome"}),n.jsx(Je,{id:"outcome",placeholder:"e.g., Scheduled follow-up, Got referral, etc.",value:o.outcome,onChange:m=>l({...o,outcome:m.target.value})})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:c,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:c,children:c?"Saving...":"Log Interaction"})]})]})]})})]})},SJe=({contactId:e})=>{const[t,r]=N.useState([]),[s,a]=N.useState(!1),[i,o]=N.useState({reminder_date:Lt(new Date(Date.now()+10080*60*1e3),"yyyy-MM-dd'T'HH:mm"),notes:""}),[l,c]=N.useState(!1);N.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:g,error:y}=await se.from("contact_reminders").select("*").eq("contact_id",e).order("reminder_date",{ascending:!0});if(y)throw y;r(g||[])}catch(g){console.error("Failed to load reminders:",g)}},d=async g=>{g.preventDefault(),c(!0);try{const{data:{user:y}}=await se.auth.getUser();if(!y)throw new Error("Not authenticated");const{error:j}=await se.from("contact_reminders").insert({contact_id:e,user_id:y.id,reminder_date:i.reminder_date,notes:i.notes||null});if(j)throw j;xe.success("Reminder set successfully"),a(!1),o({reminder_date:Lt(new Date(Date.now()+10080*60*1e3),"yyyy-MM-dd'T'HH:mm"),notes:""}),u()}catch(y){xe.error("Failed to set reminder",{description:y.message})}finally{c(!1)}},h=async(g,y)=>{try{const{error:j}=await se.from("contact_reminders").update({completed:!y}).eq("id",g);if(j)throw j;u()}catch(j){xe.error("Failed to update reminder",{description:j.message})}},m=async g=>{try{const{error:y}=await se.from("contact_reminders").delete().eq("id",g);if(y)throw y;xe.success("Reminder deleted"),u()}catch(y){xe.error("Failed to delete reminder",{description:y.message})}},f=t.filter(g=>!g.completed&&!Q2(new Date(g.reminder_date))),x=t.filter(g=>!g.completed&&Q2(new Date(g.reminder_date))),v=t.filter(g=>g.completed);return n.jsxs(n.Fragment,{children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Reminders"}),n.jsxs(ve,{size:"sm",onClick:()=>a(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Set Reminder"]})]})}),n.jsx(_e,{children:t.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(L2,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No reminders set"}),n.jsx("p",{className:"text-xs mt-1",children:"Set a reminder to follow up"})]}):n.jsxs("div",{className:"space-y-4",children:[x.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-destructive mb-2",children:"Overdue"}),x.map(g=>n.jsxs("div",{className:"flex items-start gap-3 mb-3 p-2 rounded bg-destructive/10",children:[n.jsx(ga,{checked:g.completed,onCheckedChange:()=>h(g.id,g.completed)}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-3 w-3 text-destructive"}),n.jsx("span",{className:"text-xs text-destructive",children:Lt(new Date(g.reminder_date),"MMM d, yyyy h:mm a")})]}),g.notes&&n.jsx("p",{className:"text-sm text-muted-foreground",children:g.notes})]}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this reminder?")&&m(g.id)},children:n.jsx(Ws,{className:"h-3 w-3"})})]},g.id))]}),f.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Upcoming"}),f.map(g=>n.jsxs("div",{className:"flex items-start gap-3 mb-3 p-2 rounded hover:bg-muted/50",children:[n.jsx(ga,{checked:g.completed,onCheckedChange:()=>h(g.id,g.completed)}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Lt(new Date(g.reminder_date),"MMM d, yyyy h:mm a")})]}),g.notes&&n.jsx("p",{className:"text-sm",children:g.notes})]}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this reminder?")&&m(g.id)},children:n.jsx(Ws,{className:"h-3 w-3"})})]},g.id))]}),v.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Completed"}),v.map(g=>n.jsxs("div",{className:"flex items-start gap-3 mb-3 p-2 rounded opacity-50",children:[n.jsx(ga,{checked:g.completed,onCheckedChange:()=>h(g.id,g.completed)}),n.jsxs("div",{className:"flex-1 space-y-1 line-through",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-3 w-3"}),n.jsx("span",{className:"text-xs",children:Lt(new Date(g.reminder_date),"MMM d, yyyy h:mm a")})]}),g.notes&&n.jsx("p",{className:"text-sm",children:g.notes})]}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this reminder?")&&m(g.id)},children:n.jsx(Ws,{className:"h-3 w-3"})})]},g.id))]})]})})]}),n.jsx(Wr,{open:s,onOpenChange:a,children:n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Set Reminder"})}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"reminder_date",children:"Reminder Date & Time *"}),n.jsx(Je,{id:"reminder_date",type:"datetime-local",value:i.reminder_date,onChange:g=>o({...i,reminder_date:g.target.value}),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"reminder_notes",children:"Notes"}),n.jsx(dr,{id:"reminder_notes",rows:3,placeholder:"What should you follow up about?",value:i.notes,onChange:g=>o({...i,notes:g.target.value})})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:l,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:l,children:l?"Setting...":"Set Reminder"})]})]})]})})]})},kJe=()=>{const{id:e}=_c(),t=ns(),[r,s]=N.useState(null),[a,i]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(!1);N.useEffect(()=>{e&&(d(),h())},[e]);const d=async()=>{try{const{data:x,error:v}=await se.from("contacts").select("*").eq("id",e).single();if(v)throw v;s(x)}catch(x){xe.error("Failed to load contact",{description:x.message}),t("/contacts")}finally{l(!1)}},h=async()=>{try{const{data:x,error:v}=await se.from("contact_job_links").select(`
          job_id,
          jobs:job_id (
            id,
            job_title,
            company_name,
            status
          )
        `).eq("contact_id",e);if(v)throw v;i((x==null?void 0:x.map(g=>g.jobs))||[])}catch(x){console.error("Failed to load linked jobs:",x)}},m=()=>{const x=(r==null?void 0:r.relationship_strength)||3;return n.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((v,g)=>n.jsx(xc,{className:`h-4 w-4 ${g<x?"fill-primary text-primary":"text-muted-foreground"}`},g))})},f=()=>{u(!1),d()};return o?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[n.jsx("div",{className:"h-8 w-48 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-lg"})]})})]}):r?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>t("/contacts"),children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Contacts"]}),n.jsxs(ve,{onClick:()=>u(!0),children:[n.jsx(xf,{className:"h-4 w-4 mr-2"}),"Edit Contact"]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:n.jsx(su,{className:"h-8 w-8 text-primary"})}),n.jsxs("div",{children:[n.jsx(De,{className:"text-2xl",children:r.name}),r.relationship_type&&n.jsx("p",{className:"text-sm text-muted-foreground capitalize mt-1",children:r.relationship_type})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Strength:"}),m()]}),r.last_contacted_at&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last contact: ",Fg(new Date(r.last_contacted_at),{addSuffix:!0})]})]})]})}),n.jsxs(_e,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[r.company&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(to,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:r.company}),r.role&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r.role})]})]}),r.email&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gc,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("a",{href:`mailto:${r.email}`,className:"text-primary hover:underline",children:r.email})]}),r.phone&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ep,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("a",{href:`tel:${r.phone}`,className:"text-primary hover:underline",children:r.phone})]})]}),n.jsxs("div",{className:"space-y-4",children:[r.interests&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Interests"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.interests})]}),r.tags&&r.tags.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((x,v)=>n.jsx($e,{variant:"secondary",children:x},v))})]}),a.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Linked Jobs"}),n.jsx("div",{className:"space-y-2",children:a.map(x=>n.jsxs("div",{className:"flex items-center gap-2 text-sm cursor-pointer hover:text-primary",onClick:()=>t("/jobs"),children:[n.jsx(Fa,{className:"h-4 w-4"}),n.jsxs("span",{children:[x.job_title," at ",x.company_name]})]},x.id))})]})]})]}),r.notes&&n.jsxs("div",{className:"pt-4 border-t",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})]})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsx(_Je,{contactId:r.id,onUpdate:d}),n.jsx(SJe,{contactId:r.id})]})]})}),n.jsx(Wr,{open:c,onOpenChange:u,children:n.jsx(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(doe,{contact:r,onSuccess:f,onCancel:()=>u(!1)})})})]}):null},JW=({event:e,onEdit:t,onDelete:r,onView:s})=>{const a=QK(new Date(e.event_date)),i=Q2(new Date(e.event_date));return n.jsxs(ye,{className:"hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>s(e.id),children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold",children:e.title}),e.attended&&n.jsx(ma,{className:"h-4 w-4 text-green-500"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(mr,{className:"h-3 w-3"}),n.jsx("span",{children:Lt(new Date(e.event_date),"PPP")})]})]}),n.jsxs(s6,{children:[n.jsx(a6,{asChild:!0,onClick:o=>o.stopPropagation(),children:n.jsx(ve,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(aO,{className:"h-4 w-4"})})}),n.jsxs(i5,{align:"end",children:[n.jsx(td,{onClick:o=>{o.stopPropagation(),s(e.id)},children:"View Details"}),n.jsx(td,{onClick:o=>{o.stopPropagation(),t(e)},children:"Edit"}),n.jsx(td,{className:"text-destructive",onClick:o=>{o.stopPropagation(),confirm("Are you sure you want to delete this event?")&&r(e.id)},children:"Delete"})]})]})]})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($e,{variant:a?"default":"secondary",children:a?"Upcoming":"Past"}),n.jsx($e,{variant:"outline",className:"capitalize",children:e.event_type==="virtual"?n.jsxs(n.Fragment,{children:[n.jsx(au,{className:"h-3 w-3 mr-1"})," Virtual"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ao,{className:"h-3 w-3 mr-1"})," In-person"]})})]}),e.location&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Ao,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:e.location})]}),e.goals&&n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.goals}),e.prep_checklist&&e.prep_checklist.length>0&&!i&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-2 border-t",children:[n.jsx(tn,{className:"h-3 w-3"}),n.jsxs("span",{children:[e.prep_checklist.filter(o=>o.completed).length,"/",e.prep_checklist.length," checklist items"]})]})]})]})},hoe=({event:e,onSuccess:t,onCancel:r})=>{const[s,a]=N.useState({title:"",event_date:Lt(new Date,"yyyy-MM-dd'T'HH:mm"),location:"",event_type:"in-person",goals:"",notes:"",attended:!1}),[i,o]=N.useState([]),[l,c]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{e&&(a({title:e.title||"",event_date:e.event_date?Lt(new Date(e.event_date),"yyyy-MM-dd'T'HH:mm"):Lt(new Date,"yyyy-MM-dd'T'HH:mm"),location:e.location||"",event_type:e.event_type||"in-person",goals:e.goals||"",notes:e.notes||"",attended:e.attended||!1}),o(e.prep_checklist||[]))},[e]);const h=()=>{l.trim()&&(o([...i,{label:l,completed:!1}]),c(""))},m=v=>{const g=[...i];g[v].completed=!g[v].completed,o(g)},f=v=>{o(i.filter((g,y)=>y!==v))},x=async v=>{v.preventDefault(),d(!0);try{const{data:{user:g}}=await se.auth.getUser();if(!g)throw new Error("Not authenticated");const y={title:s.title,event_date:s.event_date,location:s.location||null,event_type:s.event_type,goals:s.goals||null,notes:s.notes||null,attended:s.attended,prep_checklist:i,user_id:g.id};if(e){const{error:j}=await se.from("networking_events").update(y).eq("id",e.id);if(j)throw j;xe.success("Event updated successfully")}else{const{error:j}=await se.from("networking_events").insert(y);if(j)throw j;xe.success("Event created successfully")}t()}catch(g){xe.error(e?"Failed to update event":"Failed to create event",{description:g.message})}finally{d(!1)}};return n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:e?"Edit Event":"Add Networking Event"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"title",children:"Event Title *"}),n.jsx(Je,{id:"title",value:s.title,onChange:v=>a({...s,title:v.target.value}),placeholder:"e.g., Tech Networking Mixer",required:!0})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"event_date",children:"Date & Time *"}),n.jsx(Je,{id:"event_date",type:"datetime-local",value:s.event_date,onChange:v=>a({...s,event_date:v.target.value}),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"event_type",children:"Type *"}),n.jsxs($t,{value:s.event_type,onValueChange:v=>a({...s,event_type:v}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"in-person",children:"In-person"}),n.jsx(qe,{value:"virtual",children:"Virtual"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"location",children:"Location"}),n.jsx(Je,{id:"location",value:s.location,onChange:v=>a({...s,location:v.target.value}),placeholder:"Address or video call link"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"goals",children:"Goals"}),n.jsx(dr,{id:"goals",rows:2,placeholder:"What do you want to achieve at this event?",value:s.goals,onChange:v=>a({...s,goals:v.target.value})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Prep Checklist"}),n.jsx("div",{className:"space-y-2",children:i.map((v,g)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ga,{checked:v.completed,onCheckedChange:()=>m(g)}),n.jsx("span",{className:`flex-1 text-sm ${v.completed?"line-through text-muted-foreground":""}`,children:v.label}),n.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(g),children:n.jsx(Ws,{className:"h-3 w-3"})})]},g))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{placeholder:"Add checklist item...",value:l,onChange:v=>c(v.target.value),onKeyPress:v=>v.key==="Enter"&&(v.preventDefault(),h())}),n.jsx(ve,{type:"button",variant:"outline",size:"sm",onClick:h,children:n.jsx(Jr,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"notes",children:"Notes"}),n.jsx(dr,{id:"notes",rows:3,placeholder:"Any additional notes...",value:s.notes,onChange:v=>a({...s,notes:v.target.value})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ga,{id:"attended",checked:s.attended,onCheckedChange:v=>a({...s,attended:!!v})}),n.jsx(Ee,{htmlFor:"attended",className:"cursor-pointer",children:"Mark as attended"})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:r,disabled:u,children:"Cancel"}),n.jsx(ve,{type:"submit",disabled:u,children:u?"Saving...":e?"Update Event":"Create Event"})]})]})},CJe=({events:e})=>{const[t,r]=N.useState({totalAttended:0,totalConnections:0,opportunitiesGenerated:0,interviewsSourced:0}),[s,a]=N.useState(!0);N.useEffect(()=>{i()},[e]);const i=async()=>{try{const l=e.filter(v=>v.attended),c=l.map(v=>v.id);if(c.length===0){r({totalAttended:0,totalConnections:0,opportunitiesGenerated:0,interviewsSourced:0}),a(!1);return}const{data:u,error:d}=await se.from("event_connections").select("id").in("event_id",c);if(d)throw d;const{data:h,error:m}=await se.from("event_outcomes").select("*").in("event_id",c);if(m)throw m;const f=(h==null?void 0:h.filter(v=>["referral_requested","application_influenced"].includes(v.outcome_type)).length)||0,x=(h==null?void 0:h.filter(v=>v.outcome_type==="interview_sourced").length)||0;r({totalAttended:l.length,totalConnections:(u==null?void 0:u.length)||0,opportunitiesGenerated:f,interviewsSourced:x})}catch(l){console.error("Failed to load ROI data:",l)}finally{a(!1)}},o=[{label:"Events Attended",value:t.totalAttended,icon:mr,color:"text-blue-500",bgColor:"bg-blue-500/10"},{label:"Connections Made",value:t.totalConnections,icon:tn,color:"text-purple-500",bgColor:"bg-purple-500/10"},{label:"Opportunities",value:t.opportunitiesGenerated,icon:Fa,color:"text-orange-500",bgColor:"bg-orange-500/10"},{label:"Interviews Sourced",value:t.interviewsSourced,icon:Gr,color:"text-green-500",bgColor:"bg-green-500/10"}];return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Networking ROI"]})}),n.jsx(_e,{children:s?n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[...Array(4)].map((l,c)=>n.jsx("div",{className:"h-24 rounded-lg border animate-pulse bg-muted"},c))}):e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(mr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No events yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Add events to track your networking ROI"})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:o.map((l,c)=>{const u=l.icon;return n.jsxs("div",{className:"rounded-lg border p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`rounded-lg ${l.bgColor} p-2`,children:n.jsx(u,{className:`h-4 w-4 ${l.color}`})}),n.jsx("p",{className:"text-2xl font-bold",children:l.value})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:l.label})]},c)})})})]})},XW={technology:[{title:"Tech Innovation Summit",date:"2024-03-15",location:"San Francisco, CA",type:"conference"},{title:"AI & ML Meetup",date:"2024-03-20",location:"New York, NY",type:"meetup"},{title:"Startup Pitch Night",date:"2024-03-25",location:"Austin, TX",type:"networking"}],finance:[{title:"FinTech Forum",date:"2024-03-18",location:"Chicago, IL",type:"conference"},{title:"Investment Banking Mixer",date:"2024-03-22",location:"Boston, MA",type:"networking"}],healthcare:[{title:"HealthTech Expo",date:"2024-03-12",location:"Seattle, WA",type:"conference"},{title:"Medical Professionals Network",date:"2024-03-28",location:"Los Angeles, CA",type:"meetup"}],default:[{title:"Professional Networking Event",date:"2024-03-16",location:"Various",type:"networking"},{title:"Industry Mixer",date:"2024-03-23",location:"Various",type:"networking"}]},EJe=({open:e,onOpenChange:t,onEventSaved:r})=>{const[s,a]=N.useState(""),[i,o]=N.useState(""),[l,c]=N.useState([]),[u,d]=N.useState(!1),[h,m]=N.useState(!1),f=async()=>{if(!s.trim()){xe.error("Please enter an industry");return}d(!0),m(!1);try{const{data:g,error:y}=await se.functions.invoke("discover-events",{body:{industry:s.trim().toLowerCase(),location:i.trim()}});if(y)throw y;g!=null&&g.events&&g.events.length>0?c(g.events):x()}catch{x()}finally{d(!1)}},x=()=>{const g=s.trim().toLowerCase(),y=XW[g]||XW.default,j=i.trim()?y.filter(b=>b.location.toLowerCase().includes(i.trim().toLowerCase())):y;c(j),m(!0)},v=async g=>{try{const{data:{user:y}}=await se.auth.getUser();if(!y)throw new Error("Not authenticated");const{error:j}=await se.from("networking_events").insert({user_id:y.id,title:g.title,event_date:g.date,location:g.location,event_type:g.type==="virtual"?"virtual":"in-person",attended:!1});if(j)throw j;xe.success("Event added to your calendar"),r()}catch(y){xe.error("Failed to save event",{description:y.message})}};return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Discover Networking Events"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Industry *"}),n.jsx(Je,{placeholder:"e.g., Technology, Finance, Healthcare",value:s,onChange:g=>a(g.target.value),onKeyDown:g=>g.key==="Enter"&&f()})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Location (optional)"}),n.jsx(Je,{placeholder:"e.g., San Francisco, New York",value:i,onChange:g=>o(g.target.value),onKeyDown:g=>g.key==="Enter"&&f()})]})]}),n.jsxs(ve,{onClick:f,disabled:u,className:"w-full",children:[n.jsx(vc,{className:"h-4 w-4 mr-2"}),u?"Searching...":"Search Events"]}),h&&n.jsx("div",{className:"text-sm text-muted-foreground text-center p-2 bg-muted rounded",children:" Showing demo dataset (external event API not configured)"}),l.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"font-semibold",children:["Discovered Events (",l.length,")"]}),l.map((g,y)=>n.jsx(ye,{children:n.jsx(Ie,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx(De,{className:"text-base",children:g.title}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),Lt(new Date(g.date),"MMM d, yyyy")]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ao,{className:"h-3 w-3"}),g.location]})]}),n.jsx($e,{variant:"outline",className:"capitalize mt-1",children:g.type})]}),n.jsxs(ve,{size:"sm",onClick:()=>v(g),children:[n.jsx(Jr,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},y))]}),!u&&l.length===0&&s&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(mr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No events found. Try different search terms."})]})]})]})})},AJe=()=>{const e=ns(),[t,r]=N.useState([]),[s,a]=N.useState(!1),[i,o]=N.useState(null),[l,c]=N.useState(!0),[u,d]=N.useState(!1);N.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:b,error:_}=await se.from("networking_events").select("*").order("event_date",{ascending:!1});if(_)throw _;r(b||[])}catch(b){xe.error("Failed to load events",{description:b.message})}finally{c(!1)}},m=()=>{o(null),a(!0)},f=b=>{o(b),a(!0)},x=async b=>{try{const{error:_}=await se.from("networking_events").delete().eq("id",b);if(_)throw _;xe.success("Event deleted successfully"),h()}catch(_){xe.error("Failed to delete event",{description:_.message})}},v=()=>{a(!1),o(null),h()},g=b=>{e(`/events/${b}`)},y=t.filter(b=>new Date(b.event_date)>=new Date),j=t.filter(b=>new Date(b.event_date)<new Date);return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(mr,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Networking Events"}),n.jsx("p",{className:"text-muted-foreground",children:"Track events and measure your networking ROI"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:()=>d(!0),children:[n.jsx(vc,{className:"h-4 w-4 mr-2"}),"Discover Events"]}),n.jsxs(ve,{onClick:m,children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]}),n.jsx(CJe,{events:t}),n.jsxs(ss,{defaultValue:"upcoming",className:"w-full",children:[n.jsxs(Kn,{children:[n.jsxs(vt,{value:"upcoming",children:["Upcoming (",y.length,")"]}),n.jsxs(vt,{value:"past",children:["Past (",j.length,")"]})]}),n.jsx(xt,{value:"upcoming",className:"space-y-4 mt-6",children:l?n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[...Array(4)].map((b,_)=>n.jsx("div",{className:"h-48 rounded-lg border bg-card animate-pulse"},_))}):y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(mr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No upcoming events"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first networking event to start tracking connections"}),n.jsxs(ve,{onClick:m,children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Event"]})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.map(b=>n.jsx(JW,{event:b,onEdit:f,onDelete:x,onView:g},b.id))})}),n.jsx(xt,{value:"past",className:"space-y-4 mt-6",children:j.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(mr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No past events"})]}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:j.map(b=>n.jsx(JW,{event:b,onEdit:f,onDelete:x,onView:g},b.id))})})]})]})}),n.jsx(Wr,{open:s,onOpenChange:a,children:n.jsx(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(hoe,{event:i,onSuccess:v,onCancel:()=>a(!1)})})}),n.jsx(EJe,{open:u,onOpenChange:d,onEventSaved:h})]})},PJe=()=>{const{id:e}=_c(),t=ns(),[r,s]=N.useState(null),[a,i]=N.useState([]),[o,l]=N.useState([]),[c,u]=N.useState([]),[d,h]=N.useState([]),[m,f]=N.useState(!0),[x,v]=N.useState(!1),[g,y]=N.useState(!1),[j,b]=N.useState(!1),[_,S]=N.useState({contact_id:"",notes:""}),[T,A]=N.useState({outcome_type:"referral_requested",job_id:"",description:""});N.useEffect(()=>{e&&(L(),E(),q(),M(),C())},[e]);const L=async()=>{try{const{data:X,error:B}=await se.from("networking_events").select("*").eq("id",e).single();if(B)throw B;s(X)}catch(X){xe.error("Failed to load event",{description:X.message}),t("/events")}finally{f(!1)}},E=async()=>{try{const{data:X,error:B}=await se.from("event_connections").select(`
          *,
          contact:contact_id (
            id,
            name,
            company,
            role
          )
        `).eq("event_id",e);if(B)throw B;i(X||[])}catch(X){console.error("Failed to load connections:",X)}},q=async()=>{try{const{data:X,error:B}=await se.from("event_outcomes").select(`
          *,
          job:job_id (
            id,
            job_title,
            company_name
          )
        `).eq("event_id",e);if(B)throw B;l(X||[])}catch(X){console.error("Failed to load outcomes:",X)}},M=async()=>{try{const{data:X,error:B}=await se.from("contacts").select("id, name, company, role").order("name");if(B)throw B;u(X||[])}catch(X){console.error("Failed to load contacts:",X)}},C=async()=>{try{const{data:X,error:B}=await se.from("jobs").select("id, job_title, company_name").eq("is_archived",!1).order("created_at",{ascending:!1});if(B)throw B;h(X||[])}catch(X){console.error("Failed to load jobs:",X)}},I=async X=>{if(!r)return;const B=[...r.prep_checklist];B[X].completed=!B[X].completed;try{const{error:D}=await se.from("networking_events").update({prep_checklist:B}).eq("id",r.id);if(D)throw D;s({...r,prep_checklist:B})}catch(D){xe.error("Failed to update checklist",{description:D.message})}},O=async()=>{try{const{data:{user:X}}=await se.auth.getUser();if(!X)throw new Error("Not authenticated");if(!_.contact_id){xe.error("Please select a contact");return}const{error:B}=await se.from("event_connections").insert({event_id:e,contact_id:_.contact_id,notes:_.notes||null,user_id:X.id});if(B)throw B;xe.success("Connection added"),y(!1),S({contact_id:"",notes:""}),E()}catch(X){xe.error("Failed to add connection",{description:X.message})}},H=async()=>{try{const{data:{user:X}}=await se.auth.getUser();if(!X)throw new Error("Not authenticated");const{error:B}=await se.from("event_outcomes").insert({event_id:e,outcome_type:T.outcome_type,job_id:T.job_id||null,description:T.description||null,user_id:X.id});if(B)throw B;xe.success("Outcome recorded"),b(!1),A({outcome_type:"referral_requested",job_id:"",description:""}),q()}catch(X){xe.error("Failed to record outcome",{description:X.message})}},re=async X=>{try{const{error:B}=await se.from("event_connections").delete().eq("id",X);if(B)throw B;xe.success("Connection removed"),E()}catch(B){xe.error("Failed to remove connection",{description:B.message})}},U=async X=>{try{const{error:B}=await se.from("event_outcomes").delete().eq("id",X);if(B)throw B;xe.success("Outcome deleted"),q()}catch(B){xe.error("Failed to delete outcome",{description:B.message})}},K=()=>{v(!1),L()};if(m)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[n.jsx("div",{className:"h-8 w-48 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-lg"})]})})]});if(!r)return null;const ee={referral_requested:"Referral Requested",application_influenced:"Application Influenced",interview_sourced:"Interview Sourced",other:"Other"};return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>t("/events"),children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Events"]}),n.jsxs(ve,{onClick:()=>v(!0),children:[n.jsx(xf,{className:"h-4 w-4 mr-2"}),"Edit Event"]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-2xl mb-2",children:r.title}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4"}),n.jsx("span",{children:Lt(new Date(r.event_date),"PPP")})]}),r.location&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ao,{className:"h-4 w-4"}),n.jsx("span",{children:r.location})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($e,{variant:"outline",className:"capitalize",children:r.event_type}),r.attended&&n.jsx($e,{children:"Attended"})]})]})}),n.jsxs(_e,{className:"space-y-4",children:[r.goals&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Goals"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.goals})]}),r.prep_checklist&&r.prep_checklist.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Prep Checklist"}),n.jsx("div",{className:"space-y-2",children:r.prep_checklist.map((X,B)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ga,{checked:X.completed,onCheckedChange:()=>I(B)}),n.jsx("span",{className:`text-sm ${X.completed?"line-through text-muted-foreground":""}`,children:X.label})]},B))})]}),r.notes&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})]})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-5 w-5"}),"Connections Made"]}),n.jsx(ve,{size:"sm",onClick:()=>y(!0),children:n.jsx(Jr,{className:"h-4 w-4"})})]})}),n.jsx(_e,{children:a.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No connections recorded"})]}):n.jsx("div",{className:"space-y-3",children:a.map(X=>n.jsxs("div",{className:"flex items-start justify-between p-3 rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:X.contact.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[X.contact.company," ",X.contact.role&&` ${X.contact.role}`]}),X.notes&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:X.notes})]}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{confirm("Remove this connection?")&&re(X.id)},children:n.jsx(Ws,{className:"h-3 w-3"})})]},X.id))})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Outcomes"}),n.jsx(ve,{size:"sm",onClick:()=>b(!0),children:n.jsx(Jr,{className:"h-4 w-4"})})]})}),n.jsx(_e,{children:o.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(xn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No outcomes recorded"})]}):n.jsx("div",{className:"space-y-3",children:o.map(X=>n.jsxs("div",{className:"flex items-start justify-between p-3 rounded-lg border",children:[n.jsxs("div",{children:[n.jsx($e,{variant:"secondary",className:"mb-2",children:ee[X.outcome_type]}),X.job&&n.jsxs("p",{className:"text-sm font-medium",children:[X.job.job_title," at ",X.job.company_name]}),X.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:X.description})]}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this outcome?")&&U(X.id)},children:n.jsx(Ws,{className:"h-3 w-3"})})]},X.id))})})]})]})]})}),n.jsx(Wr,{open:x,onOpenChange:v,children:n.jsx(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(hoe,{event:r,onSuccess:K,onCancel:()=>v(!1)})})}),n.jsx(Wr,{open:g,onOpenChange:y,children:n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Add Connection"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Contact *"}),n.jsxs($t,{value:_.contact_id,onValueChange:X=>S({..._,contact_id:X}),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select a contact"})}),n.jsx(Bt,{children:c.map(X=>n.jsxs(qe,{value:X.id,children:[X.name," ",X.company&&`- ${X.company}`]},X.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Notes"}),n.jsx(dr,{rows:2,placeholder:"How did you meet? What did you discuss?",value:_.notes,onChange:X=>S({..._,notes:X.target.value})})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),n.jsx(ve,{onClick:O,children:"Add Connection"})]})]})]})}),n.jsx(Wr,{open:j,onOpenChange:b,children:n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Record Outcome"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Outcome Type *"}),n.jsxs($t,{value:T.outcome_type,onValueChange:X=>A({...T,outcome_type:X}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"referral_requested",children:"Referral Requested"}),n.jsx(qe,{value:"application_influenced",children:"Application Influenced"}),n.jsx(qe,{value:"interview_sourced",children:"Interview Sourced"}),n.jsx(qe,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Related Job (Optional)"}),n.jsxs($t,{value:T.job_id,onValueChange:X=>A({...T,job_id:X}),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select a job"})}),n.jsx(Bt,{children:d.map(X=>n.jsxs(qe,{value:X.id,children:[X.job_title," at ",X.company_name]},X.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Description"}),n.jsx(dr,{rows:2,placeholder:"Describe the outcome...",value:T.description,onChange:X=>A({...T,description:X.target.value})})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),n.jsx(ve,{onClick:H,children:"Record Outcome"})]})]})]})})]})},TJe=[{title:"Job Application Follow-up",content:`Hi [Name],

I recently applied for the [Position] role at [Company] and noticed we share mutual interests in [Interest/Industry]. I'd love to connect and learn more about [Company]'s culture and the work your team is doing.

Looking forward to connecting!

Best,
[Your Name]`},{title:"Informational Interview Request",content:`Hi [Name],

I'm currently exploring opportunities in [Industry/Field] and came across your profile. Your experience at [Company] is impressive, particularly [specific achievement].

I'd appreciate the chance to connect and learn from your insights when your schedule permits.

Thank you for considering!

Best,
[Your Name]`},{title:"Referral Request",content:`Hi [Name],

I hope this message finds you well. I'm reaching out because I noticed you work at [Company], where I've applied for the [Position] role.

Given your experience in [Relevant Area], I thought you might be able to provide insights or potentially connect me with the hiring team.

Thank you for any guidance you can offer!

Best,
[Your Name]`}],OJe=[{title:"Post-Event Follow-up",content:`Hi [Name],

It was great meeting you at [Event Name] yesterday! I really enjoyed our conversation about [Topic].

I'd love to stay connected and continue the discussion. Would you be open to a brief coffee chat in the coming weeks?

Best,
[Your Name]`},{title:"Mutual Connection Introduction",content:`Hi [Name],

[Mutual Connection] suggested I reach out to you. I'm currently [Your Situation] and [Mutual Connection] thought you might have valuable insights given your experience at [Company].

Would you be open to a brief conversation?

Thank you,
[Your Name]`},{title:"Industry Expert Outreach",content:`Hi [Name],

I've been following your content on [Topic/Platform] and find your perspective on [Specific Topic] incredibly valuable.

I'm currently [Your Situation] and would appreciate any advice you might have. Would you be open to connecting?

Thank you for considering,
[Your Name]`}],IJe=()=>{const{user:e}=un(),[t,r]=N.useState(null),[s,a]=N.useState("Your Name");N.useEffect(()=>{(async()=>{if(!e)return;const{data:l}=await se.from("profiles").select("name").eq("user_id",e.id).single();l!=null&&l.name&&a(l.name)})()},[e]);const i=async(o,l)=>{try{const c=o.replace(/\[Your Name\]/g,s);await navigator.clipboard.writeText(c),r(l),xe.success("Template copied to clipboard"),setTimeout(()=>r(null),2e3)}catch{xe.error("Failed to copy template")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Connection Request Templates"}),n.jsx(_t,{children:"Professional templates for LinkedIn connection requests"})]}),n.jsx(_e,{className:"space-y-4",children:TJe.map((o,l)=>{const c=`connection-${l}`;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium",children:o.title}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>i(o.content,c),children:t===c?n.jsxs(n.Fragment,{children:[n.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Copied"]}):n.jsxs(n.Fragment,{children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),"Copy"]})})]}),n.jsx(dr,{value:o.content,readOnly:!0,rows:6,className:"text-sm font-mono"})]},c)})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Outreach Templates"}),n.jsx(_t,{children:"Templates for following up and building relationships"})]}),n.jsx(_e,{className:"space-y-4",children:OJe.map((o,l)=>{const c=`outreach-${l}`;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium",children:o.title}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>i(o.content,c),children:t===c?n.jsxs(n.Fragment,{children:[n.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Copied"]}):n.jsxs(n.Fragment,{children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),"Copy"]})})]}),n.jsx(dr,{value:o.content,readOnly:!0,rows:6,className:"text-sm font-mono"})]},c)})})]})]})},RJe=[{title:"Profile Basics",items:[{label:"Professional Photo",description:"Use a high-quality headshot with professional attire and neutral background"},{label:"Compelling Headline",description:"Go beyond job title - include your value proposition (120 characters max)"},{label:"Custom URL",description:"Customize your LinkedIn URL to yourname for a professional look"},{label:"Contact Information",description:"Add email, phone, and other professional contact details"}]},{title:"About Section",items:[{label:"Engaging Summary",description:"Write in first person, tell your story, highlight achievements (2000 characters)"},{label:"Keywords Integration",description:"Include industry-relevant keywords naturally throughout your summary"},{label:"Call to Action",description:"End with how people can connect with you or what you're looking for"}]},{title:"Experience Section",items:[{label:"Detailed Job Descriptions",description:"Use bullet points to highlight achievements, not just responsibilities"},{label:"Quantifiable Results",description:"Include metrics and numbers to demonstrate impact (increased sales by X%)"},{label:"Rich Media",description:"Add presentations, projects, articles, or portfolio pieces to each role"},{label:"Complete Work History",description:"Fill in all positions, even if brief - shows career progression"}]},{title:"Skills & Endorsements",items:[{label:"Strategic Skills Selection",description:"Pin top 3 skills that align with your career goals"},{label:"50 Skills Maximum",description:"Add up to 50 relevant skills prioritized by importance"},{label:"Seek Endorsements",description:"Request endorsements from colleagues for your key skills"}]},{title:"Recommendations",items:[{label:"Quality over Quantity",description:"Aim for 3-5 strong recommendations from managers or clients"},{label:"Reciprocate",description:"Write recommendations for others - they often return the favor"},{label:"Be Specific",description:"When requesting, mention specific projects you worked on together"}]},{title:"Engagement & Activity",items:[{label:"Regular Posting",description:"Share insights, articles, or achievements 2-3 times per week"},{label:"Engage with Content",description:"Comment thoughtfully on posts in your network and industry"},{label:"Join Groups",description:"Participate in 3-5 relevant professional groups"},{label:"Follow Companies",description:"Follow target companies and engage with their content"}]},{title:"Additional Sections",items:[{label:"Certifications",description:"Add all relevant certifications with expiration dates if applicable"},{label:"Volunteer Experience",description:"Showcase community involvement and leadership"},{label:"Projects",description:"Highlight significant projects with descriptions and outcomes"},{label:"Publications",description:"Link to articles, papers, or content you've published"}]},{title:"Profile SEO",items:[{label:"Keyword Optimization",description:"Research and include keywords recruiters search for in your field"},{label:"Complete All Sections",description:"Profiles with all sections filled rank higher in searches"},{label:"Profile Strength",description:"Aim for 'All-Star' profile strength rating"}]}],DJe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-[#0077B5]/10 p-3",children:n.jsx(lO,{className:"h-6 w-6 text-[#0077B5]"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"LinkedIn Resources"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Templates, checklists, and guidance to maximize your LinkedIn presence"})]})]}),n.jsxs(ss,{defaultValue:"templates",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-2",children:[n.jsxs(vt,{value:"templates",className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),"Templates"]}),n.jsxs(vt,{value:"optimization",className:"flex items-center gap-2",children:[n.jsx(pa,{className:"h-4 w-4"}),"Optimization Checklist"]})]}),n.jsx(xt,{value:"templates",className:"space-y-6 mt-6",children:n.jsx(IJe,{})}),n.jsxs(xt,{value:"optimization",className:"space-y-6 mt-6",children:[n.jsxs(ye,{className:"border-[#0077B5]/20",children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Why Optimize Your LinkedIn Profile?"}),n.jsx(_t,{className:"text-base",children:"A well-optimized LinkedIn profile can:"})]}),n.jsx(_e,{children:n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(pa,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsx("span",{children:"Increase profile views by up to 40x with 'All-Star' status"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(pa,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsx("span",{children:"Appear higher in recruiter searches for relevant positions"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(pa,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsx("span",{children:"Attract more connection requests from industry professionals"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(pa,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsx("span",{children:"Demonstrate professionalism to potential employers"})]})]})})]}),n.jsx("div",{className:"space-y-4",children:RJe.map((e,t)=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(De,{className:"flex items-center gap-2",children:[e.title,n.jsxs($e,{variant:"secondary",className:"ml-2",children:[e.items.length," items"]})]})})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-4",children:e.items.map((r,s)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:r.label}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]})]},s))})})]},t))}),n.jsxs(ye,{className:"bg-primary/5 border-primary/20",children:[n.jsx(Ie,{children:n.jsx(De,{children:"Pro Tips"})}),n.jsxs(_e,{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Consistency is Key:"})," Update your profile regularly with new achievements, skills, and experiences."]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Be Authentic:"})," While optimizing for search, ensure your profile genuinely reflects your professional brand."]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Privacy Settings:"})," Review your privacy settings to control who sees your activity and profile updates."]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Mobile Optimization:"})," Over 60% of LinkedIn users access via mobile - check how your profile looks on mobile devices."]})]})]})]})]})]})})]}),MJe=()=>{const[e,t]=N.useState([]),[r,s]=N.useState(null),[a,i]=N.useState([]),[o,l]=N.useState([]),[c,u]=N.useState(!1),[d,h]=N.useState(!1),[m,f]=N.useState(!0),[x,v]=N.useState({name:"",target_companies:"",target_roles:"",goal:"",start_date:"",end_date:""}),[g,y]=N.useState({contact_id:"",variant:"A",sent_at:Lt(new Date,"yyyy-MM-dd")});N.useEffect(()=>{j(),_()},[]),N.useEffect(()=>{r&&b(r.id)},[r]);const j=async()=>{try{const{data:C,error:I}=await se.from("networking_campaigns").select("*").order("created_at",{ascending:!1});if(I)throw I;t(C||[]),C&&C.length>0&&s(C[0])}catch{xe.error("Failed to load campaigns")}finally{f(!1)}},b=async C=>{try{const{data:I,error:O}=await se.from("campaign_outreaches").select("*, contact:contacts(name, company)").eq("campaign_id",C).order("sent_at",{ascending:!1});if(O)throw O;i(I||[])}catch{xe.error("Failed to load outreaches")}},_=async()=>{try{const{data:C,error:I}=await se.from("contacts").select("id, name, company").order("name");if(I)throw I;l(C||[])}catch{xe.error("Failed to load contacts")}},S=async C=>{C.preventDefault();const{data:{user:I}}=await se.auth.getUser();if(I)try{const O={user_id:I.id,name:x.name,target_companies:x.target_companies.split(",").map(U=>U.trim()).filter(Boolean),target_roles:x.target_roles.split(",").map(U=>U.trim()).filter(Boolean),goal:x.goal||null,start_date:x.start_date||null,end_date:x.end_date||null},{data:H,error:re}=await se.from("networking_campaigns").insert(O).select().single();if(re)throw re;xe.success("Campaign created"),u(!1),L(),j(),s(H)}catch(O){xe.error("Failed to create campaign",{description:O.message})}},T=async C=>{C.preventDefault();const{data:{user:I}}=await se.auth.getUser();if(!(!I||!r))try{const{error:O}=await se.from("campaign_outreaches").insert({user_id:I.id,campaign_id:r.id,contact_id:g.contact_id,variant:g.variant,sent_at:g.sent_at,response_received:!1});if(O)throw O;xe.success("Outreach logged"),h(!1),E(),b(r.id)}catch(O){xe.error("Failed to log outreach",{description:O.message})}},A=async(C,I)=>{try{const{error:O}=await se.from("campaign_outreaches").update({response_received:!I,response_date:I?null:new Date().toISOString()}).eq("id",C);if(O)throw O;r&&b(r.id)}catch{xe.error("Failed to update response")}},L=()=>{v({name:"",target_companies:"",target_roles:"",goal:"",start_date:"",end_date:""})},E=()=>{y({contact_id:"",variant:"A",sent_at:Lt(new Date,"yyyy-MM-dd")})},M=r?(()=>{const C=a.filter(re=>re.variant==="A"),I=a.filter(re=>re.variant==="B"),O=C.length>0?C.filter(re=>re.response_received).length/C.length*100:0,H=I.length>0?I.filter(re=>re.response_received).length/I.length*100:0;return{total:a.length,responses:a.filter(re=>re.response_received).length,variantA:{count:C.length,responseRate:O},variantB:{count:I.length,responseRate:H}}})():null;return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(xn,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Networking Campaigns"}),n.jsx("p",{className:"text-muted-foreground",children:"Track outreach volume and A/B test response rates"})]})]}),n.jsxs(ve,{onClick:()=>u(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"New Campaign"]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.map(C=>n.jsxs(ye,{className:`cursor-pointer transition-colors ${(r==null?void 0:r.id)===C.id?"border-primary":"hover:border-primary/50"}`,onClick:()=>s(C),children:[n.jsxs(Ie,{children:[n.jsx(De,{className:"text-lg",children:C.name}),C.goal&&n.jsx(_t,{className:"line-clamp-2",children:C.goal})]}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[C.target_companies.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Companies:"})," ",C.target_companies.slice(0,2).join(", "),C.target_companies.length>2&&` +${C.target_companies.length-2}`]}),C.target_roles.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Roles:"})," ",C.target_roles.slice(0,2).join(", ")]})]})})]},C.id)),e.length===0&&!m&&n.jsx(ye,{className:"col-span-3",children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(xn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),n.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first networking campaign to track outreach and responses"}),n.jsxs(ve,{onClick:()=>u(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]})})]}),r&&M&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(ye,{children:n.jsxs(Ie,{className:"pb-3",children:[n.jsx(_t,{children:"Total Outreaches"}),n.jsx(De,{className:"text-3xl",children:M.total})]})}),n.jsx(ye,{children:n.jsxs(Ie,{className:"pb-3",children:[n.jsx(_t,{children:"Responses"}),n.jsx(De,{className:"text-3xl",children:M.responses})]})}),n.jsx(ye,{children:n.jsxs(Ie,{className:"pb-3",children:[n.jsx(_t,{children:"Variant A Response Rate"}),n.jsxs(De,{className:"text-3xl",children:[M.variantA.responseRate.toFixed(0),"%"]}),n.jsx(La,{value:M.variantA.responseRate,className:"mt-2"})]})}),n.jsx(ye,{children:n.jsxs(Ie,{className:"pb-3",children:[n.jsx(_t,{children:"Variant B Response Rate"}),n.jsxs(De,{className:"text-3xl",children:[M.variantB.responseRate.toFixed(0),"%"]}),n.jsx(La,{value:M.variantB.responseRate,className:"mt-2"})]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Outreaches"}),n.jsxs(_t,{children:["Track contacts and responses for ",r.name]})]}),n.jsxs(ve,{onClick:()=>h(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Log Outreach"]})]})}),n.jsx(_e,{children:a.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No outreaches logged yet"})]}):n.jsx("div",{className:"space-y-2",children:a.map(C=>n.jsx(ye,{children:n.jsx(_e,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold",children:C.contact.name}),n.jsxs($e,{variant:C.variant==="A"?"default":"secondary",children:["Variant ",C.variant]}),C.response_received&&n.jsx($e,{variant:"outline",className:"bg-green-50 dark:bg-green-950",children:"Responded"})]}),C.contact.company&&n.jsx("p",{className:"text-sm text-muted-foreground",children:C.contact.company}),C.sent_at&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Sent: ",Lt(new Date(C.sent_at),"MMM d, yyyy")]})]}),n.jsx(ve,{size:"sm",variant:C.response_received?"outline":"default",onClick:()=>A(C.id,C.response_received),children:C.response_received?"Undo":"Mark Response"})]})})},C.id))})})]})]})]})}),n.jsx(Wr,{open:c,onOpenChange:u,children:n.jsxs(Br,{className:"max-w-2xl",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Create Networking Campaign"})}),n.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Campaign Name *"}),n.jsx(Je,{placeholder:"Q1 2024 Tech Company Outreach",value:x.name,onChange:C=>v({...x,name:C.target.value}),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Companies (comma-separated)"}),n.jsx(Je,{placeholder:"Google, Microsoft, Amazon",value:x.target_companies,onChange:C=>v({...x,target_companies:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Roles (comma-separated)"}),n.jsx(Je,{placeholder:"Software Engineer, Product Manager",value:x.target_roles,onChange:C=>v({...x,target_roles:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Goal"}),n.jsx(dr,{placeholder:"Land 3 informational interviews and 2 referrals",value:x.goal,onChange:C=>v({...x,goal:C.target.value}),rows:2})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Start Date"}),n.jsx(Je,{type:"date",value:x.start_date,onChange:C=>v({...x,start_date:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"End Date"}),n.jsx(Je,{type:"date",value:x.end_date,onChange:C=>v({...x,end_date:C.target.value})})]})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),n.jsx(ve,{type:"submit",children:"Create Campaign"})]})]})]})}),n.jsx(Wr,{open:d,onOpenChange:h,children:n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Log Outreach"})}),n.jsxs("form",{onSubmit:T,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Contact *"}),n.jsxs($t,{value:g.contact_id,onValueChange:C=>y({...g,contact_id:C}),required:!0,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select contact"})}),n.jsx(Bt,{children:o.map(C=>n.jsxs(qe,{value:C.id,children:[C.name," ",C.company&&`- ${C.company}`]},C.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"A/B Variant *"}),n.jsxs($t,{value:g.variant,onValueChange:C=>y({...g,variant:C}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"A",children:"Variant A"}),n.jsx(qe,{value:"B",children:"Variant B"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Sent Date *"}),n.jsx(Je,{type:"date",value:g.sent_at,onChange:C=>y({...g,sent_at:C.target.value}),required:!0})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(ve,{type:"submit",children:"Log Outreach"})]})]})]})})]})};var M6={};(function e(t,r,s,a){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!t.OffscreenCanvas)return!1;try{var X=new OffscreenCanvas(1,1),B=X.getContext("2d");B.fillRect(0,0,1,1);var D=X.transferToImageBitmap();B.createPattern(D,"no-repeat")}catch{return!1}return!0})();function c(){}function u(X){var B=r.exports.Promise,D=B!==void 0?B:t.Promise;return typeof D=="function"?new D(X):(X(c,c),null)}var d=(function(X,B){return{transform:function(D){if(X)return D;if(B.has(D))return B.get(D);var Q=new OffscreenCanvas(D.width,D.height),ie=Q.getContext("2d");return ie.drawImage(D,0,0),B.set(D,Q),Q},clear:function(){B.clear()}}})(l,new Map),h=(function(){var X=Math.floor(16.666666666666668),B,D,Q={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(B=function(te){var he=Math.random();return Q[he]=requestAnimationFrame(function W(V){ie===V||ie+X-1<V?(ie=V,delete Q[he],te()):Q[he]=requestAnimationFrame(W)}),he},D=function(te){Q[te]&&cancelAnimationFrame(Q[te])}):(B=function(te){return setTimeout(te,X)},D=function(te){return clearTimeout(te)}),{frame:B,cancel:D}})(),m=(function(){var X,B,D={};function Q(ie){function te(he,W){ie.postMessage({options:he||{},callback:W})}ie.init=function(W){var V=W.transferControlToOffscreen();ie.postMessage({canvas:V},[V])},ie.fire=function(W,V,oe){if(B)return te(W,null),B;var me=Math.random().toString(36).slice(2);return B=u(function(de){function ue(Pe){Pe.data.callback===me&&(delete D[me],ie.removeEventListener("message",ue),B=null,d.clear(),oe(),de())}ie.addEventListener("message",ue),te(W,me),D[me]=ue.bind(null,{data:{callback:me}})}),B},ie.reset=function(){ie.postMessage({reset:!0});for(var W in D)D[W](),delete D[W]}}return function(){if(X)return X;if(!s&&i){var ie=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{X=new Worker(URL.createObjectURL(new Blob([ie])))}catch(te){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",te),null}Q(X)}return X}})(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(X,B){return B?B(X):X}function v(X){return X!=null}function g(X,B,D){return x(X&&v(X[B])?X[B]:f[B],D)}function y(X){return X<0?0:Math.floor(X)}function j(X,B){return Math.floor(Math.random()*(B-X))+X}function b(X){return parseInt(X,16)}function _(X){return X.map(S)}function S(X){var B=String(X).replace(/[^0-9a-f]/gi,"");return B.length<6&&(B=B[0]+B[0]+B[1]+B[1]+B[2]+B[2]),{r:b(B.substring(0,2)),g:b(B.substring(2,4)),b:b(B.substring(4,6))}}function T(X){var B=g(X,"origin",Object);return B.x=g(B,"x",Number),B.y=g(B,"y",Number),B}function A(X){X.width=document.documentElement.clientWidth,X.height=document.documentElement.clientHeight}function L(X){var B=X.getBoundingClientRect();X.width=B.width,X.height=B.height}function E(X){var B=document.createElement("canvas");return B.style.position="fixed",B.style.top="0px",B.style.left="0px",B.style.pointerEvents="none",B.style.zIndex=X,B}function q(X,B,D,Q,ie,te,he,W,V){X.save(),X.translate(B,D),X.rotate(te),X.scale(Q,ie),X.arc(0,0,1,he,W,V),X.restore()}function M(X){var B=X.angle*(Math.PI/180),D=X.spread*(Math.PI/180);return{x:X.x,y:X.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:X.startVelocity*.5+Math.random()*X.startVelocity,angle2D:-B+(.5*D-Math.random()*D),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:X.color,shape:X.shape,tick:0,totalTicks:X.ticks,decay:X.decay,drift:X.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:X.gravity*3,ovalScalar:.6,scalar:X.scalar,flat:X.flat}}function C(X,B){B.x+=Math.cos(B.angle2D)*B.velocity+B.drift,B.y+=Math.sin(B.angle2D)*B.velocity+B.gravity,B.velocity*=B.decay,B.flat?(B.wobble=0,B.wobbleX=B.x+10*B.scalar,B.wobbleY=B.y+10*B.scalar,B.tiltSin=0,B.tiltCos=0,B.random=1):(B.wobble+=B.wobbleSpeed,B.wobbleX=B.x+10*B.scalar*Math.cos(B.wobble),B.wobbleY=B.y+10*B.scalar*Math.sin(B.wobble),B.tiltAngle+=.1,B.tiltSin=Math.sin(B.tiltAngle),B.tiltCos=Math.cos(B.tiltAngle),B.random=Math.random()+2);var D=B.tick++/B.totalTicks,Q=B.x+B.random*B.tiltCos,ie=B.y+B.random*B.tiltSin,te=B.wobbleX+B.random*B.tiltCos,he=B.wobbleY+B.random*B.tiltSin;if(X.fillStyle="rgba("+B.color.r+", "+B.color.g+", "+B.color.b+", "+(1-D)+")",X.beginPath(),o&&B.shape.type==="path"&&typeof B.shape.path=="string"&&Array.isArray(B.shape.matrix))X.fill(U(B.shape.path,B.shape.matrix,B.x,B.y,Math.abs(te-Q)*.1,Math.abs(he-ie)*.1,Math.PI/10*B.wobble));else if(B.shape.type==="bitmap"){var W=Math.PI/10*B.wobble,V=Math.abs(te-Q)*.1,oe=Math.abs(he-ie)*.1,me=B.shape.bitmap.width*B.scalar,de=B.shape.bitmap.height*B.scalar,ue=new DOMMatrix([Math.cos(W)*V,Math.sin(W)*V,-Math.sin(W)*oe,Math.cos(W)*oe,B.x,B.y]);ue.multiplySelf(new DOMMatrix(B.shape.matrix));var Pe=X.createPattern(d.transform(B.shape.bitmap),"no-repeat");Pe.setTransform(ue),X.globalAlpha=1-D,X.fillStyle=Pe,X.fillRect(B.x-me/2,B.y-de/2,me,de),X.globalAlpha=1}else if(B.shape==="circle")X.ellipse?X.ellipse(B.x,B.y,Math.abs(te-Q)*B.ovalScalar,Math.abs(he-ie)*B.ovalScalar,Math.PI/10*B.wobble,0,2*Math.PI):q(X,B.x,B.y,Math.abs(te-Q)*B.ovalScalar,Math.abs(he-ie)*B.ovalScalar,Math.PI/10*B.wobble,0,2*Math.PI);else if(B.shape==="star")for(var G=Math.PI/2*3,pe=4*B.scalar,ce=8*B.scalar,$=B.x,z=B.y,Z=5,le=Math.PI/Z;Z--;)$=B.x+Math.cos(G)*ce,z=B.y+Math.sin(G)*ce,X.lineTo($,z),G+=le,$=B.x+Math.cos(G)*pe,z=B.y+Math.sin(G)*pe,X.lineTo($,z),G+=le;else X.moveTo(Math.floor(B.x),Math.floor(B.y)),X.lineTo(Math.floor(B.wobbleX),Math.floor(ie)),X.lineTo(Math.floor(te),Math.floor(he)),X.lineTo(Math.floor(Q),Math.floor(B.wobbleY));return X.closePath(),X.fill(),B.tick<B.totalTicks}function I(X,B,D,Q,ie){var te=B.slice(),he=X.getContext("2d"),W,V,oe=u(function(me){function de(){W=V=null,he.clearRect(0,0,Q.width,Q.height),d.clear(),ie(),me()}function ue(){s&&!(Q.width===a.width&&Q.height===a.height)&&(Q.width=X.width=a.width,Q.height=X.height=a.height),!Q.width&&!Q.height&&(D(X),Q.width=X.width,Q.height=X.height),he.clearRect(0,0,Q.width,Q.height),te=te.filter(function(Pe){return C(he,Pe)}),te.length?W=h.frame(ue):de()}W=h.frame(ue),V=de});return{addFettis:function(me){return te=te.concat(me),oe},canvas:X,promise:oe,reset:function(){W&&h.cancel(W),V&&V()}}}function O(X,B){var D=!X,Q=!!g(B||{},"resize"),ie=!1,te=g(B,"disableForReducedMotion",Boolean),he=i&&!!g(B||{},"useWorker"),W=he?m():null,V=D?A:L,oe=X&&W?!!X.__confetti_initialized:!1,me=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,de;function ue(G,pe,ce){for(var $=g(G,"particleCount",y),z=g(G,"angle",Number),Z=g(G,"spread",Number),le=g(G,"startVelocity",Number),ge=g(G,"decay",Number),we=g(G,"gravity",Number),Me=g(G,"drift",Number),Be=g(G,"colors",_),Le=g(G,"ticks",Number),Ge=g(G,"shapes"),it=g(G,"scalar"),ut=!!g(G,"flat"),Ct=T(G),Mt=$,Et=[],rn=X.width*Ct.x,Wt=X.height*Ct.y;Mt--;)Et.push(M({x:rn,y:Wt,angle:z,spread:Z,startVelocity:le,color:Be[Mt%Be.length],shape:Ge[j(0,Ge.length)],ticks:Le,decay:ge,gravity:we,drift:Me,scalar:it,flat:ut}));return de?de.addFettis(Et):(de=I(X,Et,V,pe,ce),de.promise)}function Pe(G){var pe=te||g(G,"disableForReducedMotion",Boolean),ce=g(G,"zIndex",Number);if(pe&&me)return u(function(le){le()});D&&de?X=de.canvas:D&&!X&&(X=E(ce),document.body.appendChild(X)),Q&&!oe&&V(X);var $={width:X.width,height:X.height};W&&!oe&&W.init(X),oe=!0,W&&(X.__confetti_initialized=!0);function z(){if(W){var le={getBoundingClientRect:function(){if(!D)return X.getBoundingClientRect()}};V(le),W.postMessage({resize:{width:le.width,height:le.height}});return}$.width=$.height=null}function Z(){de=null,Q&&(ie=!1,t.removeEventListener("resize",z)),D&&X&&(document.body.contains(X)&&document.body.removeChild(X),X=null,oe=!1)}return Q&&!ie&&(ie=!0,t.addEventListener("resize",z,!1)),W?W.fire(G,$,Z):ue(G,$,Z)}return Pe.reset=function(){W&&W.reset(),de&&de.reset()},Pe}var H;function re(){return H||(H=O(null,{useWorker:!0,resize:!0})),H}function U(X,B,D,Q,ie,te,he){var W=new Path2D(X),V=new Path2D;V.addPath(W,new DOMMatrix(B));var oe=new Path2D;return oe.addPath(V,new DOMMatrix([Math.cos(he)*ie,Math.sin(he)*ie,-Math.sin(he)*te,Math.cos(he)*te,D,Q])),oe}function K(X){if(!o)throw new Error("path confetti are not supported in this browser");var B,D;typeof X=="string"?B=X:(B=X.path,D=X.matrix);var Q=new Path2D(B),ie=document.createElement("canvas"),te=ie.getContext("2d");if(!D){for(var he=1e3,W=he,V=he,oe=0,me=0,de,ue,Pe=0;Pe<he;Pe+=2)for(var G=0;G<he;G+=2)te.isPointInPath(Q,Pe,G,"nonzero")&&(W=Math.min(W,Pe),V=Math.min(V,G),oe=Math.max(oe,Pe),me=Math.max(me,G));de=oe-W,ue=me-V;var pe=10,ce=Math.min(pe/de,pe/ue);D=[ce,0,0,ce,-Math.round(de/2+W)*ce,-Math.round(ue/2+V)*ce]}return{type:"path",path:B,matrix:D}}function ee(X){var B,D=1,Q="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof X=="string"?B=X:(B=X.text,D="scalar"in X?X.scalar:D,ie="fontFamily"in X?X.fontFamily:ie,Q="color"in X?X.color:Q);var te=10*D,he=""+te+"px "+ie,W=new OffscreenCanvas(te,te),V=W.getContext("2d");V.font=he;var oe=V.measureText(B),me=Math.ceil(oe.actualBoundingBoxRight+oe.actualBoundingBoxLeft),de=Math.ceil(oe.actualBoundingBoxAscent+oe.actualBoundingBoxDescent),ue=2,Pe=oe.actualBoundingBoxLeft+ue,G=oe.actualBoundingBoxAscent+ue;me+=ue+ue,de+=ue+ue,W=new OffscreenCanvas(me,de),V=W.getContext("2d"),V.font=he,V.fillStyle=Q,V.fillText(B,Pe,G);var pe=1/D;return{type:"bitmap",bitmap:W.transferToImageBitmap(),matrix:[pe,0,0,pe,-me*pe/2,-de*pe/2]}}r.exports=function(){return re().apply(this,arguments)},r.exports.reset=function(){re().reset()},r.exports.create=O,r.exports.shapeFromPath=K,r.exports.shapeFromText=ee})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),M6,!1);const LJe=M6.exports;M6.exports.create;function FJe(){const[e,t]=N.useState([]),[r,s]=N.useState(!0),[a,i]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState({title:"",description:"",category:"applications",specific:"",measurable:"",achievable:"",relevant:"",time_bound:"",target_value:"",target_date:"",is_shared:!1});N.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:b}}=await se.auth.getUser();if(!b)throw new Error("Not authenticated");const{data:_,error:S}=await se.from("goals").select("*").eq("user_id",b.id).order("created_at",{ascending:!1});if(S)throw S;t(_||[])}catch(b){console.error("Failed to load goals:",b),xe.error("Failed to load goals")}finally{s(!1)}},h=async()=>{try{const{data:{user:b}}=await se.auth.getUser();if(!b)throw new Error("Not authenticated");const _={user_id:b.id,title:c.title,description:c.description,category:c.category,specific:c.specific,measurable:c.measurable,achievable:c.achievable,relevant:c.relevant,time_bound:c.time_bound,target_value:c.target_value?parseFloat(c.target_value):null,target_date:c.target_date||null,is_shared:c.is_shared};if(o){const{error:S}=await se.from("goals").update(_).eq("id",o.id);if(S)throw S;xe.success("Goal updated!")}else{const{error:S}=await se.from("goals").insert([_]);if(S)throw S;xe.success("Goal created!")}i(!1),v(),d()}catch(b){console.error("Failed to save goal:",b),xe.error("Failed to save goal")}},m=async b=>{try{const{error:_}=await se.from("goals").update({status:"completed",current_value:b.target_value}).eq("id",b.id);if(_)throw _;LJe({particleCount:100,spread:70,origin:{y:.6}}),xe.success(" Goal completed! Congratulations!"),d()}catch(_){console.error("Failed to complete goal:",_),xe.error("Failed to update goal")}},f=async b=>{if(confirm("Are you sure you want to delete this goal?"))try{const{error:_}=await se.from("goals").delete().eq("id",b);if(_)throw _;xe.success("Goal deleted"),d()}catch(_){console.error("Failed to delete goal:",_),xe.error("Failed to delete goal")}},x=b=>{var _;l(b),u({title:b.title,description:b.description||"",category:b.category,specific:b.specific||"",measurable:b.measurable||"",achievable:b.achievable||"",relevant:b.relevant||"",time_bound:b.time_bound||"",target_value:((_=b.target_value)==null?void 0:_.toString())||"",target_date:b.target_date||"",is_shared:b.is_shared||!1}),i(!0)},v=()=>{l(null),u({title:"",description:"",category:"applications",specific:"",measurable:"",achievable:"",relevant:"",time_bound:"",target_value:"",target_date:"",is_shared:!1})},g=b=>b.target_value?Math.min(Math.round(b.current_value/b.target_value*100),100):0;if(r)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const y=e.filter(b=>b.status==="active"),j=e.filter(b=>b.status==="completed");return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"SMART Goals"}),n.jsxs(Wr,{open:a,onOpenChange:i,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{onClick:v,children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"New Goal"]})}),n.jsxs(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:o?"Edit Goal":"Create SMART Goal"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Title"}),n.jsx(Je,{value:c.title,onChange:b=>u({...c,title:b.target.value}),placeholder:"e.g., Get 5 interviews by end of month"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Category"}),n.jsxs($t,{value:c.category,onValueChange:b=>u({...c,category:b}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"applications",children:"Applications"}),n.jsx(qe,{value:"interviews",children:"Interviews"}),n.jsx(qe,{value:"networking",children:"Networking"}),n.jsx(qe,{value:"salary",children:"Salary"}),n.jsx(qe,{value:"skill_development",children:"Skill Development"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Description (optional)"}),n.jsx(dr,{value:c.description,onChange:b=>u({...c,description:b.target.value}),rows:2})]}),n.jsxs("div",{className:"border-t pt-4 space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"SMART Criteria"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Specific - What will you accomplish?"}),n.jsx(dr,{value:c.specific,onChange:b=>u({...c,specific:b.target.value}),placeholder:"Be specific about what you want to achieve",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Measurable - How will you measure progress?"}),n.jsx(dr,{value:c.measurable,onChange:b=>u({...c,measurable:b.target.value}),placeholder:"Define how you'll track progress",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Achievable - Why is this goal realistic?"}),n.jsx(dr,{value:c.achievable,onChange:b=>u({...c,achievable:b.target.value}),placeholder:"Explain why this goal is achievable",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Relevant - Why does this goal matter?"}),n.jsx(dr,{value:c.relevant,onChange:b=>u({...c,relevant:b.target.value}),placeholder:"Why is this goal important to you?",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Time-Bound - When will you complete this?"}),n.jsx(dr,{value:c.time_bound,onChange:b=>u({...c,time_bound:b.target.value}),placeholder:"Define your timeline",rows:2})]})]}),n.jsxs("div",{className:"border-t pt-4 grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Value (optional)"}),n.jsx(Je,{type:"number",value:c.target_value,onChange:b=>u({...c,target_value:b.target.value}),placeholder:"e.g., 5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Date (optional)"}),n.jsx(Je,{type:"date",value:c.target_date,onChange:b=>u({...c,target_date:b.target.value})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rd,{checked:c.is_shared,onCheckedChange:b=>u({...c,is_shared:b})}),n.jsx(Ee,{children:"Share with mentors/collaborators"})]}),n.jsx(ve,{onClick:h,className:"w-full",children:o?"Update Goal":"Create Goal"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5"}),"Active Goals (",y.length,")"]}),y.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(xn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Active Goals"}),n.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create SMART goals to track your job search progress"}),n.jsxs(ve,{onClick:()=>i(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Create Your First Goal"]})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(b=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(De,{className:"text-lg",children:b.title}),n.jsx($e,{variant:"outline",className:"mt-2",children:b.category.replace("_"," ")}),b.is_shared&&n.jsx($e,{variant:"secondary",className:"ml-2",children:"Shared"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>x(b),children:n.jsx(xf,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>f(b.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]})}),n.jsxs(_e,{className:"space-y-4",children:[b.description&&n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description}),b.target_value&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{className:"font-medium",children:[b.current_value||0," / ",b.target_value]})]}),n.jsx(La,{value:g(b)})]}),b.target_date&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(mr,{className:"h-4 w-4"}),"Target: ",new Date(b.target_date).toLocaleDateString()]}),n.jsxs(ve,{variant:"outline",className:"w-full",onClick:()=>m(b),children:[n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Mark Complete"]})]})]},b.id))})]}),j.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[n.jsx(Iw,{className:"h-5 w-5"}),"Completed Goals (",j.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(b=>n.jsxs(ye,{className:"opacity-75",children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"text-lg flex items-center gap-2",children:[n.jsx(pa,{className:"h-5 w-5 text-green-600"}),b.title]}),n.jsx($e,{variant:"outline",children:b.category.replace("_"," ")})]}),n.jsx(_e,{children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Completed on ",new Date(b.updated_at).toLocaleDateString()]})})]},b.id))})]})]})]})}function BJe(){const[e,t]=N.useState([]),[r,s]=N.useState(!0),[a,i]=N.useState(null),[o,l]=N.useState(0),[c,u]=N.useState(!1),[d,h]=N.useState({activity_type:"job_search",notes:""});N.useEffect(()=>{m();const b=setInterval(()=>{a&&l(_=>_+1)},1e3);return()=>clearInterval(b)},[a]);const m=async()=>{try{const{data:{user:b}}=await se.auth.getUser();if(!b)throw new Error("Not authenticated");const{data:_,error:S}=await se.from("time_tracking").select("*").eq("user_id",b.id).order("started_at",{ascending:!1});if(S)throw S;t(_||[]);const T=_==null?void 0:_.find(A=>!A.ended_at);if(T){i(T);const A=Math.floor((Date.now()-new Date(T.started_at).getTime())/1e3);l(A)}}catch(b){console.error("Failed to load tracking:",b),xe.error("Failed to load time tracking")}finally{s(!1)}},f=async()=>{try{const{data:{user:b}}=await se.auth.getUser();if(!b)throw new Error("Not authenticated");const{data:_,error:S}=await se.from("time_tracking").insert([{user_id:b.id,activity_type:d.activity_type,notes:d.notes,started_at:new Date().toISOString()}]).select().single();if(S)throw S;i(_),l(0),u(!1),xe.success("Timer started!")}catch(b){console.error("Failed to start timer:",b),xe.error("Failed to start timer")}},x=async()=>{if(a)try{const b=new Date,_=Math.floor((b.getTime()-new Date(a.started_at).getTime())/6e4),{error:S}=await se.from("time_tracking").update({ended_at:b.toISOString(),duration_minutes:_}).eq("id",a.id);if(S)throw S;i(null),l(0),xe.success(`Timer stopped! Duration: ${_} minutes`),m()}catch(b){console.error("Failed to stop timer:",b),xe.error("Failed to stop timer")}},v=b=>{const _=Math.floor(b/3600),S=Math.floor(b%3600/60),T=b%60;return`${_.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`},g=()=>{const b=e.filter(C=>C.ended_at),_=b.reduce((C,I)=>(C[I.activity_type]||(C[I.activity_type]=0),C[I.activity_type]+=I.duration_minutes||0,C),{}),S=Object.entries(_).map(([C,I])=>({name:C.replace(/_/g," "),hours:Number((Number(I)/60).toFixed(1))})),A=(b.reduce((C,I)=>C+(I.duration_minutes||0),0)/60).toFixed(1),L=new Date;L.setDate(L.getDate()-7);const M=(b.filter(C=>new Date(C.started_at)>=L).reduce((C,I)=>C+(I.duration_minutes||0),0)/60).toFixed(1);return{activityData:S,totalHours:A,weekHours:M,totalSessions:b.length}};if(r)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const y=g(),j=["#3b82f6","#10b981","#f59e0b","#ec4899","#8b5cf6"];return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-3xl font-bold",children:"Time Investment Tracking"})}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"Track your time"})," to understand where your job search efforts go. Use the timer for activities and see reports showing time invested versus outcomes."]})]}),n.jsx(ye,{className:"bg-primary/5 border-primary",children:n.jsx(_e,{className:"pt-6",children:a?n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"text-4xl font-bold font-mono",children:v(o)}),n.jsx($e,{variant:"default",className:"text-sm",children:a.activity_type.replace(/_/g," ")}),a.notes&&n.jsx("p",{className:"text-sm text-muted-foreground",children:a.notes}),n.jsxs(ve,{onClick:x,size:"lg",variant:"destructive",children:[n.jsx(tH,{className:"h-4 w-4 mr-2"}),"Stop Timer"]})]}):n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx(Gn,{className:"h-12 w-12 mx-auto text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"No active timer"}),n.jsxs(Wr,{open:c,onOpenChange:u,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{size:"lg",children:[n.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Start Timer"]})}),n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Start Time Tracking"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Activity Type"}),n.jsxs($t,{value:d.activity_type,onValueChange:b=>h({...d,activity_type:b}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"job_search",children:"Job Search"}),n.jsx(qe,{value:"resume_writing",children:"Resume Writing"}),n.jsx(qe,{value:"applications",children:"Filling Applications"}),n.jsx(qe,{value:"networking",children:"Networking"}),n.jsx(qe,{value:"interview_prep",children:"Interview Prep"}),n.jsx(qe,{value:"skill_development",children:"Skill Development"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Notes (optional)"}),n.jsx(dr,{value:d.notes,onChange:b=>h({...d,notes:b.target.value}),placeholder:"What are you working on?",rows:3})]}),n.jsxs(ve,{onClick:f,className:"w-full",children:[n.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Start Timer"]})]})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"Total Time"})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[y.totalHours,"h"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y.totalSessions," sessions"]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"This Week"})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[y.weekHours,"h"]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 7 days"})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"Avg Session"})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[y.totalSessions>0?Math.round(parseFloat(y.totalHours)/y.totalSessions*60):0,"m"]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per session"})]})]})]}),n.jsxs(ss,{defaultValue:"breakdown",className:"space-y-6",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"breakdown",children:"Time Breakdown"}),n.jsx(vt,{value:"history",children:"Recent Activity"})]}),n.jsx(xt,{value:"breakdown",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tO,{className:"h-5 w-5"}),"Time by Activity Type"]})}),n.jsx(_e,{children:y.activityData.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No time tracking data yet. Start a timer!"}):n.jsxs(n.Fragment,{children:[n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:y.activityData,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"name"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(Ja,{dataKey:"hours",fill:"#3b82f6",name:"Hours"})]})}),n.jsx("div",{className:"mt-6",children:n.jsx(es,{width:"100%",height:250,children:n.jsxs(Jm,{children:[n.jsx(mf,{data:y.activityData,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,percent:_})=>`${b}: ${((typeof _=="number"?_:0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"hours",children:y.activityData.map((b,_)=>n.jsx(bc,{fill:j[_%j.length]},`cell-${_}`))}),n.jsx(ts,{})]})})})]})})]})}),n.jsx(xt,{value:"history",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Recent Activity"})}),n.jsx(_e,{children:e.filter(b=>b.ended_at).length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No completed sessions yet."}):n.jsx("div",{className:"space-y-3",children:e.filter(b=>b.ended_at).slice(0,10).map(b=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:b.activity_type.replace(/_/g," ")}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(b.started_at).toLocaleDateString()," at"," ",new Date(b.started_at).toLocaleTimeString()]}),b.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.notes})]}),n.jsxs($e,{children:[b.duration_minutes," min"]})]},b.id))})})]})})]})]})]})}const QW=[{id:"applications_sent",label:"Applications Sent"},{id:"interviews_scheduled",label:"Interviews Scheduled"},{id:"offers_received",label:"Offers Received"},{id:"conversion_rate",label:"Conversion Rate"},{id:"response_rate",label:"Response Rate"},{id:"avg_time_to_response",label:"Avg Time to Response"}];function UJe(){var j,b;const[e,t]=N.useState([]),[r,s]=N.useState(!0),[a,i]=N.useState(!1),[o,l]=N.useState({name:"",description:"",metrics:[],startDate:null,endDate:null}),[c,u]=N.useState(null),[d,h]=N.useState(!1);N.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:{user:_}}=await se.auth.getUser();if(!_)throw new Error("Not authenticated");const{data:S,error:T}=await se.from("custom_report_templates").select("*").eq("user_id",_.id).order("created_at",{ascending:!1});if(T)throw T;t(S||[])}catch(_){console.error("Failed to load templates:",_),xe.error("Failed to load templates")}finally{s(!1)}},f=async()=>{var _,S;try{const{data:{user:T}}=await se.auth.getUser();if(!T)throw new Error("Not authenticated");const{error:A}=await se.from("custom_report_templates").insert([{user_id:T.id,name:o.name,description:o.description,metrics:o.metrics,filters:{date_range:{start:(_=o.startDate)==null?void 0:_.toISOString(),end:(S=o.endDate)==null?void 0:S.toISOString()}}}]);if(A)throw A;xe.success("Template saved!"),i(!1),m()}catch(T){console.error("Failed to save template:",T),xe.error("Failed to save template")}},x=async _=>{var S,T,A,L;h(!0);try{const{data:{user:E}}=await se.auth.getUser();if(!E)throw new Error("Not authenticated");const q=_?_.metrics:o.metrics,M=(T=(S=_==null?void 0:_.filters)==null?void 0:S.date_range)!=null&&T.start?new Date(_.filters.date_range.start):o.startDate,C=(L=(A=_==null?void 0:_.filters)==null?void 0:A.date_range)!=null&&L.end?new Date(_.filters.date_range.end):o.endDate,[{data:I},{data:O}]=await Promise.all([se.from("jobs").select("*").eq("user_id",E.id).eq("is_archived",!1),se.from("interviews").select("*").eq("user_id",E.id)]);let H=I||[];H=q3(H,M,C);const re={};q.includes("applications_sent")&&(re.applications_sent=N5(H)),q.includes("interviews_scheduled")&&(re.interviews_scheduled=O6(O||[])),q.includes("offers_received")&&(re.offers_received=_5(H)),q.includes("conversion_rate")&&(re.conversion_rate=I6(H)),u({metrics:re,dateRange:{start:M,end:C},generatedAt:new Date}),xe.success("Report generated!")}catch(E){console.error("Failed to generate report:",E),xe.error("Failed to generate report")}finally{h(!1)}},v=()=>{if(!c)return;const S=[["Metric","Value"],...Object.entries(c.metrics).map(([E,q])=>{if(E==="conversion_rate"){const M=q;return["Conversion Rates",`AppliedInterview: ${M.appliedToInterview}%, InterviewOffer: ${M.interviewToOffer}%, AppliedOffer: ${M.appliedToOffer}%`]}return[E.replace(/_/g," "),String(q)]})].map(E=>E.join(",")).join(`
`),T=new Blob([S],{type:"text/csv"}),A=URL.createObjectURL(T),L=document.createElement("a");L.href=A,L.download=`report-${Date.now()}.csv`,L.click(),xe.success("CSV exported!")},g=()=>{var T,A;if(!c)return;const _=new br;if(_.setFontSize(18),_.text("Custom Analytics Report",20,20),_.setFontSize(12),_.text(`Generated: ${c.generatedAt.toLocaleString()}`,20,30),c.dateRange.start||c.dateRange.end){const L=`Date Range: ${((T=c.dateRange.start)==null?void 0:T.toLocaleDateString())||"Any"} - ${((A=c.dateRange.end)==null?void 0:A.toLocaleDateString())||"Any"}`;_.text(L,20,40)}let S=55;_.text("Metrics:",20,S),S+=10,Object.entries(c.metrics).forEach(([L,E])=>{const q=L.replace(/_/g," ");if(L==="conversion_rate"){const M=E;_.text(`${q}:`,20,S),S+=7,_.text(`  AppliedInterview: ${M.appliedToInterview}%`,20,S),S+=7,_.text(`  InterviewOffer: ${M.interviewToOffer}%`,20,S),S+=7,_.text(`  AppliedOffer: ${M.appliedToOffer}%`,20,S)}else _.text(`${q}: ${E}`,20,S);S+=10}),_.save(`report-${Date.now()}.pdf`),xe.success("PDF exported!")},y=async _=>{if(confirm("Delete this template?"))try{const{error:S}=await se.from("custom_report_templates").delete().eq("id",_);if(S)throw S;xe.success("Template deleted"),m()}catch(S){console.error("Failed to delete template:",S),xe.error("Failed to delete template")}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Custom Reports"}),n.jsxs(Wr,{open:a,onOpenChange:i,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"New Report"]})}),n.jsxs(Br,{className:"max-w-2xl",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Create Custom Report"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Report Name"}),n.jsx(Je,{value:o.name,onChange:_=>l({...o,name:_.target.value}),placeholder:"e.g., Monthly Application Summary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Description (optional)"}),n.jsx(dr,{value:o.description,onChange:_=>l({...o,description:_.target.value}),rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Select Metrics"}),n.jsx("div",{className:"space-y-2",children:QW.map(_=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{checked:o.metrics.includes(_.id),onCheckedChange:S=>{l(S?{...o,metrics:[...o.metrics,_.id]}:{...o,metrics:o.metrics.filter(T=>T!==_.id)})}}),n.jsx(Ee,{children:_.label})]},_.id))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Start Date"}),n.jsxs(Dg,{children:[n.jsx(Mg,{asChild:!0,children:n.jsxs(ve,{variant:"outline",className:Pt("w-full justify-start text-left",!o.startDate&&"text-muted-foreground"),children:[n.jsx(mr,{className:"mr-2 h-4 w-4"}),o.startDate?Lt(o.startDate,"PPP"):"Pick date"]})}),n.jsx(Vm,{className:"w-auto p-0",children:n.jsx(gf,{mode:"single",selected:o.startDate||void 0,onSelect:_=>l({...o,startDate:_||null})})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"End Date"}),n.jsxs(Dg,{children:[n.jsx(Mg,{asChild:!0,children:n.jsxs(ve,{variant:"outline",className:Pt("w-full justify-start text-left",!o.endDate&&"text-muted-foreground"),children:[n.jsx(mr,{className:"mr-2 h-4 w-4"}),o.endDate?Lt(o.endDate,"PPP"):"Pick date"]})}),n.jsx(Vm,{className:"w-auto p-0",children:n.jsx(gf,{mode:"single",selected:o.endDate||void 0,onSelect:_=>l({...o,endDate:_||null})})})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{onClick:()=>x(),disabled:o.metrics.length===0,className:"flex-1",children:[n.jsx(bs,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),n.jsxs(ve,{variant:"outline",onClick:f,disabled:!o.name||o.metrics.length===0,children:[n.jsx(tp,{className:"h-4 w-4 mr-2"}),"Save Template"]})]})]})]})]})]}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"Custom reports"})," let you select specific metrics and date ranges. Save templates for recurring reports and export to CSV or PDF."]})]}),c&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Generated Report"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",size:"sm",onClick:v,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ve,{variant:"outline",size:"sm",onClick:g,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Generated: ",c.generatedAt.toLocaleString()]}),(c.dateRange.start||c.dateRange.end)&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Date Range: ",((j=c.dateRange.start)==null?void 0:j.toLocaleDateString())||"Any"," -"," ",((b=c.dateRange.end)==null?void 0:b.toLocaleDateString())||"Any"]}),n.jsx("div",{className:"border-t pt-4 space-y-3",children:Object.entries(c.metrics).map(([_,S])=>{if(_==="conversion_rate"){const T=S;return n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium",children:"Conversion Rates"}),n.jsxs("div",{className:"pl-4 space-y-1 text-sm",children:[n.jsxs("div",{children:["Applied  Interview: ",T.appliedToInterview,"%"]}),n.jsxs("div",{children:["Interview  Offer: ",T.interviewToOffer,"%"]}),n.jsxs("div",{children:["Applied  Offer: ",T.appliedToOffer,"%"]})]})]},_)}return n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:_.replace(/_/g," ")}),n.jsx("span",{children:String(S)})]},_)})})]})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Saved Templates"})}),n.jsx(_e,{children:e.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No saved templates yet. Create a report and save it as a template for easy reuse."}):n.jsx("div",{className:"space-y-3",children:e.map(_=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:_.name}),_.description&&n.jsx("p",{className:"text-sm text-muted-foreground",children:_.description}),n.jsx("div",{className:"flex gap-2 mt-2",children:_.metrics.map(S=>{var T;return n.jsx($e,{variant:"outline",children:((T=QW.find(A=>A.id===S))==null?void 0:T.label)||S},S)})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>x(_),children:[n.jsx(bs,{className:"h-4 w-4 mr-2"}),"Generate"]}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>y(_.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]},_.id))})})]})]})]})}function $Je(){var d;const[e,t]=N.useState(!0),[r,s]=N.useState([]),[a,i]=N.useState({});N.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:h}}=await se.auth.getUser();if(!h)throw new Error("Not authenticated");const[{data:m},{data:f},{data:x},{data:v}]=await Promise.all([se.from("forecasts").select("*").eq("user_id",h.id).order("created_at",{ascending:!1}),se.from("jobs").select("*").eq("user_id",h.id).eq("is_archived",!1),se.from("application_status_history").select("*").eq("user_id",h.id),se.from("interviews").select("*").eq("user_id",h.id)]);s(m||[]);const g=N5(f||[]),y=O6(v||[]),j=_5(f||[]),b=I6(f||[]);i({applied:g,interviews:y,offers:j,rates:b,totalJobs:(f==null?void 0:f.length)||0})}catch(h){console.error("Failed to load data:",h),xe.error("Failed to load forecasting data")}finally{t(!1)}},l=async()=>{try{const{data:{user:h}}=await se.auth.getUser();if(!h)throw new Error("Not authenticated");const{rates:m,applied:f}=a,x=Math.round(f*m.appliedToInterview/100),v=Math.round(x*m.interviewToOffer/100),g=b=>b<5?"low":b<15?"medium":"high",y=new Date;y.setDate(y.getDate()+30);const j=[{forecast_type:"interviews",prediction_value:x,confidence_level:g(f),based_on_data:{applications:f,historical_rate:m.appliedToInterview},target_date:y.toISOString().split("T")[0]},{forecast_type:"offers",prediction_value:v,confidence_level:g(a.interviews),based_on_data:{interviews:a.interviews,historical_rate:m.interviewToOffer},target_date:y.toISOString().split("T")[0]}];for(const b of j){const{error:_}=await se.from("forecasts").insert([{user_id:h.id,...b}]);if(_)throw _}xe.success("Forecast generated!"),o()}catch(h){console.error("Failed to generate forecast:",h),xe.error("Failed to generate forecast")}};if(e)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const c=r.filter(h=>!h.actual_value&&new Date(h.target_date)>=new Date),u=r.filter(h=>new Date(h.target_date)<new Date);return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Forecasting & Predictions"}),n.jsxs(ve,{onClick:l,disabled:a.applied<3,children:[n.jsx(lc,{className:"h-4 w-4 mr-2"}),"Generate Forecast"]})]}),n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"Honest forecasting:"})," Predictions are based solely on your historical data and current pipeline. Confidence levels reflect data volume, not false precision. More applications = better predictions."]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Current Pipeline"})}),n.jsx(_e,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Applications"}),n.jsx("p",{className:"text-2xl font-bold",children:a.applied})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Interviews"}),n.jsx("p",{className:"text-2xl font-bold",children:a.interviews})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Offers"}),n.jsx("p",{className:"text-2xl font-bold",children:a.offers})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Conv. Rate"}),n.jsxs("p",{className:"text-2xl font-bold",children:[((d=a.rates)==null?void 0:d.appliedToOffer)||0,"%"]})]})]})})]}),a.applied<3&&n.jsxs(Is,{children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsx(Rs,{children:"Need at least 3 applications to generate forecasts. Keep applying to build prediction data!"})]}),n.jsxs(ss,{defaultValue:"active",className:"space-y-6",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"active",children:"Active Forecasts"}),n.jsx(vt,{value:"past",children:"Past Predictions"})]}),n.jsx(xt,{value:"active",children:c.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(xn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No Active Forecasts"}),n.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Generate a forecast to predict upcoming interviews and offers"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(h=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{className:"text-lg capitalize",children:h.forecast_type.replace("_"," ")}),n.jsxs($e,{variant:h.confidence_level==="high"?"default":h.confidence_level==="medium"?"secondary":"outline",children:[h.confidence_level," confidence"]})]})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Prediction"}),n.jsx("p",{className:"text-2xl font-bold",children:h.prediction_value})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["By ",new Date(h.target_date).toLocaleDateString()]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground border-t pt-3",children:[n.jsx("p",{children:"Based on:"}),n.jsx("ul",{className:"list-disc list-inside mt-1",children:Object.entries(h.based_on_data).map(([m,f])=>n.jsxs("li",{children:[m.replace(/_/g," "),": ",String(f),m.includes("rate")?"%":""]},m))})]})]})]},h.id))})}),n.jsx(xt,{value:"past",children:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Prediction Accuracy"})}),n.jsx(_e,{children:u.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No past forecasts yet. Predictions will appear here after their target date passes."}):n.jsx("div",{className:"space-y-3",children:u.map(h=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:h.forecast_type.replace("_"," ")}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Target: ",new Date(h.target_date).toLocaleDateString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm",children:["Predicted: ",n.jsx("span",{className:"font-medium",children:h.prediction_value})]}),h.actual_value!==null?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm",children:["Actual: ",n.jsx("span",{className:"font-medium",children:h.actual_value})]}),h.accuracy_score&&n.jsxs($e,{variant:h.accuracy_score>80?"default":"secondary",className:"mt-1",children:[h.accuracy_score,"% accurate"]})]}):n.jsx($e,{variant:"outline",className:"mt-1",children:"Awaiting data"})]})]},h.id))})})]})})]})]})]})}const qJe=()=>{const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(!0),[d,h]=N.useState({contact_id:"",outreach_sent_at:"",scheduled_date:"",topics:"",questions_prepared:!1,research_completed:!1,goals_defined:!1,outcome_notes:"",follow_up_tasks:"",status:"outreach_pending"});N.useEffect(()=>{m(),f()},[]);const m=async()=>{try{const{data:j,error:b}=await se.from("informational_interviews").select("*, contact:contacts(name, company, role)").order("created_at",{ascending:!1});if(b)throw b;t(j||[])}catch(j){xe.error("Failed to load interviews",{description:j.message})}finally{u(!1)}},f=async()=>{try{const{data:j,error:b}=await se.from("contacts").select("id, name, company, role").order("name");if(b)throw b;s(j||[])}catch{xe.error("Failed to load contacts")}},x=async j=>{j.preventDefault();const{data:{user:b}}=await se.auth.getUser();if(b)try{const _=d.topics.split(",").map(A=>A.trim()).filter(Boolean),S=d.follow_up_tasks.split(`
`).map(A=>A.trim()).filter(Boolean).map(A=>({task:A,completed:!1})),T={user_id:b.id,contact_id:d.contact_id,outreach_sent_at:d.outreach_sent_at||null,scheduled_date:d.scheduled_date||null,prep_checklist:{topics:_,questions_prepared:d.questions_prepared,research_completed:d.research_completed,goals_defined:d.goals_defined},outcome_notes:d.outcome_notes||null,follow_up_tasks:S,status:d.status};if(o){const{error:A}=await se.from("informational_interviews").update(T).eq("id",o.id);if(A)throw A;xe.success("Interview updated")}else{const{error:A}=await se.from("informational_interviews").insert(T);if(A)throw A;xe.success("Interview tracked")}i(!1),g(),m()}catch(_){xe.error("Failed to save interview",{description:_.message})}},v=j=>{l(j),h({contact_id:j.contact_id,outreach_sent_at:j.outreach_sent_at?Lt(new Date(j.outreach_sent_at),"yyyy-MM-dd"):"",scheduled_date:j.scheduled_date?Lt(new Date(j.scheduled_date),"yyyy-MM-dd"):"",topics:j.prep_checklist.topics.join(", "),questions_prepared:j.prep_checklist.questions_prepared,research_completed:j.prep_checklist.research_completed,goals_defined:j.prep_checklist.goals_defined,outcome_notes:j.outcome_notes||"",follow_up_tasks:j.follow_up_tasks.map(b=>b.task).join(`
`),status:j.status}),i(!0)},g=()=>{h({contact_id:"",outreach_sent_at:"",scheduled_date:"",topics:"",questions_prepared:!1,research_completed:!1,goals_defined:!1,outcome_notes:"",follow_up_tasks:"",status:"outreach_pending"}),l(null)},y=j=>{const b={outreach_pending:"secondary",scheduled:"default",completed:"outline",declined:"destructive"};return n.jsx($e,{variant:b[j]||"secondary",children:j.replace("_"," ")})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Informational Interviews"}),n.jsx(_t,{children:"Track outreach, prep, and outcomes"})]}),n.jsxs(ve,{onClick:()=>{g(),i(!0)},children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Track Interview"]})]})}),n.jsx(_e,{children:c?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((j,b)=>n.jsx("div",{className:"h-24 rounded-lg border bg-muted animate-pulse"},b))}):e.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qi,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No informational interviews tracked yet"})]}):n.jsx("div",{className:"space-y-3",children:e.map(j=>{var b,_;return n.jsx(ye,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>v(j),children:n.jsx(_e,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold",children:(b=j.contact)==null?void 0:b.name}),y(j.status)]}),((_=j.contact)==null?void 0:_.company)&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.contact.role," at ",j.contact.company]}),j.scheduled_date&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(mr,{className:"h-4 w-4"}),Lt(new Date(j.scheduled_date),"MMM d, yyyy")]})]})})})},j.id)})})})]}),n.jsx(Wr,{open:a,onOpenChange:i,children:n.jsxs(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:o?"Update Interview":"Track Informational Interview"})}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Contact"}),n.jsxs($t,{value:d.contact_id,onValueChange:j=>h({...d,contact_id:j}),required:!0,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select contact"})}),n.jsx(Bt,{children:r.map(j=>n.jsxs(qe,{value:j.id,children:[j.name," ",j.company&&`- ${j.company}`]},j.id))})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Outreach Sent"}),n.jsx(Je,{type:"date",value:d.outreach_sent_at,onChange:j=>h({...d,outreach_sent_at:j.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Scheduled Date"}),n.jsx(Je,{type:"date",value:d.scheduled_date,onChange:j=>h({...d,scheduled_date:j.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Status"}),n.jsxs($t,{value:d.status,onValueChange:j=>h({...d,status:j}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"outreach_pending",children:"Outreach Pending"}),n.jsx(qe,{value:"scheduled",children:"Scheduled"}),n.jsx(qe,{value:"completed",children:"Completed"}),n.jsx(qe,{value:"declined",children:"Declined"})]})]})]}),n.jsxs("div",{className:"space-y-3 rounded-lg border p-4",children:[n.jsx(Ee,{className:"text-base",children:"Prep Checklist"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"questions_prepared",checked:d.questions_prepared,onCheckedChange:j=>h({...d,questions_prepared:j})}),n.jsx("label",{htmlFor:"questions_prepared",className:"text-sm",children:"Questions prepared"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"research_completed",checked:d.research_completed,onCheckedChange:j=>h({...d,research_completed:j})}),n.jsx("label",{htmlFor:"research_completed",className:"text-sm",children:"Research completed"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ga,{id:"goals_defined",checked:d.goals_defined,onCheckedChange:j=>h({...d,goals_defined:j})}),n.jsx("label",{htmlFor:"goals_defined",className:"text-sm",children:"Goals defined"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Topics to Cover (comma-separated)"}),n.jsx(Je,{placeholder:"Career path, company culture, industry trends",value:d.topics,onChange:j=>h({...d,topics:j.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Outcome Notes"}),n.jsx(dr,{placeholder:"Key insights, advice received, referrals...",value:d.outcome_notes,onChange:j=>h({...d,outcome_notes:j.target.value}),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Follow-up Tasks (one per line)"}),n.jsx(dr,{placeholder:`Send thank you note
Connect on LinkedIn
Share article discussed`,value:d.follow_up_tasks,onChange:j=>h({...d,follow_up_tasks:j.target.value}),rows:4})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsxs(ve,{type:"submit",children:[o?"Update":"Track"," Interview"]})]})]})]})})]})},zJe=[{title:"Quick Check-in",content:"Hey [Name], hope you're doing well! Just wanted to check in and see how things are going at [Company]. Would love to catch up soon if you have time."},{title:"Share Resource",content:"Hi [Name], I came across this [article/resource] and thought of you given your work in [their field]. Hope you find it interesting!"},{title:"Congratulations",content:"Congrats on [recent achievement/milestone]! Really impressive. Would love to hear more about it when you have a chance."}],WJe=()=>{const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(""),[c,u]=N.useState(!1);N.useEffect(()=>{d(),h()},[]);const d=async()=>{try{const{data:g,error:y}=await se.from("contact_reminders").select("*, contact:contacts(name, company, relationship_strength, last_contacted_at)").eq("completed",!1).order("reminder_date");if(y)throw y;t(g||[])}catch{xe.error("Failed to load reminders")}finally{i(!1)}},h=async()=>{try{const{data:g,error:y}=await se.from("contacts").select("id, name, company, relationship_strength, last_contacted_at").order("last_contacted_at",{ascending:!0,nullsFirst:!0});if(y)throw y;const j=(g||[]).filter(b=>{if(!b.last_contacted_at)return!0;const _=kg(new Date,new Date(b.last_contacted_at)),S=b.relationship_strength||3,T={5:30,4:45,3:60,2:90,1:120}[S]||60;return _>T});s(j)}catch{xe.error("Failed to analyze contacts")}},m=async()=>{const{data:{user:g}}=await se.auth.getUser();if(g)try{const y=r.slice(0,10).map(b=>{const _=b.relationship_strength||3,S={5:7,4:10,3:14,2:21,1:30}[_]||14;return{user_id:g.id,contact_id:b.id,reminder_date:Lt(Qi(new Date,S),"yyyy-MM-dd"),notes:`Check in with ${b.name}`,completed:!1}}),{error:j}=await se.from("contact_reminders").insert(y);if(j)throw j;xe.success(`Created ${y.length} reminders`),d(),h()}catch(y){xe.error("Failed to generate reminders",{description:y.message})}},f=async g=>{try{const{error:y}=await se.from("contact_reminders").update({completed:!0}).eq("id",g);if(y)throw y;xe.success("Reminder completed"),d()}catch{xe.error("Failed to complete reminder")}},x=g=>{navigator.clipboard.writeText(g),xe.success("Template copied to clipboard")},v=g=>{const y=kg(new Date,new Date(g));return y>0?y:0};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Relationship Maintenance"}),n.jsx(_t,{children:"Auto-generated check-in reminders based on relationship strength"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:"outline",onClick:()=>u(!0),children:"View Templates"}),n.jsxs(ve,{onClick:m,children:[n.jsx(lc,{className:"h-4 w-4 mr-2"}),"Generate Reminders"]})]})]})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Contacts Needing Outreach"}),r.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"All contacts recently engaged! "}):n.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.slice(0,10).map(g=>n.jsxs($e,{variant:"secondary",children:[g.name,g.last_contacted_at&&n.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(",kg(new Date,new Date(g.last_contacted_at)),"d ago)"]})]},g.id)),r.length>10&&n.jsxs($e,{variant:"outline",children:["+",r.length-10," more"]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Upcoming Reminders"}),a?n.jsx("div",{className:"space-y-2",children:[...Array(3)].map((g,y)=>n.jsx("div",{className:"h-16 rounded-lg border bg-muted animate-pulse"},y))}):e.length===0?n.jsx("p",{className:"text-sm text-muted-foreground py-4",children:'No reminders scheduled. Click "Generate Reminders" to create check-in tasks.'}):n.jsx("div",{className:"space-y-2",children:e.map(g=>{const y=v(g.reminder_date);return n.jsx(ye,{children:n.jsx(_e,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold",children:g.contact.name}),y>0&&n.jsxs($e,{variant:"destructive",children:[y,"d overdue"]})]}),g.contact.company&&n.jsx("p",{className:"text-sm text-muted-foreground",children:g.contact.company}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[n.jsx(mr,{className:"h-3 w-3"}),Lt(new Date(g.reminder_date),"MMM d, yyyy")]}),g.notes&&n.jsx("p",{className:"text-sm mt-1",children:g.notes})]}),n.jsxs(ve,{size:"sm",onClick:()=>f(g.id),children:[n.jsx(Vd,{className:"h-4 w-4 mr-1"}),"Done"]})]})})},g.id)})})]})]})})]}),n.jsx(Wr,{open:c,onOpenChange:u,children:n.jsxs(Br,{className:"max-w-2xl",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Outreach Templates"})}),n.jsx("div",{className:"space-y-4",children:zJe.map((g,y)=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{className:"text-base",children:g.title}),n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>x(g.content),children:[n.jsx(fc,{className:"h-4 w-4 mr-1"}),"Copy"]})]})}),n.jsx(_e,{children:n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:g.content})})]},y))})]})})]})},VJe=[{title:"Initial Reference Request",content:`Dear [Name],

I hope this email finds you well. I'm currently in the process of applying for [Position] roles, and I would be honored if you would consider serving as a professional reference for me.

Given our work together on [specific project/time period], I believe you can speak to [specific skills/qualities]. The reference check would likely involve [email/phone call], and I would be happy to provide you with details about the role and company when the time comes.

Would you be comfortable serving as a reference? I'm happy to discuss any questions you might have.

Thank you for considering this request.

Best regards,
[Your Name]`},{title:"Upcoming Reference Check Heads-Up",content:`Hi [Name],

I wanted to give you a heads up that [Company Name] may be reaching out to you as part of their reference check for the [Position] role I'm interviewing for.

Key points they might ask about:
- [Key responsibility/skill 1]
- [Key responsibility/skill 2]  
- [Key responsibility/skill 3]

The role involves [brief role description], which aligns well with the work we did on [specific project].

Let me know if you have any questions, and thank you again for your support!

Best,
[Your Name]`},{title:"Thank You After Reference",content:`Dear [Name],

I wanted to thank you for serving as a reference for me with [Company Name]. I really appreciate you taking the time to speak with them about our work together.

[Optional: I'm excited to share that I've accepted an offer with them / I'm still in the interview process / Unfortunately it didn't work out this time, but I appreciate your support.]

Your support means a lot to me, and I'm grateful to have you in my professional network.

Thank you again,
[Your Name]`}],HJe=()=>{const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(!1),[m,f]=N.useState(null),[x,v]=N.useState(!0),[g,y]=N.useState({contact_id:"",relationship_description:"",can_speak_to:"",contact_preference:"email",notes:""}),[j,b]=N.useState({job_id:"",notes:""});N.useEffect(()=>{_(),S(),T()},[]);const _=async()=>{try{const{data:C,error:I}=await se.from("professional_references").select("*, contact:contacts(name, company, email, phone)").order("times_used",{ascending:!1});if(I)throw I;t(C||[])}catch{xe.error("Failed to load references")}finally{v(!1)}},S=async()=>{try{const{data:C,error:I}=await se.from("contacts").select("id, name, company").order("name");if(I)throw I;s(C||[])}catch{xe.error("Failed to load contacts")}},T=async()=>{try{const{data:C,error:I}=await se.from("jobs").select("id, job_title, company_name").eq("is_archived",!1).order("created_at",{ascending:!1});if(I)throw I;i(C||[])}catch{xe.error("Failed to load jobs")}},A=async C=>{C.preventDefault();const{data:{user:I}}=await se.auth.getUser();if(I)try{const O={user_id:I.id,contact_id:g.contact_id,relationship_description:g.relationship_description||null,can_speak_to:g.can_speak_to.split(",").map(re=>re.trim()).filter(Boolean),contact_preference:g.contact_preference,notes:g.notes||null,times_used:0},{error:H}=await se.from("professional_references").insert(O);if(H)throw H;xe.success("Reference added"),l(!1),E(),_()}catch(O){xe.error("Failed to add reference",{description:O.message})}},L=async C=>{C.preventDefault();const{data:{user:I}}=await se.auth.getUser();if(!(!I||!m))try{const{error:O}=await se.from("reference_requests").insert({user_id:I.id,reference_id:m.id,job_id:j.job_id||null,notes:j.notes||null});if(O)throw O;const{error:H}=await se.from("professional_references").update({times_used:m.times_used+1}).eq("id",m.id);if(H)throw H;xe.success("Reference usage logged"),u(!1),q(),_()}catch(O){xe.error("Failed to log usage",{description:O.message})}},E=()=>{y({contact_id:"",relationship_description:"",can_speak_to:"",contact_preference:"email",notes:""})},q=()=>{b({job_id:"",notes:""}),f(null)},M=C=>{navigator.clipboard.writeText(C),xe.success("Template copied to clipboard")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Professional References"}),n.jsx(_t,{children:"Manage references and track usage per application"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:()=>h(!0),children:[n.jsx(bs,{className:"h-4 w-4 mr-2"}),"Templates"]}),n.jsxs(ve,{onClick:()=>l(!0),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Reference"]})]})]})}),n.jsx(_e,{children:x?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((C,I)=>n.jsx("div",{className:"h-32 rounded-lg border bg-muted animate-pulse"},I))}):e.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(xc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No references added yet"})]}):n.jsx("div",{className:"space-y-3",children:e.map(C=>n.jsx(ye,{children:n.jsx(_e,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:C.contact.name}),n.jsxs($e,{variant:"secondary",children:["Used ",C.times_used,"x"]})]}),C.contact.company&&n.jsx("p",{className:"text-sm text-muted-foreground",children:C.contact.company}),C.relationship_description&&n.jsx("p",{className:"text-sm",children:C.relationship_description}),C.can_speak_to.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Can speak to:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:C.can_speak_to.map((I,O)=>n.jsx($e,{variant:"outline",className:"text-xs",children:I},O))})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Contact: ",C.contact_preference]}),C.contact.email&&n.jsxs("span",{children:[" ",C.contact.email]}),C.contact.phone&&n.jsxs("span",{children:[" ",C.contact.phone]})]}),C.notes&&n.jsx("p",{className:"text-sm text-muted-foreground italic",children:C.notes})]}),n.jsx(ve,{size:"sm",onClick:()=>{f(C),u(!0)},children:"Log Usage"})]})})},C.id))})})]}),n.jsx(Wr,{open:o,onOpenChange:l,children:n.jsxs(Br,{className:"max-w-2xl",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Add Professional Reference"})}),n.jsxs("form",{onSubmit:A,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Contact *"}),n.jsxs($t,{value:g.contact_id,onValueChange:C=>y({...g,contact_id:C}),required:!0,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select contact"})}),n.jsx(Bt,{children:r.map(C=>n.jsxs(qe,{value:C.id,children:[C.name," ",C.company&&`- ${C.company}`]},C.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Relationship Description"}),n.jsx(Je,{placeholder:"Former manager at Acme Corp (2020-2022)",value:g.relationship_description,onChange:C=>y({...g,relationship_description:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Can Speak To (comma-separated)"}),n.jsx(Je,{placeholder:"Leadership skills, technical expertise, team collaboration",value:g.can_speak_to,onChange:C=>y({...g,can_speak_to:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Preferred Contact Method"}),n.jsxs($t,{value:g.contact_preference,onValueChange:C=>y({...g,contact_preference:C}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"email",children:"Email"}),n.jsx(qe,{value:"phone",children:"Phone"}),n.jsx(qe,{value:"either",children:"Either"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Notes"}),n.jsx(dr,{placeholder:"Any special instructions or notes about this reference...",value:g.notes,onChange:C=>y({...g,notes:C.target.value}),rows:3})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(ve,{type:"submit",children:"Add Reference"})]})]})]})}),n.jsx(Wr,{open:c,onOpenChange:u,children:n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Log Reference Usage"})}),n.jsxs("form",{onSubmit:L,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Job Application (optional)"}),n.jsxs($t,{value:j.job_id||"none",onValueChange:C=>b({...j,job_id:C==="none"?"":C}),children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select job or leave blank"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"none",children:"None"}),a.map(C=>n.jsxs(qe,{value:C.id,children:[C.job_title," - ",C.company_name]},C.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Notes"}),n.jsx(dr,{placeholder:"Notes about this reference check...",value:j.notes,onChange:C=>b({...j,notes:C.target.value}),rows:3})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),n.jsx(ve,{type:"submit",children:"Log Usage"})]})]})]})}),n.jsx(Wr,{open:d,onOpenChange:h,children:n.jsxs(Br,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Reference Request Templates"})}),n.jsx("div",{className:"space-y-4",children:VJe.map((C,I)=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{className:"text-base",children:C.title}),n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>M(C.content),children:[n.jsx(fc,{className:"h-4 w-4 mr-1"}),"Copy"]})]})}),n.jsx(_e,{children:n.jsx("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap font-sans",children:C.content})})]},I))})]})})]})},GJe=()=>{const e=ns();return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(iH,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Network Power Features"}),n.jsx("p",{className:"text-muted-foreground",children:"Advanced tools to maximize your professional network"})]})]}),n.jsxs(ve,{variant:"outline",onClick:()=>e("/networking-campaigns"),children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"View Campaigns"]})]}),n.jsxs(ss,{defaultValue:"interviews",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-3",children:[n.jsxs(vt,{value:"interviews",className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-4 w-4"}),"Informational Interviews"]}),n.jsxs(vt,{value:"maintenance",className:"flex items-center gap-2",children:[n.jsx(L2,{className:"h-4 w-4"}),"Relationship Maintenance"]}),n.jsxs(vt,{value:"references",className:"flex items-center gap-2",children:[n.jsx(xc,{className:"h-4 w-4"}),"References"]})]}),n.jsx(xt,{value:"interviews",className:"space-y-6 mt-6",children:n.jsx(qJe,{})}),n.jsx(xt,{value:"maintenance",className:"space-y-6 mt-6",children:n.jsx(WJe,{})}),n.jsx(xt,{value:"references",className:"space-y-6 mt-6",children:n.jsx(HJe,{})})]})]})})]})},ZW=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"];function KJe(){const e=wa(),[t,r]=N.useState(!1),[s,a]=N.useState({title:"",url:"",summary:"",tags:"",industry:"",location:"",skills:""}),{data:i=[],isLoading:o}=vr({queryKey:["market-notes"],queryFn:async()=>{const{data:v,error:g}=await se.from("market_notes").select("*").order("created_at",{ascending:!1});if(g)throw g;return v}}),l=ds({mutationFn:async v=>{const{data:{user:g}}=await se.auth.getUser();if(!g)throw new Error("Not authenticated");const{error:y}=await se.from("market_notes").insert([{user_id:g.id,title:v.title,url:v.url||null,summary:v.summary||null,tags:v.tags||[],industry:v.industry||null,location:v.location||null,skills:v.skills||[]}]);if(y)throw y},onSuccess:()=>{e.invalidateQueries({queryKey:["market-notes"]}),xe.success("Market note saved"),r(!1),a({title:"",url:"",summary:"",tags:"",industry:"",location:"",skills:""})},onError:v=>{xe.error("Failed to save note: "+v.message)}}),c=v=>{v.preventDefault(),l.mutate({title:s.title,url:s.url||null,summary:s.summary||null,tags:s.tags?s.tags.split(",").map(g=>g.trim()).filter(Boolean):[],industry:s.industry||null,location:s.location||null,skills:s.skills?s.skills.split(",").map(g=>g.trim()).filter(Boolean):[]})},u=i.reduce((v,g)=>(g.tags.forEach(y=>{v[y]=(v[y]||0)+1}),v),{}),d=Object.entries(u).map(([v,g])=>({name:v,value:g})).sort((v,g)=>g.value-v.value).slice(0,10),h=i.reduce((v,g)=>(g.skills.forEach(y=>{v[y]=(v[y]||0)+1}),v),{}),m=Object.entries(h).map(([v,g])=>({name:v,value:g})).sort((v,g)=>g.value-v.value).slice(0,8),f=i.reduce((v,g)=>(g.industry&&(v[g.industry]=(v[g.industry]||0)+1),v),{}),x=Object.entries(f).map(([v,g])=>({name:v,value:g}));return n.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Market Intelligence"}),n.jsx("p",{className:"text-muted-foreground",children:"Curate and analyze your own market research"})]}),n.jsxs(Wr,{open:t,onOpenChange:r,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Market Note"]})}),n.jsxs(Br,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Add Market Note"})}),n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"title",children:"Title *"}),n.jsx(Je,{id:"title",value:s.title,onChange:v=>a({...s,title:v.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"url",children:"URL"}),n.jsx(Je,{id:"url",type:"url",value:s.url,onChange:v=>a({...s,url:v.target.value}),placeholder:"https://..."})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"summary",children:"Summary"}),n.jsx(dr,{id:"summary",value:s.summary,onChange:v=>a({...s,summary:v.target.value}),rows:4})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"tags",children:"Tags (comma-separated)"}),n.jsx(Je,{id:"tags",value:s.tags,onChange:v=>a({...s,tags:v.target.value}),placeholder:"hiring-freeze, remote-first, AI"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"industry",children:"Industry"}),n.jsx(Je,{id:"industry",value:s.industry,onChange:v=>a({...s,industry:v.target.value})})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"location",children:"Location"}),n.jsx(Je,{id:"location",value:s.location,onChange:v=>a({...s,location:v.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"skills",children:"Skills Mentioned (comma-separated)"}),n.jsx(Je,{id:"skills",value:s.skills,onChange:v=>a({...s,skills:v.target.value}),placeholder:"React, Python, Leadership"})]}),n.jsx(ve,{type:"submit",disabled:l.isPending,children:l.isPending?"Saving...":"Save Note"})]})]})]})]}),n.jsxs(ye,{className:"bg-muted/50",children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"What This Means"})}),n.jsx(_e,{className:"text-sm text-muted-foreground",children:n.jsx("p",{children:"Save articles, job postings, and insights you find during your search. Tag and categorize them to spot emerging trends in your saved research. All data below reflects only what you've curatedno external sources or anonymous benchmarks."})})]}),o?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading your market notes..."}):i.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Gr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No market notes yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Start building your market intelligence by saving insights you discover"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Top Tags"}),n.jsx(_t,{children:"Most frequently used tags in your notes"})]}),n.jsx(_e,{children:d.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:d,children:[n.jsx(va,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),n.jsx(xa,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,angle:-45,textAnchor:"end",height:80}),n.jsx(ya,{stroke:"hsl(var(--muted-foreground))"}),n.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),n.jsx(Ja,{dataKey:"value",fill:"hsl(var(--primary))"})]})}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No tags yet"})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Industries Mentioned"}),n.jsx(_t,{children:"Distribution of industries in your notes"})]}),n.jsx(_e,{children:x.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Jm,{children:[n.jsx(mf,{data:x,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:x.map((v,g)=>n.jsx(bc,{fill:ZW[g%ZW.length]},`cell-${g}`))}),n.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}})]})}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No industries specified yet"})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Top Skills"}),n.jsx(_t,{children:"Most mentioned skills in your research"})]}),n.jsx(_e,{children:m.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:m,children:[n.jsx(va,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),n.jsx(xa,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,angle:-45,textAnchor:"end",height:80}),n.jsx(ya,{stroke:"hsl(var(--muted-foreground))"}),n.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),n.jsx(Ja,{dataKey:"value",fill:"hsl(var(--secondary))"})]})}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No skills mentioned yet"})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Your Notes Timeline"}),n.jsxs(_t,{children:["Total notes saved: ",i.length]})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:i.length}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Insights collected across ",new Set(i.map(v=>v.industry).filter(Boolean)).size," industries"]})]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"All Market Notes"})}),n.jsx(_e,{className:"space-y-4",children:i.map(v=>n.jsxs("div",{className:"border border-border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("h3",{className:"font-semibold",children:v.title}),v.url&&n.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:n.jsx(El,{className:"h-4 w-4"})})]}),v.summary&&n.jsx("p",{className:"text-sm text-muted-foreground",children:v.summary}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.industry&&n.jsxs($e,{variant:"outline",children:[n.jsx(Fa,{className:"h-3 w-3 mr-1"}),v.industry]}),v.location&&n.jsxs($e,{variant:"outline",children:[n.jsx(Ao,{className:"h-3 w-3 mr-1"}),v.location]}),v.tags.map(g=>n.jsxs($e,{variant:"secondary",children:[n.jsx(sH,{className:"h-3 w-3 mr-1"}),g]},g)),v.skills.map(g=>n.jsx($e,{children:g},g))]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(v.created_at).toLocaleDateString()]})]},v.id))})]})]})]})}const eV=[{value:"applications_per_week",label:"Applications per Week"},{value:"applications_per_month",label:"Applications per Month"},{value:"response_rate",label:"Response Rate (%)"},{value:"interview_conversion",label:"Interview Conversion Rate (%)"},{value:"networking_events_per_month",label:"Networking Events per Month"},{value:"hours_per_week",label:"Hours Invested per Week"}];function YJe(){const e=wa(),[t,r]=N.useState(!1),[s,a]=N.useState({metric_type:"",target_value:"",period:""}),{data:i=[]}=vr({queryKey:["user-benchmarks"],queryFn:async()=>{const{data:x,error:v}=await se.from("user_benchmarks").select("*").order("created_at",{ascending:!1});if(v)throw v;return x}}),{data:o=[]}=vr({queryKey:["jobs"],queryFn:async()=>{const{data:x,error:v}=await se.from("jobs").select("*").order("created_at",{ascending:!1});if(v)throw v;return x}}),{data:l=[]}=vr({queryKey:["interviews"],queryFn:async()=>{const{data:x,error:v}=await se.from("interviews").select("*");if(v)throw v;return x}}),{data:c=[]}=vr({queryKey:["time-tracking"],queryFn:async()=>{const{data:x,error:v}=await se.from("time_tracking").select("*");if(v)throw v;return x}}),{data:u=[]}=vr({queryKey:["networking-events"],queryFn:async()=>{const{data:x,error:v}=await se.from("networking_events").select("*");if(v)throw v;return x}}),d=ds({mutationFn:async x=>{const{data:{user:v}}=await se.auth.getUser();if(!v)throw new Error("Not authenticated");const{error:g}=await se.from("user_benchmarks").insert([{user_id:v.id,metric_type:x.metric_type,target_value:x.target_value,period:x.period}]);if(g)throw g},onSuccess:()=>{e.invalidateQueries({queryKey:["user-benchmarks"]}),xe.success("Benchmark target set"),r(!1),a({metric_type:"",target_value:"",period:""})}}),h=ds({mutationFn:async x=>{const{error:v}=await se.from("user_benchmarks").delete().eq("id",x);if(v)throw v},onSuccess:()=>{e.invalidateQueries({queryKey:["user-benchmarks"]}),xe.success("Benchmark deleted")}}),m=x=>{x.preventDefault(),d.mutate({metric_type:s.metric_type,target_value:parseFloat(s.target_value),period:s.period})},f=(x,v)=>{const g=new Date;let y;switch(v==="weekly"?y=ou(g):v==="monthly"?y=Po(g):y=dxe(g),x){case"applications_per_week":case"applications_per_month":return o.filter(b=>b.status==="applied"&&new Date(b.created_at)>=y).length;case"response_rate":{const j=o.filter(_=>_.status==="applied"),b=o.filter(_=>["phone_screen","interviewing","offer","accepted"].includes(_.status));return j.length>0?b.length/j.length*100:0}case"interview_conversion":{const j=l.length,b=o.filter(_=>["offer","accepted"].includes(_.status)).length;return j>0?b/j*100:0}case"networking_events_per_month":return u.filter(b=>new Date(b.event_date)>=y).length;case"hours_per_week":return c.filter(b=>new Date(b.started_at)>=y).reduce((b,_)=>b+_.duration_minutes/60,0);default:return 0}};return n.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Personal Benchmarking"}),n.jsx("p",{className:"text-muted-foreground",children:"Set your own targets and track progress"})]}),n.jsxs(Wr,{open:t,onOpenChange:r,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Set Benchmark"]})}),n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Set Personal Benchmark"})}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"metric_type",children:"Metric *"}),n.jsxs($t,{value:s.metric_type,onValueChange:x=>a({...s,metric_type:x}),required:!0,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select metric"})}),n.jsx(Bt,{children:eV.map(x=>n.jsx(qe,{value:x.value,children:x.label},x.value))})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"target_value",children:"Target Value *"}),n.jsx(Je,{id:"target_value",type:"number",step:"0.1",value:s.target_value,onChange:x=>a({...s,target_value:x.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"period",children:"Period *"}),n.jsxs($t,{value:s.period,onValueChange:x=>a({...s,period:x}),required:!0,children:[n.jsx(Ft,{children:n.jsx(qt,{placeholder:"Select period"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"weekly",children:"Weekly"}),n.jsx(qe,{value:"monthly",children:"Monthly"}),n.jsx(qe,{value:"quarterly",children:"Quarterly"})]})]})]}),n.jsx(ve,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Set Benchmark"})]})]})]})]}),n.jsxs(ye,{className:"bg-muted/50",children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"What This Means"})}),n.jsx(_e,{className:"text-sm text-muted-foreground",children:n.jsx("p",{children:"Define your own performance targetsnot based on anonymous peers or market data, but on what you want to achieve. Track your actual performance against these personal benchmarks to stay accountable."})})]}),i.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(xn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No benchmarks set"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Set your first personal target to start tracking your progress"})]})}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(x=>{var S;const v=((S=eV.find(T=>T.value===x.metric_type))==null?void 0:S.label)||x.metric_type,g=f(x.metric_type,x.period),y=x.target_value,j=y>0?g/y*100:0,b=j>=100,_=j>=80&&j<100;return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-base",children:v}),n.jsx(_t,{className:"capitalize",children:x.period})]}),n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>h.mutate(x.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:g.toFixed(1)}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["of ",y," target"]})]}),b?n.jsx(Gr,{className:"h-8 w-8 text-green-500"}):_?n.jsx(ZV,{className:"h-8 w-8 text-yellow-500"}):n.jsx(__,{className:"h-8 w-8 text-red-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Progress"}),n.jsxs("span",{className:"font-medium",children:[j.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full transition-all ${b?"bg-green-500":_?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(j,100)}%`}})})]})]})]},x.id)})})]})}function JJe(){const{data:e=[],isLoading:t}=vr({queryKey:["jobs"],queryFn:async()=>{const{data:g,error:y}=await se.from("jobs").select("*").order("created_at",{ascending:!1});if(y)throw y;return g}}),{data:r=[]}=vr({queryKey:["interviews"],queryFn:async()=>{const{data:g,error:y}=await se.from("interviews").select("*");if(y)throw y;return g}}),{data:s=[]}=vr({queryKey:["status-history"],queryFn:async()=>{const{data:g,error:y}=await se.from("application_status_history").select("*");if(y)throw y;return g}}),a=e.filter(g=>["offer","accepted"].includes(g.status)),i=a.reduce((g,y)=>(y.industry&&(g[y.industry]=(g[y.industry]||0)+1),g),{}),o=Object.entries(i).map(([g,y])=>({name:g,value:y})).sort((g,y)=>y.value-g.value),l=e.filter(g=>g.status!=="wishlist"&&g.status!=="applied").map(g=>{const y=s.filter(j=>j.job_id===g.id);if(y.length>0){const j=y.find(_=>_.to_status==="applied"),b=y.find(_=>["phone_screen","interviewing","offer"].includes(_.to_status));if(j&&b){const _=Math.floor((new Date(b.changed_at).getTime()-new Date(j.changed_at).getTime())/864e5);return{job:g.job_title,days:_,success:["offer","accepted"].includes(g.status)}}}return null}).filter(Boolean),c=l.length>0?l.reduce((g,y)=>g+((y==null?void 0:y.days)||0),0)/l.length:0,u=l.filter(g=>g==null?void 0:g.success).reduce((g,y)=>g+((y==null?void 0:y.days)||0),0)/(l.filter(g=>g==null?void 0:g.success).length||1),d=e.filter(g=>g.job_url).reduce((g,y)=>{var b,_,S;let j="Direct";return(b=y.job_url)!=null&&b.includes("linkedin")?j="LinkedIn":(_=y.job_url)!=null&&_.includes("indeed")?j="Indeed":(S=y.job_url)!=null&&S.includes("glassdoor")&&(j="Glassdoor"),g[j]||(g[j]={total:0,successful:0}),g[j].total++,["offer","accepted"].includes(y.status)&&g[j].successful++,g},{}),h=Object.entries(d).map(([g,{total:y,successful:j}])=>({name:g,rate:y>0?j/y*100:0,count:j})).sort((g,y)=>y.rate-g.rate),m=e.reduce((g,y)=>{const j=new Date(y.created_at).getDay(),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][j];return g[b]||(g[b]={total:0,successful:0}),g[b].total++,["offer","accepted"].includes(y.status)&&g[b].successful++,g},{}),f=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(g=>({name:g,rate:m[g]?m[g].successful/m[g].total*100:0})).filter(g=>g.rate>0),x=e.filter(g=>g.status!=="wishlist").length,v=Math.min(x,a.length);return n.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Success Patterns"}),n.jsx("p",{className:"text-muted-foreground",children:"Insights from your application history"})]}),n.jsxs(ye,{className:"bg-muted/50",children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"Methodology"})}),n.jsxs(_e,{className:"text-sm text-muted-foreground space-y-2",children:[n.jsxs("p",{children:["All patterns below are derived from your ",x," applications (",a.length," successful offers). No external or peer data is used."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Note:"})," Small sample sizes can produce unreliable patterns. Look for trends with at least 5-10 data points. As you add more applications, these insights will become more meaningful."]})]})]}),t?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Analyzing your data..."}):x===0?n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Nn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No data yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Start applying to jobs to see patterns in your application history"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Fa,{className:"h-5 w-5"}),"Success by Industry"]}),n.jsxs(_t,{children:["Industries where you got offers (N=",a.length,")"]})]}),n.jsx(_e,{children:o.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:o,children:[n.jsx(va,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),n.jsx(xa,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,angle:-45,textAnchor:"end",height:100}),n.jsx(ya,{stroke:"hsl(var(--muted-foreground))"}),n.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),n.jsx(Ja,{dataKey:"value",fill:"hsl(var(--primary))"})]})}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"Not enough data yet. Add industry info to your successful applications."})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5"}),"Response Time Pattern"]}),n.jsx(_t,{children:"Time from application to response"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. time to any response"}),n.jsxs($e,{variant:"outline",children:[c.toFixed(1)," days"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. time for successful apps"}),n.jsxs($e,{children:[u.toFixed(1)," days"]})]})]}),c>0&&n.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:n.jsx("p",{className:"text-sm",children:u<c?n.jsxs(n.Fragment,{children:[n.jsx(Gr,{className:"inline h-4 w-4 text-green-500 mr-1"}),"Your successful applications tend to get responses"," ",((c-u)/c*100).toFixed(0),"% faster than average."]}):n.jsx(n.Fragment,{children:"Pattern unclear with current data. Continue tracking to see trends."})})})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Application Source Success"]}),n.jsx(_t,{children:"Success rate by where you found the job"})]}),n.jsx(_e,{children:h.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:h,children:[n.jsx(va,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),n.jsx(xa,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),n.jsx(ya,{stroke:"hsl(var(--muted-foreground))"}),n.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:g=>`${g.toFixed(1)}%`}),n.jsx(Ja,{dataKey:"rate",fill:"hsl(var(--secondary))",name:"Success Rate %"})]})}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"Add job URLs to track source performance"})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5"}),"Day of Week Pattern"]}),n.jsx(_t,{children:"Success rate by day you applied"})]}),n.jsx(_e,{children:f.length>0?n.jsx(es,{width:"100%",height:300,children:n.jsxs(Tl,{data:f,children:[n.jsx(va,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),n.jsx(xa,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),n.jsx(ya,{stroke:"hsl(var(--muted-foreground))"}),n.jsx(ts,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:g=>`${g.toFixed(1)}%`}),n.jsx(Ja,{dataKey:"rate",fill:"hsl(var(--accent))",name:"Success Rate %"})]})}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"More data needed to identify day patterns"})})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Key Insights"})}),n.jsxs(_e,{className:"space-y-3",children:[o.length>0&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gr,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Industry Focus"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["You've had the most success in ",o[0].name," (",o[0].value," offers)."]})]})]}),h.length>0&&h[0].rate>0&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gr,{className:"h-5 w-5 text-primary mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Best Source"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[h[0].name," has your highest success rate at ",h[0].rate.toFixed(1),"%."]})]})]}),v<10&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nn,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Small Sample Size"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["With only ",v," successful applications, patterns may not be statistically significant yet. Keep applying to see clearer trends."]})]})]})]})]})]})]})}const XJe=()=>{const e=wa(),[t,r]=N.useState(!1),[s,a]=N.useState({name:"",description:""}),i=ds({mutationFn:async()=>{const{data:{user:l},error:c}=await se.auth.getUser();if(c||!l)throw new Error("Not authenticated");const{data:u,error:d}=await se.from("teams").insert({name:s.name,description:s.description,created_by:l.id}).select().single();if(d)throw d;const{error:h}=await se.from("team_memberships").insert({team_id:u.id,user_id:l.id,role:"admin"});if(h)throw h;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["teams"]}),xe.success("Team created successfully"),r(!1),a({name:"",description:""})},onError:l=>{xe.error("Failed to create team: "+l.message)}}),o=l=>{l.preventDefault(),i.mutate()};return n.jsxs(Wr,{open:t,onOpenChange:r,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Create Team"]})}),n.jsxs(Br,{children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Create New Team"}),n.jsx(no,{children:"Create a team to collaborate with mentors and candidates"})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"name",children:"Team Name *"}),n.jsx(Je,{id:"name",value:s.name,onChange:l=>a({...s,name:l.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"description",children:"Description"}),n.jsx(dr,{id:"description",value:s.description,onChange:l=>a({...s,description:l.target.value}),rows:3})]}),n.jsx(ve,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Team"})]})]})]})},QJe=({teamId:e})=>{const t=wa(),[r,s]=N.useState(!1),[a,i]=N.useState({email:"",role:"candidate"}),o=ds({mutationFn:async()=>{const{data:{user:c}}=await se.auth.getUser();if(!c)throw new Error("Not authenticated");const u=crypto.randomUUID(),d=Qi(new Date,7),{error:h}=await se.from("team_invitations").insert([{team_id:e,email:a.email,role:a.role,token:u,expires_at:d.toISOString(),invited_by:c.id}]);if(h)throw h;const m=`${window.location.origin}/accept-invitation/${u}`;return navigator.clipboard.writeText(m),m},onSuccess:c=>{t.invalidateQueries({queryKey:["team-invitations",e]}),xe.success("Invitation created! Link copied to clipboard."),s(!1),i({email:"",role:"candidate"})},onError:c=>{xe.error("Failed to create invitation: "+c.message)}}),l=c=>{c.preventDefault(),o.mutate()};return n.jsxs(Wr,{open:r,onOpenChange:s,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{variant:"outline",children:[n.jsx(jce,{className:"h-4 w-4 mr-2"}),"Invite Member"]})}),n.jsxs(Br,{children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Invite Team Member"}),n.jsx(no,{children:"Send an invitation to join your team"})]}),n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"email",children:"Email *"}),n.jsx(Je,{id:"email",type:"email",value:a.email,onChange:c=>i({...a,email:c.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"role",children:"Role *"}),n.jsxs($t,{value:a.role,onValueChange:c=>i({...a,role:c}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"admin",children:"Admin"}),n.jsx(qe,{value:"mentor",children:"Mentor"}),n.jsx(qe,{value:"candidate",children:"Candidate"})]})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Admin:"})," Manage team, invite members, view all data"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Mentor:"})," View all candidates in team"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Candidate:"})," View only own data"]})]}),n.jsx(ve,{type:"submit",disabled:o.isPending,children:o.isPending?"Creating...":"Create Invitation"})]})]})]})},ZJe=({teamId:e,userRole:t})=>{const r=wa(),{data:s=[],isLoading:a}=vr({queryKey:["team-members",e],queryFn:async()=>{const{data:l,error:c}=await se.from("team_memberships").select("*").eq("team_id",e);if(c)throw c;const u=l.map(h=>h.user_id),{data:d}=await se.from("profiles").select("id, user_id, name, email").in("user_id",u);return l.map(h=>({...h,profile:d==null?void 0:d.find(m=>m.user_id===h.user_id)}))}}),i=ds({mutationFn:async l=>{const{error:c}=await se.from("team_memberships").delete().eq("id",l);if(c)throw c},onSuccess:()=>{r.invalidateQueries({queryKey:["team-members",e]}),xe.success("Member removed")},onError:l=>{xe.error("Failed to remove member: "+l.message)}}),o=l=>{switch(l){case"admin":return"bg-red-500";case"mentor":return"bg-blue-500";case"candidate":return"bg-green-500";default:return"bg-gray-500"}};return a?n.jsx("div",{className:"text-muted-foreground",children:"Loading members..."}):n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-5 w-5"}),"Team Members (",s.length,")"]})}),n.jsxs(_e,{className:"space-y-3",children:[s.map(l=>{var c,u,d;return n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:((c=l.profile)==null?void 0:c.name)||((u=l.profile)==null?void 0:u.email)||"Unknown User"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:((d=l.profile)==null?void 0:d.email)||"No email"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{className:o(l.role),children:l.role}),t==="admin"&&n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>i.mutate(l.id),disabled:i.isPending,children:n.jsx(Ws,{className:"h-4 w-4"})})]})]},l.id)}),s.length===0&&n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No members yet"})]})]})},eXe=e=>vr({queryKey:["team-role",e],queryFn:async()=>{if(!e)return null;const{data:{user:t}}=await se.auth.getUser();if(!t)return null;const{data:r,error:s}=await se.from("team_memberships").select("role").eq("team_id",e).eq("user_id",t.id).single();return s?null:r.role},enabled:!!e});function tXe(){var o;const[e,t]=N.useState(null),{data:r=[],isLoading:s}=vr({queryKey:["teams"],queryFn:async()=>{const{data:l,error:c}=await se.from("teams").select("*").order("created_at",{ascending:!1});if(c)throw c;return l}}),{data:a}=eXe(e||void 0),{data:i=[]}=vr({queryKey:["team-invitations",e],queryFn:async()=>{if(!e)return[];const{data:l,error:c}=await se.from("team_invitations").select("*").eq("team_id",e).eq("accepted",!1).order("created_at",{ascending:!1});if(c)throw c;return l},enabled:!!e&&a==="admin"});return r.length>0&&!e&&t(r[0].id),n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Teams"}),n.jsx("p",{className:"text-muted-foreground",children:"Collaborate with mentors and candidates"})]}),n.jsx(XJe,{})]}),n.jsxs(ye,{className:"bg-muted/50",children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"About Teams"})}),n.jsxs(_e,{className:"text-sm text-muted-foreground",children:[n.jsx("p",{className:"mb-2",children:"Teams enable collaboration between admins, mentors, and candidates with role-based permissions:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Admin:"})," Manage team settings, invite members, view all member data"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Mentor:"})," View all candidates in the team"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Candidate:"})," View only their own data"]})]})]})]}),s?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading teams..."}):r.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Create your first team to start collaborating"})]})}):n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Your Teams"}),r.map(l=>n.jsx(ye,{className:`cursor-pointer transition-colors ${e===l.id?"border-primary":""}`,onClick:()=>t(l.id),children:n.jsxs(Ie,{children:[n.jsx(De,{className:"text-base",children:l.name}),l.description&&n.jsx(_t,{className:"text-sm",children:l.description})]})},l.id))]}),n.jsx("div",{className:"md:col-span-2 space-y-6",children:e?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold",children:(o=r.find(l=>l.id===e))==null?void 0:o.name}),a==="admin"&&n.jsx(QJe,{teamId:e})]}),a&&n.jsx(ye,{children:n.jsx(_e,{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your role: ",n.jsx("span",{className:"font-semibold text-foreground",children:a})]})})}),n.jsx(ZJe,{teamId:e,userRole:a}),a==="admin"&&i.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-base",children:"Pending Invitations"})}),n.jsx(_e,{className:"space-y-2",children:i.map(l=>n.jsx("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:l.email}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Role: ",l.role,"  Expires:"," ",new Date(l.expires_at).toLocaleDateString()]})]})},l.id))})]})]}):n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Nn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"Select a team to view details"})]})})})]})]})]})}function rXe(){var u;const{token:e}=_c(),t=ns(),[r,s]=N.useState(!1),{data:a,isLoading:i,error:o}=vr({queryKey:["invitation",e],queryFn:async()=>{if(!e)throw new Error("No token provided");const{data:d,error:h}=await se.from("team_invitations").select("*, teams(name)").eq("token",e).single();if(h)throw h;if(new Date(d.expires_at)<new Date)throw new Error("Invitation has expired");if(d.accepted)throw new Error("Invitation has already been accepted");return d}}),l=ds({mutationFn:async()=>{if(!a||!e)throw new Error("Invalid invitation");const{data:{user:d}}=await se.auth.getUser();if(!d)throw new Error("You must be logged in to accept invitations");if(d.email!==a.email)throw new Error(`This invitation was sent to ${a.email}. Please log in with that email.`);const{error:h}=await se.from("team_memberships").insert([{team_id:a.team_id,user_id:d.id,role:a.role}]);if(h)throw h;const{error:m}=await se.from("team_invitations").update({accepted:!0,accepted_at:new Date().toISOString(),accepted_by:d.id}).eq("token",e);if(m)throw m},onSuccess:()=>{xe.success("Successfully joined the team!"),s(!1),setTimeout(()=>t("/teams"),2e3)},onError:d=>{xe.error(d.message),s(!1)}}),c=()=>{s(!0),l.mutate()};return i?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsx("div",{className:"container mx-auto py-8 flex items-center justify-center min-h-[60vh]",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})})]}):o||!a?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs(ye,{className:"max-w-md mx-auto",children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nd,{className:"h-6 w-6 text-red-500"}),n.jsx(De,{children:"Invalid Invitation"})]})}),n.jsxs(_e,{children:[n.jsx("p",{className:"text-muted-foreground",children:(o==null?void 0:o.message)||"This invitation is invalid or has expired."}),n.jsx(ve,{className:"mt-4",onClick:()=>t("/teams"),children:"Go to Teams"})]})]})})]}):l.isSuccess?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs(ye,{className:"max-w-md mx-auto",children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ma,{className:"h-6 w-6 text-green-500"}),n.jsx(De,{children:"Success!"})]})}),n.jsx(_e,{children:n.jsx("p",{className:"text-muted-foreground",children:"You have successfully joined the team. Redirecting..."})})]})})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs(ye,{className:"max-w-md mx-auto",children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Team Invitation"}),n.jsx(_t,{children:"You've been invited to join a team"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Team:"}),n.jsx("p",{className:"font-semibold",children:(u=a.teams)==null?void 0:u.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Role:"}),n.jsx("p",{className:"font-semibold capitalize",children:a.role})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Invited to:"}),n.jsx("p",{className:"font-semibold",children:a.email})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Expires:"}),n.jsx("p",{className:"font-semibold",children:new Date(a.expires_at).toLocaleDateString()})]})]}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"By accepting, you'll be able to collaborate with your team based on your assigned role."})}),n.jsx(ve,{onClick:c,disabled:r,className:"w-full",children:r?n.jsxs(n.Fragment,{children:[n.jsx(en,{className:"h-4 w-4 mr-2 animate-spin"}),"Accepting..."]}):"Accept Invitation"})]})]})})]})}const nXe=()=>{const{data:e,isLoading:t}=vr({queryKey:["my-resumes"],queryFn:async()=>{const{data:i,error:o}=await se.from("resumes").select("*").order("updated_at",{ascending:!1});if(o)throw o;return i}}),{data:r,isLoading:s}=vr({queryKey:["my-cover-letters"],queryFn:async()=>{const{data:i,error:o}=await se.from("cover_letters").select("*").order("updated_at",{ascending:!1});if(o)throw o;return i}}),{data:a}=vr({queryKey:["shared-documents"],queryFn:async()=>{const{data:{user:i}}=await se.auth.getUser();if(!i)return[];const{data:o,error:l}=await se.from("document_shares_internal").select("*").eq("shared_with_user_id",i.id);if(l)throw l;return o}});return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(bs,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Documents"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Collaborate on resumes and cover letters"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{asChild:!0,variant:"outline",children:n.jsxs(Sr,{to:"/resumes",children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"New Resume"]})}),n.jsx(ve,{asChild:!0,children:n.jsxs(Sr,{to:"/cover-letters",children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"New Cover Letter"]})})]})]}),n.jsxs(ss,{defaultValue:"resumes",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-3",children:[n.jsxs(vt,{value:"resumes",children:["My Resumes (",(e==null?void 0:e.length)||0,")"]}),n.jsxs(vt,{value:"cover-letters",children:["My Cover Letters (",(r==null?void 0:r.length)||0,")"]}),n.jsxs(vt,{value:"shared",children:["Shared with Me (",(a==null?void 0:a.length)||0,")"]})]}),n.jsx(xt,{value:"resumes",className:"space-y-4 mt-6",children:t?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):(e==null?void 0:e.length)===0?n.jsxs(ye,{className:"p-8 text-center",children:[n.jsx("p",{className:"text-muted-foreground",children:"No resumes yet"}),n.jsx(ve,{asChild:!0,className:"mt-4",children:n.jsx(Sr,{to:"/resumes",children:"Create your first resume"})})]}):n.jsx("div",{className:"grid gap-4",children:e==null?void 0:e.map(i=>n.jsx(ye,{className:"p-4 hover:bg-muted/50 transition-colors",children:n.jsx(Sr,{to:`/documents/resume/${i.id}`,className:"block",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold",children:i.title}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Last updated ",Lt(new Date(i.updated_at||i.created_at||""),"MMM d, yyyy")]})]}),n.jsxs("div",{className:"flex gap-2",children:[i.is_default&&n.jsx($e,{variant:"secondary",children:"Default"}),n.jsx($e,{variant:"outline",children:i.template})]})]})})},i.id))})}),n.jsx(xt,{value:"cover-letters",className:"space-y-4 mt-6",children:s?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):(r==null?void 0:r.length)===0?n.jsxs(ye,{className:"p-8 text-center",children:[n.jsx("p",{className:"text-muted-foreground",children:"No cover letters yet"}),n.jsx(ve,{asChild:!0,className:"mt-4",children:n.jsx(Sr,{to:"/cover-letters",children:"Create your first cover letter"})})]}):n.jsx("div",{className:"grid gap-4",children:r==null?void 0:r.map(i=>n.jsx(ye,{className:"p-4 hover:bg-muted/50 transition-colors",children:n.jsx(Sr,{to:`/documents/cover-letter/${i.id}`,className:"block",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold",children:i.title}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Last updated ",Lt(new Date(i.updated_at||i.created_at||""),"MMM d, yyyy")]})]})})})},i.id))})}),n.jsx(xt,{value:"shared",className:"space-y-4 mt-6",children:a!=null&&a.length?n.jsx("div",{className:"grid gap-4",children:a==null?void 0:a.map(i=>n.jsx(ye,{className:"p-4 hover:bg-muted/50 transition-colors",children:n.jsx(Sr,{to:`/documents/${i.document_type}/${i.document_id}`,className:"block",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold capitalize",children:i.document_type.replace("_"," ")}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Shared ",Lt(new Date(i.created_at),"MMM d, yyyy")]})]}),n.jsx($e,{variant:i.permission==="comment"?"default":"secondary",children:i.permission})]})})},i.id))}):n.jsx(ye,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No documents shared with you yet"})})})]})]})})]})},sXe=({documentType:e,documentId:t,canComment:r})=>{const[s,a]=N.useState(""),[i,o]=N.useState(""),l=wa(),{data:c=[]}=vr({queryKey:["document-comments",e,t],queryFn:async()=>{const{data:m,error:f}=await se.from("document_comments").select("*").eq("document_type",e).eq("document_id",t).order("created_at",{ascending:!1});if(f)throw f;return m}}),{data:u=[]}=vr({queryKey:["profiles-for-comments",c.map(m=>m.user_id)],queryFn:async()=>{if(c.length===0)return[];const m=[...new Set(c.map(v=>v.user_id))],{data:f,error:x}=await se.from("profiles").select("user_id, name, email").in("user_id",m);if(x)throw x;return f},enabled:c.length>0}),d=ds({mutationFn:async()=>{const{data:{user:m}}=await se.auth.getUser();if(!m)throw new Error("Not authenticated");const{error:f}=await se.from("document_comments").insert({document_type:e,document_id:t,user_id:m.id,comment_text:s,quoted_text:i||null});if(f)throw f},onSuccess:()=>{xe.success("Comment added"),a(""),o(""),l.invalidateQueries({queryKey:["document-comments"]})},onError:()=>{xe.error("Failed to add comment")}}),h=ds({mutationFn:async({commentId:m,resolved:f})=>{const{error:x}=await se.from("document_comments").update({resolved:f}).eq("id",m);if(x)throw x},onSuccess:()=>{l.invalidateQueries({queryKey:["document-comments"]})}});return n.jsxs(ye,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(qi,{className:"h-5 w-5"}),n.jsxs("h3",{className:"font-semibold",children:["Comments (",c.length,")"]})]}),r&&n.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select text in the document to quote it in your comment"}),i&&n.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[n.jsx("p",{className:"text-sm font-medium mb-1",children:"Selected text:"}),n.jsxs("p",{className:"text-sm italic",children:['"',i,'"']}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>o(""),className:"mt-2",children:"Clear selection"})]}),n.jsx(dr,{placeholder:"Add a comment...",value:s,onChange:m=>a(m.target.value),rows:3}),n.jsx(ve,{onClick:()=>d.mutate(),disabled:!s.trim()||d.isPending,children:d.isPending?"Adding...":"Add Comment"})]}),n.jsx("div",{className:"space-y-4",children:c.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No comments yet"}):c.map(m=>{const f=u.find(x=>x.user_id===m.user_id);return n.jsxs("div",{className:`p-4 rounded-lg border ${m.resolved?"bg-muted/50":"bg-card"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:(f==null?void 0:f.name)||(f==null?void 0:f.email)||"Unknown"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Lt(new Date(m.created_at),"MMM d, yyyy h:mm a")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[m.resolved&&n.jsx($e,{variant:"secondary",children:"Resolved"}),n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>h.mutate({commentId:m.id,resolved:!m.resolved}),children:m.resolved?n.jsx(Rl,{className:"h-4 w-4"}):n.jsx(Vd,{className:"h-4 w-4"})})]})]}),m.quoted_text&&n.jsxs("div",{className:"p-2 bg-muted rounded mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Quote:"}),n.jsxs("p",{className:"text-sm italic",children:['"',m.quoted_text,'"']})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.comment_text})]},m.id)})})]})},aXe=({open:e,onOpenChange:t,documentType:r,documentId:s})=>{const[a,i]=N.useState(""),[o,l]=N.useState("comment"),c=wa(),{data:u=[]}=vr({queryKey:["document-shares",r,s],queryFn:async()=>{const{data:f,error:x}=await se.from("document_shares_internal").select("*").eq("document_type",r).eq("document_id",s);if(x)throw x;return f},enabled:e}),{data:d=[]}=vr({queryKey:["profiles-for-shares",u.map(f=>f.shared_with_user_id)],queryFn:async()=>{if(u.length===0)return[];const{data:f,error:x}=await se.from("profiles").select("user_id, name, email").in("user_id",u.map(v=>v.shared_with_user_id));if(x)throw x;return f},enabled:u.length>0}),h=ds({mutationFn:async()=>{const{data:{user:f}}=await se.auth.getUser();if(!f)throw new Error("Not authenticated");const{data:x,error:v}=await se.from("profiles").select("user_id").eq("email",a).single();if(v||!x)throw new Error("User not found");const{error:g}=await se.from("document_shares_internal").insert({owner_id:f.id,shared_with_user_id:x.user_id,document_type:r,document_id:s,permission:o});if(g)throw g},onSuccess:()=>{xe.success("Document shared successfully"),i(""),c.invalidateQueries({queryKey:["document-shares"]})},onError:f=>{xe.error(f.message||"Failed to share document")}}),m=ds({mutationFn:async f=>{const{error:x}=await se.from("document_shares_internal").delete().eq("id",f);if(x)throw x},onSuccess:()=>{xe.success("Share removed"),c.invalidateQueries({queryKey:["document-shares"]})},onError:()=>{xe.error("Failed to remove share")}});return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"max-w-lg",children:[n.jsx(Xr,{children:n.jsxs(Qr,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-5 w-5"}),"Share Document"]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"email",children:"Email Address"}),n.jsx(Je,{id:"email",type:"email",placeholder:"colleague@example.com",value:a,onChange:f=>i(f.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"permission",children:"Permission"}),n.jsxs($t,{value:o,onValueChange:f=>l(f),children:[n.jsx(Ft,{id:"permission",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"view",children:"View only"}),n.jsx(qe,{value:"comment",children:"Can comment"})]})]})]}),n.jsx(ve,{onClick:()=>h.mutate(),disabled:!a||h.isPending,className:"w-full",children:h.isPending?"Sharing...":"Share Document"}),u.length>0&&n.jsxs("div",{className:"space-y-2 mt-6",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Shared With"}),n.jsx("div",{className:"space-y-2",children:u.map(f=>{const x=d.find(v=>v.user_id===f.shared_with_user_id);return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:(x==null?void 0:x.name)||(x==null?void 0:x.email)||"Unknown"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:x==null?void 0:x.email})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:f.permission==="comment"?"default":"secondary",children:f.permission}),n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>m.mutate(f.id),disabled:m.isPending,children:n.jsx(Ws,{className:"h-4 w-4"})})]})]},f.id)})})]})]})]})})},iXe=({versions:e,onRestore:t})=>!e||e.length===0?n.jsxs(ye,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Gn,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-semibold",children:"Version History"})]}),n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No versions saved yet"})]}):n.jsxs(ye,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Gn,{className:"h-5 w-5"}),n.jsxs("h3",{className:"font-semibold",children:["Version History (",e.length,")"]})]}),n.jsx("div",{className:"space-y-3",children:e.map((r,s)=>n.jsx("div",{className:"p-4 rounded-lg border hover:bg-muted/50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-sm",children:r.name||`Version ${r.version}`}),s===0&&n.jsx($e,{variant:"secondary",children:"Current"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Lt(new Date(r.timestamp),"MMM d, yyyy h:mm a")})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"ghost",size:"sm",children:[n.jsx(af,{className:"h-4 w-4 mr-1"}),"View"]}),s!==0&&t&&n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>t(r),children:"Restore"})]})]})},s))})]}),oXe=()=>{const{type:e,id:t}=_c(),r=ns(),[s,a]=N.useState(!1),i=e,{data:o,isLoading:l}=vr({queryKey:["document",i,t],queryFn:async()=>{if(i==="resume"){const{data:d,error:h}=await se.from("resumes").select("*").eq("id",t).single();if(h)throw h;return d}else{const{data:d,error:h}=await se.from("cover_letters").select("*").eq("id",t).single();if(h)throw h;return d}}}),{data:c}=vr({queryKey:["document-permission",i,t],queryFn:async()=>{const{data:{user:d}}=await se.auth.getUser();if(!d)return null;if((o==null?void 0:o.user_id)===d.id)return{isOwner:!0,canComment:!0};const{data:h,error:m}=await se.from("document_shares_internal").select("permission").eq("document_type",i).eq("document_id",t).eq("shared_with_user_id",d.id).single();return m?{isOwner:!1,canComment:!1}:{isOwner:!1,canComment:h.permission==="comment"}},enabled:!!o});if(l)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})]});if(!o)return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Document not found"})})]});const u=o.versions||[];return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>r(-1),children:n.jsx(ro,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(bs,{className:"h-6 w-6"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-display font-bold",children:o.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx($e,{variant:"outline",className:"capitalize",children:i.replace("_"," ")}),(c==null?void 0:c.isOwner)&&n.jsx($e,{variant:"secondary",children:"Owner"}),!(c!=null&&c.isOwner)&&(c==null?void 0:c.canComment)&&n.jsx($e,{variant:"default",children:"Can Comment"}),!(c!=null&&c.isOwner)&&!(c!=null&&c.canComment)&&n.jsx($e,{variant:"secondary",children:"View Only"})]})]})]})}),(c==null?void 0:c.isOwner)&&n.jsxs(ve,{onClick:()=>a(!0),children:[n.jsx(Sb,{className:"h-4 w-4 mr-2"}),"Share"]})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(ye,{className:"p-6",children:n.jsxs(ss,{defaultValue:"content",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"content",children:"Content"}),n.jsx(vt,{value:"versions",children:"Versions"})]}),n.jsx(xt,{value:"content",className:"mt-6",children:i==="resume"?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resume sections are displayed in the Resume Builder."}),n.jsx(ve,{variant:"outline",onClick:()=>r("/resumes"),className:"mt-4",children:"Open in Resume Builder"})]})}):n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"prose max-w-none",children:n.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:R6.sanitize(("content"in o?o.content:null)||"No content",{ALLOWED_TAGS:["p","br","strong","em","ul","ol","li","h1","h2","h3","h4","h5","h6","span","div","a"],ALLOWED_ATTR:["href","target","rel","class"]})}})})})}),n.jsx(xt,{value:"versions",className:"mt-6",children:n.jsx(iXe,{versions:u})})]})})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(sXe,{documentType:i,documentId:t,canComment:(c==null?void 0:c.canComment)||!1})})]})]})}),n.jsx(aXe,{open:s,onOpenChange:a,documentType:i,documentId:t})]})},lXe=({mentee:e})=>{var t,r,s;return n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{className:"text-lg",children:((t=e.profile)==null?void 0:t.name)||((r=e.profile)==null?void 0:r.email)||"Unknown"}),((s=e.profile)==null?void 0:s.email)&&n.jsx("p",{className:"text-sm text-muted-foreground",children:e.profile.email})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.stats.applications}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Applications"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.stats.interviews}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Interviews"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.stats.offers}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Offers"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.stats.activeGoals}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Goals"})]})]})]}),n.jsx(ve,{asChild:!0,className:"w-full",children:n.jsx(Sr,{to:`/mentor/mentee/${e.user_id}`,children:"View Details"})})]})]})};function cXe(){var o;const{data:e}=vr({queryKey:["current-user"],queryFn:async()=>await se.auth.getUser()}),t=(o=e==null?void 0:e.data)==null?void 0:o.user,{data:r=[]}=vr({queryKey:["mentor-teams"],queryFn:async()=>{if(!t)return[];const{data:l,error:c}=await se.from("team_memberships").select("team_id, role, teams(id, name)").eq("user_id",t.id).in("role",["mentor","admin"]);if(c)throw c;return l},enabled:!!t}),{data:s=[],isLoading:a}=vr({queryKey:["mentees",r],queryFn:async()=>{if(!t||r.length===0)return[];const l=r.map(f=>f.team_id),{data:c,error:u}=await se.from("team_memberships").select("user_id, team_id").in("team_id",l).eq("role","candidate");if(u)throw u;const d=c.map(f=>f.user_id),{data:h}=await se.from("profiles").select("user_id, name, email").in("user_id",d);return await Promise.all(c.map(async f=>{var _,S;const[x,v,g]=await Promise.all([se.from("jobs").select("id, status").eq("user_id",f.user_id),se.from("interviews").select("id").eq("user_id",f.user_id),se.from("goals").select("id").eq("user_id",f.user_id).eq("status","active")]),y=h==null?void 0:h.find(T=>T.user_id===f.user_id),j=x.data||[],b=j.filter(T=>["offer","accepted"].includes(T.status)).length;return{user_id:f.user_id,team_id:f.team_id,profile:y,stats:{applications:j.length,interviews:((_=v.data)==null?void 0:_.length)||0,offers:b,activeGoals:((S=g.data)==null?void 0:S.length)||0}}}))},enabled:!!t&&r.length>0});return r.some(l=>["mentor","admin"].includes(l.role))?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Mentor Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and support your mentees' progress"})]}),n.jsxs(ye,{className:"bg-muted/50",children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-sm font-medium",children:"About This Dashboard"})}),n.jsx(_e,{className:"text-sm text-muted-foreground",children:n.jsx("p",{children:"As a mentor, you can view your mentees' key metrics, provide feedback on their applications, interviews, and goals, and track their progress over time."})})]}),a?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading mentees..."}):s.length===0?n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No mentees yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Candidates will appear here once they join your team"})]})}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(l=>n.jsx(lXe,{mentee:l},l.user_id))})]})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsx("div",{className:"container mx-auto py-8",children:n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Nn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Access Restricted"}),n.jsx("p",{className:"text-muted-foreground",children:"You need to be a mentor or admin in a team to access this dashboard"})]})})})]})}const dP=({teamId:e,candidateId:t,entityType:r,entityId:s,entityName:a})=>{const i=wa(),[o,l]=N.useState(!1),[c,u]=N.useState(""),d=ds({mutationFn:async()=>{const{data:{user:m}}=await se.auth.getUser();if(!m)throw new Error("Not authenticated");const{error:f}=await se.from("mentor_feedback").insert([{team_id:e,mentor_id:m.id,candidate_id:t,entity_type:r,entity_id:s,feedback_text:c}]);if(f)throw f},onSuccess:()=>{i.invalidateQueries({queryKey:["mentor-feedback"]}),xe.success("Feedback added"),l(!1),u("")},onError:m=>{xe.error("Failed to add feedback: "+m.message)}}),h=m=>{m.preventDefault(),d.mutate()};return n.jsxs(Wr,{open:o,onOpenChange:l,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{variant:"outline",size:"sm",children:[n.jsx(vce,{className:"h-4 w-4 mr-2"}),"Add Feedback"]})}),n.jsxs(Br,{children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Add Mentor Feedback"}),n.jsxs(no,{children:["For: ",a]})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Ee,{htmlFor:"feedback",children:"Your Recommendation *"}),n.jsx(dr,{id:"feedback",value:c,onChange:m=>u(m.target.value),rows:5,required:!0,placeholder:"Share your insights and recommendations..."})]}),n.jsx(ve,{type:"submit",disabled:d.isPending,children:d.isPending?"Adding...":"Add Feedback"})]})]})]})},hP=({entityType:e,entityId:t,candidateId:r,isCandidate:s=!1})=>{const a=wa(),{data:i=[],isLoading:o}=vr({queryKey:["mentor-feedback",e,t],queryFn:async()=>{const{data:c,error:u}=await se.from("mentor_feedback").select("*").eq("entity_type",e).eq("entity_id",t).eq("candidate_id",r).order("created_at",{ascending:!1});if(u)throw u;const d=c.map(m=>m.mentor_id),{data:h}=await se.from("profiles").select("user_id, name, email").in("user_id",d);return c.map(m=>({...m,profile:h==null?void 0:h.find(f=>f.user_id===m.mentor_id)}))}}),l=ds({mutationFn:async c=>{const{error:u}=await se.from("mentor_feedback").update({implemented:!0,implemented_at:new Date().toISOString()}).eq("id",c);if(u)throw u},onSuccess:()=>{a.invalidateQueries({queryKey:["mentor-feedback"]}),xe.success("Marked as implemented")}});return o||i.length===0?null:n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-5 w-5"}),"Mentor Feedback (",i.length,")"]})}),n.jsx(_e,{className:"space-y-4",children:i.map(c=>{var u,d;return n.jsxs("div",{className:"border border-border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-sm",children:["From: ",((u=c.profile)==null?void 0:u.name)||((d=c.profile)==null?void 0:d.email)||"Mentor"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(c.created_at).toLocaleDateString()})]}),c.implemented?n.jsxs($e,{variant:"outline",className:"text-green-500",children:[n.jsx(ma,{className:"h-3 w-3 mr-1"}),"Implemented"]}):s?n.jsx(ve,{size:"sm",variant:"outline",onClick:()=>l.mutate(c.id),disabled:l.isPending,children:"Mark Implemented"}):null]}),n.jsx("p",{className:"text-sm",children:c.feedback_text}),c.implemented_at&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Implemented on ",new Date(c.implemented_at).toLocaleDateString()]})]},c.id)})})]})};function uXe(){var u;const{menteeId:e}=_c(),{data:t}=vr({queryKey:["current-user"],queryFn:async()=>await se.auth.getUser()}),r=(u=t==null?void 0:t.data)==null?void 0:u.user,{data:s}=vr({queryKey:["mentee-profile",e],queryFn:async()=>{const{data:d,error:h}=await se.from("profiles").select("*").eq("user_id",e).single();if(h)throw h;return d},enabled:!!e}),{data:a}=vr({queryKey:["mentee-team",e,r==null?void 0:r.id],queryFn:async()=>{var x;if(!r||!e)return null;const{data:d,error:h}=await se.from("team_memberships").select("team_id, teams(name)").eq("user_id",e);if(h)throw h;const m=d.map(v=>v.team_id),{data:f}=await se.from("team_memberships").select("team_id, role").eq("user_id",r.id).in("team_id",m).in("role",["mentor","admin"]);if(f&&f.length>0){const v=d.find(g=>g.team_id===f[0].team_id);return{team_id:f[0].team_id,team_name:(x=v==null?void 0:v.teams)==null?void 0:x.name}}return null},enabled:!!e&&!!r}),{data:i=[]}=vr({queryKey:["mentee-jobs",e],queryFn:async()=>{const{data:d,error:h}=await se.from("jobs").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(h)throw h;return d},enabled:!!e}),{data:o=[]}=vr({queryKey:["mentee-interviews",e],queryFn:async()=>{const{data:d,error:h}=await se.from("interviews").select("*, jobs(company_name, job_title)").eq("user_id",e).order("interview_date",{ascending:!1});if(h)throw h;return d},enabled:!!e}),{data:l=[]}=vr({queryKey:["mentee-goals",e],queryFn:async()=>{const{data:d,error:h}=await se.from("goals").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(h)throw h;return d},enabled:!!e});if(!s||!a)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsx("div",{className:"container mx-auto py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading mentee data..."})})]});const c={applications:i.length,interviews:o.length,offers:i.filter(d=>["offer","accepted"].includes(d.status)).length,activeGoals:l.filter(d=>d.status==="active").length};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.name||s.email}),n.jsxs("p",{className:"text-muted-foreground",children:["Team: ",a.team_name]})]}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Fa,{className:"h-4 w-4"}),"Applications"]})}),n.jsx(_e,{children:n.jsx("div",{className:"text-2xl font-bold",children:c.applications})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4"}),"Interviews"]})}),n.jsx(_e,{children:n.jsx("div",{className:"text-2xl font-bold",children:c.interviews})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Gr,{className:"h-4 w-4"}),"Offers"]})}),n.jsx(_e,{children:n.jsx("div",{className:"text-2xl font-bold",children:c.offers})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Active Goals"]})}),n.jsx(_e,{children:n.jsx("div",{className:"text-2xl font-bold",children:c.activeGoals})})]})]}),n.jsxs(ss,{defaultValue:"jobs",className:"w-full",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"jobs",children:"Job Applications"}),n.jsx(vt,{value:"interviews",children:"Interviews"}),n.jsx(vt,{value:"goals",children:"Goals"})]}),n.jsxs(xt,{value:"jobs",className:"space-y-4",children:[i.map(d=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-lg",children:d.job_title}),n.jsx(_t,{children:d.company_name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{children:d.status}),a&&e&&n.jsx(dP,{teamId:a.team_id,candidateId:e,entityType:"job",entityId:d.id,entityName:`${d.job_title} at ${d.company_name}`})]})]})}),n.jsxs(_e,{children:[d.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:d.notes}),e&&n.jsx(hP,{entityType:"job",entityId:d.id,candidateId:e})]})]},d.id)),i.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No applications yet"})]}),n.jsxs(xt,{value:"interviews",className:"space-y-4",children:[o.map(d=>{var h,m,f;return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsxs(De,{className:"text-lg",children:[(h=d.jobs)==null?void 0:h.job_title," at ",(m=d.jobs)==null?void 0:m.company_name]}),n.jsxs(_t,{children:[d.interview_date?new Date(d.interview_date).toLocaleDateString():"Date TBD",d.interview_type&&`  ${d.interview_type}`]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{children:d.status||"scheduled"}),a&&e&&n.jsx(dP,{teamId:a.team_id,candidateId:e,entityType:"interview",entityId:d.id,entityName:`Interview at ${(f=d.jobs)==null?void 0:f.company_name}`})]})]})}),n.jsxs(_e,{children:[d.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:d.notes}),e&&n.jsx(hP,{entityType:"interview",entityId:d.id,candidateId:e})]})]},d.id)}),o.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No interviews yet"})]}),n.jsxs(xt,{value:"goals",className:"space-y-4",children:[l.map(d=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-lg",children:d.title}),n.jsx(_t,{children:d.category})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{children:d.status}),a&&e&&n.jsx(dP,{teamId:a.team_id,candidateId:e,entityType:"goal",entityId:d.id,entityName:d.title})]})]})}),n.jsxs(_e,{children:[d.description&&n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:d.description}),d.target_value&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[d.current_value||0," / ",d.target_value]})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary",style:{width:`${Math.min((d.current_value||0)/d.target_value*100,100)}%`}})})]}),e&&n.jsx(hP,{entityType:"goal",entityId:d.id,candidateId:e})]})]},d.id)),l.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No goals yet"})]})]})]})]})}function dXe(){var u;const e=ou(new Date),t=V_(new Date),{data:r}=vr({queryKey:["current-user"],queryFn:async()=>await se.auth.getUser()}),s=(u=r==null?void 0:r.data)==null?void 0:u.user,{data:a=[]}=vr({queryKey:["weekly-jobs",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:d,error:h}=await se.from("jobs").select("*").eq("user_id",s.id).gte("created_at",e.toISOString()).lte("created_at",t.toISOString()).order("created_at",{ascending:!1});if(h)throw h;return d},enabled:!!s}),{data:i=[]}=vr({queryKey:["weekly-interviews",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:d,error:h}=await se.from("interviews").select("*, jobs(company_name, job_title)").eq("user_id",s.id).gte("interview_date",e.toISOString()).lte("interview_date",t.toISOString()).order("interview_date",{ascending:!1});if(h)throw h;return d},enabled:!!s}),{data:o=[]}=vr({queryKey:["weekly-goal-updates",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:d,error:h}=await se.from("goals").select("*").eq("user_id",s.id).gte("updated_at",e.toISOString()).lte("updated_at",t.toISOString()).order("updated_at",{ascending:!1});if(h)throw h;return d},enabled:!!s}),{data:l=[]}=vr({queryKey:["weekly-feedback",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:d,error:h}=await se.from("mentor_feedback").select("*").eq("candidate_id",s.id).gte("created_at",e.toISOString()).lte("created_at",t.toISOString()).order("created_at",{ascending:!1});if(h)throw h;const m=d.map(x=>x.mentor_id),{data:f}=await se.from("profiles").select("user_id, name, email").in("user_id",m);return d.map(x=>({...x,profile:f==null?void 0:f.find(v=>v.user_id===x.mentor_id)}))},enabled:!!s}),c=l.filter(d=>d.implemented).length;return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(At,{}),n.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Weekly Progress Report"}),n.jsxs("p",{className:"text-muted-foreground",children:[Lt(e,"MMM d")," - ",Lt(t,"MMM d, yyyy")]})]}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Fa,{className:"h-4 w-4"}),"Applications"]})}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:a.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This week"})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4"}),"Interviews"]})}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:i.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled or completed"})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Goals Updated"]})}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:o.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Progress tracked"})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-3",children:n.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(qi,{className:"h-4 w-4"}),"Mentor Feedback"]})}),n.jsxs(_e,{children:[n.jsx("div",{className:"text-2xl font-bold",children:l.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[c," implemented"]})]})]})]}),a.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Fa,{className:"h-5 w-5"}),"Applications This Week"]})}),n.jsx(_e,{className:"space-y-3",children:a.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:d.job_title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d.company_name})]}),n.jsx($e,{children:d.status})]},d.id))})]}),i.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5"}),"Interviews This Week"]})}),n.jsx(_e,{className:"space-y-3",children:i.map(d=>{var h,m;return n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:[(h=d.jobs)==null?void 0:h.job_title," at ",(m=d.jobs)==null?void 0:m.company_name]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Lt(new Date(d.interview_date),"MMM d, yyyy"),d.interview_type&&`  ${d.interview_type}`]})]}),n.jsx($e,{children:d.status||"scheduled"})]},d.id)})})]}),l.length>0&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-5 w-5"}),"Mentor Feedback Received"]})}),n.jsx(_e,{className:"space-y-3",children:l.map(d=>{var h,m;return n.jsxs("div",{className:"border border-border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("p",{className:"font-medium text-sm",children:["From: ",((h=d.profile)==null?void 0:h.name)||((m=d.profile)==null?void 0:m.email)||"Mentor"]}),d.implemented&&n.jsxs($e,{variant:"outline",className:"text-green-500",children:[n.jsx(ma,{className:"h-3 w-3 mr-1"}),"Implemented"]})]}),n.jsx("p",{className:"text-sm",children:d.feedback_text}),n.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[d.entity_type," feedback"]})]},d.id)})})]}),a.length===0&&i.length===0&&o.length===0&&l.length===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Gr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No activity this week"}),n.jsx("p",{className:"text-muted-foreground",children:"Start applying to jobs or working on your goals to see your weekly progress"})]})})]})]})}const hXe=()=>{const{token:e}=_c(),t=ds({mutationFn:async()=>{if(!e)return;const{data:x}=await se.from("progress_shares").select("id").eq("share_token",e).maybeSingle();x&&(await se.from("progress_share_access_log").insert({share_id:x.id}),await se.from("progress_shares").update({last_accessed_at:new Date().toISOString()}).eq("id",x.id))}});N.useEffect(()=>{t.mutate()},[e]);const{data:r,isLoading:s,error:a}=vr({queryKey:["shared-progress",e],enabled:!!e,queryFn:async()=>{if(!e)throw new Error("No token provided");const{data:x,error:v}=await se.from("progress_shares").select("*").eq("share_token",e).eq("is_active",!0).maybeSingle();if(v)throw console.error("Share lookup error:",v),new Error("Failed to load share link");if(!x)throw new Error("Invalid or inactive share link");if(x.expires_at&&new Date(x.expires_at)<new Date)throw new Error("This share link has expired");const g=x.user_id,[y,j,b]=await Promise.all([se.from("profiles").select("name").eq("user_id",g).maybeSingle(),se.from("goals").select("*").eq("user_id",g),x.scope==="full_progress"?se.from("jobs").select("*").eq("user_id",g):Promise.resolve({data:[]})]);return{share:x,profile:y.data,goals:j.data||[],jobs:b.data||[]}}});if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(en,{className:"h-8 w-8 animate-spin text-primary"})});if(a||!r)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:n.jsxs(ye,{className:"p-8 max-w-md text-center",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Link Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:a instanceof Error?a.message:"This progress share link is invalid or has expired."})]})});const{share:i,profile:o,goals:l,jobs:c}=r,u=i.scope;c.length;const d=c.filter(x=>x.status!=="wishlist").length,h=c.filter(x=>["phone-screen","technical","onsite","final"].includes(x.status)).length,m=c.filter(x=>x.status==="offer").length,f=l.filter(x=>x.status==="completed").length;return l.filter(x=>x.status==="in-progress").length,n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b",children:n.jsx("div",{className:"container py-6 max-w-6xl mx-auto px-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("img",{src:cK,alt:"JibbitATS",className:"h-8 w-auto"}),n.jsx($e,{variant:"outline",className:"break-words",children:u.replace("_"," ")})]})})}),n.jsx("div",{className:"container py-8 max-w-4xl mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("h1",{className:"text-4xl font-display font-bold break-words",children:[(o==null?void 0:o.name)||"User","'s Progress"]}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:["Shared with you on ",Lt(new Date(i.created_at),"MMMM d, yyyy")]})]}),n.jsx(ye,{className:"p-6 bg-primary/5 border-primary/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cy,{className:"h-6 w-6 text-primary flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Keep Going!"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Every step forward is progress. Stay consistent and celebrate small wins."})]})]})}),(u==="kpi_summary"||u==="full_progress")&&n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(xn,{className:"h-8 w-8 text-primary flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:d}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Applied"})]})]})}),n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mr,{className:"h-8 w-8 text-blue-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:h}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Interviews"})]})]})}),n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Eo,{className:"h-8 w-8 text-green-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:m}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Offers"})]})]})}),n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Gr,{className:"h-8 w-8 text-purple-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:f}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Goals Done"})]})]})})]}),(u==="goals_only"||u==="full_progress")&&n.jsxs(ye,{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Goals & Milestones"}),n.jsx("div",{className:"space-y-4",children:l.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No goals set yet"}):l.map(x=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium break-words",children:x.title}),n.jsx("p",{className:"text-sm text-muted-foreground break-words",children:x.description})]}),n.jsx($e,{variant:x.status==="completed"?"default":x.status==="in-progress"?"secondary":"outline",className:"shrink-0",children:x.status})]}),x.current_value!==null&&x.target_value!==null&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{children:[x.current_value," / ",x.target_value]}),n.jsxs("span",{children:[Math.round(x.current_value/x.target_value*100),"%"]})]}),n.jsx(La,{value:x.current_value/x.target_value*100})]})]},x.id))})]}),u==="full_progress"&&n.jsxs(ye,{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Application Pipeline"}),n.jsx("div",{className:"space-y-3",children:c.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No applications yet"}):c.map(x=>n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 p-3 border rounded-lg",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:"font-medium break-words",children:x.job_title}),n.jsx("p",{className:"text-sm text-muted-foreground break-words",children:x.company_name})]}),n.jsx($e,{variant:"outline",className:"shrink-0",children:x.status})]},x.id))})]})]})})]})},fP={kpi_summary:{title:"KPI Summary Only",description:"Shows overall metrics without sensitive details like company names or salary",privacy:"High Privacy"},goals_only:{title:"Goals Only",description:"Shows goals, milestones, and progress without application details",privacy:"High Privacy"},full_progress:{title:"Full Progress",description:"Complete access to all progress data (recommended for team members only)",privacy:"Low Privacy"}},fXe=({open:e,onOpenChange:t})=>{const[r,s]=N.useState(""),[a,i]=N.useState("kpi_summary"),[o,l]=N.useState(30),[c,u]=N.useState(""),d=wa(),{data:h=[]}=vr({queryKey:["progress-shares"],queryFn:async()=>{const{data:g,error:y}=await se.from("progress_shares").select("*").order("created_at",{ascending:!1});if(y)throw y;return g},enabled:e}),m=ds({mutationFn:async()=>{const{data:{user:g}}=await se.auth.getUser();if(!g)throw new Error("Not authenticated");const y=crypto.randomUUID(),j=o>0?new Date(Date.now()+o*24*60*60*1e3).toISOString():null,{error:b}=await se.from("progress_shares").insert({user_id:g.id,share_token:y,scope:a,expires_at:j,shared_with_name:r||null,notes:c||null});if(b)throw b},onSuccess:()=>{xe.success("Share link created"),s(""),u(""),i("kpi_summary"),d.invalidateQueries({queryKey:["progress-shares"]})},onError:()=>{xe.error("Failed to create share link")}}),f=ds({mutationFn:async({id:g,isActive:y})=>{const{error:j}=await se.from("progress_shares").update({is_active:y}).eq("id",g);if(j)throw j},onSuccess:()=>{d.invalidateQueries({queryKey:["progress-shares"]})}}),x=ds({mutationFn:async g=>{const{error:y}=await se.from("progress_shares").delete().eq("id",g);if(y)throw y},onSuccess:()=>{xe.success("Share link deleted"),d.invalidateQueries({queryKey:["progress-shares"]})}}),v=g=>{const y=`${window.location.origin}/progress/${g}`;navigator.clipboard.writeText(y),xe.success("Link copied to clipboard")};return n.jsx(Wr,{open:e,onOpenChange:t,children:n.jsxs(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Xr,{children:[n.jsxs(Qr,{className:"flex items-center gap-2",children:[n.jsx(Sb,{className:"h-5 w-5"}),"Share Progress"]}),n.jsx(no,{children:"Create accountability links with explicit privacy controls"})]}),n.jsxs(Is,{children:[n.jsx(N_,{className:"h-4 w-4"}),n.jsxs(Rs,{children:[n.jsx("strong",{children:"Privacy First:"}),' All shares default to maximum privacy. Only share "Full Progress" with trusted team members.']})]}),n.jsxs("div",{className:"space-y-4 border-b pb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"name",children:"Shared With (Optional)"}),n.jsx(Je,{id:"name",placeholder:"Friend, Family Member, or Coach",value:r,onChange:g=>s(g.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"scope",children:"Privacy Scope"}),n.jsxs($t,{value:a,onValueChange:g=>i(g),children:[n.jsx(Ft,{id:"scope",children:n.jsx(qt,{})}),n.jsx(Bt,{children:Object.entries(fP).map(([g,y])=>n.jsx(qe,{value:g,children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("span",{children:y.title}),n.jsx($e,{variant:y.privacy==="High Privacy"?"default":"destructive",className:"ml-2",children:y.privacy})]})},g))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:fP[a].description})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"expiry",children:"Expires In (Days)"}),n.jsxs($t,{value:o.toString(),onValueChange:g=>l(parseInt(g)),children:[n.jsx(Ft,{id:"expiry",children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"7",children:"7 days"}),n.jsx(qe,{value:"14",children:"14 days"}),n.jsx(qe,{value:"30",children:"30 days"}),n.jsx(qe,{value:"90",children:"90 days"}),n.jsx(qe,{value:"0",children:"Never"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(dr,{id:"notes",placeholder:"Why are you sharing this?",value:c,onChange:g=>u(g.target.value),rows:2})]}),n.jsx(ve,{onClick:()=>m.mutate(),disabled:m.isPending,className:"w-full",children:m.isPending?"Creating...":"Create Share Link"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold",children:["Active Shares (",h.filter(g=>g.is_active).length,")"]}),h.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No shares yet"}):h.map(g=>n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h5",{className:"font-medium",children:g.shared_with_name||"Unnamed Share"}),n.jsx($e,{variant:g.is_active?"default":"secondary",children:g.is_active?"Active":"Inactive"}),n.jsx($e,{variant:"outline",children:fP[g.scope].title})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Created ",Lt(new Date(g.created_at),"MMM d, yyyy"),g.expires_at&&`  Expires ${Lt(new Date(g.expires_at),"MMM d, yyyy")}`]}),g.last_accessed_at&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last accessed ",Lt(new Date(g.last_accessed_at),"MMM d, yyyy h:mm a")]}),g.notes&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:g.notes})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>f.mutate({id:g.id,isActive:!g.is_active}),children:g.is_active?n.jsx(lce,{className:"h-4 w-4"}):n.jsx(af,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>x.mutate(g.id),children:n.jsx(Ws,{className:"h-4 w-4"})})]})]}),n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>v(g.share_token),className:"w-full",children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})},g.id))]})]})})},mXe=()=>{const[e,t]=N.useState(!1),{data:r}=vr({queryKey:["goals"],queryFn:async()=>{const{data:f,error:x}=await se.from("goals").select("*").order("created_at",{ascending:!1});if(x)throw x;return f}}),{data:s}=vr({queryKey:["jobs-stats"],queryFn:async()=>{const{data:f,error:x}=await se.from("jobs").select("id, status, created_at").eq("is_archived",!1);if(x)throw x;return f}}),a=(s==null?void 0:s.filter(f=>f.status!=="wishlist").length)||0,i=(s==null?void 0:s.filter(f=>["phone-screen","technical","onsite","final"].includes(f.status)).length)||0,o=(s==null?void 0:s.filter(f=>f.status==="offer").length)||0,l=(r==null?void 0:r.filter(f=>f.status==="completed").length)||0,c=(r==null?void 0:r.filter(f=>f.status==="in-progress").length)||0,u=(r==null?void 0:r.length)||0,d=(s==null?void 0:s.filter(f=>{const x=new Date(f.created_at),v=new Date;return v.setDate(v.getDate()-7),x>=v&&f.status!=="wishlist"}).length)||0,h=["You're making great progress! Keep it up!","Every application is a step closer to your goal.","Stay consistent - your hard work will pay off!","Proud of your dedication and effort!","You've got this! Keep pushing forward!"],m=h[Math.floor(Math.random()*h.length)];return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Progress Dashboard"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Family-friendly view of your job search journey"}),n.jsx(ve,{onClick:()=>t(!0),className:"mt-4",children:"Share Progress"})]}),n.jsx(ye,{className:"p-6 bg-gradient-to-r from-primary/10 to-purple-500/10 border-primary/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cy,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Keep Going!"}),n.jsx("p",{className:"text-muted-foreground",children:m})]})]})}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xn,{className:"h-6 w-6 text-primary"}),n.jsx("p",{className:"font-semibold",children:"Applications"})]}),n.jsx("p",{className:"text-3xl font-bold",children:a}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total submitted"})]})}),n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-6 w-6 text-blue-500"}),n.jsx("p",{className:"font-semibold",children:"Interviews"})]}),n.jsx("p",{className:"text-3xl font-bold",children:i}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"In progress"})]})}),n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-6 w-6 text-green-500"}),n.jsx("p",{className:"font-semibold",children:"Offers"})]}),n.jsx("p",{className:"text-3xl font-bold",children:o}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"})]})}),n.jsx(ye,{className:"p-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Iw,{className:"h-6 w-6 text-purple-500"}),n.jsx("p",{className:"font-semibold",children:"This Week"})]}),n.jsx("p",{className:"text-3xl font-bold",children:d}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Applications"})]})})]}),n.jsxs(ye,{className:"p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[n.jsx(xc,{className:"h-5 w-5"}),"Goals & Achievements"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Overall Goal Progress"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[l," of ",u," goals completed"]})]}),n.jsxs($e,{variant:"default",children:[u>0?Math.round(l/u*100):0,"%"]})]}),n.jsx(La,{value:u>0?l/u*100:0}),n.jsx("div",{className:"space-y-3 mt-6",children:r==null?void 0:r.slice(0,5).map(f=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:f.title}),f.description&&n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:f.description})]}),n.jsx($e,{variant:f.status==="completed"?"default":f.status==="in-progress"?"secondary":"outline",children:f.status})]}),f.current_value!==null&&f.target_value!==null&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{children:[f.current_value," / ",f.target_value]}),n.jsxs("span",{children:[Math.round(f.current_value/f.target_value*100),"%"]})]}),n.jsx(La,{value:f.current_value/f.target_value*100})]})]},f.id))})]})]}),n.jsxs(ye,{className:"p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Gr,{className:"h-5 w-5"}),"Recent Highlights"]}),n.jsxs("div",{className:"space-y-3",children:[c>0&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[n.jsx($e,{variant:"secondary",children:"Active"}),n.jsxs("p",{className:"text-sm",children:[c," goals in progress"]})]}),d>0&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[n.jsx($e,{variant:"secondary",children:"This Week"}),n.jsxs("p",{className:"text-sm",children:[d," applications submitted"]})]}),i>0&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[n.jsx($e,{variant:"default",children:"Upcoming"}),n.jsxs("p",{className:"text-sm",children:[i," interviews scheduled"]})]})]})]}),n.jsx(ye,{className:"p-4 bg-muted/50",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:" This dashboard hides sensitive details like company names and salary information. Perfect for sharing with family and friends!"})})]})}),n.jsx(fXe,{open:e,onOpenChange:t})]})};async function pXe(e){const t={supportGroups:0,groupMembers:0,groupPosts:0,groupChallenges:0,groupWebinars:0,peerReferrals:0,institutionalSettings:0,cohorts:0,cohortMembers:0,advisorProfiles:0,coachingSessions:0,sessionPayments:0},r=[{name:"Software Engineers - Bay Area",description:"Connect with fellow software engineers in the San Francisco Bay Area",group_type:"industry",industry:"Technology",location:"San Francisco Bay Area",is_private:!1,created_by:e},{name:"Career Changers - Product Management",description:"Support group for professionals transitioning into product management",group_type:"role",role:"Product Manager",is_private:!1,created_by:e},{name:"Tech Industry Newcomers",description:"General support for those entering the tech industry",group_type:"general",is_private:!1,created_by:e}],{data:s}=await se.from("support_groups").upsert(r,{onConflict:"created_by,name",ignoreDuplicates:!1}).select();s&&(t.supportGroups=s.length,await se.from("support_group_members").upsert(s.map(i=>({group_id:i.id,user_id:e,privacy_level:"full_profile"})),{onConflict:"group_id,user_id"}),t.groupMembers=s.length,s[0]&&(await se.from("group_posts").upsert([{group_id:s[0].id,user_id:e,post_type:"discussion",title:"Tips for technical interviews",content:"What strategies have worked for you in coding interviews?",is_anonymous:!1},{group_id:s[0].id,user_id:e,post_type:"success",title:"Just got an offer!",content:"After 3 months of searching, I finally got an offer. Happy to share my experience.",is_anonymous:!0}],{onConflict:"group_id,title"}),t.groupPosts=2,await se.from("group_challenges").upsert({group_id:s[0].id,created_by:e,title:"30-Day Application Challenge",description:"Apply to 10 jobs in 30 days",challenge_type:"applications",target_value:10,duration_days:30,start_date:new Date().toISOString(),end_date:new Date(Date.now()+720*60*60*1e3).toISOString()},{onConflict:"group_id,title"}),t.groupChallenges=1,await se.from("group_webinars").upsert({group_id:s[0].id,title:"System Design Interview Workshop",description:"Learn best practices for system design interviews",host_name:"Senior Staff Engineer",scheduled_date:new Date(Date.now()+336*60*60*1e3).toISOString(),duration_minutes:90,meeting_link:"https://zoom.us/j/demo456"},{onConflict:"group_id,title"}),t.groupWebinars=1)),await se.from("institutional_settings").upsert({created_by:e,institution_name:"University Career Services",logo_url:null,primary_color:"#1E40AF",secondary_color:"#7C3AED",custom_domain:null},{onConflict:"created_by"}),t.institutionalSettings=1,await se.from("advisor_profiles").upsert({user_id:e,display_name:"Career Coach Demo",bio:"Experienced career coach specializing in tech industry transitions",specialization:["Career Coaching","Interview Prep","Salary Negotiation"],hourly_rate:150,is_active:!0},{onConflict:"user_id"}),t.advisorProfiles=1;const{data:a}=await se.from("family_supporters").upsert([{user_id:e,supporter_name:"Sarah (Spouse)",supporter_email:"sarah.demo@example.com",relationship:"spouse",access_level:"full",invite_token:"demo-token-spouse-"+Date.now(),can_send_messages:!0,accepted_at:new Date().toISOString()},{user_id:e,supporter_name:"Mom",supporter_email:"mom.demo@example.com",relationship:"parent",access_level:"view_only",invite_token:"demo-token-parent-"+Date.now(),can_send_messages:!0,accepted_at:new Date().toISOString()}],{onConflict:"user_id,supporter_email",ignoreDuplicates:!1}).select();return a&&a.length>0&&(await se.from("supporter_messages").upsert([{supporter_id:a[0].id,user_id:e,message_text:"So proud of you! Keep up the great work on your job search! ",sent_at:new Date(Date.now()-2880*60*1e3).toISOString()},{supporter_id:a[1].id,user_id:e,message_text:"Thinking of you today. You got this! ",sent_at:new Date(Date.now()-7200*60*1e3).toISOString()}],{onConflict:"supporter_id,sent_at",ignoreDuplicates:!1}),await se.from("user_updates").upsert([{user_id:e,update_type:"milestone",update_text:"Completed 5 interviews! Hit a major milestone in my job search journey",visibility:"supporters",created_at:new Date(Date.now()-4320*60*1e3).toISOString()}],{onConflict:"user_id,update_text",ignoreDuplicates:!1})),t}async function tV(e){var g,y,j;const t={jobs:0,interviews:0,companyResearch:0,questionBank:0,practiceResponses:0,mockSessions:0,technicalChallenges:0,technicalAttempts:0,followups:0,offers:0,contacts:0,networkingEvents:0,referralRequests:0,professionalReferences:0,informationalInterviews:0},r=[{user_id:e,job_title:"Senior Frontend Engineer",company_name:"TechCorp",status:"Interview",location:"San Francisco, CA",salary_min:14e4,salary_max:18e4,job_description:"Building scalable React applications",industry:"Technology"},{user_id:e,job_title:"Full Stack Developer",company_name:"DataFlow Inc",status:"Applied",location:"Remote",salary_min:13e4,salary_max:16e4,job_description:"End-to-end web development"},{user_id:e,job_title:"Product Engineer",company_name:"InnovateLab",status:"Offer",location:"Austin, TX",salary_min:15e4,salary_max:19e4},{user_id:e,job_title:"Software Engineer",company_name:"CloudScale",status:"Rejected",location:"Seattle, WA",salary_min:135e3,salary_max:175e3},{user_id:e,job_title:"Frontend Architect",company_name:"DesignSys",status:"Wishlist",location:"New York, NY",salary_min:16e4,salary_max:2e5},{user_id:e,job_title:"React Developer",company_name:"StartupXYZ",status:"Researching",location:"Boston, MA",salary_min:12e4,salary_max:15e4}],{data:s,error:a}=await se.from("jobs").upsert(r,{onConflict:"user_id,company_name,job_title",ignoreDuplicates:!1}).select();!a&&s&&(t.jobs=s.length);const i=(g=s==null?void 0:s[0])==null?void 0:g.id,o=(y=s==null?void 0:s[1])==null?void 0:y.id,l=(j=s==null?void 0:s[2])==null?void 0:j.id;if(i){const b=[{user_id:e,job_id:i,interview_type:"video",status:"scheduled",scheduled_start:new Date(Date.now()+1728e5).toISOString(),scheduled_end:new Date(Date.now()+1728e5+36e5).toISOString(),duration_minutes:60,interviewer_names:["Sarah Chen","Mike Johnson"],location:"Zoom",video_link:"https://zoom.us/j/demo123"},{user_id:e,job_id:o||i,interview_type:"onsite",status:"scheduled",scheduled_start:new Date(Date.now()+432e6).toISOString(),scheduled_end:new Date(Date.now()+432e6+144e5).toISOString(),duration_minutes:240,interviewer_names:["Tech Panel"],location:"123 Main St, Suite 500"},{user_id:e,job_id:l||i,interview_type:"phone",status:"completed",outcome:"passed",scheduled_start:new Date(Date.now()-2592e5).toISOString(),scheduled_end:new Date(Date.now()-2592e5+18e5).toISOString(),duration_minutes:30,interviewer_names:["HR Recruiter"]}],{data:_,error:S}=await se.from("interviews").upsert(b,{onConflict:"user_id,job_id,scheduled_start",ignoreDuplicates:!1}).select();!S&&_&&(t.interviews=_.length,_[0]&&await se.from("interview_checklists").upsert([{user_id:e,interview_id:_[0].id,label:"Research company values",category:"Research",is_required:!0,completed_at:new Date().toISOString()},{user_id:e,interview_id:_[0].id,label:"Prepare STAR examples",category:"Preparation",is_required:!0},{user_id:e,interview_id:_[0].id,label:"Test video/audio",category:"Technical",is_required:!0,completed_at:new Date().toISOString()},{user_id:e,interview_id:_[0].id,label:"Prepare questions for interviewer",category:"Preparation",is_required:!1}],{onConflict:"user_id,interview_id,label"}),_[2]&&(await se.from("interview_followups").upsert([{user_id:e,interview_id:_[2].id,type:"thank_you",status:"sent",template_subject:"Thank you for the opportunity",template_body:"Thank you for taking the time to speak with me today...",sent_at:new Date(Date.now()-2880*60*1e3).toISOString()},{user_id:e,interview_id:_[0].id,type:"follow_up",status:"draft",template_subject:"Following up on our conversation",template_body:"I wanted to follow up on our recent discussion..."}],{onConflict:"user_id,interview_id,type"}),t.followups=2))}i&&(await se.from("company_research").upsert({user_id:e,company_name:"TechCorp",description:"Leading technology company specializing in cloud infrastructure",industry:"Technology",size:"1000-5000 employees",culture:"Innovation-driven, collaborative, work-life balance focus",recent_news:[{title:"TechCorp Raises $100M Series C",date:"2024-01-15",source:"TechCrunch",url:"https://techcrunch.com/demo"},{title:"New Product Launch Q1 2024",date:"2024-02-01",source:"Company Blog",url:"https://techcorp.com/blog"},{title:"Expansion to EMEA Markets",date:"2024-03-10",source:"Business Wire",url:"https://businesswire.com/demo"}],key_people:[{name:"Jane Doe",role:"CEO",linkedin:"https://linkedin.com/in/janedoe"},{name:"John Smith",role:"CTO",linkedin:"https://linkedin.com/in/johnsmith"}],competitors:["CompetitorA","CompetitorB","CompetitorC"],glassdoor_rating:4.2,ai_summary:"TechCorp is a rapidly growing company with strong engineering culture and competitive compensation. Focus on cloud-native technologies and distributed systems."},{onConflict:"user_id,company_name"}),t.companyResearch=1);const c=[{category:"Behavioral",difficulty:"Medium",role_title:"Software Engineer",question_text:"Tell me about a time when you had to deal with a difficult team member.",star_framework_hint:"Focus on conflict resolution and communication skills."},{category:"Behavioral",difficulty:"Hard",role_title:"Senior Engineer",question_text:"Describe a situation where you had to make a technical decision with incomplete information.",star_framework_hint:"Emphasize decision-making process and risk assessment."},{category:"Technical",difficulty:"Medium",role_title:"Frontend Developer",question_text:"Explain the difference between useEffect and useLayoutEffect in React.",linked_skills:["React","JavaScript"]},{category:"Technical",difficulty:"Hard",role_title:"Full Stack Developer",question_text:"How would you design a rate-limiting system for an API?"},{category:"Situational",difficulty:"Easy",role_title:"Software Engineer",question_text:"How would you handle a situation where a sprint deadline is at risk?"},{category:"Behavioral",difficulty:"Easy",role_title:"Software Engineer",question_text:"What motivates you in your work?",star_framework_hint:"Share genuine passion and connect to company mission."},{category:"Technical",difficulty:"Medium",role_title:"Backend Developer",question_text:"Explain database indexing and when to use it."},{category:"Technical",difficulty:"Hard",role_title:"Software Engineer",question_text:"Design a distributed caching system.",linked_skills:["System Design","Distributed Systems"]},{category:"Behavioral",difficulty:"Medium",role_title:"Lead Engineer",question_text:"Tell me about a time you mentored a junior developer."},{category:"Situational",difficulty:"Medium",role_title:"Product Engineer",question_text:"How would you prioritize features when stakeholders disagree?"},{category:"Technical",difficulty:"Easy",role_title:"Frontend Developer",question_text:"What is the virtual DOM in React?",linked_skills:["React"]},{category:"Technical",difficulty:"Medium",role_title:"Full Stack Developer",question_text:"Explain REST vs GraphQL API design."},{category:"Behavioral",difficulty:"Hard",role_title:"Senior Engineer",question_text:"Describe your biggest technical failure and what you learned."},{category:"Situational",difficulty:"Hard",role_title:"Tech Lead",question_text:"How would you handle technical debt in a fast-paced startup?"},{category:"Technical",difficulty:"Easy",role_title:"Software Engineer",question_text:"What is the difference between == and === in JavaScript?",linked_skills:["JavaScript"]},{category:"Behavioral",difficulty:"Medium",role_title:"Software Engineer",question_text:"How do you handle code review feedback?"}],{data:u,error:d}=await se.from("question_bank_items").upsert(c,{onConflict:"role_title,question_text",ignoreDuplicates:!1}).select();if(!d&&u&&(t.questionBank=u.length,u.length>=3)){const b=[{user_id:e,question_id:u[0].id,response_text:"In my previous role, I worked with a team member who consistently missed deadlines. I scheduled a one-on-one meeting to understand the root cause. It turned out they were overwhelmed with tasks. We worked together to prioritize work and I helped them break down complex tasks into manageable pieces. This improved their performance and strengthened our working relationship.",status:"completed",time_taken:180},{user_id:e,question_id:u[1].id,response_text:"When migrating our authentication system, we had to choose between two approaches without complete performance data. I gathered what data we had, consulted with senior engineers, created a risk matrix, and made a decision based on our system constraints and future scalability needs. We chose the approach with lower risk and better long-term maintainability.",status:"completed",time_taken:210},{user_id:e,question_id:u[2].id,response_text:"useEffect runs after the DOM updates and paint, while useLayoutEffect runs synchronously after DOM mutations but before paint. useLayoutEffect is useful when you need to make DOM measurements or mutations that should be visible in the initial render.",status:"completed",time_taken:120}],{data:_}=await se.from("question_practice_responses").upsert(b,{onConflict:"user_id,question_id",ignoreDuplicates:!1}).select();_&&(t.practiceResponses=_.length,await se.from("question_practice_feedback").upsert([{response_id:_[0].id,overall_score:8.5,relevance_score:9,specificity_score:8,impact_score:8,clarity_score:9,general_feedback:"Strong STAR response with clear situation, action, and result. Good emphasis on collaboration and problem-solving.",star_adherence:{situation:!0,task:!0,action:!0,result:!0},speaking_time_estimate:180},{response_id:_[1].id,overall_score:9,relevance_score:10,specificity_score:9,impact_score:8,clarity_score:9,general_feedback:"Excellent response demonstrating technical leadership and decision-making under uncertainty. Clear process explanation.",star_adherence:{situation:!0,task:!0,action:!0,result:!0},speaking_time_estimate:210},{response_id:_[2].id,overall_score:9.5,relevance_score:10,specificity_score:10,impact_score:9,clarity_score:10,general_feedback:"Technically accurate and concise explanation. Good use of practical example.",speaking_time_estimate:120}],{onConflict:"response_id"}))}if(i&&u&&u.length>=5){const b={user_id:e,job_id:i,target_role:"Senior Frontend Engineer",company_name:"TechCorp",format:"behavioral",question_count:5,status:"completed",started_at:new Date(Date.now()-6048e5).toISOString(),completed_at:new Date(Date.now()-6048e5+27e5).toISOString()},{data:_}=await se.from("mock_interview_sessions").upsert(b,{onConflict:"user_id,job_id,started_at",ignoreDuplicates:!1}).select().single();if(_){t.mockSessions=1;for(let S=0;S<5;S++)await se.from("mock_interview_responses").upsert({session_id:_.id,question_id:u[S].id,question_order:S+1,response_text:`Response to question ${S+1}...`,is_followup:!1,started_at:new Date(Date.now()-10080*60*1e3+S*9*60*1e3).toISOString(),answered_at:new Date(Date.now()-10080*60*1e3+(S+1)*9*60*1e3).toISOString(),time_taken:540},{onConflict:"session_id,question_id"});await se.from("mock_interview_summaries").upsert({session_id:_.id,completion_rate:100,avg_response_length:250,strongest_category:"Behavioral",weakest_category:"Technical",top_improvements:["Add more quantifiable metrics to answers","Practice concise technical explanations","Strengthen situational responses"],ai_summary:"Strong performance overall with good STAR framework usage. Focus on adding more specific metrics and practicing technical depth."},{onConflict:"session_id"})}}const h=[{title:"Implement a Debounce Function",category:"JavaScript",difficulty:"Medium",tech_stack:["JavaScript","TypeScript"],problem_statement:"Create a debounce function that delays the execution of a function until after a specified wait time.",solution_framework:"Use closures and setTimeout to implement the delay mechanism.",best_practices:"Handle edge cases like leading/trailing calls, cleanup on unmount."},{title:"Design a LRU Cache",category:"Data Structures",difficulty:"Hard",tech_stack:["Algorithms","System Design"],problem_statement:"Implement a Least Recently Used (LRU) cache with O(1) get and put operations.",solution_framework:"Combine HashMap and Doubly Linked List for optimal performance."},{title:"Build a React Component with Hooks",category:"React",difficulty:"Easy",tech_stack:["React","TypeScript"],problem_statement:"Create a custom hook for fetching data with loading and error states.",solution_framework:"Use useState, useEffect, and proper cleanup patterns."}],{data:m}=await se.from("technical_challenges").upsert(h,{onConflict:"title",ignoreDuplicates:!1}).select();m&&(t.technicalChallenges=m.length,m[0]&&(await se.from("technical_practice_attempts").upsert({user_id:e,challenge_id:m[0].id,language:"typescript",solution_code:"function debounce(fn, delay) { let timer; return (...args) => { clearTimeout(timer); timer = setTimeout(() => fn(...args), delay); }; }",status:"completed",started_at:new Date(Date.now()-7200*60*1e3).toISOString(),submitted_at:new Date(Date.now()-7200*60*1e3+1800*1e3).toISOString(),time_taken:30,rubric_checklist:{functionality:!0,edgeCases:!0,cleanCode:!0}},{onConflict:"user_id,challenge_id,started_at"}),t.technicalAttempts=1)),l&&(await se.from("offers").upsert([{user_id:e,job_id:l,base_salary:155e3,bonus:2e4,equity:"0.15% vesting over 4 years",status:"pending",market_data:{min:145e3,max:175e3,sources:[{name:"levels.fyi",url:"https://levels.fyi",value:16e4},{name:"Glassdoor",url:"https://glassdoor.com",value:152e3},{name:"Blind",url:"https://teamblind.com",value:158e3}]},confidence_checklist:{researched_market:!0,identified_leverage:!0,set_walkaway:!1,prepared_questions:!1,practiced_scripts:!1},notes:"Strong offer with good equity component. Market research suggests room for 5-10% negotiation."},{user_id:e,job_id:o||l,base_salary:145e3,bonus:15e3,status:"accepted",market_data:{min:135e3,max:165e3,sources:[]}}],{onConflict:"user_id,job_id",ignoreDuplicates:!1}),t.offers=2);const f=[{user_id:e,name:"Alice Johnson",email:"alice@example.com",company:"TechCorp",role:"Engineering Manager",relationship_type:"Mentor",relationship_strength:5,tags:["tech","mentor"],school:"MIT",degree:"BS Computer Science",graduation_year:2010},{user_id:e,name:"Bob Smith",email:"bob@example.com",company:"DataFlow Inc",role:"Senior Developer",relationship_type:"Colleague",relationship_strength:4,tags:["tech","colleague"],school:"Stanford",degree:"MS Computer Science",graduation_year:2015},{user_id:e,name:"Carol Davis",email:"carol@example.com",company:"InnovateLab",role:"Product Manager",relationship_type:"Professional",relationship_strength:3,school:"UC Berkeley",degree:"MBA",graduation_year:2012},{user_id:e,name:"David Lee",email:"david@example.com",company:"CloudScale",role:"Tech Lead",relationship_type:"Professional",relationship_strength:4,tags:["tech","referral"],school:"MIT",degree:"BS EECS",graduation_year:2013,is_influencer:!0,influence_score:8},{user_id:e,name:"Emma Wilson",email:"emma@example.com",company:"DesignSys",role:"UX Designer",relationship_type:"Colleague",relationship_strength:3},{user_id:e,name:"Frank Chen",email:"frank@example.com",company:"StartupXYZ",role:"Founder",relationship_type:"Professional",relationship_strength:5,tags:["startup","founder"],is_industry_leader:!0},{user_id:e,name:"Grace Martinez",email:"grace@example.com",company:"TechCorp",role:"Staff Engineer",relationship_type:"Mentor",relationship_strength:5,tags:["tech","mentor"],school:"Stanford",degree:"PhD CS",graduation_year:2008,is_industry_leader:!0},{user_id:e,name:"Henry Taylor",email:"henry@example.com",company:"DataFlow Inc",role:"VP Engineering",relationship_type:"Referrer",relationship_strength:4,tags:["executive","referral"],is_influencer:!0,influence_score:9},{user_id:e,name:"Iris Patel",email:"iris@example.com",company:"TechCorp",role:"Senior Engineer",relationship_type:"Colleague",relationship_strength:3,school:"MIT",degree:"BS CS",graduation_year:2016},{user_id:e,name:"Jack Williams",email:"jack@example.com",company:"CloudScale",role:"Engineering Director",relationship_type:"Professional",relationship_strength:3,school:"Stanford",degree:"MS CS",graduation_year:2011,is_influencer:!0,influence_score:7}],{data:x}=await se.from("contacts").upsert(f,{onConflict:"user_id,email",ignoreDuplicates:!1}).select();if(x){if(t.contacts=x.length,x.length>=5&&await se.from("contact_connections").upsert([{user_id:e,contact_id_a:x[0].id,contact_id_b:x[3].id,relationship_type:"colleague"},{user_id:e,contact_id_a:x[1].id,contact_id_b:x[6].id,relationship_type:"classmate"},{user_id:e,contact_id_a:x[3].id,contact_id_b:x[8].id,relationship_type:"colleague"}],{onConflict:"user_id,contact_id_a,contact_id_b",ignoreDuplicates:!1}),x[0]&&(await se.from("contact_interactions").upsert([{user_id:e,contact_id:x[0].id,interaction_type:"coffee_chat",interaction_date:new Date(Date.now()-720*60*60*1e3).toISOString(),outcome:"positive",notes:"Discussed career growth and got advice on leadership path."},{user_id:e,contact_id:x[1].id,interaction_type:"linkedin_message",interaction_date:new Date(Date.now()-360*60*60*1e3).toISOString(),outcome:"positive",notes:"Reconnected and discussed potential opportunities."}],{onConflict:"user_id,contact_id,interaction_date"}),await se.from("contact_reminders").upsert([{user_id:e,contact_id:x[0].id,reminder_date:new Date(Date.now()+10080*60*1e3).toISOString(),notes:"Follow up on career advice discussion",completed:!1}],{onConflict:"user_id,contact_id,reminder_date"})),x[3]&&x[7]&&i&&o&&(await se.from("referral_requests").upsert([{user_id:e,contact_id:x[3].id,job_id:i,status:"pending",message_sent:"Hi David, I saw an opening at TechCorp that aligns perfectly with my experience...",last_action_at:new Date(Date.now()-7200*60*1e3).toISOString(),next_followup_at:new Date(Date.now()+10080*60*1e3).toISOString(),optimal_send_time:new Date(Date.now()+2880*60*1e3+600*60*1e3).toISOString()},{user_id:e,contact_id:x[7].id,job_id:o||i,status:"accepted",message_sent:"Hi Henry, would you be willing to refer me for this VP role?",last_action_at:new Date(Date.now()-360*60*60*1e3).toISOString(),optimal_send_time:new Date(Date.now()-14400*60*1e3+840*60*1e3).toISOString()}],{onConflict:"user_id,contact_id,job_id",ignoreDuplicates:!1}),t.referralRequests=2),x[6]){const{data:b}=await se.from("professional_references").upsert([{user_id:e,contact_id:x[6].id,relationship_description:"Worked together at TechCorp for 2 years",can_speak_to:["Technical Skills","Leadership","Collaboration"],contact_preference:"email",notes:"Can speak to my technical depth and mentoring abilities"},{user_id:e,contact_id:x[0].id,relationship_description:"Manager for 18 months",can_speak_to:["Leadership","Project Management","Team Collaboration"],contact_preference:"phone"}],{onConflict:"user_id,contact_id",ignoreDuplicates:!1}).select();b&&(t.professionalReferences=b.length,b[0]&&l&&await se.from("reference_requests").upsert({user_id:e,reference_id:b[0].id,job_id:l,requested_at:new Date(Date.now()-14400*60*1e3).toISOString(),notes:"Requested for final round at InnovateLab"},{onConflict:"user_id,reference_id,job_id"}))}x[2]&&x[5]&&(await se.from("informational_interviews").upsert([{user_id:e,contact_id:x[2].id,status:"completed",outreach_sent_at:new Date(Date.now()-1080*60*60*1e3).toISOString(),scheduled_date:new Date(Date.now()-720*60*60*1e3).toISOString(),outcome_notes:"Great conversation about product management career path. Got valuable insights.",prep_checklist:{research_completed:!0,questions_prepared:!0,goals_defined:!0,topics:["Product management transition","InnovateLab culture"]}},{user_id:e,contact_id:x[5].id,status:"scheduled",outreach_sent_at:new Date(Date.now()-10080*60*1e3).toISOString(),scheduled_date:new Date(Date.now()+4320*60*1e3).toISOString(),prep_checklist:{research_completed:!0,questions_prepared:!1,goals_defined:!0,topics:["Startup life","Founding story"]}}],{onConflict:"user_id,contact_id"}),t.informationalInterviews=2)}const{data:v}=await se.from("networking_events").upsert([{user_id:e,title:"Tech Meetup - React Best Practices",event_date:new Date(Date.now()-480*60*60*1e3).toISOString(),event_type:"in-person",location:"Downtown Convention Center",attended:!0,goals:"Meet React developers, learn about new patterns",notes:"Met 5 new contacts, learned about Server Components",prep_checklist:["Research speakers","Prepare elevator pitch","Bring business cards"]},{user_id:e,title:"Virtual Career Fair",event_date:new Date(Date.now()+14400*60*1e3).toISOString(),event_type:"virtual",attended:!1,goals:"Connect with recruiters, explore new opportunities",prep_checklist:["Update resume","Prepare questions","Test video setup"]}],{onConflict:"user_id,title,event_date",ignoreDuplicates:!1}).select();t.networkingEvents=(v==null?void 0:v.length)||0,v&&v[0]&&x&&x.length>=5&&await se.from("event_participants").upsert([{user_id:e,event_id:v[0].id,contact_id:x[6].id,participant_role:"speaker"},{user_id:e,event_id:v[0].id,contact_id:x[1].id,participant_role:"attendee"}],{onConflict:"user_id,event_id,contact_id",ignoreDuplicates:!1}),await se.from("goals").upsert([{user_id:e,title:"Land Senior Engineer Role",category:"career",status:"in_progress",target_date:new Date(Date.now()+2160*60*60*1e3).toISOString(),specific:"Secure a senior-level position at a tech company",measurable:"Apply to 20 companies, get 5 interviews",achievable:"Leverage current skills and network",relevant:"Aligns with career growth goals",time_bound:"90 days from today",milestones:[{title:"Update resume and portfolio",completed:!0},{title:"Apply to 10 companies",completed:!0},{title:"Complete 3 interviews",completed:!1}]}],{onConflict:"user_id,title"}),i&&await se.from("time_tracking").upsert([{user_id:e,activity_type:"Interview Prep",job_id:i,started_at:new Date(Date.now()-2880*60*1e3).toISOString(),ended_at:new Date(Date.now()-2880*60*1e3+7200*1e3).toISOString(),duration_minutes:120,notes:"Researched company and practiced questions"}],{onConflict:"user_id,activity_type,started_at"});try{const b=await pXe(e);t.sprint3=b}catch(b){console.error("Sprint 3 seeding error:",b)}return t}const gXe=[{id:"join_support_group",act:"Act 6: Peer Community",label:"Join support group",goToRoute:"/peer-community",whatToShow:["View available groups","Join industry/role-based group","Set privacy level"],verifyFn:async e=>{const{data:t}=await se.from("support_groups").select("id").limit(1),{data:r}=await se.from("support_group_members").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No support groups. Run "Load Demo Data".'}:!r||r.length===0?{pass:!1,message:"Not a member of any group. Join one."}:{pass:!0,message:"Support groups and memberships exist."}}},{id:"anonymous_post",act:"Act 6: Peer Community",label:"Share anonymous insights",goToRoute:"/peer-community",whatToShow:["Post to group feed","Toggle anonymous posting","Share success stories"],verifyFn:async e=>{const{data:t}=await se.from("group_posts").select("id").limit(1);return!t||t.length===0?{pass:!1,message:'No group posts. Run "Load Demo Data".'}:{pass:!0,message:"Group posts exist."}}},{id:"group_challenge",act:"Act 6: Peer Community",label:"Join group challenge",goToRoute:"/peer-community",whatToShow:["View active challenges","Track challenge progress","See leaderboard"],verifyFn:async e=>{const{data:t}=await se.from("group_challenges").select("id").limit(1);return!t||t.length===0?{pass:!1,message:'No group challenges. Run "Load Demo Data".'}:{pass:!0,message:"Group challenges exist."}}},{id:"group_webinar",act:"Act 6: Peer Community",label:"Attend group webinar",goToRoute:"/peer-community",whatToShow:["View upcoming webinars","Join webinar session","Access recordings"],verifyFn:async e=>{const{data:t}=await se.from("group_webinars").select("id").limit(1);return!t||t.length===0?{pass:!1,message:'No webinars. Run "Load Demo Data".'}:{pass:!0,message:"Group webinars exist."}}},{id:"white_label_settings",act:"Act 7: Institution",label:"Configure white-label branding",goToRoute:"/institutional-admin",whatToShow:["Set institution name and logo","Customize colors","Configure custom domain"],verifyFn:async e=>{const{data:t}=await se.from("institutional_settings").select("id").eq("created_by",e).limit(1);return!t||t.length===0?{pass:!1,message:'No institutional settings. Run "Load Demo Data".'}:{pass:!0,message:"Institutional settings exist."}}},{id:"bulk_onboarding",act:"Act 7: Institution",label:"Bulk onboarding",goToRoute:"/institutional-admin",whatToShow:["CSV upload interface","Validation errors","Batch user creation"],verifyFn:async()=>({pass:!0,message:"Bulk onboarding UI exists. CSV import requires manual test."})},{id:"compliance_audit",act:"Act 7: Institution",label:"Compliance and audit logs",goToRoute:"/institutional-admin",whatToShow:["View audit logs","Data retention policies","Export user data"],verifyFn:async e=>{const{data:t}=await se.from("audit_logs").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:"No audit logs. Interact with system to generate."}:{pass:!0,message:"Audit logs exist."}}},{id:"aggregate_reporting",act:"Act 7: Institution",label:"Aggregate reporting",goToRoute:"/institutional-admin",whatToShow:["Cohort performance metrics","Program ROI","Success rate tracking"],verifyFn:async e=>{const{data:t}=await se.from("institutional_settings").select("id").eq("created_by",e).limit(1);return!t||t.length===0?{pass:!1,message:'Need institutional settings. Run "Load Demo Data".'}:{pass:!0,message:"Institutional data for reporting."}}},{id:"browse_advisors",act:"Act 8: Advisors",label:"Browse advisor marketplace",goToRoute:"/advisor-marketplace",whatToShow:["View advisor profiles","Filter by specialization","See rates and reviews"],verifyFn:async()=>{const{data:e}=await se.from("advisor_profiles").select("id").eq("is_active",!0).limit(1);return!e||e.length===0?{pass:!1,message:'No active advisors. Run "Load Demo Data".'}:{pass:!0,message:"Active advisor profiles exist."}}},{id:"book_advisor_session",act:"Act 8: Advisors",label:"Book advisor session",goToRoute:"/advisor-marketplace",whatToShow:["Select advisor and session type","Choose date and time","Confirm booking"],verifyFn:async e=>{const{data:t}=await se.from("coaching_sessions").select("id").eq("client_user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:"No coaching sessions booked. Book one from advisor marketplace."}:{pass:!0,message:"Coaching sessions exist."}}},{id:"session_payment",act:"Act 8: Advisors",label:"Session payment tracking",goToRoute:"/advisor-marketplace",whatToShow:["View session fees","Payment status (fallback)","Download invoices"],verifyFn:async e=>{const{data:t}=await se.from("session_payments").select("id").eq("client_user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:"No payment records. Book a paid session."}:{pass:!0,message:"Payment records exist (Stripe not configured, fallback active)."}}}],vXe=[{id:"schedule_interview",act:"Act 1: Interview Prep",label:"Schedule interview from job application",goToRoute:"/jobs",whatToShow:['Click job card  "Schedule Interview"',"Calendar integration auto-sync","In-app reminder system"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id").eq("user_id",e).limit(1),{data:r}=await se.from("interviews").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No jobs exist. Run "Load Demo Data".'}:!r||r.length===0?{pass:!1,message:'No interviews scheduled. Run "Load Demo Data".'}:{pass:!0,message:"Jobs and interviews exist."}}},{id:"company_research",act:"Act 1: Interview Prep",label:"View company research report",goToRoute:"/interview-prep",whatToShow:["Select upcoming interview","View generated research with sources","Recent news, key people, culture"],verifyFn:async e=>{const{data:t}=await se.from("company_research").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No company research. Run "Load Demo Data".'}:{pass:!0,message:"Company research exists."}}},{id:"question_bank",act:"Act 1: Interview Prep",label:"Browse question bank",goToRoute:"/question-bank",whatToShow:["Filter by role/category/difficulty","View STAR framework hints","Click question to practice"],verifyFn:async e=>{const{data:t}=await se.from("question_bank_items").select("id").limit(1);return!t||t.length===0?{pass:!1,message:'Question bank empty. Run "Load Demo Data".'}:{pass:!0,message:`Question bank has ${t.length}+ items.`}}},{id:"submit_response",act:"Act 1: Interview Prep",label:"Submit response & receive feedback",goToRoute:"/question-bank",whatToShow:["Select question  Practice","Submit written response","View AI/rubric feedback with scores"],verifyFn:async e=>{const{data:t}=await se.from("question_practice_responses").select("id").eq("user_id",e).limit(1),{data:r}=await se.from("question_practice_feedback").select("id").limit(1);return!t||t.length===0?{pass:!1,message:'No practice responses. Run "Load Demo Data".'}:!r||r.length===0?{pass:!1,message:'No feedback exists. Run "Load Demo Data".'}:{pass:!0,message:"Practice responses and feedback exist."}}},{id:"mock_interview",act:"Act 1: Interview Prep",label:"Mock interview performance summary",goToRoute:"/interview-prep",whatToShow:["Start mock interview setup","Complete session (seeded)","View performance summary & insights"],verifyFn:async e=>{const{data:t}=await se.from("mock_interview_sessions").select("id").eq("user_id",e).eq("status","completed").limit(1),{data:r}=await se.from("mock_interview_summaries").select("id").limit(1);return!t||t.length===0?{pass:!1,message:'No completed mock sessions. Run "Load Demo Data".'}:!r||r.length===0?{pass:!1,message:'No mock summaries. Run "Load Demo Data".'}:{pass:!0,message:"Completed mock interview with summary exists."}}},{id:"technical_prep",act:"Act 1: Interview Prep",label:"Technical prep & coding challenges",goToRoute:"/technical-prep",whatToShow:["Browse coding challenges","View saved attempt (seeded)","Review feedback framework"],verifyFn:async e=>{const{data:t}=await se.from("technical_challenges").select("id").limit(1),{data:r}=await se.from("technical_practice_attempts").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No technical challenges. Run "Load Demo Data".'}:!r||r.length===0?{pass:!1,message:'No practice attempts. Run "Load Demo Data".'}:{pass:!0,message:"Technical challenges and attempts exist."}}},{id:"interview_checklist",act:"Act 1: Interview Prep",label:"Interview preparation checklist",goToRoute:"/interview-prep",whatToShow:["Open interview  Checklist tab","Mark items complete","Add custom items"],verifyFn:async e=>{const{data:t}=await se.from("interview_checklists").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No checklists. Run "Load Demo Data".'}:{pass:!0,message:"Interview checklists exist."}}},{id:"interview_analytics",act:"Act 1: Interview Prep",label:"Interview analytics dashboard",goToRoute:"/interview-analytics",whatToShow:["View interview success trends","Performance by type/company","Preparation time correlation"],verifyFn:async e=>{const{data:t}=await se.from("interviews").select("id").eq("user_id",e);return!t||t.length<2?{pass:!1,message:'Need 2+ interviews for analytics. Run "Load Demo Data".'}:{pass:!0,message:`${t.length} interviews for analytics.`}}},{id:"followup_templates",act:"Act 1: Interview Prep",label:"Generate/send follow-up",goToRoute:"/interview-prep",whatToShow:["Select completed interview","Generate thank-you note","Track send status"],verifyFn:async e=>{const{data:t}=await se.from("interview_followups").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No follow-ups. Run "Load Demo Data".'}:{pass:!0,message:"Follow-up templates exist."}}},{id:"salary_negotiation",act:"Act 1: Interview Prep",label:"Salary negotiation prep",goToRoute:"/jobs",whatToShow:["Open job with offer status","View market range with sources","Confidence checklist & talking points"],verifyFn:async e=>{const{data:t}=await se.from("offers").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No offers. Run "Load Demo Data".'}:{pass:!0,message:"Offer data exists."}}},{id:"linkedin_signin",act:"Act 2: Network",label:"LinkedIn profile connection",goToRoute:"/profile?section=basic",whatToShow:["Navigate to Profile","LinkedIn URL field (manual)","Profile headline imported"],verifyFn:async()=>({pass:!0,message:"Manual LinkedIn connection available (OAuth not configured)."})},{id:"manage_contacts",act:"Act 2: Network",label:"Add/manage contacts",goToRoute:"/contacts",whatToShow:["View contact list","Relationship strength ratings","Tags and categorization"],verifyFn:async e=>{const{data:t}=await se.from("contacts").select("id").eq("user_id",e);return!t||t.length===0?{pass:!1,message:'No contacts. Run "Load Demo Data".'}:{pass:!0,message:`${t.length} contacts exist.`}}},{id:"referral_request",act:"Act 2: Network",label:"Request referral",goToRoute:"/contacts",whatToShow:["Select contact  Request Referral","Link to job application","Track status and follow-ups"],verifyFn:async e=>{const{data:t}=await se.from("referral_requests").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No referral requests. Run "Load Demo Data".'}:{pass:!0,message:"Referral requests exist."}}},{id:"networking_event",act:"Act 2: Network",label:"Add networking event",goToRoute:"/events",whatToShow:["Add event with goals","Track connections made","Log follow-up actions"],verifyFn:async e=>{const{data:t}=await se.from("networking_events").select("id").eq("user_id",e);return!t||t.length===0?{pass:!1,message:'No networking events. Run "Load Demo Data".'}:{pass:!0,message:`${t.length} networking events exist.`}}},{id:"informational_interview",act:"Act 2: Network",label:"Informational interview",goToRoute:"/network-power",whatToShow:["Request informational interview","Prep framework and questions","Track outcome and follow-ups"],verifyFn:async e=>{const{data:t}=await se.from("informational_interviews").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No informational interviews. Run "Load Demo Data".'}:{pass:!0,message:"Informational interviews exist."}}},{id:"suggested_contacts",act:"Act 2: Network",label:"Suggested industry contacts",goToRoute:"/contacts",whatToShow:["View contacts sorted by strength","Filter by industry/company","Initiate outreach"],verifyFn:async e=>{const{data:t}=await se.from("contacts").select("id").eq("user_id",e);return!t||t.length<3?{pass:!1,message:'Need 3+ contacts. Run "Load Demo Data".'}:{pass:!0,message:"Contacts available for filtering."}}},{id:"relationship_maintenance",act:"Act 2: Network",label:"Relationship maintenance reminders",goToRoute:"/network-power",whatToShow:["View maintenance tab","Suggested outreach reminders","Track engagement"],verifyFn:async e=>{const{data:t}=await se.from("contact_reminders").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No reminders. Run "Load Demo Data".'}:{pass:!0,message:"Contact reminders exist."}}},{id:"references_manager",act:"Act 2: Network",label:"Manage reference list",goToRoute:"/network-power",whatToShow:["View references tab","Request reference for job","Track completion"],verifyFn:async e=>{const{data:t}=await se.from("professional_references").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No references. Run "Load Demo Data".'}:{pass:!0,message:"Professional references exist."}}},{id:"performance_dashboard",act:"Act 3: Analytics",label:"Performance dashboard",goToRoute:"/analytics",whatToShow:["View key metrics and trends","Application velocity","Response rate over time"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id").eq("user_id",e);return!t||t.length<3?{pass:!1,message:'Need 3+ jobs for analytics. Run "Load Demo Data".'}:{pass:!0,message:`${t.length} jobs for analytics.`}}},{id:"application_success",act:"Act 3: Analytics",label:"Application success rate analysis",goToRoute:"/application-success",whatToShow:["Funnel visualization","Conversion metrics by stage","Success patterns"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id, status").eq("user_id",e);return!t||t.length<4?{pass:!1,message:'Need 4+ jobs across stages. Run "Load Demo Data".'}:{pass:!0,message:"Sufficient data for funnel analysis."}}},{id:"interview_success_metrics",act:"Act 3: Analytics",label:"Interview success metrics",goToRoute:"/interview-performance",whatToShow:["Success rate by interview type","Preparation correlation","Patterns and insights"],verifyFn:async e=>{const{data:t}=await se.from("interviews").select("id").eq("user_id",e);return!t||t.length<2?{pass:!1,message:'Need 2+ interviews. Run "Load Demo Data".'}:{pass:!0,message:"Interview data exists for analysis."}}},{id:"skills_demand",act:"Act 3: Analytics",label:"Skills demand analysis",goToRoute:"/analytics",whatToShow:["Skills from job postings","Your skills vs. demand","Gap identification"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id, job_description").eq("user_id",e),{data:r}=await se.from("profiles").select("skills").eq("user_id",e).single();return!t||t.length<3?{pass:!1,message:'Need 3+ jobs with descriptions. Run "Load Demo Data".'}:{pass:!0,message:"Job descriptions available for skills analysis."}}},{id:"network_analytics",act:"Act 3: Analytics",label:"Network analytics",goToRoute:"/network-roi",whatToShow:["Relationship health metrics","Engagement over time","ROI tracking"],verifyFn:async e=>{const{data:t}=await se.from("contacts").select("id").eq("user_id",e);return!t||t.length<3?{pass:!1,message:'Need 3+ contacts for analytics. Run "Load Demo Data".'}:{pass:!0,message:"Contact data for network analytics."}}},{id:"time_allocation",act:"Act 3: Analytics",label:"Time allocation analysis",goToRoute:"/time-investment",whatToShow:["Activity breakdown","Time per application stage","Efficiency insights"],verifyFn:async e=>{const{data:t}=await se.from("time_tracking").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No time tracking data. Run "Load Demo Data".'}:{pass:!0,message:"Time tracking data exists."}}},{id:"salary_analytics",act:"Act 3: Analytics",label:"Salary analytics",goToRoute:"/salary-progression",whatToShow:["Offer progression","Comparison vs. market ranges","Negotiation outcomes"],verifyFn:async e=>{const{data:t}=await se.from("offers").select("id").eq("user_id",e);return!t||t.length===0?{pass:!1,message:'No offers. Run "Load Demo Data".'}:{pass:!0,message:`${t.length} offer(s) for salary analytics.`}}},{id:"goal_tracking",act:"Act 3: Analytics",label:"Goal tracking dashboard",goToRoute:"/goals",whatToShow:["Active goals with milestones","Progress visualization","Celebrate completions"],verifyFn:async e=>{const{data:t}=await se.from("goals").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No goals. Run "Load Demo Data".'}:{pass:!0,message:"Goals exist for tracking."}}},{id:"create_team",act:"Act 4: Collaboration",label:"Create team & invite member",goToRoute:"/teams",whatToShow:["Create team button","Invite via email","View roles/permissions"],verifyFn:async e=>{const{data:t}=await se.from("teams").select("id").eq("created_by",e).limit(1);return!t||t.length===0?{pass:!1,message:'No team. Create one or run "Load Demo Data" (note: invite requires manual email).'}:{pass:!0,message:"Team exists. Invite requires valid email address."}}},{id:"team_dashboard",act:"Act 4: Collaboration",label:"Team dashboard",goToRoute:"/teams",whatToShow:["Select team","View aggregate stats","Member progress overview"],verifyFn:async e=>{const{data:t}=await se.from("team_memberships").select("team_id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:"Not part of any team. Create one or accept invite."}:{pass:!0,message:"Team membership exists."}}},{id:"share_job",act:"Act 4: Collaboration",label:"Share job posting with team",goToRoute:"/jobs",whatToShow:["Job card  Share with team","Add comments","Team members can view"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id").eq("user_id",e).limit(1),{data:r}=await se.from("team_memberships").select("team_id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:'No jobs. Run "Load Demo Data".'}:!r||r.length===0?{pass:!1,message:"No team membership."}:{pass:!0,message:"Jobs and team available for sharing."}}},{id:"mentor_feedback",act:"Act 4: Collaboration",label:"Mentor feedback flow",goToRoute:"/mentor-dashboard",whatToShow:["View mentee progress","Provide feedback on resume/job","Assign tasks (if available)"],verifyFn:async e=>{const{data:t}=await se.from("team_memberships").select("role").eq("user_id",e).eq("role","mentor").limit(1);return!t||t.length===0?{pass:!1,message:"User must have mentor role in a team."}:{pass:!0,message:"Mentor role exists."}}},{id:"team_activity_feed",act:"Act 4: Collaboration",label:"Team activity feed",goToRoute:"/teams",whatToShow:["Recent milestones","Member activities","Celebrations"],verifyFn:async e=>{const{data:t}=await se.from("team_memberships").select("team_id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:"Not part of any team."}:{pass:!0,message:"Team membership for activity feed."}}},{id:"team_performance",act:"Act 4: Collaboration",label:"Team performance comparison",goToRoute:"/teams",whatToShow:["Within-team benchmarking","Anonymized if configured","Progress comparison"],verifyFn:async e=>{const{data:t}=await se.from("team_memberships").select("team_id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:"Not part of any team."}:{pass:!0,message:"Team data available for comparison."}}},{id:"document_management",act:"Act 5: Advanced",label:"Document management",goToRoute:"/resumes",whatToShow:["Organize resumes/cover letters","Version control","Track materials usage"],verifyFn:async e=>{const{data:t}=await se.from("resumes").select("id").eq("user_id",e).limit(1);return!t||t.length===0?{pass:!1,message:"No resumes. Create one in /resumes."}:{pass:!0,message:"Resume documents exist."}}},{id:"export_report",act:"Act 5: Advanced",label:"Export comprehensive report",goToRoute:"/custom-reports",whatToShow:["Print-friendly report (PDF not configured)","Job search summary","Analytics snapshot"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id").eq("user_id",e);return!t||t.length<3?{pass:!1,message:'Need 3+ jobs for report. Run "Load Demo Data".'}:{pass:!0,message:"Sufficient data for export. PDF not configured; print-friendly available."}}},{id:"ai_recommendations",act:"Act 5: Advanced",label:"AI recommendations",goToRoute:"/analytics",whatToShow:["Next action suggestions","Priority ranking (rules-based)","Personalized insights"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id").eq("user_id",e);return!t||t.length<2?{pass:!1,message:'Need 2+ jobs for recommendations. Run "Load Demo Data".'}:{pass:!0,message:"Rules-based recommendations available (AI not fully configured)."}}},{id:"predictive_analytics",act:"Act 5: Advanced",label:"Predictive analytics",goToRoute:"/forecasting",whatToShow:["Forecast based on user data","Confidence intervals","Scenario planning"],verifyFn:async e=>{const{data:t}=await se.from("jobs").select("id, status").eq("user_id",e);return!t||t.length<5?{pass:!1,message:'Need 5+ jobs for forecasting. Run "Load Demo Data".'}:{pass:!0,message:"Sufficient data for honest forecasting."}}},{id:"mobile_responsive",act:"Act 5: QA",label:"Mobile responsiveness",goToRoute:"/",whatToShow:["Resize browser window","Test navigation","Verify layouts adapt"],verifyFn:async()=>({pass:!0,message:"Responsive design implemented. Test manually."})},{id:"test_suite",act:"Act 5: QA",label:"Test suite & coverage",goToRoute:"/demo/sprint3",whatToShow:["Show test commands in README","Point to /src/test directory","Note: do not fake execution"],verifyFn:async()=>({pass:!0,message:"Test suite exists in repo. Run: npm test (not executed here)."})}],mP=[...vXe,...gXe],xXe=()=>{const e=ns(),{user:t}=un(),[r,s]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(new Map),d=async()=>{if(!t){xe.error("Not authenticated");return}s(!0);try{const g=await tV(t.id);l(g),xe.success("Demo data seeded successfully!")}catch(g){console.error("Seed error:",g),xe.error("Failed to seed demo data. Check console for details.")}finally{s(!1)}},h=async g=>{if(t){i(!0);try{const y=await g.verifyFn(t.id);u(new Map(c.set(g.id,y)))}catch(y){console.error("Verify error:",y),u(new Map(c.set(g.id,{pass:!1,message:"Verification error"})))}finally{i(!1)}}},m=async()=>{if(!t)return;i(!0);const g=new Map;for(const j of mP)try{const b=await j.verifyFn(t.id);g.set(j.id,b)}catch{g.set(j.id,{pass:!1,message:"Error during verification"})}u(g),i(!1);const y=Array.from(g.values()).filter(j=>j.pass).length;xe.success(`Verification complete: ${y}/${mP.length} actions ready`)},f=async()=>{if(!t){xe.error("Not authenticated");return}s(!0);try{const g=await tV(t.id);l(g),xe.success("Demo data seeded successfully!")}catch(g){console.error("Seed error:",g),xe.error("Failed to seed demo data. Check console for details."),s(!1);return}s(!1),await m()},x=mP.reduce((g,y)=>(g[y.act]||(g[y.act]=[]),g[y.act].push(y),g),{}),v=Object.keys(x);return n.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 max-w-7xl",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold mb-2",children:"Sprint 3 Demo Runner"}),n.jsx("p",{className:"text-muted-foreground",children:"Comprehensive demo system with automated readiness checks"})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(ig,{className:"h-5 w-5"}),"Demo Data Management"]}),n.jsx(_t,{children:"Load demo data to populate your account, then verify all actions are ready"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(ve,{onClick:d,disabled:r||a||!t,children:[r?n.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(ig,{className:"h-4 w-4 mr-2"}),"Load Demo Data"]}),n.jsxs(ve,{onClick:m,disabled:a||r||!t,variant:"secondary",children:[a?n.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Verify All"]}),n.jsxs(ve,{onClick:f,disabled:r||a||!t,variant:"default",className:"bg-primary",children:[r||a?n.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(pa,{className:"h-4 w-4 mr-2"}),"Seed + Verify"]})]}),o&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Seed Summary:"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:["Jobs: ",o.jobs]}),n.jsxs("div",{children:["Interviews: ",o.interviews]}),n.jsxs("div",{children:["Questions: ",o.questionBank]}),n.jsxs("div",{children:["Contacts: ",o.contacts]}),n.jsxs("div",{children:["Mock Sessions: ",o.mockSessions]}),n.jsxs("div",{children:["Offers: ",o.offers]}),n.jsxs("div",{children:["Events: ",o.networkingEvents]}),n.jsxs("div",{children:["References: ",o.professionalReferences]})]})]}),c.size>0&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Verification Summary:"}),n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pa,{className:"h-4 w-4 text-green-600"}),"PASS: ",Array.from(c.values()).filter(g=>g.pass).length]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(nd,{className:"h-4 w-4 text-red-600"}),"FAIL: ",Array.from(c.values()).filter(g=>!g.pass).length]})]})]})]})]}),n.jsxs(ss,{defaultValue:v[0],className:"w-full",children:[n.jsx(Kn,{className:"grid w-full grid-cols-5",children:v.map((g,y)=>n.jsxs(vt,{value:g,children:["Act ",y+1]},g))}),v.map(g=>n.jsxs(xt,{value:g,className:"space-y-4 mt-6",children:[n.jsx("div",{className:"mb-4",children:n.jsx("h2",{className:"text-2xl font-bold",children:g})}),n.jsx("div",{className:"grid gap-4",children:x[g].map(y=>{const j=c.get(y.id);return n.jsxs(ye,{className:"relative",children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("div",{className:"flex-1",children:n.jsxs(De,{className:"text-lg flex items-center gap-2",children:[y.label,j&&(j.pass?n.jsxs($e,{variant:"default",className:"bg-green-600",children:[n.jsx(pa,{className:"h-3 w-3 mr-1"}),"PASS"]}):n.jsxs($e,{variant:"destructive",children:[n.jsx(nd,{className:"h-3 w-3 mr-1"}),"FAIL"]}))]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>h(y),disabled:a||!t,children:[n.jsx(Hd,{className:"h-3 w-3 mr-1"}),"Verify"]}),n.jsxs(ve,{size:"sm",onClick:()=>e(y.goToRoute),children:[n.jsx(Yh,{className:"h-4 w-4 ml-1"}),"Go"]})]})]})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold mb-1",children:"What to show:"}),n.jsx("ul",{className:"text-sm space-y-1 list-disc list-inside text-muted-foreground",children:y.whatToShow.map((b,_)=>n.jsx("li",{children:b},_))})]}),j&&n.jsx("div",{className:`p-3 rounded-md text-sm ${j.pass?"bg-green-50 dark:bg-green-950 text-green-900 dark:text-green-100":"bg-red-50 dark:bg-red-950 text-red-900 dark:text-red-100"}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[j.pass?n.jsx(pa,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}):n.jsx(Nn,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:j.message})]})})]})]},y.id)})})]},g))]}),n.jsxs(ye,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2 text-amber-900 dark:text-amber-100",children:[n.jsx(Nn,{className:"h-5 w-5"}),"Integration Status & Manual Steps"]})}),n.jsxs(_e,{className:"text-sm text-amber-900 dark:text-amber-100 space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Working Integrations:"}),n.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[n.jsx("li",{children:"Google Calendar OAuth (configured for calendar sync)"}),n.jsx("li",{children:"In-app reminders and notifications"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Fallback Implementations:"}),n.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"LinkedIn OAuth:"})," Not configured. Use manual LinkedIn URL field in Profile settings."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Calendar Export:"})," ICS export (.ics file download) available for all interviews as backup."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"PDF Export:"})," Not configured. Print-friendly pages available (use browser Print  Save as PDF)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"AI Features:"})," Rules-based coaching and recommendations (no external AI provider configured)."]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Manual Required:"}),n.jsx("ul",{className:"list-disc list-inside ml-2 space-y-1",children:n.jsxs("li",{children:[n.jsx("strong",{children:"Team Collaboration:"})," To demo mentor/team features, manually invite a second member via email (Act 4)."]})})]})]})]})]})})]})},yXe=({groupId:e,onBack:t})=>{const[r,s]=N.useState(!1),[a,i]=N.useState({title:"",content:"",post_type:"insight",is_anonymous:!1}),o=wa(),{data:l,isLoading:c}=vr({queryKey:["support-group",e],queryFn:async()=>{const{data:j,error:b}=await se.from("support_groups").select("*").eq("id",e).single();if(b)throw b;return j}}),{data:u,isLoading:d}=vr({queryKey:["support-group-members",e],queryFn:async()=>{const{data:j,error:b}=await se.from("support_group_members").select("*").eq("group_id",e).order("joined_at",{ascending:!1});if(b)throw b;const _=(j==null?void 0:j.map(A=>A.user_id))||[];if(_.length===0)return[];const{data:S}=await se.from("profiles").select("user_id, name").in("user_id",_),T=new Map((S==null?void 0:S.map(A=>[A.user_id,A.name]))||[]);return(j==null?void 0:j.map(A=>({...A,profile_name:T.get(A.user_id)||null})))||[]}}),{data:h,isLoading:m}=vr({queryKey:["support-group-posts",e],queryFn:async()=>{const{data:j,error:b}=await se.from("group_posts").select("*").eq("group_id",e).order("created_at",{ascending:!1});if(b)throw b;const _=(j==null?void 0:j.map(A=>A.user_id))||[];if(_.length===0)return[];const{data:S}=await se.from("profiles").select("user_id, name").in("user_id",_),T=new Map((S==null?void 0:S.map(A=>[A.user_id,A.name]))||[]);return(j==null?void 0:j.map(A=>({...A,author_name:T.get(A.user_id)||null})))||[]}}),{data:f}=vr({queryKey:["support-group-membership",e],queryFn:async()=>{const{data:{user:j}}=await se.auth.getUser();if(!j)return null;const{data:b,error:_}=await se.from("support_group_members").select("*").eq("group_id",e).eq("user_id",j.id).maybeSingle();if(_)throw _;return b}}),x=ds({mutationFn:async()=>{const{data:{user:j}}=await se.auth.getUser();if(!j)throw new Error("Not authenticated");const{error:b}=await se.from("group_posts").insert({group_id:e,user_id:j.id,title:a.title,content:a.content,post_type:a.post_type,is_anonymous:a.is_anonymous});if(b)throw b},onSuccess:()=>{o.invalidateQueries({queryKey:["support-group-posts",e]}),s(!1),i({title:"",content:"",post_type:"discussion",is_anonymous:!1}),xe.success("Post created successfully!")},onError:j=>{xe.error("Failed to create post: "+j.message)}}),v=ds({mutationFn:async()=>{const{data:{user:j}}=await se.auth.getUser();if(!j)throw new Error("Not authenticated");const{error:b}=await se.from("support_group_members").insert({group_id:e,user_id:j.id,privacy_level:"anonymous"});if(b)throw b},onSuccess:()=>{o.invalidateQueries({queryKey:["support-group-membership",e]}),o.invalidateQueries({queryKey:["support-group-members",e]}),xe.success("Joined group successfully!")},onError:j=>{xe.error("Failed to join group: "+j.message)}}),g=ds({mutationFn:async()=>{const{data:{user:j}}=await se.auth.getUser();if(!j)throw new Error("Not authenticated");const{error:b}=await se.from("support_group_members").delete().eq("group_id",e).eq("user_id",j.id);if(b)throw b},onSuccess:()=>{o.invalidateQueries({queryKey:["support-group-membership",e]}),o.invalidateQueries({queryKey:["support-group-members",e]}),xe.success("Left group successfully")},onError:j=>{xe.error("Failed to leave group: "+j.message)}});if(c)return n.jsx("div",{children:"Loading group..."});if(!l)return n.jsx("div",{children:"Group not found"});const y=!!f;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(ve,{variant:"ghost",size:"icon",onClick:t,children:n.jsx(ro,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:l.name}),l.is_private?n.jsx(QV,{className:"h-5 w-5 text-muted-foreground"}):n.jsx(ky,{className:"h-5 w-5 text-muted-foreground"}),n.jsx($e,{variant:"secondary",children:l.group_type})]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:l.description}),n.jsx("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tn,{className:"h-4 w-4"}),(u==null?void 0:u.length)||0," members"]})})]}),n.jsx("div",{children:y?n.jsx(ve,{variant:"outline",onClick:()=>g.mutate(),children:"Leave Group"}):n.jsx(ve,{onClick:()=>v.mutate(),children:"Join Group"})})]}),n.jsxs(ss,{defaultValue:"posts",className:"w-full",children:[n.jsxs(Kn,{children:[n.jsxs(vt,{value:"posts",className:"flex items-center gap-2",children:[n.jsx(qi,{className:"h-4 w-4"}),"Posts (",(h==null?void 0:h.length)||0,")"]}),n.jsxs(vt,{value:"members",className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),"Members (",(u==null?void 0:u.length)||0,")"]})]}),n.jsxs(xt,{value:"posts",className:"space-y-4 mt-4",children:[y&&n.jsxs(Wr,{open:r,onOpenChange:s,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Create Post"]})}),n.jsxs(Br,{children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Create a Post"}),n.jsx(no,{children:"Share updates, ask questions, or start a discussion"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"post-title",children:"Title"}),n.jsx(Je,{id:"post-title",value:a.title,onChange:j=>i({...a,title:j.target.value}),placeholder:"What's on your mind?"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"post-content",children:"Content"}),n.jsx(dr,{id:"post-content",value:a.content,onChange:j=>i({...a,content:j.target.value}),placeholder:"Share your thoughts...",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"post-type",children:"Post Type"}),n.jsxs($t,{value:a.post_type,onValueChange:j=>i({...a,post_type:j}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"insight",children:"Insight"}),n.jsx(qe,{value:"question",children:"Question"}),n.jsx(qe,{value:"resource",children:"Resource"}),n.jsx(qe,{value:"success_story",children:"Success Story"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"anonymous",checked:a.is_anonymous,onChange:j=>i({...a,is_anonymous:j.target.checked}),className:"rounded"}),n.jsx(Ee,{htmlFor:"anonymous",className:"cursor-pointer",children:"Post anonymously"})]})]}),n.jsxs(XS,{children:[n.jsx(ve,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsx(ve,{onClick:()=>x.mutate(),disabled:!a.title||!a.content,children:"Post"})]})]})]}),!y&&n.jsx(ye,{children:n.jsx(_e,{className:"py-6 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Join this group to view and create posts"})})}),y&&m&&n.jsx("div",{children:"Loading posts..."}),y&&(h==null?void 0:h.length)===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(qi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No posts yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Be the first to start a discussion!"})]})}),y&&(h==null?void 0:h.map(j=>{var b,_;return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vw,{className:"h-10 w-10",children:n.jsx(Hw,{children:j.is_anonymous?"?":((_=(b=j.author_name)==null?void 0:b[0])==null?void 0:_.toUpperCase())||n.jsx(su,{className:"h-5 w-5"})})}),n.jsxs("div",{children:[n.jsx(De,{className:"text-base",children:j.title}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("span",{children:j.is_anonymous?"Anonymous":j.author_name||"Member"}),n.jsx("span",{children:""}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Gn,{className:"h-3 w-3"}),Fg(new Date(j.created_at),{addSuffix:!0})]})]})]})]}),n.jsx($e,{variant:"outline",children:j.post_type})]})}),n.jsxs(_e,{children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:j.content}),n.jsx("div",{className:"flex items-center gap-4 mt-4 text-sm text-muted-foreground",children:n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Cy,{className:"h-4 w-4"}),j.reaction_count||0]})})]})]},j.id)}))]}),n.jsxs(xt,{value:"members",className:"space-y-4 mt-4",children:[d&&n.jsx("div",{children:"Loading members..."}),(u==null?void 0:u.length)===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No members yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Be the first to join!"})]})}),n.jsx("div",{className:"grid gap-4",children:u==null?void 0:u.map(j=>{var b,_;return n.jsx(ye,{children:n.jsxs(_e,{className:"flex items-center gap-4 py-4",children:[n.jsx(Vw,{className:"h-12 w-12",children:n.jsx(Hw,{children:j.privacy_level==="anonymous"?"?":((_=(b=j.profile_name)==null?void 0:b[0])==null?void 0:_.toUpperCase())||n.jsx(su,{className:"h-6 w-6"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:j.privacy_level==="anonymous"?"Anonymous Member":j.profile_name||"Community Member"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Joined ",Fg(new Date(j.joined_at),{addSuffix:!0})]})]}),n.jsx($e,{variant:"secondary",children:j.privacy_level})]})},j.id)})})]})]})]})},wXe=()=>{const[e,t]=N.useState(null),[r,s]=N.useState(!1),[a,i]=N.useState({name:"",description:"",group_type:"general",industry:"",role:"",location:"",is_private:!1}),o=wa(),{data:l,isLoading:c}=vr({queryKey:["support-groups"],queryFn:async()=>{const{data:h,error:m}=await se.from("support_groups").select("*").order("created_at",{ascending:!1});if(m)throw m;return await Promise.all((h||[]).map(async x=>{const{count:v}=await se.from("support_group_members").select("*",{count:"exact",head:!0}).eq("group_id",x.id);return{...x,member_count:v||0}}))}}),u=ds({mutationFn:async()=>{const{data:{user:h}}=await se.auth.getUser();if(!h)throw new Error("Not authenticated");const{data:m,error:f}=await se.from("support_groups").insert({...a,created_by:h.id}).select().single();if(f)throw f;return await se.from("support_group_members").insert({group_id:m.id,user_id:h.id,privacy_level:"full_profile"}),m},onSuccess:()=>{o.invalidateQueries({queryKey:["support-groups"]}),s(!1),i({name:"",description:"",group_type:"general",industry:"",role:"",location:"",is_private:!1}),xe.success("Support group created successfully!")},onError:h=>{xe.error("Failed to create group: "+h.message)}}),d=ds({mutationFn:async h=>{const{data:{user:m}}=await se.auth.getUser();if(!m)throw new Error("Not authenticated");const{data:f}=await se.from("support_group_members").select("id").eq("group_id",h).eq("user_id",m.id).maybeSingle();if(f){xe.info("You are already a member of this group");return}const{error:x}=await se.from("support_group_members").insert({group_id:h,user_id:m.id,privacy_level:"anonymous"});if(x)throw x},onSuccess:()=>{o.invalidateQueries({queryKey:["support-groups"]}),xe.success("Joined group successfully!")},onError:h=>{xe.error("Failed to join group: "+h.message)}});return e?n.jsx(yXe,{groupId:e,onBack:()=>t(null)}):c?n.jsx("div",{children:"Loading support groups..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Support Groups"}),n.jsx("p",{className:"text-muted-foreground",children:"Join industry, role, or location-based peer communities"})]}),n.jsxs(Wr,{open:r,onOpenChange:s,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Create Group"]})}),n.jsxs(Br,{className:"max-w-md",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:"Create Support Group"}),n.jsx(no,{children:"Start a new peer community to share insights and support"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"name",children:"Group Name"}),n.jsx(Je,{id:"name",value:a.name,onChange:h=>i({...a,name:h.target.value}),placeholder:"e.g., Software Engineers - Bay Area"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"description",children:"Description"}),n.jsx(dr,{id:"description",value:a.description,onChange:h=>i({...a,description:h.target.value}),placeholder:"Describe the group's purpose"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"type",children:"Group Type"}),n.jsxs($t,{value:a.group_type,onValueChange:h=>i({...a,group_type:h}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"industry",children:"Industry"}),n.jsx(qe,{value:"role",children:"Role"}),n.jsx(qe,{value:"location",children:"Location"}),n.jsx(qe,{value:"general",children:"General"})]})]})]}),a.group_type==="industry"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"industry",children:"Industry"}),n.jsx(Je,{id:"industry",value:a.industry,onChange:h=>i({...a,industry:h.target.value}),placeholder:"e.g., Technology"})]}),a.group_type==="role"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"role",children:"Role"}),n.jsx(Je,{id:"role",value:a.role,onChange:h=>i({...a,role:h.target.value}),placeholder:"e.g., Software Engineer"})]}),a.group_type==="location"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"location",children:"Location"}),n.jsx(Je,{id:"location",value:a.location,onChange:h=>i({...a,location:h.target.value}),placeholder:"e.g., San Francisco, CA"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"private",checked:a.is_private,onChange:h=>i({...a,is_private:h.target.checked}),className:"rounded"}),n.jsx(Ee,{htmlFor:"private",className:"cursor-pointer",children:"Private group (invite-only)"})]})]}),n.jsxs(XS,{children:[n.jsx(ve,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsx(ve,{onClick:()=>u.mutate(),disabled:!a.name,children:"Create Group"})]})]})]})]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l==null?void 0:l.map(h=>n.jsxs(ye,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>t(h.id),children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[h.name,h.is_private?n.jsx(QV,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(ky,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(_t,{className:"mt-1",children:h.description})]}),n.jsx($e,{variant:"secondary",children:h.group_type})]})}),n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(tn,{className:"h-4 w-4"}),n.jsxs("span",{children:[h.member_count," members"]})]}),n.jsx(ve,{size:"sm",onClick:m=>{m.stopPropagation(),d.mutate(h.id)},children:"Join Group"})]})})]},h.id))}),(l==null?void 0:l.length)===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No support groups yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Be the first to create a peer community"})]})})]})},bXe=()=>{const{data:e}=vr({queryKey:["group-challenges"],queryFn:async()=>{const{data:t,error:r}=await se.from("group_challenges").select("*, support_groups(name), challenge_participants(count)").order("start_date",{ascending:!1});if(r)throw r;return t}});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Group Challenges"}),n.jsx("p",{className:"text-muted-foreground",children:"Accountability programs to reach your goals"})]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e==null?void 0:e.map(t=>{const r=t.target_value>0?Math.min(100,Math.round(0/t.target_value*100)):0;return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Iw,{className:"h-5 w-5 text-primary"}),t.title]}),n.jsx(_t,{className:"mt-1",children:t.description})]}),n.jsx($e,{variant:"secondary",children:t.challenge_type})]})}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{className:"font-medium",children:[r,"%"]})]}),n.jsx(La,{value:r}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Target: ",t.target_value]}),n.jsxs("span",{children:[t.duration_days," days"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(mr,{className:"h-4 w-4"}),n.jsxs("span",{children:[Lt(new Date(t.start_date),"MMM d")," - ",Lt(new Date(t.end_date),"MMM d, yyyy")]})]}),n.jsxs(ve,{className:"w-full",size:"sm",children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Join Challenge"]})]})]},t.id)})}),(e==null?void 0:e.length)===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Iw,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No active challenges"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back soon for accountability programs"})]})})]})},jXe=()=>{const{data:e}=vr({queryKey:["group-webinars"],queryFn:async()=>{const{data:a,error:i}=await se.from("group_webinars").select("*, support_groups(name)").order("scheduled_date",{ascending:!0});if(i)throw i;return a}}),t=new Date,r=(e==null?void 0:e.filter(a=>new Date(a.scheduled_date)>t))||[],s=(e==null?void 0:e.filter(a=>new Date(a.scheduled_date)<=t))||[];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Group Webinars"}),n.jsx("p",{className:"text-muted-foreground",children:"Coaching sessions and learning opportunities"})]}),r.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Upcoming Sessions"}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map(a=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(au,{className:"h-5 w-5 text-primary"}),a.title]}),n.jsx(_t,{className:"mt-1",children:a.description})]}),n.jsx($e,{variant:"default",children:"Upcoming"})]})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(su,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Hosted by ",a.host_name]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:Lt(new Date(a.scheduled_date),"EEEE, MMMM d, yyyy")})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[Lt(new Date(a.scheduled_date),"h:mm a")," (",a.duration_minutes," minutes)"]})]}),a.meeting_link&&n.jsx(ve,{className:"w-full",size:"sm",asChild:!0,children:n.jsx("a",{href:a.meeting_link,target:"_blank",rel:"noopener noreferrer",children:"Join Session"})})]})]},a.id))})]}),s.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Past Sessions"}),n.jsx("div",{className:"space-y-3",children:s.map(a=>n.jsx(ye,{children:n.jsx(_e,{className:"py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:a.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Lt(new Date(a.scheduled_date),"MMMM d, yyyy"),"  ",a.host_name]})]}),a.recording_link&&n.jsx(ve,{size:"sm",variant:"outline",asChild:!0,children:n.jsx("a",{href:a.recording_link,target:"_blank",rel:"noopener noreferrer",children:"Watch Recording"})})]})})},a.id))})]}),(e==null?void 0:e.length)===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(mr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No webinars scheduled"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming coaching sessions"})]})})]})},NXe=()=>{const{data:e}=vr({queryKey:["peer-referrals"],queryFn:async()=>{const{data:r,error:s}=await se.from("peer_referrals").select("*, support_groups(name)").order("created_at",{ascending:!1});if(s)throw s;return r}}),t=(e==null?void 0:e.filter(r=>!r.expires_at||new Date(r.expires_at)>new Date))||[];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Peer Referrals"}),n.jsx("p",{className:"text-muted-foreground",children:"Job opportunities and networking contacts shared by the community"})]}),n.jsx("div",{className:"space-y-4",children:t.map(r=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Sb,{className:"h-5 w-5 text-primary"}),r.role_title]}),n.jsx(_t,{className:"mt-1",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(to,{className:"h-4 w-4"}),r.company_name]})})]}),n.jsx($e,{variant:"secondary",children:r.referral_type.replace("_"," ")})]})}),n.jsxs(_e,{className:"space-y-4",children:[r.description&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Shared ",Lt(new Date(r.created_at),"MMM d, yyyy"),r.expires_at&&`  Expires ${Lt(new Date(r.expires_at),"MMM d")}`]}),r.application_url&&n.jsx(ve,{size:"sm",asChild:!0,children:n.jsxs("a",{href:r.application_url,target:"_blank",rel:"noopener noreferrer",children:[n.jsx(El,{className:"h-4 w-4 mr-2"}),"Apply Now"]})})]})]})]},r.id))}),t.length===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(Fa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No active referrals"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back soon for opportunities shared by your peers"})]})})]})},_Xe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(tn,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Peer Community"}),n.jsx("p",{className:"text-muted-foreground",children:"Connect, share, and grow with your job search peers"})]})]}),n.jsxs(ss,{defaultValue:"groups",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-4",children:[n.jsxs(vt,{value:"groups",className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),"Support Groups"]}),n.jsxs(vt,{value:"challenges",className:"flex items-center gap-2",children:[n.jsx(Iw,{className:"h-4 w-4"}),"Challenges"]}),n.jsxs(vt,{value:"webinars",className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4"}),"Webinars"]}),n.jsxs(vt,{value:"referrals",className:"flex items-center gap-2",children:[n.jsx(Sb,{className:"h-4 w-4"}),"Peer Referrals"]})]}),n.jsx(xt,{value:"groups",className:"space-y-6 mt-6",children:n.jsx(wXe,{})}),n.jsx(xt,{value:"challenges",className:"space-y-6 mt-6",children:n.jsx(bXe,{})}),n.jsx(xt,{value:"webinars",className:"space-y-6 mt-6",children:n.jsx(jXe,{})}),n.jsx(xt,{value:"referrals",className:"space-y-6 mt-6",children:n.jsx(NXe,{})})]})]})})]}),SXe=()=>{const e=wa(),[t,r]=N.useState({institution_name:"",logo_url:"",primary_color:"#000000",secondary_color:"#ffffff",custom_domain:""}),{data:s}=vr({queryKey:["institutional-settings"],queryFn:async()=>{const{data:i,error:o}=await se.from("institutional_settings").select("*").single();if(o&&o.code!=="PGRST116")throw o;return i&&r({institution_name:i.institution_name||"",logo_url:i.logo_url||"",primary_color:i.primary_color||"#000000",secondary_color:i.secondary_color||"#ffffff",custom_domain:i.custom_domain||""}),i}}),a=ds({mutationFn:async()=>{const{data:{user:i}}=await se.auth.getUser();if(!i)throw new Error("Not authenticated");if(s){const{error:o}=await se.from("institutional_settings").update(t).eq("id",s.id);if(o)throw o}else{const{error:o}=await se.from("institutional_settings").insert({...t,created_by:i.id});if(o)throw o}},onSuccess:()=>{e.invalidateQueries({queryKey:["institutional-settings"]}),xe.success("Settings saved successfully!")},onError:i=>{xe.error("Failed to save settings: "+i.message)}});return n.jsx("div",{className:"space-y-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"White-Label Branding"}),n.jsx(_t,{children:"Customize the platform appearance for your institution"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"institution",children:"Institution Name"}),n.jsx(Je,{id:"institution",value:t.institution_name,onChange:i=>r({...t,institution_name:i.target.value}),placeholder:"University Name or Company Name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"logo",children:"Logo URL"}),n.jsx(Je,{id:"logo",value:t.logo_url,onChange:i=>r({...t,logo_url:i.target.value}),placeholder:"https://example.com/logo.png"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"primary",children:"Primary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{id:"primary",type:"color",value:t.primary_color,onChange:i=>r({...t,primary_color:i.target.value}),className:"h-10 w-20"}),n.jsx(Je,{value:t.primary_color,onChange:i=>r({...t,primary_color:i.target.value}),placeholder:"#000000"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"secondary",children:"Secondary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{id:"secondary",type:"color",value:t.secondary_color,onChange:i=>r({...t,secondary_color:i.target.value}),className:"h-10 w-20"}),n.jsx(Je,{value:t.secondary_color,onChange:i=>r({...t,secondary_color:i.target.value}),placeholder:"#ffffff"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"domain",children:"Custom Domain (Optional)"}),n.jsx(Je,{id:"domain",value:t.custom_domain,onChange:i=>r({...t,custom_domain:i.target.value}),placeholder:"careers.university.edu"})]}),n.jsx(ve,{onClick:()=>a.mutate(),children:"Save Settings"})]})]})})},kXe=()=>{const e=wa(),[t,r]=N.useState(""),[s,a]=N.useState(""),[i,o]=N.useState(""),[l,c]=N.useState(""),{data:u}=vr({queryKey:["institutional-cohorts"],queryFn:async()=>{const{data:h,error:m}=await se.from("institutional_cohorts").select("*, cohort_members(count)").order("created_at",{ascending:!1});if(m)throw m;return h}}),d=ds({mutationFn:async()=>{const{data:{user:h}}=await se.auth.getUser();if(!h)throw new Error("Not authenticated");const{data:m}=await se.from("institutional_settings").select("id").eq("created_by",h.id).single();if(!m)throw new Error("Institution settings not found");const{data:f,error:x}=await se.from("institutional_cohorts").insert({institution_id:m.id,cohort_name:s,description:i,start_date:l}).select().single();if(x)throw x;const g=t.split(`
`).filter(y=>y.trim()).map(y=>y.split(",")[0].trim()).filter(Boolean);return xe.success(`Cohort created! ${g.length} invitations will be sent.`),f},onSuccess:()=>{e.invalidateQueries({queryKey:["institutional-cohorts"]}),a(""),o(""),c(""),r(""),xe.success("Cohort created successfully!")},onError:h=>{xe.error("Failed to create cohort: "+h.message)}});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Create Cohort"}),n.jsx(_t,{children:"Bulk onboard students or employees via CSV upload"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"cohortName",children:"Cohort Name"}),n.jsx(Je,{id:"cohortName",value:s,onChange:h=>a(h.target.value),placeholder:"e.g., Class of 2025"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"description",children:"Description"}),n.jsx(Je,{id:"description",value:i,onChange:h=>o(h.target.value),placeholder:"Cohort description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"startDate",children:"Start Date"}),n.jsx(Je,{id:"startDate",type:"date",value:l,onChange:h=>c(h.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"csv",children:"Upload CSV"}),n.jsx(dr,{id:"csv",value:t,onChange:h=>r(h.target.value),placeholder:"email@example.com,John Doe,johndoe@example.com,Jane Smith,janesmith@example.com",rows:5}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: email (one per line or comma-separated)"})]}),n.jsxs(ve,{onClick:()=>d.mutate(),disabled:!s||!l||!t,children:[n.jsx(aH,{className:"h-4 w-4 mr-2"}),"Create Cohort & Send Invitations"]})]})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Existing Cohorts"})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-3",children:[u==null?void 0:u.map(h=>{var m,f;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:h.cohort_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(tn,{className:"h-4 w-4"}),n.jsxs("span",{children:[((f=(m=h.cohort_members)==null?void 0:m[0])==null?void 0:f.count)||0," members"]})]})]},h.id)}),(u==null?void 0:u.length)===0&&n.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No cohorts created yet"})]})})]})]})},CXe=()=>{const{data:e}=vr({queryKey:["audit-logs"],queryFn:async()=>{const{data:r,error:s}=await se.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(50);if(s)throw s;return r}}),{data:t}=vr({queryKey:["retention-policies"],queryFn:async()=>{const{data:r,error:s}=await se.from("data_retention_policies").select("*, institutional_settings(institution_name)").order("created_at",{ascending:!1});if(s)throw s;return r}});return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ye,{children:n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(N_,{className:"h-5 w-5"}),"Compliance & Security"]}),n.jsx(_t,{children:"Data retention policies and audit logs for regulatory compliance"})]})}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5"}),"Data Retention Policies"]})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-3",children:[t==null?void 0:t.map(r=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:r.entity_type}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Retain for ",r.retention_days," days"]})]}),n.jsx($e,{variant:r.auto_delete?"default":"secondary",children:r.auto_delete?"Auto-delete enabled":"Manual review"})]},r.id)),(t==null?void 0:t.length)===0&&n.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No retention policies configured"})]})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-5 w-5"}),"Audit Logs"]}),n.jsx(_t,{children:"Track all user actions for compliance and security monitoring"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-2",children:[e==null?void 0:e.map(r=>n.jsxs("div",{className:"flex items-center justify-between p-2 border-b last:border-0 text-sm",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"font-medium",children:r.action}),n.jsxs("span",{className:"text-muted-foreground",children:[" on ",r.entity_type]})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Lt(new Date(r.created_at),"MMM d, h:mm a")})]},r.id)),(e==null?void 0:e.length)===0&&n.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No audit logs yet"})]})})]})]})},EXe=()=>{const{data:e}=vr({queryKey:["institutional-stats"],queryFn:async()=>{const{data:{user:t}}=await se.auth.getUser();if(!t)return null;const{data:r}=await se.from("institutional_settings").select("id").eq("created_by",t.id).single();if(!r)return null;const{data:s}=await se.from("institutional_cohorts").select("id").eq("institution_id",r.id),a=(s==null?void 0:s.map(l=>l.id))||[];if(a.length===0)return{totalMembers:0,activeMembers:0,totalApplications:0,avgInterviews:0};const{data:i}=await se.from("cohort_members").select("user_id, status").in("cohort_id",a),o=(i==null?void 0:i.filter(l=>l.status==="active").length)||0;return{totalMembers:(i==null?void 0:i.length)||0,activeMembers:o,totalApplications:0,avgInterviews:0}}});return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ye,{children:n.jsxs(Ie,{children:[n.jsx(De,{children:"Program Metrics"}),n.jsx(_t,{children:"Aggregate performance across all cohorts"})]})}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tn,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalMembers)||0}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Members"})]})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(xn,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.activeMembers)||0}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Members"})]})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fa,{className:"h-8 w-8 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalApplications)||0}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Applications"})]})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Gr,{className:"h-8 w-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.avgInterviews)||0}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Interviews"})]})]})})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"ROI Analysis"}),n.jsx(_t,{children:"Program effectiveness and success metrics"})]}),n.jsx(_e,{children:n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Detailed ROI reporting will be available once cohort data is collected"})})]})]})},AXe=()=>{const[e,t]=N.useState(!1),{data:r}=vr({queryKey:["institutional-subscription"],queryFn:async()=>{const{data:{user:o}}=await se.auth.getUser();if(!o)return null;const{data:l}=await se.from("institutional_settings").select("*").eq("created_by",o.id).single();return l?{plan:"starter",status:"active",seats:50,usedSeats:12,renewalDate:new Date(Date.now()+720*60*60*1e3).toISOString(),monthlyPrice:499,institutionId:l.id}:null}}),s=[{id:"starter",name:"Starter",price:499,seats:50,features:["Up to 50 students/members","Basic analytics and reporting","Email support","White-label branding"]},{id:"professional",name:"Professional",price:999,seats:200,features:["Up to 200 students/members","Advanced analytics","Priority support","Custom domain","API access"]},{id:"enterprise",name:"Enterprise",price:null,seats:null,features:["Unlimited students/members","Dedicated account manager","SLA guarantee","Custom integrations","On-premise deployment option"]}],a=o=>{{xe.info("Payment processing is not yet configured. Please contact support to upgrade.");return}},i=()=>{{xe.info("Billing portal is not yet configured. Please contact support for billing inquiries.");return}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Is,{children:[n.jsx(dO,{className:"h-4 w-4"}),n.jsx(fv,{children:"Payment Processing Not Configured"}),n.jsx(Rs,{children:"Stripe integration is not yet set up. Billing features are displayed in demo mode. Contact your administrator to enable payment processing."})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(sO,{className:"h-5 w-5"}),"Current Subscription"]}),n.jsx(_t,{children:"Manage your institutional subscription and billing"})]}),n.jsx(_e,{children:r?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("h3",{className:"text-lg font-semibold capitalize",children:[r.plan," Plan"]}),n.jsx($e,{variant:r.status==="active"?"default":"secondary",children:r.status})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Renews on ",new Date(r.renewalDate).toLocaleDateString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold",children:["$",r.monthlyPrice]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"/month"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tn,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:[r.usedSeats," / ",r.seats]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seats Used"})]})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mc,{className:"h-8 w-8 text-green-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:["$",(r.monthlyPrice/r.seats*r.usedSeats).toFixed(0)]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cost per Active Seat"})]})]})})})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(ve,{onClick:i,variant:"outline",children:[n.jsx(El,{className:"h-4 w-4 mr-2"}),"Manage Billing"]})})]}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No active subscription found."}),n.jsx("p",{className:"text-sm",children:"Choose a plan below to get started."})]})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Available Plans"}),n.jsx(_t,{children:"Choose the right plan for your institution"})]}),n.jsx(_e,{children:n.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:s.map(o=>n.jsxs(ye,{className:`relative ${(r==null?void 0:r.plan)===o.id?"border-primary ring-2 ring-primary":""}`,children:[(r==null?void 0:r.plan)===o.id&&n.jsx($e,{className:"absolute -top-2 -right-2",children:"Current"}),n.jsxs(Ie,{children:[n.jsx(De,{children:o.name}),n.jsx(_t,{children:o.price?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-3xl font-bold text-foreground",children:["$",o.price]}),n.jsx("span",{className:"text-muted-foreground",children:"/month"})]}):n.jsx("span",{className:"text-lg font-semibold",children:"Contact Sales"})})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsx("ul",{className:"space-y-2",children:o.features.map((l,c)=>n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx(Vd,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:l})]},c))}),n.jsx(ve,{className:"w-full",variant:(r==null?void 0:r.plan)===o.id?"outline":"default",disabled:(r==null?void 0:r.plan)===o.id||e,onClick:()=>a(o.id),children:(r==null?void 0:r.plan)===o.id?"Current Plan":o.price?"Upgrade":"Contact Sales"})]})]},o.id))})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Billing History"}),n.jsx(_t,{children:"View past invoices and payment history"})]}),n.jsx(_e,{children:n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"Billing history will be available once payment processing is configured."})})})]})]})},PXe=()=>{const e=wa(),[t,r]=N.useState(""),[s,a]=N.useState(!1),{data:i,isLoading:o}=vr({queryKey:["institutional-settings-domain"],queryFn:async()=>{const{data:{user:m}}=await se.auth.getUser();if(!m)return null;const{data:f,error:x}=await se.from("institutional_settings").select("*").eq("created_by",m.id).single();if(x&&x.code!=="PGRST116")throw x;return f!=null&&f.custom_domain&&r(f.custom_domain),f}}),l=ds({mutationFn:async m=>{const{data:{user:f}}=await se.auth.getUser();if(!f)throw new Error("Not authenticated");if(i){const{error:x}=await se.from("institutional_settings").update({custom_domain:m}).eq("id",i.id);if(x)throw x}},onSuccess:()=>{e.invalidateQueries({queryKey:["institutional-settings-domain"]}),xe.success("Domain configuration saved")},onError:m=>{xe.error("Failed to save domain: "+m.message)}}),c=()=>{if(!t){xe.error("Please enter a domain first");return}a(!0),setTimeout(()=>{a(!1),xe.info("DNS verification is pending. This may take up to 48 hours after DNS records are configured.")},2e3)},u=m=>{navigator.clipboard.writeText(m),xe.success("Copied to clipboard")},h=t?{cname:{type:"CNAME",name:t.split(".")[0]||"@",value:"careers.lovable.app",ttl:"3600"},txt:{type:"TXT",name:"_lovable-verify",value:`lovable-verify=${(i==null?void 0:i.id)||"pending"}`,ttl:"3600"}}:null;return i!=null&&i.custom_domain,n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(ky,{className:"h-5 w-5"}),"Custom Domain Configuration"]}),n.jsx(_t,{children:"Configure a custom domain for your white-label career platform"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"domain",children:"Custom Domain"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{id:"domain",value:t,onChange:m=>r(m.target.value),placeholder:"careers.youruniversity.edu",className:"flex-1"}),n.jsx(ve,{onClick:()=>l.mutate(t),disabled:!t||l.isPending,children:"Save"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the subdomain you want to use for your career platform"})]}),(i==null?void 0:i.custom_domain)&&n.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:i.custom_domain}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Current configured domain"})]}),n.jsxs($e,{variant:"secondary",children:[n.jsx(Gn,{className:"h-3 w-3 mr-1"})," Pending Verification"]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:c,disabled:s,children:s?n.jsx(lc,{className:"h-4 w-4 animate-spin"}):"Verify"})]})]})]}),t&&h&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"DNS Configuration Required"}),n.jsx(_t,{children:"Add these DNS records to your domain provider to complete setup"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs(Is,{children:[n.jsx(dO,{className:"h-4 w-4"}),n.jsx(fv,{children:"Manual Configuration Required"}),n.jsx(Rs,{children:"DNS records must be configured through your domain registrar or DNS provider. Changes may take up to 48 hours to propagate."})]}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"CNAME Record"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx(Ee,{className:"text-xs text-muted-foreground",children:"Type"}),n.jsx("p",{className:"font-mono bg-muted px-2 py-1 rounded",children:h.cname.type})]}),n.jsxs("div",{children:[n.jsx(Ee,{className:"text-xs text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-mono bg-muted px-2 py-1 rounded",children:h.cname.name})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(Ee,{className:"text-xs text-muted-foreground",children:"Value"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("p",{className:"font-mono bg-muted px-2 py-1 rounded flex-1 truncate",children:h.cname.value}),n.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(h.cname.value),children:n.jsx(fc,{className:"h-3 w-3"})})]})]})]})]}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"TXT Record (Verification)"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx(Ee,{className:"text-xs text-muted-foreground",children:"Type"}),n.jsx("p",{className:"font-mono bg-muted px-2 py-1 rounded",children:h.txt.type})]}),n.jsxs("div",{children:[n.jsx(Ee,{className:"text-xs text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-mono bg-muted px-2 py-1 rounded",children:h.txt.name})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(Ee,{className:"text-xs text-muted-foreground",children:"Value"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("p",{className:"font-mono bg-muted px-2 py-1 rounded flex-1 truncate",children:h.txt.value}),n.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(h.txt.value),children:n.jsx(fc,{className:"h-3 w-3"})})]})]})]})]}),n.jsx("div",{className:"flex items-center gap-2 pt-2",children:n.jsx(ve,{variant:"link",className:"p-0 h-auto",asChild:!0,children:n.jsxs("a",{href:"https://docs.lovable.dev/features/custom-domain",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(El,{className:"h-4 w-4 mr-1"}),"View detailed DNS setup guide"]})})})]})]}),(i==null?void 0:i.custom_domain)&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"SSL Certificate"}),n.jsx(_t,{children:"Secure HTTPS is automatically provisioned after domain verification"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(Gn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Awaiting Domain Verification"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"SSL certificate will be automatically issued once DNS records are verified"})]})]})})]})]})},TXe=()=>{const[e,t]=N.useState(""),[r,s]=N.useState(""),[a,i]=N.useState(!1),o=[{id:"handshake",name:"Handshake",description:"Sync job postings and student profiles",status:"disconnected",icon:n.jsx(ig,{className:"h-5 w-5"}),category:"crm"},{id:"canvas",name:"Canvas LMS",description:"Import student data and course completion",status:"disconnected",icon:n.jsx(ig,{className:"h-5 w-5"}),category:"lms"},{id:"workday",name:"Workday",description:"Sync employment records and career outcomes",status:"disconnected",icon:n.jsx(ig,{className:"h-5 w-5"}),category:"crm"},{id:"salesforce",name:"Salesforce",description:"Alumni and employer relationship tracking",status:"disconnected",icon:n.jsx(ig,{className:"h-5 w-5"}),category:"crm"},{id:"google_analytics",name:"Google Analytics",description:"Track platform usage and engagement",status:"disconnected",icon:n.jsx(ig,{className:"h-5 w-5"}),category:"analytics"}],l=()=>{i(!0),setTimeout(()=>{const d=`lv_inst_${Math.random().toString(36).substring(2,15)}_${Date.now()}`;t(d),i(!1),xe.success("API key generated. Copy it now - it won't be shown again.")},1e3)},c=()=>{if(!r){xe.error("Please enter a webhook URL");return}try{new URL(r),xe.success("Webhook URL saved")}catch{xe.error("Please enter a valid URL")}},u=d=>{xe.info(`${d} integration requires manual setup. Please contact support for configuration.`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(fce,{className:"h-5 w-5"}),"API Access"]}),n.jsx(_t,{children:"Generate API keys for programmatic access to your institution's data"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs(Is,{children:[n.jsx(dO,{className:"h-4 w-4"}),n.jsx(fv,{children:"Security Notice"}),n.jsx(Rs,{children:"API keys provide full access to your institution's data. Keep them secure and never share publicly."})]}),e?n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Your API Key"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{value:e,readOnly:!0,className:"font-mono"}),n.jsx(ve,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(e),xe.success("API key copied")},children:"Copy"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this key securely. It won't be shown again."})]}):n.jsx(ve,{onClick:l,disabled:a,children:a?"Generating...":"Generate API Key"})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Nce,{className:"h-5 w-5"}),"Webhook Configuration"]}),n.jsx(_t,{children:"Receive real-time notifications when events occur in the platform"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"webhook",children:"Webhook URL"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{id:"webhook",value:r,onChange:d=>s(d.target.value),placeholder:"https://your-server.com/webhooks/careers",className:"flex-1"}),n.jsx(ve,{onClick:c,children:"Save"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ee,{children:"Events to receive"}),n.jsx("div",{className:"space-y-2",children:[{id:"member_added",label:"Member Added"},{id:"member_removed",label:"Member Removed"},{id:"application_submitted",label:"Application Submitted"},{id:"interview_scheduled",label:"Interview Scheduled"},{id:"offer_received",label:"Offer Received"}].map(d=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ee,{htmlFor:d.id,className:"font-normal",children:d.label}),n.jsx(rd,{id:d.id,defaultChecked:!0})]},d.id))})]})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(rH,{className:"h-5 w-5"}),"Platform Integrations"]}),n.jsx(_t,{children:"Connect with existing career services and LMS platforms"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"space-y-3",children:o.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-muted rounded-lg",children:d.icon}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:d.name}),n.jsx($e,{variant:d.status==="connected"?"default":"secondary",children:d.status==="connected"?n.jsxs(n.Fragment,{children:[n.jsx(ma,{className:"h-3 w-3 mr-1"})," Connected"]}):"Not Connected"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})]}),n.jsx(ve,{variant:d.status==="connected"?"outline":"default",size:"sm",onClick:()=>u(d.id),children:d.status==="connected"?"Configure":"Connect"})]},d.id))}),n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Need a custom integration?"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"We can build custom integrations for your existing career services platforms."}),n.jsx(ve,{variant:"link",className:"p-0 h-auto",asChild:!0,children:n.jsxs("a",{href:"mailto:enterprise@lovable.dev",children:[n.jsx(El,{className:"h-4 w-4 mr-1"}),"Contact Enterprise Sales"]})})]})]})]})]})},OXe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8 max-w-7xl mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(to,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Institutional Admin"}),n.jsx("p",{className:"text-muted-foreground",children:"Career services platform management"})]})]}),n.jsxs(ye,{className:"border-primary/20 bg-primary/5",children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(oO,{className:"h-5 w-5"}),"About Institutional Features"]})}),n.jsxs(_e,{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Institutional features are designed for universities, career centers, and organizations managing large groups of job seekers."}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"White-Label Settings:"})," Customize branding, colors, and domain for your institution"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bulk Onboarding:"})," Import and manage cohorts of students or participants"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Compliance:"})," FERPA, GDPR, and data retention policy management"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Reporting:"})," Aggregate analytics across all participants"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Billing:"})," Subscription management for team accounts"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Integrations:"})," Connect with existing career services platforms"]})]})]})]}),n.jsxs(ss,{defaultValue:"settings",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-7",children:[n.jsxs(vt,{value:"settings",className:"flex items-center gap-2",children:[n.jsx(to,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Branding"})]}),n.jsxs(vt,{value:"domain",className:"flex items-center gap-2",children:[n.jsx(ky,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Domain"})]}),n.jsxs(vt,{value:"onboarding",className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Onboarding"})]}),n.jsxs(vt,{value:"compliance",className:"flex items-center gap-2",children:[n.jsx(N_,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Compliance"})]}),n.jsxs(vt,{value:"reporting",className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Reporting"})]}),n.jsxs(vt,{value:"billing",className:"flex items-center gap-2",children:[n.jsx(sO,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Billing"})]}),n.jsxs(vt,{value:"integrations",className:"flex items-center gap-2",children:[n.jsx(rH,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Integrations"})]})]}),n.jsx(xt,{value:"settings",className:"space-y-6 mt-6",children:n.jsx(SXe,{})}),n.jsx(xt,{value:"domain",className:"space-y-6 mt-6",children:n.jsx(PXe,{})}),n.jsx(xt,{value:"onboarding",className:"space-y-6 mt-6",children:n.jsx(kXe,{})}),n.jsx(xt,{value:"compliance",className:"space-y-6 mt-6",children:n.jsx(CXe,{})}),n.jsx(xt,{value:"reporting",className:"space-y-6 mt-6",children:n.jsx(EXe,{})}),n.jsx(xt,{value:"billing",className:"space-y-6 mt-6",children:n.jsx(AXe,{})}),n.jsx(xt,{value:"integrations",className:"space-y-6 mt-6",children:n.jsx(TXe,{})})]})]})})]}),IXe=({advisorId:e,hourlyRate:t})=>{const[r,s]=N.useState(),[a,i]=N.useState(""),[o,l]=N.useState("career_coaching"),[c,u]=N.useState(""),d=wa(),{data:h}=vr({queryKey:["advisor",e],queryFn:async()=>{const{data:x,error:v}=await se.from("advisor_profiles").select("*").eq("id",e).single();if(v)throw v;return x}}),m=ds({mutationFn:async()=>{const{data:{user:x}}=await se.auth.getUser();if(!x)throw new Error("Not authenticated");if(!r||!a)throw new Error("Date and time required");const[v,g]=a.split(":").map(Number),y=new Date(r);y.setHours(v,g,0,0);const{data:j,error:b}=await se.from("coaching_sessions").insert({advisor_id:e,client_user_id:x.id,session_type:o,scheduled_date:y.toISOString(),duration_minutes:60,notes:c,status:"scheduled"}).select().single();if(b)throw b;return t&&t>0&&await se.from("session_payments").insert({session_id:j.id,client_user_id:x.id,advisor_id:e,amount:t,status:"pending"}),j},onSuccess:()=>{d.invalidateQueries({queryKey:["my-coaching-sessions"]}),xe.success("Session booked successfully!"),s(void 0),i(""),u("")},onError:x=>{xe.error("Failed to book session: "+x.message)}}),f=["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"];return n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5"}),"Schedule Session"]}),n.jsxs(_t,{children:["Book a coaching session with ",(h==null?void 0:h.display_name)||"this advisor"]})]}),n.jsxs(_e,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(Ee,{children:"Session Type"}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"career_coaching",children:"Career Coaching"}),n.jsx(qe,{value:"resume_review",children:"Resume Review"}),n.jsx(qe,{value:"interview_prep",children:"Interview Prep"}),n.jsx(qe,{value:"salary_negotiation",children:"Salary Negotiation"}),n.jsx(qe,{value:"job_search_strategy",children:"Job Search Strategy"})]})]})]}),n.jsxs("div",{children:[n.jsx(Ee,{children:"Select Date"}),n.jsx(gf,{mode:"single",selected:r,onSelect:s,disabled:x=>x<new Date||x.getDay()===0||x.getDay()===6,className:"rounded-md border"})]}),r&&n.jsxs("div",{children:[n.jsxs(Ee,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-4 w-4"}),"Available Time Slots"]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:f.map(x=>n.jsx(ve,{variant:a===x?"default":"outline",size:"sm",onClick:()=>i(x),children:x},x))})]}),n.jsxs("div",{children:[n.jsx(Ee,{children:"Session Notes (Optional)"}),n.jsx(dr,{value:c,onChange:x=>u(x.target.value),placeholder:"What would you like to focus on in this session?",rows:3})]}),t&&t>0&&n.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[n.jsxs("p",{className:"text-sm font-semibold",children:["Session Fee: $",t]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Payment will be processed after booking"})]}),n.jsx(ve,{className:"w-full",onClick:()=>m.mutate(),disabled:!r||!a||m.isPending,children:m.isPending?"Booking...":"Book Session"})]})]})},RXe=()=>{const[e,t]=N.useState(null),{data:r}=vr({queryKey:["advisor-profiles"],queryFn:async()=>{const{data:a,error:i}=await se.from("advisor_profiles").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(i)throw i;return a}}),s=r==null?void 0:r.find(a=>a.id===e);return e&&s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-2xl font-semibold",children:["Book Session with ",s.display_name]}),n.jsxs(ve,{variant:"ghost",onClick:()=>t(null),children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Back to Directory"]})]}),n.jsx(IXe,{advisorId:e,hourlyRate:s.hourly_rate||void 0})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Find Your Career Advisor"}),n.jsx("p",{className:"text-muted-foreground",children:"Expert coaches ready to help you succeed"})]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r==null?void 0:r.map(a=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(Vw,{className:"h-12 w-12",children:n.jsx(Hw,{children:n.jsx(su,{className:"h-6 w-6"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(De,{className:"break-words",children:a.display_name}),n.jsx(_t,{className:"mt-1 break-words",children:a.bio})]})]})}),n.jsxs(_e,{className:"space-y-4",children:[a.specialization&&a.specialization.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:a.specialization.map((i,o)=>n.jsx($e,{variant:"secondary",children:i},o))}),n.jsxs("div",{className:"flex items-center justify-between",children:[a.hourly_rate&&n.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[n.jsx(mc,{className:"h-4 w-4"}),n.jsxs("span",{children:[a.hourly_rate,"/hour"]})]}),n.jsx(ve,{size:"sm",onClick:()=>t(a.id),children:"Book Session"})]})]})]},a.id))}),(r==null?void 0:r.length)===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(su,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No advisors available yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back soon for expert career guidance"})]})})]})},DXe=()=>{const{data:e}=vr({queryKey:["my-coaching-sessions"],queryFn:async()=>{const{data:{user:s}}=await se.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:a,error:i}=await se.from("coaching_sessions").select("*, advisor_profiles(display_name), session_payments(payment_status)").eq("client_user_id",s.id).order("scheduled_date",{ascending:!1});if(i)throw i;return a}}),t=(e==null?void 0:e.filter(s=>new Date(s.scheduled_date)>new Date))||[],r=(e==null?void 0:e.filter(s=>new Date(s.scheduled_date)<=new Date))||[];return n.jsxs("div",{className:"space-y-6",children:[t.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Upcoming Sessions"}),t.map(s=>{var a,i,o;return n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(De,{children:s.session_type.replace("_"," ")}),n.jsxs(_t,{children:["with ",(a=s.advisor_profiles)==null?void 0:a.display_name]})]}),n.jsx($e,{variant:s.status==="scheduled"?"default":"secondary",children:s.status})]})}),n.jsxs(_e,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:Lt(new Date(s.scheduled_date),"EEEE, MMMM d, yyyy")})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[Lt(new Date(s.scheduled_date),"h:mm a")," (",s.duration_minutes," minutes)"]})]}),s.meeting_link&&n.jsx(ve,{className:"w-full",size:"sm",asChild:!0,children:n.jsxs("a",{href:s.meeting_link,target:"_blank",rel:"noopener noreferrer",children:[n.jsx(au,{className:"h-4 w-4 mr-2"}),"Join Session"]})}),((o=(i=s.session_payments)==null?void 0:i[0])==null?void 0:o.payment_status)&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Payment: ",s.session_payments[0].payment_status]})]})]},s.id)})]}),r.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Past Sessions"}),r.map(s=>{var a;return n.jsx(ye,{children:n.jsx(_e,{className:"py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:s.session_type.replace("_"," ")}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Lt(new Date(s.scheduled_date),"MMM d, yyyy"),"  ",(a=s.advisor_profiles)==null?void 0:a.display_name]})]}),n.jsx($e,{variant:"outline",children:s.status})]})})},s.id)})]}),(e==null?void 0:e.length)===0&&n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(mr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No coaching sessions yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Book a session with an advisor to get started"}),n.jsx(ve,{children:"Find Advisors"})]})})]})},MXe=()=>{const e=wa(),[t,r]=N.useState({display_name:"",bio:"",specialization:"",hourly_rate:"",is_active:!0}),{data:s}=vr({queryKey:["my-advisor-profile"],queryFn:async()=>{var c,u;const{data:{user:i}}=await se.auth.getUser();if(!i)throw new Error("Not authenticated");const{data:o,error:l}=await se.from("advisor_profiles").select("*").eq("user_id",i.id).single();if(l&&l.code!=="PGRST116")throw l;return o&&r({display_name:o.display_name||"",bio:o.bio||"",specialization:((c=o.specialization)==null?void 0:c.join(", "))||"",hourly_rate:((u=o.hourly_rate)==null?void 0:u.toString())||"",is_active:o.is_active}),o}}),a=ds({mutationFn:async()=>{const{data:{user:i}}=await se.auth.getUser();if(!i)throw new Error("Not authenticated");const o=t.specialization.split(",").map(c=>c.trim()).filter(Boolean),l={user_id:i.id,display_name:t.display_name,bio:t.bio,specialization:o,hourly_rate:t.hourly_rate?parseFloat(t.hourly_rate):null,is_active:t.is_active};if(s){const{error:c}=await se.from("advisor_profiles").update(l).eq("id",s.id);if(c)throw c}else{const{error:c}=await se.from("advisor_profiles").insert(l);if(c)throw c}},onSuccess:()=>{e.invalidateQueries({queryKey:["my-advisor-profile"]}),e.invalidateQueries({queryKey:["advisor-profiles"]}),xe.success("Advisor profile saved successfully!")},onError:i=>{xe.error("Failed to save profile: "+i.message)}});return n.jsx("div",{className:"space-y-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Become an Advisor"}),n.jsx(_t,{children:"Set up your coaching profile and start offering sessions"})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"displayName",children:"Display Name"}),n.jsx(Je,{id:"displayName",value:t.display_name,onChange:i=>r({...t,display_name:i.target.value}),placeholder:"Your professional name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"bio",children:"Bio"}),n.jsx(dr,{id:"bio",value:t.bio,onChange:i=>r({...t,bio:i.target.value}),placeholder:"Share your background and expertise",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"specialization",children:"Specializations"}),n.jsx(Je,{id:"specialization",value:t.specialization,onChange:i=>r({...t,specialization:i.target.value}),placeholder:"Resume Review, Interview Prep, Career Strategy (comma-separated)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{htmlFor:"hourlyRate",children:"Hourly Rate (USD)"}),n.jsx(Je,{id:"hourlyRate",type:"number",value:t.hourly_rate,onChange:i=>r({...t,hourly_rate:i.target.value}),placeholder:"50"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rd,{id:"active",checked:t.is_active,onCheckedChange:i=>r({...t,is_active:i})}),n.jsx(Ee,{htmlFor:"active",className:"cursor-pointer",children:"Accept new clients"})]}),n.jsx(ve,{onClick:()=>a.mutate(),disabled:!t.display_name,children:"Save Profile"})]})]})})},LXe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(tn,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Career Advisors"}),n.jsx("p",{className:"text-muted-foreground",children:"Professional coaching and guidance"})]})]}),n.jsxs(ss,{defaultValue:"directory",className:"w-full",children:[n.jsxs(Kn,{className:"grid w-full grid-cols-3",children:[n.jsxs(vt,{value:"directory",className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),"Find Advisors"]}),n.jsxs(vt,{value:"sessions",className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4"}),"My Sessions"]}),n.jsxs(vt,{value:"become-advisor",className:"flex items-center gap-2",children:[n.jsx(sO,{className:"h-4 w-4"}),"Become an Advisor"]})]}),n.jsx(xt,{value:"directory",className:"space-y-6 mt-6",children:n.jsx(RXe,{})}),n.jsx(xt,{value:"sessions",className:"space-y-6 mt-6",children:n.jsx(DXe,{})}),n.jsx(xt,{value:"become-advisor",className:"space-y-6 mt-6",children:n.jsx(MXe,{})})]})]})})]});function FXe(){return n.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[n.jsx(At,{}),n.jsxs("main",{className:"flex-1 container py-12 max-w-4xl",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Sr,{to:"/",children:n.jsxs(ve,{variant:"ghost",size:"sm",children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),n.jsxs(ye,{className:"p-8 md:p-12",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Privacy Policy"}),n.jsx("p",{className:"text-muted-foreground mb-8",children:"Last updated: December 2, 2025"}),n.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'Welcome to JibbitATS ("we," "our," or "us"). We are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our job search management platform.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect information that you provide directly to us, including:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Account Information:"})," Name, email address, and password when you create an account"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Profile Information:"})," Employment history, education, skills, certifications, and other professional details you choose to add"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Job Application Data:"})," Information about jobs you're tracking, application statuses, interview schedules, and notes"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Documents:"})," Resumes, cover letters, and other documents you create or upload"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Contact Information:"})," Details about professional contacts you add to your network"]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Google Calendar Integration"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you connect your Google Calendar to JibbitATS, we request access to the following scope:"}),n.jsx("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:n.jsxs("li",{children:[n.jsx("strong",{children:"calendar.events:"})," This allows us to create, update, and delete interview events on your primary calendar"]})}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:n.jsx("strong",{children:"We use this access solely to:"})}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsx("li",{children:"Create calendar events when you schedule interviews"}),n.jsx("li",{children:"Update calendar events when you reschedule interviews"}),n.jsx("li",{children:"Delete calendar events when you cancel interviews"}),n.jsx("li",{children:"Set reminders for upcoming interviews"})]}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:n.jsx("strong",{children:"We do NOT:"})}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsx("li",{children:"Read your existing calendar events"}),n.jsx("li",{children:"Access calendars other than your primary calendar"}),n.jsx("li",{children:"Share your calendar data with third parties"}),n.jsx("li",{children:"Use your calendar data for advertising or marketing purposes"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. How We Use Your Information"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsx("li",{children:"Provide, maintain, and improve our services"}),n.jsx("li",{children:"Process and manage your job applications and interviews"}),n.jsx("li",{children:"Sync interview schedules with your calendar"}),n.jsx("li",{children:"Send you notifications and reminders about your job search activities"}),n.jsx("li",{children:"Respond to your comments, questions, and requests"}),n.jsx("li",{children:"Analyze usage patterns to improve user experience"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. This includes:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4 mt-4",children:[n.jsx("li",{children:"Encryption of sensitive data in transit and at rest"}),n.jsx("li",{children:"Secure token storage for third-party integrations"}),n.jsx("li",{children:"Regular security assessments and updates"}),n.jsx("li",{children:"Access controls and authentication requirements"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Data Retention"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We retain your personal information for as long as your account is active or as needed to provide you services. You can request deletion of your account and associated data at any time by contacting us."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Your Rights"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Access:"})," Request a copy of the personal information we hold about you"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Correction:"})," Request correction of inaccurate or incomplete information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Deletion:"})," Request deletion of your personal information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Portability:"})," Request a copy of your data in a portable format"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Revoke Access:"})," Disconnect third-party integrations at any time through your account settings"]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Third-Party Services"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our service integrates with third-party services including Google Calendar and LinkedIn. When you connect these services, their respective privacy policies also apply to the data they collect and process. We encourage you to review their privacy policies."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Changes to This Policy"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Contact Us"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If you have any questions about this Privacy Policy or our data practices, please contact us at:"}),n.jsxs("p",{className:"text-muted-foreground mt-4",children:[n.jsx("strong",{children:"Email:"})," privacy@jibbit.app"]})]})]})]})]}),n.jsx("footer",{className:"border-t py-8",children:n.jsxs("div",{className:"container text-center text-sm text-muted-foreground space-y-2",children:[n.jsx("p",{children:" 2025 JibbitATS. All rights reserved."}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx(Sr,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),n.jsx(Sr,{to:"/terms",className:"hover:underline",children:"Terms of Service"})]})]})})]})}function BXe(){return n.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[n.jsx(At,{}),n.jsxs("main",{className:"flex-1 container py-12 max-w-4xl",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Sr,{to:"/",children:n.jsxs(ve,{variant:"ghost",size:"sm",children:[n.jsx(ro,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),n.jsxs(ye,{className:"p-8 md:p-12",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Terms of Service"}),n.jsx("p",{className:"text-muted-foreground mb-8",children:"Effective Date: December 2, 2025"}),n.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'By accessing or using JibbitATS ("the Service"), you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use the Service.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"JibbitATS is a job search management platform that helps users track job applications, manage professional profiles, schedule interviews, and organize their career-related activities. The Service includes features such as resume building, cover letter management, interview scheduling, calendar integration, and networking tools."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features of the Service, you must:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsx("li",{children:"Create an account with accurate and complete information"}),n.jsx("li",{children:"Maintain the security of your account credentials"}),n.jsx("li",{children:"Notify us immediately of any unauthorized access to your account"}),n.jsx("li",{children:"Be at least 18 years old or have parental/guardian consent"})]}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You are responsible for all activities that occur under your account."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Acceptable Use"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You agree not to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsx("li",{children:"Use the Service for any unlawful purpose"}),n.jsx("li",{children:"Upload false, misleading, or fraudulent information"}),n.jsx("li",{children:"Attempt to gain unauthorized access to other users' accounts"}),n.jsx("li",{children:"Interfere with or disrupt the Service or its servers"}),n.jsx("li",{children:"Use automated systems to access the Service without permission"}),n.jsx("li",{children:"Violate any applicable laws or regulations"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Third-Party Integrations"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"The Service integrates with third-party services including:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Google Calendar:"})," For syncing interview schedules"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"LinkedIn:"})," For profile optimization features"]})]}),n.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Your use of these integrations is subject to the respective third-party terms of service. We are not responsible for the availability or functionality of third-party services. You may disconnect these integrations at any time through your account settings."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Intellectual Property"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Service and its original content, features, and functionality are owned by JibbitATS and are protected by international copyright, trademark, and other intellectual property laws. Content you create (such as resumes, cover letters, and notes) remains your property, and you grant us a license to store and display it as necessary to provide the Service."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Privacy"}),n.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Your use of the Service is also governed by our"," ",n.jsx(Sr,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"}),", which describes how we collect, use, and protect your personal information."]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Limitation of Liability"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To the maximum extent permitted by law, JibbitATS shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4 mt-4",children:[n.jsx("li",{children:"Your access to or use of (or inability to access or use) the Service"}),n.jsx("li",{children:"Any conduct or content of any third party on the Service"}),n.jsx("li",{children:"Unauthorized access, use, or alteration of your content"}),n.jsx("li",{children:"Failures or issues with third-party integrations"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Disclaimer of Warranties"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Service is provided "as is" and "as available" without warranties of any kind, either express or implied. We do not guarantee that the Service will be uninterrupted, secure, or error-free. We make no warranties regarding the accuracy or reliability of any information obtained through the Service.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Termination"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may terminate or suspend your account and access to the Service immediately, without prior notice or liability, for any reason, including breach of these Terms. Upon termination, your right to use the Service will cease immediately. You may also delete your account at any time through your account settings."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to Terms"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We reserve the right to modify or replace these Terms at any time. We will provide notice of any material changes by posting the new Terms on this page and updating the effective date. Your continued use of the Service after such changes constitutes acceptance of the new Terms."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Governing Law"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms shall be governed by and construed in accordance with applicable laws, without regard to conflict of law principles."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Contact Us"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If you have any questions about these Terms of Service, please contact us at:"}),n.jsxs("p",{className:"text-muted-foreground mt-4",children:[n.jsx("strong",{children:"Email:"})," legal@jibbit.app"]})]})]})]})]}),n.jsx("footer",{className:"border-t py-8",children:n.jsxs("div",{className:"container text-center text-sm text-muted-foreground space-y-2",children:[n.jsx("p",{children:" 2025 JibbitATS. All rights reserved."}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx(Sr,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),n.jsx(Sr,{to:"/terms",className:"hover:underline",children:"Terms of Service"})]})]})})]})}const rV=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--success))","hsl(var(--warning))"];function UXe(){var l;const{user:e}=un(),[t,r]=N.useState(null),[s,a]=N.useState(!0),i=async()=>{if(e){a(!0);try{const{data:c,error:u}=await se.functions.invoke("application-optimization",{body:{userId:e.id}});if(u)throw u;c!=null&&c.metrics&&r(c.metrics)}catch(c){console.error("Failed to fetch optimization metrics:",c),r({response_rate:23,interview_conversion:45,offer_rate:12,avg_time_to_response:7.5,total_applications:48,total_interviews:11,total_offers:2,weekly_trend:[{week:"Week 1",applications:8,responses:1},{week:"Week 2",applications:12,responses:3},{week:"Week 3",applications:15,responses:4},{week:"Week 4",applications:13,responses:3}],best_performing_resume:{id:"1",name:"Technical Resume v2",response_rate:35},best_performing_approach:"Direct application with referral",recommendations:["Focus on roles matching your top 3 skills","Apply earlier in the week (Tuesday-Wednesday)","Include portfolio links in applications","Personalize cover letters for each company"]})}finally{a(!1)}}};N.useEffect(()=>{i()},[e]);const o=t?[{name:"Applications",value:t.total_applications,fill:"hsl(var(--primary))"},{name:"Responses",value:Math.round(t.total_applications*t.response_rate/100),fill:"hsl(var(--secondary))"},{name:"Interviews",value:t.total_interviews,fill:"hsl(var(--accent))"},{name:"Offers",value:t.total_offers,fill:"hsl(var(--success))"}]:[];return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-display font-bold",children:"Application Success Optimization"}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Data-driven insights to improve your job search"})]}),n.jsxs(ve,{onClick:i,variant:"outline",children:[n.jsx(lc,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),n.jsxs("p",{className:"text-3xl font-bold",children:[(t==null?void 0:t.response_rate)||0,"%"]})]}),n.jsx(gc,{className:"h-8 w-8 text-primary opacity-50"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-success",children:[n.jsx(Gr,{className:"h-4 w-4"}),n.jsx("span",{children:"+5% from last month"})]})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview Conversion"}),n.jsxs("p",{className:"text-3xl font-bold",children:[(t==null?void 0:t.interview_conversion)||0,"%"]})]}),n.jsx(mr,{className:"h-8 w-8 text-secondary opacity-50"})]}),n.jsx("div",{className:"flex items-center gap-1 mt-2 text-sm text-muted-foreground",children:n.jsx("span",{children:"Industry avg: 40%"})})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Offer Rate"}),n.jsxs("p",{className:"text-3xl font-bold",children:[(t==null?void 0:t.offer_rate)||0,"%"]})]}),n.jsx(xn,{className:"h-8 w-8 text-success opacity-50"})]}),n.jsx("div",{className:"flex items-center gap-1 mt-2 text-sm text-muted-foreground",children:n.jsxs("span",{children:[(t==null?void 0:t.total_offers)||0," offers received"]})})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time"}),n.jsxs("p",{className:"text-3xl font-bold",children:[(t==null?void 0:t.avg_time_to_response)||0,"d"]})]}),n.jsx(tO,{className:"h-8 w-8 text-warning opacity-50"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-success",children:[n.jsx(__,{className:"h-4 w-4"}),n.jsx("span",{children:"2 days faster"})]})]})})]}),n.jsxs(ss,{defaultValue:"funnel",className:"w-full",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"funnel",children:"Application Funnel"}),n.jsx(vt,{value:"trends",children:"Weekly Trends"}),n.jsx(vt,{value:"materials",children:"Materials Performance"}),n.jsx(vt,{value:"recommendations",children:"Recommendations"})]}),n.jsx(xt,{value:"funnel",className:"mt-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Application Funnel"}),n.jsx(_t,{children:"Track your progress through each stage"})]}),n.jsxs(_e,{children:[n.jsx("div",{className:"h-[300px]",children:n.jsx(es,{width:"100%",height:"100%",children:n.jsxs(Tl,{data:o,layout:"horizontal",children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"name"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(Ja,{dataKey:"value",fill:"hsl(var(--primary))",radius:[4,4,0,0],children:o.map((c,u)=>n.jsx(bc,{fill:rV[u%rV.length]},`cell-${u}`))})]})})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"App  Response"}),n.jsxs("p",{className:"text-xl font-bold",children:[(t==null?void 0:t.response_rate)||0,"%"]})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Response  Interview"}),n.jsxs("p",{className:"text-xl font-bold",children:[(t==null?void 0:t.interview_conversion)||0,"%"]})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview  Offer"}),n.jsxs("p",{className:"text-xl font-bold",children:[t!=null&&t.total_interviews?Math.round(t.total_offers/t.total_interviews*100):0,"%"]})]})]})]})]})}),n.jsx(xt,{value:"trends",className:"mt-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Weekly Application Trends"}),n.jsx(_t,{children:"Your activity and responses over time"})]}),n.jsx(_e,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(es,{width:"100%",height:"100%",children:n.jsxs(iv,{data:(t==null?void 0:t.weekly_trend)||[],children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"week"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(du,{type:"monotone",dataKey:"applications",stroke:"hsl(var(--primary))",strokeWidth:2,name:"Applications"}),n.jsx(du,{type:"monotone",dataKey:"responses",stroke:"hsl(var(--success))",strokeWidth:2,name:"Responses"})]})})})})]})}),n.jsx(xt,{value:"materials",className:"mt-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-5 w-5"}),"Best Performing Resume"]})}),n.jsx(_e,{children:t!=null&&t.best_performing_resume?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-success/10 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:t.best_performing_resume.name}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.best_performing_resume.response_rate,"% response rate"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["This resume performs ",t.best_performing_resume.response_rate-(t.response_rate||0),"% better than your average."]})]}):n.jsx("p",{className:"text-muted-foreground",children:"Not enough data yet"})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-5 w-5"}),"Best Application Approach"]})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:(t==null?void 0:t.best_performing_approach)||"Direct application"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Highest success rate"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Referral"}),n.jsx($e,{variant:"outline",children:"45% success"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Direct Application"}),n.jsx($e,{variant:"outline",children:"23% success"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:"Recruiter"}),n.jsx($e,{variant:"outline",children:"35% success"})]})]})]})})]})]})}),n.jsx(xt,{value:"recommendations",className:"mt-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(j_,{className:"h-5 w-5 text-warning"}),"Actionable Recommendations"]}),n.jsx(_t,{children:"Personalized tips based on your application data"})]}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-4",children:((l=t==null?void 0:t.recommendations)==null?void 0:l.map((c,u)=>n.jsxs(Is,{className:"bg-muted/30",children:[n.jsx(ece,{className:"h-4 w-4"}),n.jsx(Rs,{children:c})]},u)))||n.jsx("p",{className:"text-muted-foreground",children:"Apply to more jobs to receive personalized recommendations."})})})]})})]})]})})]})}const lx=10;function $Xe(){const{user:e}=un(),[t,r]=N.useState([]),[s,a]=N.useState(!0),i=async()=>{if(e){a(!0);try{const{data:d,error:h}=await se.from("application_ab_tests").select("*").eq("user_id",e.id).order("started_at",{ascending:!1});if(h)throw h;const m=await Promise.all((d||[]).map(async f=>{const{data:x}=await se.from("application_ab_test_results").select("*").eq("test_id",f.id),v=(x==null?void 0:x.filter(q=>q.variant==="A"))||[],g=(x==null?void 0:x.filter(q=>q.variant==="B"))||[],y=v.filter(q=>q.response_received).length,j=g.filter(q=>q.response_received).length,b=v.length>0?y/v.length*100:0,_=g.length>0?j/g.length*100:0,S=v.length,T=g.length,A=S>=lx&&T>=lx,L=Math.abs(b-_),E=A&&L>15;return{...f,results:{variant_a:{applications:S,responses:y,rate:Math.round(b)},variant_b:{applications:T,responses:j,rate:Math.round(_)},winner:A?b>_?"A":_>b?"B":"none":"none",is_significant:E,confidence:E?85:0}}}));r(m)}catch(d){console.error("Failed to fetch A/B tests:",d)}finally{a(!1)}}};N.useEffect(()=>{i()},[e]);const o=async()=>{if(e)try{const{data:d,error:h}=await se.from("application_ab_tests").insert({user_id:e.id,test_name:`Test ${t.length+1}`,variant_a_type:"resume",variant_b_type:"resume",is_active:!0,started_at:new Date().toISOString()}).select().single();if(h)throw h;xe.success("New A/B test created"),i()}catch{xe.error("Failed to create test")}},l=async d=>{try{const{error:h}=await se.from("application_ab_tests").update({is_active:!1,ended_at:new Date().toISOString()}).eq("id",d);if(h)throw h;xe.success("Test ended"),i()}catch{xe.error("Failed to end test")}},c=t.filter(d=>d.is_active),u=t.filter(d=>!d.is_active);return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-display font-bold flex items-center gap-3",children:[n.jsx(rL,{className:"h-10 w-10 text-primary"}),"A/B Testing Dashboard"]}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Test different resume and cover letter versions to find what works best"})]}),n.jsxs(ve,{onClick:o,children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"New Test"]})]}),n.jsxs(Is,{className:"bg-muted/30",children:[n.jsx(rL,{className:"h-4 w-4"}),n.jsx(fv,{children:"How A/B Testing Works"}),n.jsxs(Rs,{children:["Create a test with two versions of your resume or cover letter. Apply to similar jobs using each version alternately. After at least ",lx," applications per version, we'll calculate which performs better with statistical significance."]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5 text-primary"}),"Active Tests",c.length>0&&n.jsx($e,{children:c.length})]}),c.length===0?n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No active tests. Create one to get started!"})})}):n.jsx("div",{className:"grid gap-4",children:c.map(d=>{var h,m,f,x,v,g,y,j,b,_,S,T;return n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:d.test_name}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:"outline",className:"bg-success/10 text-success",children:"Active"}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>l(d.id),children:"End Test"})]})]}),n.jsxs(_t,{children:["Started ",new Date(d.started_at).toLocaleDateString()]})]}),n.jsxs(_e,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx($e,{variant:"secondary",children:"Variant A"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:d.variant_a_type})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Applications"}),n.jsx("span",{className:"font-medium",children:((h=d.results)==null?void 0:h.variant_a.applications)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Responses"}),n.jsx("span",{className:"font-medium",children:((m=d.results)==null?void 0:m.variant_a.responses)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Response Rate"}),n.jsxs("span",{className:"font-bold text-primary",children:[((f=d.results)==null?void 0:f.variant_a.rate)||0,"%"]})]}),n.jsx(La,{value:((x=d.results)==null?void 0:x.variant_a.rate)||0,className:"h-2"})]})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx($e,{variant:"secondary",children:"Variant B"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:d.variant_b_type})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Applications"}),n.jsx("span",{className:"font-medium",children:((v=d.results)==null?void 0:v.variant_b.applications)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Responses"}),n.jsx("span",{className:"font-medium",children:((g=d.results)==null?void 0:g.variant_b.responses)||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Response Rate"}),n.jsxs("span",{className:"font-bold text-primary",children:[((y=d.results)==null?void 0:y.variant_b.rate)||0,"%"]})]}),n.jsx(La,{value:((j=d.results)==null?void 0:j.variant_b.rate)||0,className:"h-2"})]})]})]}),((((b=d.results)==null?void 0:b.variant_a.applications)||0)<lx||(((_=d.results)==null?void 0:_.variant_b.applications)||0)<lx)&&n.jsxs(Is,{className:"mt-4 bg-warning/10 border-warning",children:[n.jsx(Nn,{className:"h-4 w-4 text-warning"}),n.jsxs(Rs,{className:"text-warning",children:["Need at least ",lx," applications per variant for statistical significance. Current: A=",((S=d.results)==null?void 0:S.variant_a.applications)||0,", B=",((T=d.results)==null?void 0:T.variant_b.applications)||0]})]})]})]},d.id)})})]}),u.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[n.jsx(eO,{className:"h-5 w-5 text-muted-foreground"}),"Completed Tests"]}),n.jsx("div",{className:"grid gap-4",children:u.map(d=>{var h,m,f,x,v,g,y,j,b,_,S,T;return n.jsxs(ye,{className:"bg-muted/30",children:[n.jsxs(Ie,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:d.test_name}),((h=d.results)==null?void 0:h.is_significant)&&d.results.winner!=="none"&&n.jsxs($e,{className:"bg-success text-success-foreground",children:[n.jsx(ma,{className:"h-3 w-3 mr-1"}),"Winner: Variant ",d.results.winner]})]}),n.jsxs(_t,{children:[new Date(d.started_at).toLocaleDateString()," - ",d.ended_at?new Date(d.ended_at).toLocaleDateString():"Now"]})]}),n.jsxs(_e,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-4 border rounded-lg ${((m=d.results)==null?void 0:m.winner)==="A"?"border-success bg-success/5":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx($e,{variant:"secondary",children:"Variant A"}),((f=d.results)==null?void 0:f.winner)==="A"&&n.jsx(Gr,{className:"h-4 w-4 text-success"})]}),n.jsxs("p",{className:"text-2xl font-bold",children:[((x=d.results)==null?void 0:x.variant_a.rate)||0,"%"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[(v=d.results)==null?void 0:v.variant_a.responses,"/",(g=d.results)==null?void 0:g.variant_a.applications," responses"]})]}),n.jsxs("div",{className:`p-4 border rounded-lg ${((y=d.results)==null?void 0:y.winner)==="B"?"border-success bg-success/5":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx($e,{variant:"secondary",children:"Variant B"}),((j=d.results)==null?void 0:j.winner)==="B"&&n.jsx(Gr,{className:"h-4 w-4 text-success"})]}),n.jsxs("p",{className:"text-2xl font-bold",children:[((b=d.results)==null?void 0:b.variant_b.rate)||0,"%"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[(_=d.results)==null?void 0:_.variant_b.responses,"/",(S=d.results)==null?void 0:S.variant_b.applications," responses"]})]})]}),!((T=d.results)!=null&&T.is_significant)&&n.jsx("p",{className:"text-sm text-muted-foreground mt-4 text-center",children:"Results not statistically significant"})]})]},d.id)})})]})]})})]})}const Xp=e=>Array.isArray(e)?e.filter(t=>typeof t=="string"):[],pP=["Behavioral","Technical","Situational","Experience-based","Problem-solving","Culture fit","Leadership","Teamwork"];function qXe(){const{user:e}=un(),[t,r]=N.useState([]),[s,a]=N.useState(!0),[i,o]=N.useState(""),[l,c]=N.useState("all"),[u,d]=N.useState(!1),[h,m]=N.useState(null),[f,x]=N.useState(!1),[v,g]=N.useState(0),[y,j]=N.useState({question_text:"",response_text:"",question_type:"Behavioral",tags:"",skills:""}),b=async()=>{if(e){a(!0);try{const{data:C,error:I}=await se.from("interview_response_library").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});if(I)throw I;r(C||[])}catch(C){console.error("Failed to fetch responses:",C)}finally{a(!1)}}};N.useEffect(()=>{b()},[e]);const _=async()=>{if(!e||!y.question_text||!y.response_text){xe.error("Question and response are required");return}try{const C={user_id:e.id,question_text:y.question_text,response_text:y.response_text,question_type:y.question_type,tags:y.tags.split(",").map(I=>I.trim()).filter(Boolean),skills:y.skills.split(",").map(I=>I.trim()).filter(Boolean),companies_used:[],success_count:0};if(h){const{error:I}=await se.from("interview_response_library").update(C).eq("id",h.id);if(I)throw I;xe.success("Response updated")}else{const{error:I}=await se.from("interview_response_library").insert(C);if(I)throw I;xe.success("Response added")}d(!1),m(null),j({question_text:"",response_text:"",question_type:"Behavioral",tags:"",skills:""}),b()}catch{xe.error("Failed to save response")}},S=async C=>{try{const{error:I}=await se.from("interview_response_library").delete().eq("id",C);if(I)throw I;xe.success("Response deleted"),b()}catch{xe.error("Failed to delete response")}},T=async C=>{const I=t.find(O=>O.id===C);if(I)try{const{error:O}=await se.from("interview_response_library").update({success_count:(I.success_count||0)+1}).eq("id",C);if(O)throw O;xe.success("Marked as successful"),b()}catch{xe.error("Failed to update")}},A=C=>{navigator.clipboard.writeText(C),xe.success("Copied to clipboard")},L=()=>{const C=t.map(re=>`## ${re.question_type}: ${re.question_text}

${re.response_text}

Tags: ${Xp(re.tags).join(", ")||"None"}

---
`).join(`
`),I=new Blob([C],{type:"text/markdown"}),O=URL.createObjectURL(I),H=document.createElement("a");H.href=O,H.download="interview-responses.md",H.click()},E=t.filter(C=>{const I=Xp(C.tags),O=i===""||C.question_text.toLowerCase().includes(i.toLowerCase())||C.response_text.toLowerCase().includes(i.toLowerCase())||I.some(re=>re.toLowerCase().includes(i.toLowerCase())),H=l==="all"||C.question_type===l;return O&&H}),q=pP.reduce((C,I)=>(C[I]=t.filter(O=>O.question_type===I).length,C),{}),M=E.length>0?E:t;return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-display font-bold flex items-center gap-3",children:[n.jsx(Vx,{className:"h-10 w-10 text-primary"}),"Interview Response Library"]}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Build and refine your best interview answers"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:L,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(ve,{variant:"outline",onClick:()=>x(!f),children:[n.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Practice Mode"]}),n.jsxs(Wr,{open:u,onOpenChange:d,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Response"]})}),n.jsxs(Br,{className:"max-w-2xl",children:[n.jsxs(Xr,{children:[n.jsx(Qr,{children:h?"Edit Response":"Add New Response"}),n.jsx(no,{children:"Store your best interview answers for future reference"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Question Type"}),n.jsxs($t,{value:y.question_type,onValueChange:C=>j({...y,question_type:C}),children:[n.jsx(Ft,{children:n.jsx(qt,{})}),n.jsx(Bt,{children:pP.map(C=>n.jsx(qe,{value:C,children:C},C))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Question"}),n.jsx(dr,{placeholder:"e.g., Tell me about a time you handled conflict...",value:y.question_text,onChange:C=>j({...y,question_text:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Your Response"}),n.jsx(dr,{placeholder:"Your prepared answer...",className:"min-h-[150px]",value:y.response_text,onChange:C=>j({...y,response_text:C.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Tags (comma separated)"}),n.jsx(Je,{placeholder:"conflict, teamwork, leadership",value:y.tags,onChange:C=>j({...y,tags:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Skills (comma separated)"}),n.jsx(Je,{placeholder:"communication, problem-solving",value:y.skills,onChange:C=>j({...y,skills:C.target.value})})]})]})]}),n.jsxs(XS,{children:[n.jsx(ve,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(ve,{onClick:_,children:"Save Response"})]})]})]})]})]}),f&&M.length>0&&n.jsxs(ye,{className:"border-primary",children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Hd,{className:"h-5 w-5 text-primary"}),"Practice Mode"]}),n.jsxs(_t,{children:["Question ",v+1," of ",M.length]})]}),n.jsxs(_e,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx($e,{variant:"secondary",className:"mb-2",children:M[v].question_type}),n.jsx("p",{className:"text-lg font-medium",children:M[v].question_text})]}),n.jsxs("details",{className:"group",children:[n.jsx("summary",{className:"cursor-pointer text-primary font-medium",children:"Click to reveal suggested answer"}),n.jsx("div",{className:"mt-3 p-4 border rounded-lg",children:n.jsx("p",{className:"whitespace-pre-wrap",children:M[v].response_text})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:"outline",onClick:()=>g(Math.max(0,v-1)),disabled:v===0,children:"Previous"}),n.jsx(ve,{onClick:()=>g(Math.min(M.length-1,v+1)),disabled:v===M.length-1,children:"Next Question"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("p",{className:"text-3xl font-bold",children:t.length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Responses"})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("p",{className:"text-3xl font-bold",children:new Set(t.map(C=>C.question_type)).size}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Question Types"})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("p",{className:"text-3xl font-bold",children:t.reduce((C,I)=>C+(I.success_count||0),0)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Successful Uses"})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("p",{className:"text-3xl font-bold",children:t.filter(C=>Xp(C.tags).length>0).length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tagged Responses"})]})})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search questions, responses, or tags...",className:"pl-10",value:i,onChange:C=>o(C.target.value)})]}),n.jsxs($t,{value:l,onValueChange:c,children:[n.jsx(Ft,{className:"w-48",children:n.jsx(qt,{placeholder:"All types"})}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Types"}),pP.map(C=>n.jsxs(qe,{value:C,children:[C," (",q[C]||0,")"]},C))]})]})]}),n.jsx("div",{className:"space-y-4",children:E.length===0?n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:t.length===0?"No responses yet. Start building your library!":"No responses match your search."})})}):E.map(C=>n.jsxs(ye,{children:[n.jsx(Ie,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:"secondary",children:C.question_type}),C.success_count>0&&n.jsxs($e,{variant:"outline",className:"text-success",children:[n.jsx(xc,{className:"h-3 w-3 mr-1 fill-current"}),C.success_count," wins"]})]}),n.jsx(De,{className:"text-lg",children:C.question_text})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>T(C.id),children:n.jsx(xc,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>A(C.response_text),children:n.jsx(fc,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{m(C),j({question_text:C.question_text,response_text:C.response_text,question_type:C.question_type,tags:Xp(C.tags).join(", "),skills:Xp(C.skills_demonstrated).join(", ")}),d(!0)},children:n.jsx(xf,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>S(C.id),children:n.jsx(Ws,{className:"h-4 w-4 text-destructive"})})]})]})}),n.jsxs(_e,{children:[n.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap line-clamp-4",children:C.response_text}),Xp(C.tags).length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:Xp(C.tags).map((I,O)=>n.jsxs($e,{variant:"outline",className:"text-xs",children:[n.jsx(sH,{className:"h-3 w-3 mr-1"}),I]},O))})]})]},C.id))})]})})]})}const zXe={compensation:40,culture:20,growth:20,workLifeBalance:20};function WXe(){const{user:e}=un(),[t,r]=N.useState([]),[s,a]=N.useState(!0),[i,o]=N.useState(zXe),[l,c]=N.useState(!1),[u,d]=N.useState(0),[h,m]=N.useState(null),[f,x]=N.useState({company_name:"",job_title:"",base_salary:0,bonus:0,equity_value:0,health_insurance_value:5e3,retirement_401k_match:0,pto_days:15,location:"",remote_policy:"hybrid",culture_score:5,growth_score:5,wlb_score:5}),v=async()=>{if(e){a(!0);try{const{data:A,error:L}=await se.from("job_offers").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(L)throw L;const E=(A||[]).map(q=>g(q));r(E)}catch(A){console.error("Failed to fetch offers:",A)}finally{a(!1)}}};N.useEffect(()=>{v()},[e]);const g=A=>{var O,H;const L=(A.base_salary||0)+(A.bonus||0)+(A.equity_value||0)+(A.health_insurance_value||0)+(A.retirement_401k_match||0)+(A.pto_days||0)*500,E=(O=A.location)!=null&&O.toLowerCase().includes("sf")||(H=A.location)!=null&&H.toLowerCase().includes("nyc")?.75:1,q=L*E,I=q/5e5*100*i.compensation/100+(A.culture_score||5)*10*i.culture/100+(A.growth_score||5)*10*i.growth/100+(A.wlb_score||5)*10*i.workLifeBalance/100;return{...A,total_compensation:L,adjusted_compensation:q,weighted_score:Math.round(I)}},y=async()=>{if(!e||!f.company_name||!f.base_salary){xe.error("Company name and base salary are required");return}try{const{error:A}=await se.from("job_offers").insert({user_id:e.id,...f,status:"pending"});if(A)throw A;xe.success("Offer added"),c(!1),x({company_name:"",job_title:"",base_salary:0,bonus:0,equity_value:0,health_insurance_value:5e3,retirement_401k_match:0,pto_days:15,location:"",remote_policy:"hybrid",culture_score:5,growth_score:5,wlb_score:5}),v()}catch{xe.error("Failed to add offer")}},j=async(A,L)=>{try{const{error:E}=await se.from("job_offers").update({status:"declined",decline_reason:L}).eq("id",A);if(E)throw E;xe.success("Offer archived"),v()}catch{xe.error("Failed to update offer")}},b=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(A);N.useEffect(()=>{r(A=>A.map(L=>g(L)))},[i]);const _=t.filter(A=>A.status!=="declined"),S=t.filter(A=>A.status==="declined"),T=[..._].sort((A,L)=>L.weighted_score-A.weighted_score);return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-display font-bold flex items-center gap-3",children:[n.jsx(iL,{className:"h-10 w-10 text-primary"}),"Offer Comparison Tool"]}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Compare job offers across all dimensions"})]}),n.jsxs(ve,{onClick:()=>c(!l),children:[n.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Add Offer"]})]}),l&&n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Add New Offer"})}),n.jsxs(_e,{children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Company Name *"}),n.jsx(Je,{value:f.company_name,onChange:A=>x({...f,company_name:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Job Title"}),n.jsx(Je,{value:f.job_title,onChange:A=>x({...f,job_title:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Location"}),n.jsx(Je,{value:f.location,onChange:A=>x({...f,location:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Base Salary *"}),n.jsx(Je,{type:"number",value:f.base_salary||"",onChange:A=>x({...f,base_salary:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Annual Bonus"}),n.jsx(Je,{type:"number",value:f.bonus||"",onChange:A=>x({...f,bonus:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Equity Value (annual)"}),n.jsx(Je,{type:"number",value:f.equity_value||"",onChange:A=>x({...f,equity_value:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"401k Match (annual)"}),n.jsx(Je,{type:"number",value:f.retirement_401k_match||"",onChange:A=>x({...f,retirement_401k_match:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Health Insurance Value"}),n.jsx(Je,{type:"number",value:f.health_insurance_value||"",onChange:A=>x({...f,health_insurance_value:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"PTO Days"}),n.jsx(Je,{type:"number",value:f.pto_days||"",onChange:A=>x({...f,pto_days:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Culture Fit (1-10)"}),n.jsx(Je,{type:"number",min:1,max:10,value:f.culture_score,onChange:A=>x({...f,culture_score:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Growth Opportunity (1-10)"}),n.jsx(Je,{type:"number",min:1,max:10,value:f.growth_score,onChange:A=>x({...f,growth_score:Number(A.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Work-Life Balance (1-10)"}),n.jsx(Je,{type:"number",min:1,max:10,value:f.wlb_score,onChange:A=>x({...f,wlb_score:Number(A.target.value)})})]})]}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(ve,{onClick:y,children:"Add Offer"}),n.jsx(ve,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(tce,{className:"h-5 w-5"}),"Scoring Weights"]}),n.jsx(_t,{children:"Adjust how much each factor matters to you"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Ee,{children:"Compensation"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.compensation,"%"]})]}),n.jsx(ym,{value:[i.compensation],max:100,step:5,onValueChange:A=>o({...i,compensation:A[0]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Ee,{children:"Culture"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.culture,"%"]})]}),n.jsx(ym,{value:[i.culture],max:100,step:5,onValueChange:A=>o({...i,culture:A[0]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Ee,{children:"Growth"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.growth,"%"]})]}),n.jsx(ym,{value:[i.growth],max:100,step:5,onValueChange:A=>o({...i,growth:A[0]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Ee,{children:"Work-Life Balance"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.workLifeBalance,"%"]})]}),n.jsx(ym,{value:[i.workLifeBalance],max:100,step:5,onValueChange:A=>o({...i,workLifeBalance:A[0]})})]})]})})]}),T.length>0?n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsx(De,{children:"Side-by-Side Comparison"})}),n.jsx(_e,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-medium",children:"Criteria"}),T.map((A,L)=>n.jsx("th",{className:"p-3 text-center min-w-[150px]",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-bold",children:A.company_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.job_title}),L===0&&n.jsx($e,{className:"bg-success",children:"Top Pick"})]})},A.id))]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{className:"border-b bg-muted/30",children:[n.jsx("td",{className:"p-3 font-medium",children:"Weighted Score"}),T.map(A=>n.jsx("td",{className:"p-3 text-center",children:n.jsx("span",{className:"text-2xl font-bold text-primary",children:A.weighted_score})},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"Total Compensation"}),T.map(A=>n.jsx("td",{className:"p-3 text-center font-medium",children:b(A.total_compensation)},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"COL-Adjusted"}),T.map(A=>n.jsx("td",{className:"p-3 text-center",children:b(A.adjusted_compensation)},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"Base Salary"}),T.map(A=>n.jsx("td",{className:"p-3 text-center",children:b(A.base_salary)},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"Location"}),T.map(A=>n.jsx("td",{className:"p-3 text-center",children:A.location||"-"},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"PTO Days"}),T.map(A=>n.jsx("td",{className:"p-3 text-center",children:A.pto_days||0},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"Culture Score"}),T.map(A=>n.jsxs("td",{className:"p-3 text-center",children:[A.culture_score,"/10"]},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"Growth Score"}),T.map(A=>n.jsxs("td",{className:"p-3 text-center",children:[A.growth_score,"/10"]},A.id))]}),n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"p-3",children:"Work-Life Balance"}),T.map(A=>n.jsxs("td",{className:"p-3 text-center",children:[A.wlb_score,"/10"]},A.id))]}),n.jsxs("tr",{children:[n.jsx("td",{className:"p-3",children:"Actions"}),T.map(A=>n.jsx("td",{className:"p-3 text-center",children:n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>j(A.id,"Declined"),children:[n.jsx(eO,{className:"h-3 w-3 mr-1"}),"Archive"]})},A.id))]})]})]})})})]}):n.jsx(ye,{children:n.jsxs(_e,{className:"py-12 text-center",children:[n.jsx(iL,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No offers to compare yet. Add your first offer!"})]})}),T.length>0&&n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Scenario Analysis"}),n.jsx(_t,{children:"What if you negotiated a higher salary?"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Ee,{children:"Salary Increase:"}),n.jsx(ym,{value:[u],max:30,step:5,className:"w-48",onValueChange:A=>d(A[0])}),n.jsxs("span",{className:"text-lg font-bold",children:["+",u,"%"]})]}),u>0&&n.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:T.slice(0,3).map(A=>{const L=A.base_salary*(1+u/100),E=A.total_compensation+(L-A.base_salary);return n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("p",{className:"font-medium",children:A.company_name}),n.jsx("p",{className:"text-sm text-muted-foreground line-through",children:b(A.base_salary)}),n.jsx("p",{className:"text-lg font-bold text-success",children:b(L)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["New total: ",b(E)]})]},A.id)})})]})})]}),S.length>0&&n.jsxs(ye,{className:"bg-muted/30",children:[n.jsx(Ie,{children:n.jsx(De,{className:"text-muted-foreground",children:"Archived Offers"})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-2",children:S.map(A=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A.company_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.job_title})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{children:b(A.base_salary)}),n.jsx($e,{variant:"secondary",children:A.decline_reason||"Declined"})]})]},A.id))})})]})]})})]})}function VXe(){const{user:e}=un(),[t,r]=N.useState(!1),[s,a]=N.useState(null),[i,o]=N.useState(5),[l,c]=N.useState({current_role:"",current_salary:75e3,target_role:"",target_salary:15e4,industry:"Technology"}),u=async()=>{if(l.current_role){r(!0);try{const{data:h,error:m}=await se.functions.invoke("career-simulation",{body:{currentRole:l.current_role,currentSalary:l.current_salary,targetRole:l.target_role,targetSalary:l.target_salary,industry:l.industry,timeHorizonYears:i}});if(m)throw m;if(h!=null&&h.simulation)a(h.simulation);else{const f=[];let x=l.current_salary;const v=.08;for(let g=1;g<=i;g++){const y=x*Math.pow(1+v,g);f.push({year:g,title:g<3?l.current_role:g<5?"Senior "+l.current_role:l.target_role||"Director",salary_low:Math.round(y*.85),salary_mid:Math.round(y),salary_high:Math.round(y*1.2),probability:Math.max(20,95-g*10)})}a({paths:f,lifetime_earnings_low:f.reduce((g,y)=>g+y.salary_low,0),lifetime_earnings_mid:f.reduce((g,y)=>g+y.salary_mid,0),lifetime_earnings_high:f.reduce((g,y)=>g+y.salary_high,0),success_probability:75,key_milestones:[{year:2,event:"Promotion to Senior level"},{year:4,event:"Management opportunity"},{year:5,event:"Director/Lead role"}],risk_factors:["Economic downturn could slow advancement","Industry disruption may require reskilling","Competition for senior roles is high"]})}}catch(h){console.error("Simulation failed:",h)}finally{r(!1)}}},d=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(h);return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-display font-bold flex items-center gap-3",children:[n.jsx(Gr,{className:"h-10 w-10 text-primary"}),"Career Path Simulation"]}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Simulate your career trajectory and make strategic decisions"})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Simulation Parameters"}),n.jsx(_t,{children:"Enter your current situation and goals"})]}),n.jsxs(_e,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Current Role"}),n.jsx(Je,{placeholder:"e.g., Software Engineer",value:l.current_role,onChange:h=>c({...l,current_role:h.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Current Salary"}),n.jsx(Je,{type:"number",value:l.current_salary,onChange:h=>c({...l,current_salary:Number(h.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Industry"}),n.jsx(Je,{placeholder:"e.g., Technology",value:l.industry,onChange:h=>c({...l,industry:h.target.value})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Role (optional)"}),n.jsx(Je,{placeholder:"e.g., Engineering Director",value:l.target_role,onChange:h=>c({...l,target_role:h.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ee,{children:"Target Salary"}),n.jsx(Je,{type:"number",value:l.target_salary,onChange:h=>c({...l,target_salary:Number(h.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Ee,{children:"Time Horizon"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[i," years"]})]}),n.jsx(ym,{value:[i],min:1,max:10,step:1,onValueChange:h=>o(h[0])})]})]})]}),n.jsx(ve,{className:"mt-6",onClick:u,disabled:t||!l.current_role,children:t?n.jsxs(n.Fragment,{children:[n.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}),"Simulating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Co,{className:"h-4 w-4 mr-2"}),"Run Simulation"]})})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Success Probability"}),n.jsxs("p",{className:"text-3xl font-bold text-primary",children:[s.success_probability,"%"]})]}),n.jsx(xn,{className:"h-8 w-8 text-primary opacity-50"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i,"-Year Earnings (Low)"]}),n.jsx("p",{className:"text-2xl font-bold",children:d(s.lifetime_earnings_low)})]}),n.jsx(mc,{className:"h-8 w-8 text-muted-foreground opacity-50"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i,"-Year Earnings (Mid)"]}),n.jsx("p",{className:"text-2xl font-bold text-success",children:d(s.lifetime_earnings_mid)})]}),n.jsx(mc,{className:"h-8 w-8 text-success opacity-50"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i,"-Year Earnings (High)"]}),n.jsx("p",{className:"text-2xl font-bold",children:d(s.lifetime_earnings_high)})]}),n.jsx(Gr,{className:"h-8 w-8 text-muted-foreground opacity-50"})]})})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Salary Projection"}),n.jsxs(_t,{children:["Expected salary range over ",i," years"]})]}),n.jsx(_e,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(es,{width:"100%",height:"100%",children:n.jsxs(ZMe,{data:s.paths,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"year",label:{value:"Year",position:"bottom"}}),n.jsx(ya,{tickFormatter:h=>`$${h/1e3}k`}),n.jsx(ts,{formatter:h=>d(h),labelFormatter:h=>`Year ${h}`}),n.jsx(S2,{type:"monotone",dataKey:"salary_high",stackId:"1",stroke:"hsl(var(--success))",fill:"hsl(var(--success))",fillOpacity:.2,name:"Best Case"}),n.jsx(S2,{type:"monotone",dataKey:"salary_mid",stackId:"2",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3,name:"Expected"}),n.jsx(S2,{type:"monotone",dataKey:"salary_low",stackId:"3",stroke:"hsl(var(--muted-foreground))",fill:"hsl(var(--muted))",fillOpacity:.3,name:"Conservative"})]})})})})]}),n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"Career Path Timeline"}),n.jsx(_t,{children:"Projected role progression"})]}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-foreground font-bold",children:"0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:l.current_role}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d(l.current_salary)})]}),n.jsx($e,{children:"Current"})]}),s.paths.map((h,m)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted font-bold",children:h.year}),n.jsx(rO,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:h.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[d(h.salary_low)," - ",d(h.salary_high)]})]}),n.jsxs($e,{variant:"outline",children:[h.probability,"% likely"]})]},m))]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5"}),"Key Milestones"]})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-3",children:s.key_milestones.map((h,m)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-lg",children:[n.jsxs($e,{variant:"secondary",children:["Year ",h.year]}),n.jsx("span",{className:"text-sm",children:h.event})]},m))})})]}),n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs(De,{className:"flex items-center gap-2 text-warning",children:[n.jsx(Fa,{className:"h-5 w-5"}),"Risk Factors"]})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-2",children:s.risk_factors.map((h,m)=>n.jsxs("p",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[n.jsx("span",{className:"text-warning",children:""}),h]},m))})})]})]})]})]})})]})}function HXe(){const{user:e}=un(),[t,r]=N.useState([]),[s,a]=N.useState([]),[i,o]=N.useState(!0),l=async()=>{o(!0);try{const{data:g,error:y}=await se.from("api_rate_limits").select("*").order("api_name");if(y)throw y;r(g||[]);const{data:j,error:b}=await se.from("api_usage_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(b)throw b;a(j||[])}catch(g){console.error("Failed to fetch API data:",g)}finally{o(!1)}};N.useEffect(()=>{l()},[]);const c=(g,y)=>Math.min(100,g/y*100),u=g=>g>=90?"text-destructive":g>=70?"text-warning":"text-success",d=s.filter(g=>g.error_message||g.response_status&&g.response_status>=400);s.filter(g=>!g.error_message&&(!g.response_status||g.response_status<400));const h=s.reduce((g,y)=>{const j=new Date(y.created_at).toISOString().slice(0,13);return g[j]||(g[j]={hour:j,calls:0,errors:0,avgResponseTime:0}),g[j].calls++,(y.error_message||y.response_status&&y.response_status>=400)&&g[j].errors++,g[j].avgResponseTime=(g[j].avgResponseTime+(y.response_time_ms||0))/2,g},{}),m=Object.values(h).slice(-24).map(g=>({...g,hour:new Date(g.hour).toLocaleTimeString([],{hour:"2-digit"})})),f=s.length,x=f>0?(d.length/f*100).toFixed(1):0,v=s.length>0?Math.round(s.reduce((g,y)=>g+(y.response_time_ms||0),0)/s.length):0;return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-display font-bold flex items-center gap-3",children:[n.jsx(Zle,{className:"h-10 w-10 text-primary"}),"API Admin Dashboard"]}),n.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Monitor API usage, rate limits, and error logs"})]}),n.jsxs(ve,{onClick:l,variant:"outline",children:[n.jsx(lc,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total API Calls (24h)"}),n.jsx("p",{className:"text-3xl font-bold",children:f})]}),n.jsx(iH,{className:"h-8 w-8 text-primary opacity-50"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),n.jsxs("p",{className:`text-3xl font-bold ${Number(x)>5?"text-destructive":"text-success"}`,children:[x,"%"]})]}),n.jsx(Nn,{className:"h-8 w-8 text-warning opacity-50"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time"}),n.jsxs("p",{className:"text-3xl font-bold",children:[v,"ms"]})]}),n.jsx(Gn,{className:"h-8 w-8 text-secondary opacity-50"})]})})}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"APIs Monitored"}),n.jsx("p",{className:"text-3xl font-bold",children:t.length})]}),n.jsx(N_,{className:"h-8 w-8 text-muted-foreground opacity-50"})]})})})]}),n.jsxs(ss,{defaultValue:"rate-limits",className:"w-full",children:[n.jsxs(Kn,{children:[n.jsx(vt,{value:"rate-limits",children:"Rate Limits"}),n.jsx(vt,{value:"usage-chart",children:"Usage Trends"}),n.jsxs(vt,{value:"error-logs",children:["Error Logs (",d.length,")"]}),n.jsx(vt,{value:"all-logs",children:"All Logs"})]}),n.jsx(xt,{value:"rate-limits",className:"mt-6",children:n.jsx("div",{className:"space-y-4",children:t.length===0?n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No API rate limits configured yet."})})}):t.map(g=>{const y=c(g.current_usage,g.daily_limit);return n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${y>=90?"bg-destructive":y>=70?"bg-warning":"bg-success"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:g.api_name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Resets: ",new Date(g.reset_at).toLocaleString()]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-bold ${u(y)}`,children:[g.current_usage.toLocaleString()," / ",g.daily_limit.toLocaleString()]}),g.average_response_ms&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Avg: ",g.average_response_ms,"ms"]})]})]}),n.jsx(La,{value:y,className:"h-2"}),y>=90&&n.jsxs(Is,{className:"mt-4 border-destructive bg-destructive/10",children:[n.jsx(Nn,{className:"h-4 w-4 text-destructive"}),n.jsx(fv,{className:"text-destructive",children:"Critical: Rate Limit Warning"}),n.jsxs(Rs,{children:["You've used ",y.toFixed(0),"% of your daily quota. Consider optimizing API calls."]})]}),g.last_error&&n.jsxs(Is,{className:"mt-4 border-warning",children:[n.jsx(Nn,{className:"h-4 w-4"}),n.jsxs(Rs,{className:"text-sm",children:["Last error: ",g.last_error,"(",g.last_error_at?new Date(g.last_error_at).toLocaleString():"Unknown",")"]})]})]})},g.id)})})}),n.jsx(xt,{value:"usage-chart",className:"mt-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"API Usage Over Time"}),n.jsx(_t,{children:"Hourly API calls and errors"})]}),n.jsx(_e,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(es,{width:"100%",height:"100%",children:n.jsxs(iv,{data:m,children:[n.jsx(va,{strokeDasharray:"3 3"}),n.jsx(xa,{dataKey:"hour"}),n.jsx(ya,{}),n.jsx(ts,{}),n.jsx(du,{type:"monotone",dataKey:"calls",stroke:"hsl(var(--primary))",strokeWidth:2,name:"API Calls"}),n.jsx(du,{type:"monotone",dataKey:"errors",stroke:"hsl(var(--destructive))",strokeWidth:2,name:"Errors"})]})})})})]})}),n.jsx(xt,{value:"error-logs",className:"mt-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{className:"text-destructive",children:"Error Logs"}),n.jsx(_t,{children:"Recent API errors and failures"})]}),n.jsx(_e,{children:d.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ma,{className:"h-12 w-12 mx-auto text-success mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"No errors in the last 24 hours!"})]}):n.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:d.map(g=>n.jsxs("div",{className:"p-3 border border-destructive/30 rounded-lg bg-destructive/5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{variant:"destructive",children:g.api_name}),n.jsx($e,{variant:"outline",children:g.response_status||"Error"})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(g.created_at).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.endpoint}),g.error_message&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.error_message})]},g.id))})})]})}),n.jsx(xt,{value:"all-logs",className:"mt-6",children:n.jsxs(ye,{children:[n.jsxs(Ie,{children:[n.jsx(De,{children:"All API Logs"}),n.jsx(_t,{children:"Recent API calls"})]}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:s.slice(0,50).map(g=>n.jsxs("div",{className:"p-3 border rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[g.response_status&&g.response_status<400?n.jsx(ma,{className:"h-4 w-4 text-success"}):n.jsx(Nn,{className:"h-4 w-4 text-destructive"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:g.api_name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:g.endpoint})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx($e,{variant:g.response_status&&g.response_status<400?"secondary":"destructive",children:g.response_status||"Error"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[g.response_time_ms,"ms  ",new Date(g.created_at).toLocaleTimeString()]})]})]},g.id))})})]})})]})]})})]})}const GXe=()=>{var j;const{user:e}=un(),[t,r]=N.useState([]),[s,a]=N.useState(!0),[i,o]=N.useState(""),[l,c]=N.useState("all"),[u,d]=N.useState("map"),[h,m]=N.useState(null);N.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const{data:b,error:_}=await se.from("jobs").select("id, job_title, company_name, location, salary_min, salary_max, status, created_at").eq("user_id",e==null?void 0:e.id).eq("is_archived",!1);if(_)throw _;const S=(b||[]).map(T=>({id:T.id,title:T.job_title||"",company:T.company_name||"",location:T.location||"",salary_min:T.salary_min??void 0,salary_max:T.salary_max??void 0,status:T.status||"saved",created_at:T.created_at}));r(S)}catch(b){console.error("Error fetching jobs:",b),xe.error("Failed to load jobs")}finally{a(!1)}},x=t.filter(b=>{var T;const _=b.title.toLowerCase().includes(i.toLowerCase())||b.company.toLowerCase().includes(i.toLowerCase())||(((T=b.location)==null?void 0:T.toLowerCase().includes(i.toLowerCase()))??!1),S=l==="all"||b.status===l;return _&&S}),v=(b,_)=>!b&&!_?"Not specified":b&&_?`$${(b/1e3).toFixed(0)}k - $${(_/1e3).toFixed(0)}k`:b?`$${(b/1e3).toFixed(0)}k+`:`Up to $${(_/1e3).toFixed(0)}k`,g=b=>({saved:"bg-muted text-muted-foreground",applied:"bg-primary/20 text-primary",interviewing:"bg-warning/20 text-warning",offered:"bg-success/20 text-success",rejected:"bg-destructive/20 text-destructive"})[b]||"bg-muted text-muted-foreground",y=x.reduce((b,_)=>{const S=_.location||"Unknown";return b[S]||(b[S]=[]),b[S].push(_),b},{});return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-display font-bold flex items-center gap-2",children:[n.jsx(Ao,{className:"h-8 w-8 text-primary"}),"Job Map"]}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Visualize your job applications by location"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:u==="map"?"default":"outline",size:"sm",onClick:()=>d("map"),children:[n.jsx(GV,{className:"h-4 w-4 mr-2"}),"Map View"]}),n.jsxs(ve,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:[n.jsx(XV,{className:"h-4 w-4 mr-2"}),"List View"]})]})]}),n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Je,{placeholder:"Search by job title, company, or location...",value:i,onChange:b=>o(b.target.value),className:"pl-10"})]}),n.jsxs($t,{value:l,onValueChange:c,children:[n.jsxs(Ft,{className:"w-full md:w-48",children:[n.jsx(_b,{className:"h-4 w-4 mr-2"}),n.jsx(qt,{placeholder:"Filter by status"})]}),n.jsxs(Bt,{children:[n.jsx(qe,{value:"all",children:"All Statuses"}),n.jsx(qe,{value:"saved",children:"Saved"}),n.jsx(qe,{value:"applied",children:"Applied"}),n.jsx(qe,{value:"interviewing",children:"Interviewing"}),n.jsx(qe,{value:"offered",children:"Offered"}),n.jsx(qe,{value:"rejected",children:"Rejected"})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("div",{className:"text-3xl font-bold",children:x.length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Jobs"})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("div",{className:"text-3xl font-bold",children:Object.keys(y).length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Locations"})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("div",{className:"text-3xl font-bold",children:x.filter(b=>b.status==="interviewing").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Interviewing"})]})}),n.jsx(ye,{children:n.jsxs(_e,{className:"pt-6",children:[n.jsx("div",{className:"text-3xl font-bold",children:x.filter(b=>b.status==="offered").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Offers"})]})})]}),s?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading jobs..."})}):u==="map"?n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs(ye,{className:"h-[600px]",children:[n.jsx(Ie,{children:n.jsx(De,{children:"Location Overview"})}),n.jsx(_e,{className:"h-full pb-6",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-h-[500px] overflow-y-auto",children:Object.entries(y).map(([b,_])=>n.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all hover:border-primary hover:shadow-md ${(h==null?void 0:h.location)===b?"border-primary bg-primary/5":""}`,onClick:()=>m(_[0]),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ao,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium truncate",children:b})]}),n.jsx("div",{className:"text-2xl font-bold",children:_.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:_.length===1?"job":"jobs"}),n.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[_.slice(0,3).map(S=>n.jsx($e,{variant:"secondary",className:"text-xs",children:S.company},S.id)),_.length>3&&n.jsxs($e,{variant:"outline",className:"text-xs",children:["+",_.length-3]})]})]},b))})})]})}),n.jsx("div",{children:n.jsxs(ye,{className:"h-[600px]",children:[n.jsx(Ie,{children:n.jsx(De,{children:h?"Jobs in "+h.location:"Select a Location"})}),n.jsx(_e,{className:"max-h-[520px] overflow-y-auto",children:h?n.jsx("div",{className:"space-y-3",children:(j=y[h.location||"Unknown"])==null?void 0:j.map(b=>n.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsx("div",{className:"font-medium",children:b.title}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(to,{className:"h-3 w-3"}),b.company]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(mc,{className:"h-3 w-3"}),v(b.salary_min,b.salary_max)]}),n.jsx($e,{className:`mt-2 ${g(b.status)}`,children:b.status})]},b.id))}):n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Click on a location to see job details"})})]})})]}):n.jsx(ye,{children:n.jsx(_e,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[x.map(b=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:b.title}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(to,{className:"h-3 w-3"}),b.company]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ao,{className:"h-3 w-3"}),b.location||"Remote"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mc,{className:"h-3 w-3"}),v(b.salary_min,b.salary_max)]})]})]}),n.jsx($e,{className:g(b.status),children:b.status})]},b.id)),x.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No jobs found matching your criteria"})]})})})]})})]})},KXe=()=>{const[e,t]=N.useState("all"),r=wa(),{data:s=[],isLoading:a}=vr({queryKey:["archived-jobs",e],queryFn:async()=>{const{data:{user:c}}=await se.auth.getUser();if(!c)throw new Error("Not authenticated");let u=se.from("jobs").select("*").eq("user_id",c.id).eq("is_archived",!0).order("updated_at",{ascending:!1});e!=="all"&&(u=u.eq("archive_reason",e));const{data:d,error:h}=await u;if(h)throw h;return d}}),i=ds({mutationFn:async c=>{const{error:u}=await se.from("jobs").update({is_archived:!1,archive_reason:null}).eq("id",c);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["archived-jobs"]}),r.invalidateQueries({queryKey:["jobs"]}),xe.success("Job restored")}}),o=ds({mutationFn:async c=>{const{error:u}=await se.from("jobs").delete().eq("id",c);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["archived-jobs"]}),xe.success("Job permanently deleted")}}),l=["all","position_filled","no_response","withdrew","offer_declined","company_closed","other"];return a?n.jsx("div",{children:"Loading archived jobs..."}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(eO,{className:"h-6 w-6"}),"Archived Jobs (",s.length,")"]}),n.jsxs($t,{value:e,onValueChange:t,children:[n.jsx(Ft,{className:"w-48",children:n.jsx(qt,{})}),n.jsx(Bt,{children:l.map(c=>n.jsx(qe,{value:c,children:c==="all"?"All Reasons":c.replace("_"," ")},c))})]})]}),s.length===0?n.jsx(ye,{children:n.jsx(_e,{className:"py-8 text-center text-muted-foreground",children:"No archived jobs found"})}):n.jsx("div",{className:"grid gap-4",children:s.map(c=>n.jsxs(ye,{children:[n.jsx(Ie,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(De,{children:c.job_title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.company_name})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>i.mutate(c.id),children:n.jsx(nH,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"destructive",size:"sm",onClick:()=>{confirm("Permanently delete this job?")&&o.mutate(c.id)},children:n.jsx(Ws,{className:"h-4 w-4"})})]})]})}),n.jsx(_e,{children:n.jsxs("div",{className:"flex gap-2 text-sm text-muted-foreground",children:[c.archive_reason&&n.jsx($e,{variant:"secondary",children:c.archive_reason.replace("_"," ")}),n.jsxs("span",{children:["Archived ",Fg(new Date(c.updated_at))," ago"]})]})})]},c.id))})]})},YXe=()=>n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(At,{}),n.jsx("div",{className:"flex-1 container py-8",children:n.jsx(KXe,{})})]}),nV="cookie-consent",sV="cookie-preferences",JXe=()=>{const[e,t]=N.useState(!1),[r,s]=N.useState(!1),[a,i]=N.useState({necessary:!0,analytics:!1,marketing:!1,preferences:!1});N.useEffect(()=>{if(localStorage.getItem(nV)){const h=localStorage.getItem(sV);h&&i(JSON.parse(h))}else{const h=setTimeout(()=>t(!0),1e3);return()=>clearTimeout(h)}},[]);const o=()=>{u({necessary:!0,analytics:!0,marketing:!0,preferences:!0})},l=()=>{u({necessary:!0,analytics:!1,marketing:!1,preferences:!1})},c=()=>{u(a),s(!1)},u=d=>{localStorage.setItem(nV,"true"),localStorage.setItem(sV,JSON.stringify(d)),i(d),t(!1),d.analytics&&console.log("Analytics cookies enabled"),d.marketing&&console.log("Marketing cookies enabled")};return e?n.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 bg-background/80 backdrop-blur-sm border-t",children:n.jsx(ye,{className:"max-w-4xl mx-auto",children:n.jsx(_e,{className:"py-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(oce,{className:"h-6 w-6 text-primary mt-1 shrink-0"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"We value your privacy"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:['We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',n.jsx("a",{href:"/privacy",className:"text-primary hover:underline ml-1",children:"Read our Privacy Policy"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 shrink-0",children:[n.jsxs(Wr,{open:r,onOpenChange:s,children:[n.jsx(rl,{asChild:!0,children:n.jsxs(ve,{variant:"outline",size:"sm",children:[n.jsx(uO,{className:"h-4 w-4 mr-2"}),"Customize"]})}),n.jsxs(Br,{children:[n.jsx(Xr,{children:n.jsx(Qr,{children:"Cookie Preferences"})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ee,{className:"text-base",children:"Necessary Cookies"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Required for the website to function. Cannot be disabled."})]}),n.jsx(rd,{checked:!0,disabled:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ee,{className:"text-base",children:"Analytics Cookies"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Help us understand how visitors interact with our website."})]}),n.jsx(rd,{checked:a.analytics,onCheckedChange:d=>i(h=>({...h,analytics:d}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ee,{className:"text-base",children:"Marketing Cookies"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Used to track visitors across websites for advertising purposes."})]}),n.jsx(rd,{checked:a.marketing,onCheckedChange:d=>i(h=>({...h,marketing:d}))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ee,{className:"text-base",children:"Preference Cookies"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Remember your settings and preferences for future visits."})]}),n.jsx(rd,{checked:a.preferences,onCheckedChange:d=>i(h=>({...h,preferences:d}))})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(ve,{onClick:c,className:"flex-1",children:"Save Preferences"}),n.jsx(ve,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})]})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:l,children:"Necessary Only"}),n.jsx(ve,{size:"sm",onClick:o,children:"Accept All"}),n.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:l,children:n.jsx(Rl,{className:"h-4 w-4"})})]})]})})})}):null},XXe=new $he,QXe=()=>n.jsx(Hhe,{client:XXe,children:n.jsx(Ege,{children:n.jsxs(HH,{children:[n.jsx(iue,{}),n.jsx(Fue,{}),n.jsxs(nme,{children:[n.jsxs(Yfe,{children:[n.jsx(Ut,{path:"/",element:n.jsx(Cye,{})}),n.jsx(Ut,{path:"/login",element:n.jsx(Iye,{})}),n.jsx(Ut,{path:"/auth/callback",element:n.jsx(pKe,{})}),n.jsx(Ut,{path:"/register",element:n.jsx(Rye,{})}),n.jsx(Ut,{path:"/forgot-password",element:n.jsx(I8,{})}),n.jsx(Ut,{path:"/forgot-password/:token",element:n.jsx(I8,{})}),n.jsx(Ut,{path:"/dashboard",element:n.jsx(hr,{children:n.jsx(Dye,{})})}),n.jsx(Ut,{path:"/profile",element:n.jsx(hr,{children:n.jsx(tLe,{})})}),n.jsx(Ut,{path:"/jobs",element:n.jsx(hr,{children:n.jsx(KHe,{})})}),n.jsx(Ut,{path:"/jobs/map",element:n.jsx(hr,{children:n.jsx(GXe,{})})}),n.jsx(Ut,{path:"/jobs/archive",element:n.jsx(hr,{children:n.jsx(YXe,{})})}),n.jsx(Ut,{path:"/resumes",element:n.jsx(hr,{children:n.jsx(iGe,{})})}),n.jsx(Ut,{path:"/cover-letters",element:n.jsx(hr,{children:n.jsx(pGe,{})})}),n.jsx(Ut,{path:"/cover-letters/performance",element:n.jsx(hr,{children:n.jsx(vGe,{})})}),n.jsx(Ut,{path:"/analytics",element:n.jsx(hr,{children:n.jsx(AGe,{})})}),n.jsx(Ut,{path:"/analytics/application-success",element:n.jsx(hr,{children:n.jsx(TGe,{})})}),n.jsx(Ut,{path:"/analytics/interview-performance",element:n.jsx(hr,{children:n.jsx(OGe,{})})}),n.jsx(Ut,{path:"/analytics/network-roi",element:n.jsx(hr,{children:n.jsx(IGe,{})})}),n.jsx(Ut,{path:"/analytics/salary-progression",element:n.jsx(hr,{children:n.jsx(RGe,{})})}),n.jsx(Ut,{path:"/interview-analytics",element:n.jsx(hr,{children:n.jsx(eJe,{})})}),n.jsx(Ut,{path:"/automation",element:n.jsx(hr,{children:n.jsx(LGe,{})})}),n.jsx(Ut,{path:"/settings/integrations",element:n.jsx(hr,{children:n.jsx(UGe,{})})}),n.jsx(Ut,{path:"/email",element:n.jsx(hr,{children:n.jsx(qGe,{})})}),n.jsx(Ut,{path:"/email-integration",element:n.jsx(hr,{children:n.jsx(zGe,{})})}),n.jsx(Ut,{path:"/email/callback",element:n.jsx(hr,{children:n.jsx(WGe,{})})}),n.jsx(Ut,{path:"/interview-prep",element:n.jsx(hr,{children:n.jsx(yKe,{})})}),n.jsx(Ut,{path:"/interview/:interviewId",element:n.jsx(hr,{children:n.jsx(PKe,{})})}),n.jsx(Ut,{path:"/question-bank",element:n.jsx(hr,{children:n.jsx(OKe,{})})}),n.jsx(Ut,{path:"/question-practice/:questionId",element:n.jsx(hr,{children:n.jsx(DKe,{})})}),n.jsx(Ut,{path:"/mock-interview/:sessionId",element:n.jsx(hr,{children:n.jsx(FKe,{})})}),n.jsx(Ut,{path:"/mock-interview/:sessionId/summary",element:n.jsx(hr,{children:n.jsx(BKe,{})})}),n.jsx(Ut,{path:"/technical-prep",element:n.jsx(hr,{children:n.jsx(zKe,{})})}),n.jsx(Ut,{path:"/technical-prep/:challengeId",element:n.jsx(hr,{children:n.jsx(ZYe,{})})}),n.jsx(Ut,{path:"/network",element:n.jsx(hr,{children:n.jsx(wKe,{})})}),n.jsx(Ut,{path:"/contacts",element:n.jsx(hr,{children:n.jsx(jJe,{})})}),n.jsx(Ut,{path:"/contacts/:id",element:n.jsx(hr,{children:n.jsx(kJe,{})})}),n.jsx(Ut,{path:"/events",element:n.jsx(hr,{children:n.jsx(AJe,{})})}),n.jsx(Ut,{path:"/events/:id",element:n.jsx(hr,{children:n.jsx(PJe,{})})}),n.jsx(Ut,{path:"/linkedin-optimization",element:n.jsx(hr,{children:n.jsx(DJe,{})})}),n.jsx(Ut,{path:"/networking-campaigns",element:n.jsx(hr,{children:n.jsx(MJe,{})})}),n.jsx(Ut,{path:"/network-power",element:n.jsx(hr,{children:n.jsx(GJe,{})})}),n.jsx(Ut,{path:"/goals",element:n.jsx(hr,{children:n.jsx(FJe,{})})}),n.jsx(Ut,{path:"/time-investment",element:n.jsx(hr,{children:n.jsx(BJe,{})})}),n.jsx(Ut,{path:"/custom-reports",element:n.jsx(hr,{children:n.jsx(UJe,{})})}),n.jsx(Ut,{path:"/forecasting",element:n.jsx(hr,{children:n.jsx($Je,{})})}),n.jsx(Ut,{path:"/market-intelligence",element:n.jsx(hr,{children:n.jsx(KJe,{})})}),n.jsx(Ut,{path:"/benchmarking",element:n.jsx(hr,{children:n.jsx(YJe,{})})}),n.jsx(Ut,{path:"/success-patterns",element:n.jsx(hr,{children:n.jsx(JJe,{})})}),n.jsx(Ut,{path:"/teams",element:n.jsx(hr,{children:n.jsx(tXe,{})})}),n.jsx(Ut,{path:"/accept-invitation/:token",element:n.jsx(hr,{children:n.jsx(rXe,{})})}),n.jsx(Ut,{path:"/documents",element:n.jsx(hr,{children:n.jsx(nXe,{})})}),n.jsx(Ut,{path:"/documents/:type/:id",element:n.jsx(hr,{children:n.jsx(oXe,{})})}),n.jsx(Ut,{path:"/mentor/dashboard",element:n.jsx(hr,{children:n.jsx(cXe,{})})}),n.jsx(Ut,{path:"/mentor/mentee/:menteeId",element:n.jsx(hr,{children:n.jsx(uXe,{})})}),n.jsx(Ut,{path:"/weekly-progress",element:n.jsx(hr,{children:n.jsx(dXe,{})})}),n.jsx(Ut,{path:"/collaboration",element:n.jsx(hr,{children:n.jsx(bKe,{})})}),n.jsx(Ut,{path:"/calendar-connect",element:n.jsx(hr,{children:n.jsx(FGe,{})})}),n.jsx(Ut,{path:"/calendar/callback",element:n.jsx(hr,{children:n.jsx(BGe,{})})}),n.jsx(Ut,{path:"/family-dashboard",element:n.jsx(hr,{children:n.jsx(mXe,{})})}),n.jsx(Ut,{path:"/peer-community",element:n.jsx(hr,{children:n.jsx(_Xe,{})})}),n.jsx(Ut,{path:"/institutional-admin",element:n.jsx(hr,{children:n.jsx(OXe,{})})}),n.jsx(Ut,{path:"/advisors",element:n.jsx(hr,{children:n.jsx(LXe,{})})}),n.jsx(Ut,{path:"/demo/sprint3",element:n.jsx(hr,{children:n.jsx(xXe,{})})}),n.jsx(Ut,{path:"/optimization",element:n.jsx(hr,{children:n.jsx(UXe,{})})}),n.jsx(Ut,{path:"/ab-testing",element:n.jsx(hr,{children:n.jsx($Xe,{})})}),n.jsx(Ut,{path:"/interview-responses",element:n.jsx(hr,{children:n.jsx(qXe,{})})}),n.jsx(Ut,{path:"/offer-comparison",element:n.jsx(hr,{children:n.jsx(WXe,{})})}),n.jsx(Ut,{path:"/career-simulation",element:n.jsx(hr,{children:n.jsx(VXe,{})})}),n.jsx(Ut,{path:"/admin/api",element:n.jsx(hr,{children:n.jsx(HXe,{})})}),n.jsx(Ut,{path:"/r/:token",element:n.jsx(fKe,{})}),n.jsx(Ut,{path:"/progress/:token",element:n.jsx(hXe,{})}),n.jsx(Ut,{path:"/privacy",element:n.jsx(FXe,{})}),n.jsx(Ut,{path:"/terms",element:n.jsx(BXe,{})}),n.jsx(Ut,{path:"*",element:n.jsx(mKe,{})})]}),n.jsx(JXe,{})]})]})})});tle.createRoot(document.getElementById("root")).render(n.jsx(at.StrictMode,{children:n.jsx(QXe,{})}));export{j0e as _,rj as c,mu as g};
